/**!
 *	8.9.2
 *	Generation date: 2023-05-22T15:27:11.767Z
 *	Client name: enrich commodities india pvt limited
 *	Package Type: Core alacarte
 *	License type: annual
 *	Expiration date: "2024/12/01"
 *	Domain lock: ["127.0.0.1","localhost","enrichbroking.in","enrichbroking.com","enrichmoney.in"]
 */

/***********************************************************!
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************! DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! !*************************************
* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting *
* and load that file right after the library has been loaded, but before the chart engine is instantiated.              *
* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          *
*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
B7_55[356878]=(function(){var v=2;for(;v !== 9;){switch(v){case 2:v=typeof globalThis === '\x6f\x62\x6a\u0065\u0063\u0074'?1:5;break;case 1:return globalThis;break;case 5:var o;try{var I=2;for(;I !== 6;){switch(I){case 2:Object['\u0064\x65\u0066\u0069\x6e\u0065\u0050\u0072\u006f\x70\x65\u0072\u0074\x79'](Object['\u0070\u0072\x6f\u0074\x6f\x74\x79\x70\u0065'],'\x69\u0048\u0034\u0070\u0053',{'\x67\x65\x74':function(){var Q=2;for(;Q !== 1;){switch(Q){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});o=iH4pS;o['\x59\u0034\x7a\x30\x61']=o;I=4;break;case 9:delete o['\x59\x34\x7a\u0030\u0061'];var u=Object['\x70\u0072\u006f\x74\u006f\x74\x79\u0070\x65'];delete u['\x69\u0048\u0034\x70\u0053'];I=6;break;case 4:I=typeof Y4z0a === '\u0075\x6e\x64\u0065\x66\u0069\u006e\x65\x64'?3:9;break;case 3:throw "";I=9;break;}}}catch(X){o=window;}return o;break;}}})();i$R2nX(B7_55[356878]);B7_55[625251]=true;B7_55.u8h=function(){return typeof B7_55[495733].V2CaoBq === 'function'?B7_55[495733].V2CaoBq.apply(B7_55[495733],arguments):B7_55[495733].V2CaoBq;};B7_55.O0B=function(){return typeof B7_55[495733].V2CaoBq === 'function'?B7_55[495733].V2CaoBq.apply(B7_55[495733],arguments):B7_55[495733].V2CaoBq;};B7_55.z3=function(){return typeof B7_55[558515].O9rJrgW === 'function'?B7_55[558515].O9rJrgW.apply(B7_55[558515],arguments):B7_55[558515].O9rJrgW;};B7_55[523306]=(function(H3){return {D_GtrYX:function(){var S3,w0=arguments;switch(H3){case 21:S3=w0[1] / w0[0];break;case 2:S3=w0[1] + w0[0];break;case 25:S3=w0[0] * w0[1] - w0[2];break;case 18:S3=(w0[3] + w0[1]) / w0[2] - w0[0];break;case 37:S3=w0[1] % w0[0];break;case 15:S3=(w0[1] - w0[0]) / w0[2];break;case 36:S3=w0[0] / w0[2] + w0[1];break;case 17:S3=w0[1] + (w0[2] << w0[0]);break;case 8:S3=-w0[1] / w0[2] - w0[0] + w0[3];break;case 11:S3=(w0[2] / w0[3] + w0[4]) / w0[0] - w0[1];break;case 35:S3=w0[3] * w0[2] * w0[0] - w0[1];break;case 10:S3=(w0[3] + w0[2]) / w0[4] - w0[0] + w0[1];break;case 23:S3=(w0[1] - w0[0]) * w0[2];break;case 20:S3=(w0[2] + w0[1]) / w0[0];break;case 22:S3=w0[1] << w0[0];break;case 6:S3=w0[1] | w0[0];break;case 28:S3=w0[0] - w0[1] - w0[2];break;case 30:S3=(w0[3] - w0[0]) * w0[2] - w0[1];break;case 3:S3=w0[0] - w0[1];break;case 5:S3=w0[0] >> w0[1];break;case 4:S3=w0[1] ^ w0[0];break;case 12:S3=w0[2] - w0[1] * w0[3] / w0[0];break;case 31:S3=w0[1] / w0[2] - w0[0];break;case 9:S3=w0[1] * w0[0];break;case 16:S3=w0[2] + (w0[0] - w0[1]);break;case 26:S3=w0[0] + w0[2] + w0[3] + w0[4] - w0[1];break;case 1:S3=(-w0[3] - w0[2]) * w0[1] + w0[0];break;case 34:S3=(w0[0] + w0[2]) * w0[4] - w0[3] - w0[1];break;case 24:S3=w0[1] / w0[3] / w0[0] * w0[2] - w0[4];break;case 27:S3=w0[3] / w0[1] * w0[0] - w0[2];break;case 0:S3=w0[0] - w0[2] + w0[1];break;case 33:S3=(w0[1] / w0[3] - w0[2]) * w0[4] + w0[0];break;case 29:S3=w0[1] / w0[4] * w0[3] / w0[2] - w0[0];break;case 14:S3=w0[4] + (w0[3] / w0[1] - w0[0] / +w0[2]);break;case 7:S3=w0[1] == w0[0];break;case 32:S3=(w0[2] + w0[3]) * w0[1] - w0[0];break;case 19:S3=(w0[1] - w0[3]) * w0[2] - w0[4] + w0[0];break;case 13:S3=w0[3] - w0[1] - w0[0] * w0[2];break;}return S3;},c$xn8vO:function(g3){H3=g3;}};})();B7_55.E0=function(){return typeof B7_55[558515].O9rJrgW === 'function'?B7_55[558515].O9rJrgW.apply(B7_55[558515],arguments):B7_55[558515].O9rJrgW;};B7_55.J1=function(){return typeof B7_55[523306].D_GtrYX === 'function'?B7_55[523306].D_GtrYX.apply(B7_55[523306],arguments):B7_55[523306].D_GtrYX;};B7_55.a7=function(){return typeof B7_55[606394].J7LGzwr === 'function'?B7_55[606394].J7LGzwr.apply(B7_55[606394],arguments):B7_55[606394].J7LGzwr;};B7_55[356878].R3aa=B7_55;B7_55.B$=function(){return typeof B7_55[523306].D_GtrYX === 'function'?B7_55[523306].D_GtrYX.apply(B7_55[523306],arguments):B7_55[523306].D_GtrYX;};function B7_55(){}B7_55[132287]=(function(){var k4=function(w6,F7){var l$=F7 & 0xffff;var O8=F7 - l$;return (O8 * w6 | 0) + (l$ * w6 | 0) | 0;},y_bJOD4=function(C8,b1,f8){var P$=0xcc9e2d51,p3=0x1b873593;var V6=f8;var M8=b1 & ~0x3;for(var f9=0;f9 < M8;f9+=4){var t1=C8.n7EMf(f9) & 0xff | (C8.n7EMf(f9 + 1) & 0xff) << 8 | (C8.n7EMf(f9 + 2) & 0xff) << 16 | (C8.n7EMf(f9 + 3) & 0xff) << 24;t1=k4(t1,P$);t1=(t1 & 0x1ffff) << 15 | t1 >>> 17;t1=k4(t1,p3);V6^=t1;V6=(V6 & 0x7ffff) << 13 | V6 >>> 19;V6=V6 * 5 + 0xe6546b64 | 0;}t1=0;switch(b1 % 4){case 3:t1=(C8.n7EMf(M8 + 2) & 0xff) << 16;case 2:t1|=(C8.n7EMf(M8 + 1) & 0xff) << 8;case 1:t1|=C8.n7EMf(M8) & 0xff;t1=k4(t1,P$);t1=(t1 & 0x1ffff) << 15 | t1 >>> 17;t1=k4(t1,p3);V6^=t1;}V6^=b1;V6^=V6 >>> 16;V6=k4(V6,0x85ebca6b);V6^=V6 >>> 13;V6=k4(V6,0xc2b2ae35);V6^=V6 >>> 16;return V6;};return {y_bJOD4:y_bJOD4};})();B7_55.u8=function(){return typeof B7_55[523306].c$xn8vO === 'function'?B7_55[523306].c$xn8vO.apply(B7_55[523306],arguments):B7_55[523306].c$xn8vO;};B7_55[168470]=false;function i$R2nX(O3j){function u$8(G2t){var f2Q=2;for(;f2Q !== 5;){switch(f2Q){case 2:var r2p=[arguments];return r2p[0][0];break;}}}function n2B(d3z){var Q2j=2;for(;Q2j !== 5;){switch(Q2j){case 2:var o54=[arguments];return o54[0][0].Array;break;}}}var K5N=2;for(;K5N !== 122;){switch(K5N){case 125:G4A(u$8,z9a[38],z9a[59],z9a[90]);K5N=124;break;case 99:z9a[28]=z9a[22];z9a[28]+=z9a[36];z9a[28]+=z9a[18];z9a[27]=z9a[97];K5N=95;break;case 103:z9a[76]+=z9a[16];z9a[80]=z9a[96];z9a[80]+=z9a[20];z9a[80]+=z9a[10];K5N=99;break;case 91:z9a[88]+=z9a[48];z9a[69]=z9a[26];z9a[69]+=z9a[25];z9a[69]+=z9a[61];K5N=116;break;case 128:G4A(J2P,"test",z9a[37],z9a[27]);K5N=127;break;case 123:G4A(o6q,"apply",z9a[37],z9a[84]);K5N=122;break;case 126:G4A(u$8,z9a[76],z9a[59],z9a[91]);K5N=125;break;case 130:G4A(C_6,"replace",z9a[37],z9a[69]);K5N=129;break;case 84:z9a[38]=z9a[34];z9a[38]+=z9a[24];z9a[38]+=z9a[77];z9a[91]=z9a[78];K5N=80;break;case 2:var z9a=[arguments];z9a[8]="";z9a[8]="Mf";z9a[1]="";K5N=3;break;case 62:z9a[78]="Y7";z9a[65]="p3";z9a[17]="";z9a[17]="LJ";K5N=58;break;case 3:z9a[1]="o";z9a[4]="";z9a[4]="h6";z9a[2]="";K5N=6;break;case 129:G4A(n2B,"map",z9a[37],z9a[88]);K5N=128;break;case 42:z9a[10]="";z9a[10]="a";z9a[22]="__re";z9a[16]="ct";K5N=38;break;case 33:z9a[97]="";z9a[97]="V6";z9a[18]="";z9a[18]="";K5N=29;break;case 72:z9a[37]=1;z9a[59]=6;z9a[59]=7;z9a[59]=0;z9a[84]=z9a[46];z9a[84]+=z9a[50];K5N=66;break;case 124:G4A(n2B,"push",z9a[37],z9a[35]);K5N=123;break;case 131:G4A(C_6,"substring",z9a[37],z9a[85]);K5N=130;break;case 127:G4A(u$8,z9a[28],z9a[59],z9a[80]);K5N=126;break;case 132:G4A(C_6,"fromCharCode",z9a[59],z9a[45]);K5N=131;break;case 6:z9a[2]="p";z9a[7]="";z9a[7]="D";z9a[9]="";K5N=11;break;case 11:z9a[3]="n7";z9a[6]="E";z9a[9]="";z9a[9]="M9o";z9a[5]="";K5N=17;break;case 58:z9a[70]="d9Y";z9a[50]="";z9a[36]="s";z9a[95]="C";K5N=77;break;case 133:G4A(u$8,"String",z9a[59],z9a[19]);K5N=132;break;case 45:z9a[34]="";z9a[34]="__op";z9a[65]="";z9a[77]="ize";K5N=62;break;case 108:z9a[19]+=z9a[63];z9a[39]=z9a[3];z9a[39]+=z9a[6];z9a[39]+=z9a[8];K5N=135;break;case 22:z9a[25]="y";z9a[40]="";z9a[40]="";z9a[40]="Yx";K5N=33;break;case 134:G4A(C_6,"charCodeAt",z9a[37],z9a[39]);K5N=133;break;case 112:z9a[45]+=z9a[7];z9a[45]+=z9a[2];z9a[19]=z9a[4];z9a[19]+=z9a[1];K5N=108;break;case 116:z9a[85]=z9a[62];z9a[85]+=z9a[99];z9a[85]+=z9a[5];z9a[45]=z9a[9];K5N=112;break;case 135:var G4A=function(s2w,N5i,y_l,b2h){var m8h=2;for(;m8h !== 5;){switch(m8h){case 2:var U3v=[arguments];v12(z9a[0][0],U3v[0][0],U3v[0][1],U3v[0][2],U3v[0][3]);m8h=5;break;}}};K5N=134;break;case 26:z9a[93]="";z9a[93]="$as";z9a[71]="";z9a[71]="V";K5N=22;break;case 29:z9a[62]="n6";z9a[48]="Em";z9a[18]="idual";z9a[26]="M_";K5N=42;break;case 51:z9a[14]="";z9a[14]="pGS";z9a[24]="";z9a[24]="tim";z9a[20]="isF";z9a[52]="_";K5N=45;break;case 95:z9a[27]+=z9a[60];z9a[27]+=z9a[40];z9a[88]=z9a[71];z9a[88]+=z9a[93];K5N=91;break;case 17:z9a[5]="VP5";z9a[63]="P7";z9a[61]="";z9a[61]="mJF";K5N=26;break;case 66:z9a[84]+=z9a[99];z9a[35]=z9a[94];z9a[35]+=z9a[17];z9a[35]+=z9a[95];z9a[90]=z9a[65];z9a[90]+=z9a[36];z9a[90]+=z9a[70];K5N=84;break;case 80:z9a[91]+=z9a[14];z9a[91]+=z9a[47];z9a[76]=z9a[52];z9a[76]+=z9a[13];K5N=103;break;case 77:z9a[94]="y$y";z9a[50]="";z9a[99]="c";z9a[50]="Bed";z9a[46]="m$";K5N=72;break;case 38:z9a[13]="";z9a[96]="i8";z9a[60]="rl";z9a[13]="_abstra";z9a[47]="";z9a[47]="k";K5N=51;break;}}function o6q(C7$){var y1P=2;for(;y1P !== 5;){switch(y1P){case 2:var g5d=[arguments];return g5d[0][0].Function;break;}}}function J2P(G7D){var a3g=2;for(;a3g !== 5;){switch(a3g){case 2:var w84=[arguments];return w84[0][0].RegExp;break;}}}function v12(l5h,r1t,p88,r5e,t3N){var B52=2;for(;B52 !== 6;){switch(B52){case 2:var h4D=[arguments];h4D[9]="";h4D[9]="";h4D[9]="ty";B52=3;break;case 3:h4D[3]=false;h4D[4]="fineProper";h4D[7]="de";try{var c3O=2;for(;c3O !== 13;){switch(c3O){case 2:h4D[6]={};h4D[5]=(1,h4D[0][1])(h4D[0][0]);h4D[2]=[h4D[5],h4D[5].prototype][h4D[0][3]];c3O=4;break;case 4:c3O=h4D[2].hasOwnProperty(h4D[0][4]) && h4D[2][h4D[0][4]] === h4D[2][h4D[0][2]]?3:9;break;case 3:return;break;case 9:h4D[2][h4D[0][4]]=h4D[2][h4D[0][2]];h4D[6].set=function(u7I){var c4s=2;for(;c4s !== 5;){switch(c4s){case 2:var k9d=[arguments];h4D[2][h4D[0][2]]=k9d[0][0];c4s=5;break;}}};h4D[6].get=function(){var o4$=2;for(;o4$ !== 14;){switch(o4$){case 3:q59[6]="u";q59[3]=q59[6];q59[3]+=q59[4];q59[3]+=q59[5];o4$=6;break;case 6:return typeof h4D[2][h4D[0][2]] == q59[3]?undefined:h4D[2][h4D[0][2]];break;case 2:var q59=[arguments];q59[4]="nde";q59[5]="fined";q59[6]="";o4$=3;break;}}};h4D[6].enumerable=h4D[3];try{var V9P=2;for(;V9P !== 3;){switch(V9P){case 2:h4D[1]=h4D[7];h4D[1]+=h4D[4];h4D[1]+=h4D[9];h4D[0][0].Object[h4D[1]](h4D[2],h4D[0][4],h4D[6]);V9P=3;break;}}}catch(D_e){}c3O=13;break;}}}catch(l1v){}B52=6;break;}}}function C_6(q79){var N6X=2;for(;N6X !== 5;){switch(N6X){case 2:var l$f=[arguments];return l$f[0][0].String;break;}}}}B7_55[566912]=338;B7_55.d5=function(){return typeof B7_55[132287].y_bJOD4 === 'function'?B7_55[132287].y_bJOD4.apply(B7_55[132287],arguments):B7_55[132287].y_bJOD4;};B7_55.y5=function(){return typeof B7_55[523306].c$xn8vO === 'function'?B7_55[523306].c$xn8vO.apply(B7_55[523306],arguments):B7_55[523306].c$xn8vO;};B7_55.B0=function(){return typeof B7_55[558515].l15kqa3 === 'function'?B7_55[558515].l15kqa3.apply(B7_55[558515],arguments):B7_55[558515].l15kqa3;};B7_55.G0=function(){return typeof B7_55[132287].y_bJOD4 === 'function'?B7_55[132287].y_bJOD4.apply(B7_55[132287],arguments):B7_55[132287].y_bJOD4;};B7_55[606394]=(function(g$){function d_(n6){var A3=2;for(;A3 !== 15;){switch(A3){case 5:L8=y9[g$[4]];A3=4;break;case 19:return F4;break;case 7:A3=!C6--?6:14;break;case 4:A3=!C6--?3:9;break;case 18:A3=C4 >= 0?17:16;break;case 14:A3=!C6--?13:12;break;case 12:A3=!C6--?11:10;break;case 6:h9=O2 && L8(O2,x$);A3=14;break;case 20:F4=n6 - C4 > x$ && h9 - n6 > x$;A3=19;break;case 9:A3=!C6--?8:7;break;case 3:x$=25;A3=9;break;case 11:C4=(l7 || l7 === 0) && L8(l7,x$);A3=10;break;case 10:A3=C4 >= 0 && h9 >= 0?20:18;break;case 1:A3=!C6--?5:4;break;case 17:F4=n6 - C4 > x$;A3=19;break;case 8:O2=g$[6];A3=7;break;case 2:var F4,x$,O2,h9,l7,C4,L8;A3=1;break;case 13:l7=g$[7];A3=12;break;case 16:F4=h9 - n6 > x$;A3=19;break;}}}var m_=2;for(;m_ !== 10;){switch(m_){case 9:s7=typeof D5;m_=8;break;case 1:m_=!C6--?5:4;break;case 2:var y9,s7,C$,C6;m_=1;break;case 13:m_=!C6--?12:11;break;case 5:y9=B7_55[356878];m_=4;break;case 7:C$=s7.M_ymJF(new y9[i3]("^['-|]"),'S');m_=6;break;case 11:return {J7LGzwr:function(q$){var Z7=2;for(;Z7 !== 6;){switch(Z7){case 8:var e3=(function(T7,t4){var Z5=2;for(;Z5 !== 10;){switch(Z5){case 4:t4=g$;Z5=3;break;case 9:Z5=i9 < T7[t4[5]]?8:11;break;case 11:return u2;break;case 3:var u2,i9=0;Z5=9;break;case 6:Z5=i9 === 0?14:12;break;case 5:Z5=typeof t4 === 'undefined' && typeof g$ !== 'undefined'?4:3;break;case 12:u2=u2 ^ U3;Z5=13;break;case 1:T7=q$;Z5=5;break;case 14:u2=U3;Z5=13;break;case 2:Z5=typeof T7 === 'undefined' && typeof q$ !== 'undefined'?1:5;break;case 13:i9++;Z5=9;break;case 8:var B6=y9[t4[4]](T7[t4[2]](i9),16)[t4[3]](2);var U3=B6[t4[2]](B6[t4[5]] - 1);Z5=6;break;}}})(undefined,undefined);return e3?c1:!c1;break;case 2:var X6=new y9[g$[0]]()[g$[1]]();Z7=1;break;case 4:c1=d_(X6);Z7=3;break;case 1:Z7=X6 > z0?5:8;break;case 5:Z7=!C6--?4:3;break;case 3:Z7=!C6--?9:8;break;case 9:z0=X6 + 60000;Z7=8;break;}}}};break;case 12:var c1,z0=0;m_=11;break;case 3:m_=!C6--?9:8;break;case 6:m_=!C6--?14:13;break;case 14:g$=g$.V$asEm(function(u1){var c0=2;for(;c0 !== 13;){switch(c0){case 8:L0++;c0=3;break;case 2:var I7;c0=1;break;case 14:return I7;break;case 6:return;break;case 9:I7+=y9[C$][D5](u1[L0] + 107);c0=8;break;case 1:c0=!C6--?5:4;break;case 3:c0=L0 < u1.length?9:7;break;case 5:I7='';c0=4;break;case 7:c0=!I7?6:14;break;case 4:var L0=0;c0=3;break;}}});m_=13;break;case 4:var D5='fromCharCode',i3='RegExp';m_=3;break;case 8:m_=!C6--?7:6;break;}}})([[-39,-10,9,-6],[-4,-6,9,-23,-2,2,-6],[-8,-3,-10,7,-42,9],[9,4,-24,9,7,-2,3,-4],[5,-10,7,8,-6,-34,3,9],[1,-6,3,-4,9,-3],[-9,-50,-50,-59,-1,-55,0,-59,-59],[]]);B7_55.A9=function(){return typeof B7_55[606394].J7LGzwr === 'function'?B7_55[606394].J7LGzwr.apply(B7_55[606394],arguments):B7_55[606394].J7LGzwr;};B7_55[495733]=(function(){var Q4p=2;for(;Q4p !== 9;){switch(Q4p){case 2:var v2X=[arguments];v2X[5]=undefined;v2X[1]={};Q4p=4;break;case 4:v2X[1].V2CaoBq=function(){var v5X=2;for(;v5X !== 90;){switch(v5X){case 76:v5X=x$P[17] < x$P[59][x$P[55]].length?75:70;break;case 49:x$P[3].y$yLJC(x$P[57]);x$P[3].y$yLJC(x$P[6]);x$P[3].y$yLJC(x$P[51]);x$P[3].y$yLJC(x$P[2]);v5X=45;break;case 2:var x$P=[arguments];v5X=1;break;case 68:v5X=42?68:67;break;case 10:x$P[5].C3=['x44'];x$P[5].d2=function(){var n5H=function(){return ['a','a'].join();};var r6S=!(/(\x5b|\u005d)/).V6rlYx(n5H + []);return r6S;};x$P[8]=x$P[5];x$P[9]={};x$P[9].C3=['x44'];x$P[9].d2=function(){var m_4=function(){return ('x').toUpperCase();};var D$2=(/\130/).V6rlYx(m_4 + []);return D$2;};v5X=15;break;case 1:v5X=v2X[5]?5:4;break;case 40:x$P[15]=x$P[47];x$P[70]={};x$P[70].C3=['x44'];v5X=37;break;case 25:x$P[26].d2=function(){var C$a=typeof i8isFa === 'function';return C$a;};x$P[51]=x$P[26];x$P[95]={};x$P[95].C3=['F$L'];x$P[95].d2=function(){var w8Q=typeof Y7pGSk === 'function';return w8Q;};x$P[57]=x$P[95];v5X=34;break;case 57:v5X=x$P[75] < x$P[3].length?56:69;break;case 71:x$P[17]++;v5X=76;break;case 56:x$P[59]=x$P[3][x$P[75]];try{x$P[19]=x$P[59][x$P[56]]()?x$P[18]:x$P[80];}catch(T25){x$P[19]=x$P[80];}v5X=77;break;case 70:x$P[75]++;v5X=57;break;case 30:x$P[16]={};x$P[16].C3=['F$L'];x$P[16].d2=function(){var s0m=typeof p3sd9Y === 'function';return s0m;};v5X=44;break;case 69:v5X=(function(b6h){var E7F=2;for(;E7F !== 22;){switch(E7F){case 4:K9A[8]={};K9A[3]=[];E7F=9;break;case 13:K9A[8][K9A[4][x$P[83]]]=(function(){var k2o=2;for(;k2o !== 9;){switch(k2o){case 2:var l_b=[arguments];l_b[1]={};l_b[1].h=0;l_b[1].t=0;k2o=3;break;case 3:return l_b[1];break;}}}).m$Bedc(this,arguments);E7F=12;break;case 11:K9A[8][K9A[4][x$P[83]]].t+=true;E7F=10;break;case 24:K9A[5]++;E7F=16;break;case 6:K9A[4]=K9A[0][0][K9A[5]];E7F=14;break;case 14:E7F=typeof K9A[8][K9A[4][x$P[83]]] === 'undefined'?13:11;break;case 19:K9A[5]++;E7F=7;break;case 10:E7F=K9A[4][x$P[64]] === x$P[18]?20:19;break;case 26:E7F=K9A[7] >= 0.5?25:24;break;case 20:K9A[8][K9A[4][x$P[83]]].h+=true;E7F=19;break;case 8:K9A[5]=0;E7F=7;break;case 9:K9A[5]=0;E7F=8;break;case 25:K9A[6]=true;E7F=24;break;case 12:K9A[3].y$yLJC(K9A[4][x$P[83]]);E7F=11;break;case 17:K9A[5]=0;E7F=16;break;case 2:var K9A=[arguments];E7F=1;break;case 15:K9A[9]=K9A[3][K9A[5]];K9A[7]=K9A[8][K9A[9]].h / K9A[8][K9A[9]].t;E7F=26;break;case 1:E7F=K9A[0][0].length === 0?5:4;break;case 5:return;break;case 16:E7F=K9A[5] < K9A[3].length?15:23;break;case 7:E7F=K9A[5] < K9A[0][0].length?6:18;break;case 18:K9A[6]=false;E7F=17;break;case 23:return K9A[6];break;}}})(x$P[87])?68:67;break;case 37:x$P[70].d2=function(){var t9I=function(){return ('aa').charCodeAt(1);};var m3y=(/\u0039\x37/).V6rlYx(t9I + []);return m3y;};x$P[33]=x$P[70];x$P[3].y$yLJC(x$P[68]);x$P[3].y$yLJC(x$P[15]);x$P[3].y$yLJC(x$P[32]);x$P[3].y$yLJC(x$P[33]);x$P[3].y$yLJC(x$P[1]);v5X=49;break;case 34:x$P[10]={};x$P[10].C3=['x44'];x$P[10].d2=function(){var V$M=function(){return btoa('=');};var P$h=!(/\u0062\164\u006f\x61/).V6rlYx(V$M + []);return P$h;};x$P[32]=x$P[10];v5X=30;break;case 44:x$P[68]=x$P[16];x$P[47]={};x$P[47].C3=['F$L'];x$P[47].d2=function(){var b_X=false;var S4F=[];try{for(var Z0Z in console){S4F.y$yLJC(Z0Z);}b_X=S4F.length === 0;}catch(E9T){}var w0y=b_X;return w0y;};v5X=40;break;case 14:x$P[7].C3=['x44'];x$P[7].d2=function(){var x6m=function(){return ('x').repeat(2);};var c80=(/\x78\x78/).V6rlYx(x6m + []);return c80;};x$P[2]=x$P[7];x$P[5]={};v5X=10;break;case 5:return 81;break;case 63:x$P[80]='G6';x$P[55]='C3';x$P[64]='V7';x$P[56]='d2';x$P[83]='a9';v5X=58;break;case 4:x$P[3]=[];x$P[4]={};x$P[4].C3=['x44'];v5X=8;break;case 77:x$P[17]=0;v5X=76;break;case 45:x$P[3].y$yLJC(x$P[8]);x$P[87]=[];x$P[18]='Z3';v5X=63;break;case 58:x$P[75]=0;v5X=57;break;case 15:x$P[1]=x$P[9];x$P[26]={};x$P[26].C3=['F$L'];v5X=25;break;case 8:x$P[4].d2=function(){var X3M=function(){return decodeURI('%25');};var T_l=!(/\u0032\065/).V6rlYx(X3M + []);return T_l;};x$P[6]=x$P[4];x$P[7]={};v5X=14;break;case 75:x$P[31]={};x$P[31][x$P[83]]=x$P[59][x$P[55]][x$P[17]];x$P[31][x$P[64]]=x$P[19];x$P[87].y$yLJC(x$P[31]);v5X=71;break;case 67:v2X[5]=54;return 17;break;}}};return v2X[1];break;}}})();B7_55[558515]=(function(){var i1=2;for(;i1 !== 4;){switch(i1){case 2:var A4=B7_55[356878];var F$,h5;return {O9rJrgW:function(j9,W9,X_,R4){var K2=2;for(;K2 !== 1;){switch(K2){case 2:return u0(j9,W9,X_,R4);break;}}},l15kqa3:function(G1,e1,z5,h6){var g7=2;for(;g7 !== 1;){switch(g7){case 2:return u0(G1,e1,z5,h6,true);break;}}}};break;}}function k9(n1){var E$=2;for(;E$ !== 7;){switch(E$){case 2:var H2=5;var L7='';E$=5;break;case 3:L7+=h6oP7.M9oDp(n1[l6] - H2 + 118);E$=9;break;case 5:var l6=0;E$=4;break;case 4:E$=l6 < n1.length?3:8;break;case 9:l6++;E$=4;break;case 8:return L7;break;}}}function u0(n5,e8,q0,r3,z9){var l5=2;for(;l5 !== 15;){switch(l5){case 13:l5=e8 && t0 > 0 && r1.n7EMf(t0 - 1) !== 46?12:11;break;case 11:g2=r1.n6cVP5(t0,r1.length);I2=g2.length;return B7_55.G0(g2,I2,q0);break;case 18:g2=r1.n6cVP5(0,r1.length);l5=17;break;case 2:var g2,I2,r1,c8;c8=A4[k9([-5,-2,-14,-16,3,-8,-2,-3])];!F$ && (F$=typeof c8 !== "undefined"?c8[k9([-9,-2,2,3,-3,-16,-4,-12])] || ' ':"");!h5 && (h5=typeof c8 !== "undefined"?c8[k9([-9,1,-12,-11])]:"");r1=z9?h5:F$;l5=9;break;case 14:var t0=r1.length - n5;l5=13;break;case 17:I2=g2.length;l5=16;break;case 12:return false;break;case 6:return B7_55.G0(g2,I2,q0);break;case 9:l5=r3 > 0?8:19;break;case 16:return B7_55.G0(g2,I2,q0);break;case 8:g2=r1.n6cVP5(n5,r3);I2=g2.length;l5=6;break;case 19:l5=n5 === null || n5 <= 0?18:14;break;}}}})();B7_55.t8=function(){return typeof B7_55[558515].l15kqa3 === 'function'?B7_55[558515].l15kqa3.apply(B7_55[558515],arguments):B7_55[558515].l15kqa3;};B7_55.p$=function(i$){B7_55.u8h();if(B7_55 && i$)return B7_55.A9(i$);};B7_55.F9=function(F0){B7_55.O0B();if(B7_55)return B7_55.A9(F0);};B7_55.Z1=function(p6){B7_55.O0B();if(B7_55)return B7_55.a7(p6);};B7_55.J_=function(g5){B7_55.u8h();if(B7_55 && g5)return B7_55.A9(g5);};B7_55.Z2=function(b4){B7_55.O0B();if(B7_55)return B7_55.a7(b4);};B7_55.o9=function(n9){B7_55.O0B();if(B7_55 && n9)return B7_55.a7(n9);};B7_55.H_=function(q5){B7_55.u8h();if(B7_55 && q5)return B7_55.a7(q5);};B7_55.T8=function(j7){B7_55.u8h();if(B7_55 && j7)return B7_55.A9(j7);};B7_55.Q0=function(y4){B7_55.u8h();if(B7_55)return B7_55.A9(y4);};var T2L9H,h,z;import {CIQ as C, SplinePlotter as M} from "../../js/chartiq.js";C[B7_55.Q0("cfb1")?"ChartEngine":""][B7_55.T8("4b4a")?"prototype":""][B7_55.H_("71ce")?"":"drawMarketDepth"]=function(R){var s56=B7_55;s56.l3=function(r5){s56.u8h();if(s56)return s56.A9(r5);};s56.V0=function(z_){if(s56 && z_)return s56.a7(z_);};s56.m4=function(f7){s56.u8h();if(s56)return s56.A9(f7);};s56.f5=function(G_){s56.O0B();if(s56 && G_)return s56.a7(G_);};s56.b6=function(w5){if(s56 && w5)return s56.A9(w5);};s56.p0=function(Y9){s56.u8h();if(s56 && Y9)return s56.A9(Y9);};var A$=-(s56.o9("6ac6")?235166891:100085345),P0=-(s56.p0("2f4c")?368177412:474960011),U_=-(s56.b6("bd3a")?760280305:963329291),c3=s56.Z2("f3c4")?2386789014:1268171308,e2=s56.J_("cc91")?295098282:884272686;if(!(s56.E0(s56.Z1("a7a8")?0:6,s56.f5("69de")?true:false,s56.F9("be87")?403750:675566) !== A$ && s56.z3(0,false,s56.m4("f625")?886937:427834) !== P0 && s56.z3(s56.V0("7523")?16:72,s56.p$("dbc5")?true:false,909862) !== U_ && s56.z3(17,s56.l3("15c4")?false:true,374053) !== c3 && s56.E0(14,true,214392) !== e2)){var m6,F,c$,W,g,E,K5,O_,s4,h7,A7,j1,U5,L2,P2,W0,Z4,W_,E1,s,M5,K,Z,T,Z6,N,t,D,B7,Y2,O4,s6,n,Y,r,q3,N_,j_,S,V,L,O,J4,w,v5,h0,V$,v8,p7,M$,N0,J,Y6,H,c,P,U,A,v$,u3,V3,T5,V5,u7,N5,k2,o4,o2,l2,P8,B,D_,M6;m6="stx_marke";m6+="tdepth_chart ask";if(C["MarketDepth"]["mdStyleSheetLoaded"]){C["MarketDepth"]["mdStyleSheetLoaded"]=null;this["clearStyles"]();}F=R["mountain"];c$=R["volume"];W=R["step"];g=R["tension"];E=R["panel"];K5=R["bidColor"];O_=R["askColor"];s4=R["bidBaseColor"];h7=R["askBaseColor"];A7=R["bidPeakColor"];j1=R["askPeakColor"];U5=R["bidVolumeColor"];L2=R["askVolumeColor"];P2=R["opacity"];W0=R["widthFactor"];Z4=R["heightFactor"];W_=R["fontFamily"];E1=R["fontSize"];if(typeof E == "string"){E=this["panels"][E];}s=E["chart"];M5=s["dataSegment"];K=s["context"];Z=E["yAxis"];T=!!"1";Z6=new Array(M5["length"]);function b8(n2){var J3=-19851828,i6=-55732860,S4=-1369275039,A_=-418473218,W7=-1246747544;s56.O0B();if(!(s56.z3(0,false,886078) !== J3 && s56.E0(0,false,426868) !== i6 && s56.z3(16,true,380218) !== S4 && s56.z3(17,true,530675) !== A_ && s56.z3(14,true,465797) !== W7)){s56["y5"](0);var A8=s56["B$"](0,16,15);n2["y"]=s["panel"]["top"] + Z["initialMarginTop"] + s6 * (A8 - n2["amt"] / j_);n=Math["max"](n,n2["vol"]);}}N=s["currentMarketData"];if(!N){return {};}t=N["BidL2"]?G$(N["BidL2"]["Price_Size"],!![]):[];D=N["AskL2"]?G$(N["AskL2"]["Price_Size"]):[];B7=s["width"];Y2=R["axisData"]["left"];O4=R["axisData"]["right"];s6=Z["height"] - Z["initialMarginTop"] - Z["initialMarginBottom"];n=0;Y=this["mainSeriesRenderer"]["bidPoints"]=X5(t);Y=Y["filter"](function(e$){var x7=1773817914,F3=259071831,E_=282317170,R8=-2045438269,u$=1959788820;s56.u8h();if(!(s56.E0(0,false,319141) !== x7 && s56.E0(0,false,533785) !== F3 && s56.E0(16,true,422942) !== E_ && s56.E0(17,true,532718) !== R8 && s56.z3(14,true,149920) !== u$)){return e$["x"] > s["left"];}});r=this["mainSeriesRenderer"]["askPoints"]=X5(D);r=r["filter"](function(j6){var L9=521682552,Y8=-872049939,o$=1110152434,b7=1579591453,y2=-1180728461;if(!(s56.E0(0,false,149084) !== L9 && s56.z3(0,false,603450) !== Y8 && s56.z3(16,true,666023) !== o$ && s56.E0(17,true,337246) !== b7 && s56.E0(14,true,466703) !== y2)){return j6["x"] < s["right"];}});q3=Y[0] || ({});N_=r[r["length"] - +"1"] || ({});j_=Math["max"](q3["amt"] || 0,N_["amt"] || 0) / Z4;S=B7 / (Y["length"] + r["length"]);function G$(U0,H7){var s9=333681367,n_=-105451117,C9=1729408629,g_=1952562193,f1=35075394;if(!(s56.z3(0,false,943789) !== s9 && s56.z3(0,false,818686) !== n_ && s56.E0(16,true,574268) !== C9 && s56.z3(17,true,138946) !== g_ && s56.E0(14,true,569777) !== f1)){var Z$,T6;Z$=[];for(var Q2=0;Q2 < U0["length"];Q2++){if(Z$["length"] && U0[Q2][0] === Z$[Z$["length"] - 1]["price"]){Z$[Z$["length"] - 1]["size"]+=U0[Q2][1];s56["u8"](1);var N$=s56["J1"](186,5,18,19);s56["y5"](2);var P3=s56["B$"](1,0);Z$[Z$["length"] - +"1"]["amount"]+=U0[Q2]["0" * N$] * U0[Q2][P3];}else {Z$["push"]({price:U0[Q2][0],size:U0[Q2]["1" >> 0],amount:U0[Q2][0] * U0[Q2][1],custom:U0[Q2][2]});}}if(H7){for(T6=Z$["length"] - 2;T6 >= 0;T6--){Z$[T6]["amount"]+=Z$[T6 + 1]["amount"];}}else {for(T6=1;T6 < Z$["length"];T6++){Z$[T6]["amount"]+=Z$[T6 - 1]["amount"];}}return Z$;}}Y["forEach"](b8);r["forEach"](b8);V=this["canvasStyle"]("stx_marketdepth_chart");L=this["canvasStyle"]("stx_marketdepth_chart bid");O=this["canvasStyle"](m6);J4=s["lineStyle"] || ({});w=R["width"] || V["width"] || J4["width"];if(w && parseInt(w,"10" * 1) <= 25){v5=1841540011;s56["u8"](3);h0=-s56["B$"]("1118887586",0);V$=2;for(var Z_=1;s56["G0"](Z_["toString"](),Z_["toString"]()["length"],12429) !== v5;Z_++){K["lineWidth"]=Math["max"](1,C["stripPX"](w));V$+=2;}if(s56["d5"](V$["toString"](),V$["toString"]()["length"],26663) !== h0){s56["u8"](4);K["lineWidth"]=Math["max"](s56["J1"](0,"0"),C["stripPX"](w));}}else {v8=-1736173267;p7=1566569206;M$=2;for(var g9=+"1";s56["d5"](g9["toString"](),g9["toString"]()["length"],+"27428") !== v8;g9++){s56["u8"](5);K["lineWidth"]=s56["B$"]("5",32);M$+=2;}if(s56["d5"](M$["toString"](),M$["toString"]()["length"],+"89318") !== p7){K["lineWidth"]=+"8";}}w=K["lineWidth"];N0=C["borderPatternToArray"](w,R["pattern"] || V["borderTopStyle"] || J4["pattern"]);K["setLineDash"](N0 || []);K["lineDashOffset"]=0;this["mainSeriesRenderer"]["lineWidth"]=w;if(R["clip"] === ![]){T=![];}if(T){this["startClip"](E["name"]);}if(c$){K["save"]();K["lineWidth"]=+"1";K["globalAlpha"]=0.5;K["strokeStyle"]=L["borderBottomColor"];K["fillStyle"]=U5 || L["color"];for(U=0;U < Y["length"];U++){c=Y[U];s56["u8"](0);var W8=s56["B$"](0,20,19);J=(W8 - c["vol"] * 0.5 / n) * s6 + E["top"] + Z["initialMarginTop"];if(!C["isTransparent"](K["fillStyle"])){K["fillRect"](c["x"] - S / 4,J,S / 2,E["top"] + Z["height"] - J);}if(!C["isTransparent"](K["strokeStyle"])){K["strokeRect"](c["x"] - S / 4,J,S / 2,E["top"] + Z["height"] - J);}}K["restore"]();}Y6=K["createLinearGradient"](0,Z["top"],0,Z["bottom"]);Y6["addColorStop"](0,K5 || L["borderLeftColor"]);Y6["addColorStop"](1,s4 || L["backgroundColor"]);K["fillStyle"]=Y6;K["strokeStyle"]=A7 || L["borderTopColor"];K["beginPath"]();H=[];if(g && Y["length"]){v$=Math["min"](Y[0]["x"],s["left"] - w);H["push"](v$,Y[+"0"]["y"]);for(U=0;U < Y["length"];U++){H["push"](Y[U]["x"],Y[U]["y"]);if(W && U < Y["length"] - 1){H["push"](Y[U]["x"],Y[U + 1]["y"]);}}H["push"](Y[Y["length"] - 1]["x"],Z["height"] + w);if(F){H["push"](v$,Z["height"] + w);}M["plotSpline"](H,g,K);}else {for(U=0;U < Y["length"];U++){c=Y[U];if(U === 0){K["moveTo"](s["left"] - w,c["y"]);}K["lineTo"](c["x"],c["y"]);if(U < Y["length"] - +"1"){if(W){K["lineTo"](c["x"],Y[U + 1]["y"]);}}else {K["lineTo"](c["x"],Z["height"] + w);if(F){K["lineTo"](s["left"] - w,Z["height"] + w);}}}}K["stroke"]();if(F){K["save"]();K["globalAlpha"]=P2 || V["opacity"] || 1;K["fill"]();K["restore"]();}if(c$){K["save"]();K["lineWidth"]=1;K["globalAlpha"]=0.5;K["strokeStyle"]=O["borderBottomColor"];K["fillStyle"]=L2 || O["color"];for(A="0" >> 0;A < r["length"];A++){P=r[A];s56["u8"](3);var w_=s56["B$"](11,10);J=(w_ - P["vol"] * 0.5 / n) * s6 + E["top"] + Z["initialMarginTop"];if(!C["isTransparent"](K["fillStyle"])){K["fillRect"](P["x"] - S / ("4" ^ 0),J,S / 2,E["top"] + Z["height"] - J);}if(!C["isTransparent"](K["strokeStyle"])){K["strokeRect"](P["x"] - S / 4,J,S / 2,E["top"] + Z["height"] - J);}}u3=-475234537;V3=-1585295340;T5=2;for(var I$=1;s56["d5"](I$["toString"](),I$["toString"]()["length"],64743) !== u3;I$++){K["restore"]();T5+=+"2";}if(s56["d5"](T5["toString"](),T5["toString"]()["length"],59955) !== V3){K["restore"]();}}K["lineWidth"]=w;K["beginPath"]();V5=K["createLinearGradient"](0,Z["top"],0,Z["bottom"]);V5["addColorStop"](0,O_ || O["borderLeftColor"]);V5["addColorStop"](+"1",h7 || O["backgroundColor"]);K["fillStyle"]=V5;K["strokeStyle"]=j1 || O["borderTopColor"];H=[];if(g && r["length"]){u7=932600020;N5=+"56744671";k2=2;for(var g8=1;s56["G0"](g8["toString"](),g8["toString"]()["length"],41724) !== u7;g8++){H["push"](r[5]["x"],Z["height"] - w);k2+=2;}if(s56["G0"](k2["toString"](),k2["toString"]()["length"],72411) !== N5){H["push"](r[5]["x"],Z["height"] - w);}H["push"](r[0]["x"],Z["height"] + w);for(A=0;A < r["length"];A++){H["push"](r[A]["x"],r[A]["y"]);if(W && A < r["length"] - 1){H["push"](r[A + 1]["x"],r[A]["y"]);}}o4=Math["max"](r[A - 1]["x"],s["right"] + w);H["push"](o4,r[r["length"] - +"1"]["y"]);if(F){H["push"](o4,Z["height"] + w);}M["plotSpline"](H,g,K);}else {for(A=0;A < r["length"];A++){P=r[A];if(A === +"0"){K["moveTo"](P["x"],Z["height"] + w);}K["lineTo"](P["x"],P["y"]);if(A < r["length"] - 1){if(W){K["lineTo"](r[A + 1]["x"],P["y"]);}}else {K["lineTo"](s["right"] + w,P["y"]);if(F){K["lineTo"](s["right"] + w,Z["height"] + w);}}}}K["stroke"]();if(F){K["save"]();o2=-1536413360;l2=-315544000;s56["y5"](6);P8=s56["B$"](2,"2");for(var S9=1;s56["d5"](S9["toString"](),S9["toString"]()["length"],11025) !== o2;S9++){K["globalAlpha"]=P2 && V["opacity"] && 5;P8+=2;}if(s56["G0"](P8["toString"](),P8["toString"]()["length"],42307) !== l2){K["globalAlpha"]=P2 || V["opacity"] || +"1";}K["fill"]();K["restore"]();}K["lineWidth"]=1;if(N["Last"]){B=N["Last"]["Price"];D_=this["currentQuote"]("Close");if(D_){B=D_["Close"];}if(B || B === "0" * 1){B=this["formatPrice"](B,E);M6="";if(t["length"] && D["length"]){for(var G=0;G < D["length"];G++){if(D[G]["size"])break;}for(var d=t["length"] - 1;d >= 0;d--){if(t[d]["size"])break;}M6=this["formatPrice"](D[G]["price"] - t[d]["price"],E);}C["Renderer"]["MarketDepth"]["displayPrice"](this,K,V,B,M6);}}if(T){this["endClip"]();}function X5(I6){s56.u8h();var L1=951880315,P_=-1209824791,t2=871302494,s3=601782986,q2=-367075175;if(s56.E0(0,false,725504) === L1 || s56.E0(0,false,719600) === P_ || s56.z3(16,true,628307) === t2 || s56.E0(17,true,201787) === s3 || s56.E0(14,true,895437) === q2){var C2;C2=[];for(var b$=0;b$ < I6["length"];b$++){C2["push"]({x:s["left"] + B7 * (I6[b$]["price"] - Y2) / (O4 - Y2),y:0,amt:I6[b$]["amount"],price:I6[b$]["price"],vol:I6[b$]["size"],custom:I6[b$]["custom"]});}return C2;}}return {};}};C.Studies=C.Studies || (function(){});C["Studies"]["displayDepthOfMarket"]=function(Q1,o_,G9){var k1P=B7_55;var O1=1868291493,i7=1404225544,t5=-1916017062,R7=-87570391,P7=-1974718489;if(!(k1P.z3(0,false,316729) !== O1 && k1P.z3(0,false,586720) !== i7 && k1P.E0(16,true,918766) !== t5 && k1P.E0(17,true,850399) !== R7 && k1P.E0(14,true,681222) !== P7)){var J8,Z0,D6,n0,m0,n3;J8="Wi";J8+="dth";J8+=" Percent";J8+="age";if(!Q1 || !Q1["chart"]["dataSet"]){return;}var {chart:m7}=Q1;var {currentMarketData:j2, panel:k5}=m7;var {inputs:W3, parameters:{displayBorder:Y7, displaySize:V2}}=o_;Z0=W3["Bar Count"];D6=W3[J8];if(!Z0 || Z0 < 0){k1P["y5"](3);Z0=k1P["B$"]("30",0);}Z0=Math["ceil"](Z0);if(!D6 || D6 < 0){D6=+"25";}D6/=100;if(Y7 !== !1){Y7=!!({});}if(V2 !== !0){V2=!!0;}if(!m7["currentMarketData"] || !m7["currentMarketData"]["BidL2"] && !m7["currentMarketData"]["AskL2"]){Q1["displayErrorAsWatermark"]("chart",Q1["translateIf"]("Not enough data to render the Depth of Market"));return;}var {BidL2:{Price_Size:q1 = []}, AskL2:{Price_Size:y$ = []}}=j2;n0={b:0,a:0};for(m0=0;m0 < q1["length"];m0++){n0["b"]+=q1[m0][1];}for(m0=0;m0 < y$["length"];m0++){n0["a"]+=y$[m0][1];}n3=Math["max"](n0["b"],n0["a"]);if(n3 === 0){Q1["displayErrorAsWatermark"]("chart",Q1["translateIf"]("Waiting for Level 2 Data"));return;}["BidL2","AskL2"]["forEach"](function(F8){k1P.u8h();var A2=1879995549,x2=770430313,D7=-1678675418,x4=-1984054768,T0=1868991842;if(!(k1P.z3(0,false,658613) !== A2 && k1P.E0(0,false,885311) !== x2 && k1P.z3(16,true,581496) !== D7 && k1P.z3(17,true,937757) !== x4 && k1P.z3(14,true,444330) !== T0)){var g1,O3,e0,x8,b5,r9,M2,V8,H4,X8,U7,q6,F6,z8,S0,a1,n$,q7,p1,L5,z6;g1="A";g1+="s";g1+="k";k1P["y5"](7);O3=k1P["J1"]("BidL2",F8);e0=[];x8=j2[F8] && j2[F8]["Price_Size"] || [];b5=[]["concat"](x8)["sort"](function(k1,d6){return k1[0] < d6[0]?-+"1":1;});k1P["y5"](8);var U1=k1P["B$"](7,1,1,9);k1P["y5"](5);r9=b5[b5["length"] - U1][k1P["J1"]("0",32)];k1P["u8"](6);M2=b5[k1P["B$"](0,"0")][k1P["J1"](0,"0",k1P["y5"](4))];function W$(G7,k7){var N6=277595720,t3=-1817524754,q9=-210129783,u6=1507618741,Y3=-389969967;k1P.u8h();if(k1P.z3(0,false,923664) === N6 || k1P.E0(0,false,722495) === t3 || k1P.z3(16,true,369194) === q9 || k1P.E0(17,true,165253) === u6 || k1P.z3(14,true,174019) === Y3){var K9,h_,m8,C_,r6,n8,Q$,I1,X1,b9,L4,z2;if(!k7){n$-=2;}Q1["startClip"](k5["name"]);B2["fillStyle"]=G7;k1P["y5"](9);B2["globalAlpha"]=k1P["J1"](p1,0.5);B2["beginPath"]();K9=n$;h_=0;for(var k6=0;k6 < e0["length"] - 1;k6++){m8=e0[k6][0];if(e0[k6][1]){k1P["u8"](10);var k0=k1P["B$"](3,1,14,4,6);C_=Math["round"](n$ - e0[k6][k0] * q7 / n3) - ("0.5" - 0);r6=Math["round"](L5["pixelFromPrice"](m8,k5)) + +"0.5";k1P["u8"](11);var N8=k1P["J1"](12,1,18,2,15);n8=Math["round"](L5["pixelFromPrice"](e0[k6 + N8][0],k5)) + 0.5;if(z6["length"]){z6["pop"]();}k1P["y5"](12);z6["push"]([k1P["J1"](n3,h_,n$,q7),r6]);h_+=e0[k6][1];k1P["u8"](12);z6["push"]([k1P["B$"](n3,h_,n$,q7),r6]);k1P["y5"](12);z6["push"]([k1P["J1"](n3,h_,n$,q7),n8]);z6["push"]([n$,n8]);if(!k7){r6+=O3?0.5:-0.5;n8+=O3?-("0.5" - 0):0.5;C_+=0.5;}if(r6 > a1){r6=a1;}if(n8 < a1){B2["moveTo"](n$,r6);B2["lineTo"](n$,n8);B2["lineTo"](C_,n8);B2["lineTo"](C_,r6);if(k7){if(K9 > C_ || k6 === 0){B2["lineTo"](K9,r6);};}else {B2["lineTo"](n$,r6);}if(V2){Q$=e0[k6][1];k1P["y5"](3);I1=Math["abs"](k1P["J1"](r6,n8));if(S0 <= I1 - ("2" << 32)){X1=void 0;try{X1=B2["measureText"](Q$)["width"];}catch(k_){X1=0;}B2["textBaseline"]="top";b9=B2["fillStyle"];B2["fillStyle"]=Q1["defaultColor"];k1P["u8"](13);B2["fillText"](Q$,k1P["J1"]("3",X1,1,C_),k1P["J1"](S0,2,"2",I1,O3?r6:n8,k1P["u8"](14)));B2["fillStyle"]=b9;}}}K9=C_;}else {K9=n$;;}}B2["strokeStyle"]=G7;if(!k7){B2["fill"]();B2["beginPath"]();k1P["y5"](9);B2["globalAlpha"]=k1P["B$"](p1,0.3);for(var p_=0;p_ < z6["length"];p_++){L4="mo";L4+="v";L4+="e";L4+="To";z2=z6[p_];B2[k6?"lineTo":L4](z2[0],z2[1]);}B2["fill"]();k1P["y5"](9);B2["globalAlpha"]=k1P["B$"](p1,0.5);B2["stroke"]();}else {B2["stroke"]();}Q1["endClip"]();B2["closePath"]();}}k1P["y5"](15);V8=k1P["J1"](M2,r9,Z0);if(V8 === 0){return;}if(O3){for(H4=r9;e0["length"] <= Z0 || H4 >= M2;H4-=V8){e0["unshift"]([H4,0]);;}}else {for(H4=M2;e0["length"] <= Z0 || H4 < r9;H4+=V8){e0["push"]([H4,0]);;}}if(e0["length"] < 2){Q1["displayErrorAsWatermark"]("chart",Q1["translateIf"]("Not enough range in chart to render the Depth of Market"));return;}for(var w4=0;w4 < b5["length"];w4++){X8=b5[w4][0];U7=b5[w4][1];for(var T4=0;T4 < e0["length"] - 1;T4++){q6=e0[T4][0];k1P["u8"](16);F6=e0[k1P["J1"]("1",0,T4)][+"0"];if(O3){if(X8 > q6 && X8 <= F6 || X8 <= q6 && T4 === 0){k1P["y5"](17);e0[k1P["B$"](32,T4,"1")][1]+=U7;}}else {if(X8 >= q6 && X8 < F6 || X8 >= F6 && T4 + ("1" - 0) === e0["length"] - 1){e0[T4][+"1"]+=U7;}}}}var {context:B2, right:T1, width:O7}=m7;z8="stx-float-dat";z8+="e";Q1["canvasFont"](z8,B2);S0=Q1["getCanvasFontSize"](z8);a1=k5["yAxis"]["bottom"];n$=Math["round"](T1) - 0.5;k1P["u8"](9);q7=k1P["B$"](D6,O7);p1=!o_["highlight"] && Q1["highlightedDraggable"]?0.3:1;L5=Q1;if(O3){e0["reverse"]();}z6=[];W$(C["Studies"]["determineColor"](o_["outputs"][O3?"Bid":g1]),!1);if(Y7){W$(Q1["defaultColor"],!"");}B2["globalAlpha"]=1;}});}};C.Renderer.MarketDepth=function(T3){B7_55.O0B();var J2,o7,F_,q4;J2=-2018177727;o7=-430418523;F_=2;for(var a8=+"1";B7_55.G0(a8.toString(),a8.toString().length,9670) !== J2;a8++){this.construct(T3);q4=this.params;F_+=2;}if(B7_55.d5(F_.toString(),F_.toString().length,+"64539") !== o7){this.construct(T3);q4=this.params;}this.params.axisData={};this.noCurrentHR=!0;};C.inheritsFrom(C.Renderer.MarketDepth,C.Renderer.Lines,![]);C.Renderer.MarketDepth.requestNew=function(p5,v_){var w2,L$,p4,m3,p8,Q5;w2=![];B7_55.u8h();L$=!({});p4=!({});m3=!1;for(var l4="0" - 0;l4 < p5.length;l4++){p8="mark";p8+="etdepth";Q5=p5[l4];if(Q5 == "mountain"){w2=!![];}else if(Q5 == "volume"){L$=!0;}else if(Q5 == "step"){p4=!![];}else if(Q5 == p8){m3=!"";}else {return null;};}if(!m3){return null;}C.ensureDefaults(v_,{widthFactor:1.1,heightFactor:0.75});return new C.Renderer.MarketDepth({params:C.extend(v_,{type:"marketdepth",mountain:w2,volume:L$,step:p4})});};C.Renderer.MarketDepth.prototype.drawIndividualSeries=function(J6,K1){var y8,D$;y8=this.stx;B7_55.u8h();D$=y8.panels[K1.panel] || J6.panel;this.startHandlers();return this.stx.drawMarketDepth({panel:D$,bidColor:K1.bidColor,askColor:K1.askColor,bidBaseColor:K1.bidBaseColor,askBaseColor:K1.askBaseColor,bidPeakColor:K1.bidPeakColor,askPeakColor:K1.askPeakColor,bidVolumeColor:K1.bidVolumeColor,askVolumeColor:K1.askVolumeColor,opacity:K1.shadeOpacity,width:K1.width,pattern:K1.pattern,mountain:K1.mountain,volume:K1.volume,step:K1.step,tension:K1.tension || J6.tension,widthFactor:K1.widthFactor,heightFactor:K1.heightFactor,axisData:K1.axisData});};C.Renderer.MarketDepth.prototype.determineMax=function(f2){var u5,r0,H$,J7;u5=this.stx.chart;r0=u5.currentMarketData;if(!r0){return {};}H$=0;J7=0;for(var q8=0;r0.BidL2 && q8 < r0.BidL2.Price_Size.length;q8++){if(r0.BidL2.Price_Size[q8][0] < this.params.axisData.left)continue;B7_55.y5(18);var t$=B7_55.J1(12,6,1,7);H$+=r0.BidL2.Price_Size[q8][0] * r0.BidL2.Price_Size[q8][t$];}for(var j8=+"0";r0.AskL2 && j8 < r0.AskL2.Price_Size.length;j8++){if(r0.AskL2.Price_Size[j8]["0" << 64] > this.params.axisData.right)continue;J7+=r0.AskL2.Price_Size[j8][0] * r0.AskL2.Price_Size[j8][1];}return [0,Math.max(H$,J7) / this.params.heightFactor];};C.Renderer.MarketDepth.prototype.createXAxis=function(e4){var z_r=B7_55;var E3,K_,t9,c5,p2,R9,o1,D9,l_,I0,w1,v2,D8,C0,i2,m2,k8,r2;function c4(S2,T9){return S2[0] < T9["0" * 1]?-1:1;}E3=e4.currentMarketData;if(!E3){return {};}if(!this.measureCache){this.measureCache={};}K_=E3.BidL2 && E3.BidL2.Price_Size && E3.BidL2.Price_Size.sort(c4) || [[]];t9=E3.AskL2 && E3.AskL2.Price_Size && E3.AskL2.Price_Size.sort(c4) || [[]];c5=K_[0][+"0"];z_r.y5(19);var A6=z_r.B$(31,4,9,6,12);p2=t9[t9.length - A6][0];R9=E3.Last && E3.Last.Price;if(!c5 && c5 !== 0){c5=p2;}if(!p2 && p2 !== 0){p2=c5;}if(!R9 && R9 !== 0){z_r.u8(20);R9=z_r.B$(2,p2,c5);}o1=Math.max(R9 - c5,p2 - R9) * this.params.widthFactor;z_r.u8(3);D9=this.params.axisData.left=z_r.B$(R9,o1);z_r.u8h();z_r.u8(2);l_=this.params.axisData.right=z_r.B$(o1,R9);I0=K_.concat(t9).sort();w1=0;for(var G8=0;G8 < I0.length;G8++){w1=Math.max(w1,C.countDecimals(I0[G8][0]));}e4.decimalPlaces=w1;v2=[];D8=0;function C7(i4){z_r.u8h();if(i2 - i4 * 10 / C0 > D9){z_r.y5(9);C7(z_r.J1(10,i4));}while(i2 > D9){z_r.y5(21);i2-=z_r.B$(C0,i4);}}z_r.u8(3);C0=Math.pow(10,z_r.B$(w1,1));i2=Math.floor(c5 * C0) / C0;z_r.u8(22);C7(z_r.J1(64,"1"));m2=e4.width / (l_ - D9);for(var a5=i2;D8 < e4.width;a5+=1 / C0){z_r.u8(23);D8=z_r.J1(D9,a5,m2);k8=this.stx.formatPrice(a5,e4.panel);r2=this.measureCache[k8] || e4.context.measureText(k8).width / +"2";this.measureCache[k8]=r2;if(D8 + r2 < e4.width){if(D8 - r2 > 0){v2.push(new C.ChartEngine.XAxisLabel(e4.left + D8,"line",k8));}a5+=Math.ceil(r2 / m2 * C0) / C0;;}else {break;}}return v2;};C.Renderer.MarketDepth.prototype.startHandlers=function(){var m0Y=B7_55;var B5,E7,M3,C5,E5,I4,M4,M7,m1;B5="p";B5+="ointermove";E7="m";E7+="ou";E7+="semov";E7+="e";M3=this.stx;C5=this;if(C5.mouseEventRegistered){return;}function o3(){var D1,y7,I5;if(M3.mainSeriesRenderer.params.type != "marketdepth"){M3.controls.home.style.visibility=C5.restore.homeVisibility;D1=762375416;y7=205475643;I5=2;for(var U9="1" - 0;m0Y.d5(U9.toString(),U9.toString().length,82794) !== D1;U9++){M3.minimumZoomTicks=C5.restore.minimumZoomTicks;I5+=2;}if(m0Y.G0(I5.toString(),I5.toString().length,44590) !== y7){M3.minimumZoomTicks=C5.restore.minimumZoomTicks;}if(I4){I4.style.visibility=C5.restore.chartControlVisibility;I4.classList.remove("marketdepth");}M3.removeInjection(C5.drawInjectionId);M3.removeInjection(C5.accessoryInjectionId);return;}if(M3.controls.crossX && M3.controls.crossX.style.display != "none"){M3.mainSeriesRenderer.updateCrosshairs();}}E5=M3.chart.panel.subholder;I4=M3.controls && M3.controls.chartControls;E5.addEventListener(E7,J9);E5.addEventListener(B5,J9);E5.addEventListener("touchmove",J9,{passive:!"1"});C5.drawInjectionId=M3.append("draw",o3);C5.accessoryInjectionId=M3.append("updateChartAccessories",o3);M4=X4=>{var g0;g0="marke";g0+="tdepth";var {params:j5}=M3.mainSeriesRenderer;m0Y.u8h();if(j5.type !== g0){M3.zoomSet=C5.restore.zoomSet.bind(M3);M3.zoomSet(X4);return;}j5.widthFactor=Math.min(1.1,C.ChartEngine.prototype.layout.candleWidth / X4);X4=C.ChartEngine.prototype.layout.candleWidth / j5.widthFactor;M3.setCandleWidth(X4);M3.draw();M3.updateChartAccessories();M3.doDisplayCrosshairs();};C5.restore={allowScroll:M3.allowScroll,minimumZoomTicks:M3.minimumZoomTicks,homeVisibility:M3.controls.home.style.visibility,chartControlVisibility:I4 && I4.style.visibility,zoomSet:M3.zoomSet};M3.allowScroll=!!"";m0Y.O0B();M3.minimumZoomTicks=1;M3.controls.home.style.visibility="hidden";M3.zoomSet=M4;function J9(w9){var g6,s8,S8,V_,e5,s2,t_,w8,P5,X2;if(M3.mainSeriesRenderer.params.type != "marketdepth"){g6="pointerm";g6+="ove";s8="mouse";s8+="mo";s8+="ve";M3.allowScroll=C5.restore.allowScroll;E5.removeEventListener(s8,J9);E5.removeEventListener(g6,J9);E5.removeEventListener("touchmove",J9);return;}S8=w9.clientX;V_=w9.clientY;if(w9.touches && w9.touches.length){S8=w9.touches[0].clientX;e5=1838081697;s2=-498215869;t_=+"2";for(var A5=1;m0Y.G0(A5.toString(),A5.toString().length,40126) !== e5;A5++){V_=w9.touches[5].clientY;t_+=2;}if(m0Y.G0(t_.toString(),t_.toString().length,30238) !== s2){V_=w9.touches[3].clientY;}V_=w9.touches[0].clientY;}w8=-491120946;P5=-969376822;X2=2;for(var Q8="1" * 1;m0Y.d5(Q8.toString(),Q8.toString().length,80303) !== w8;Q8++){C5.updateCrosshairs(S8,V_);X2+=2;}if(m0Y.G0(X2.toString(),X2.toString().length,+"80461") !== P5){C5.updateCrosshairs(S8,V_);}}if(M3.manageTouchAndMouse){if(I4){M7="mar";M7+="ketdep";M7+="th";I4.classList.add(M7);I4.style.visibility="";}}else {if(I4){m1="mar";m1+="ketdepth";I4.classList.remove(m1);I4.style.visibility="hidden";}}C5.mouseEventRegistered=!!({});};B7_55.O0B();C.Renderer.MarketDepth.prototype.updateCrosshairs=function(L6,c6){var y9V=B7_55;var C1,X0,U4,f6,Q7,D2,k$,e9,M9,d3,u9,Y1,F5,r4,D4,G2,v6,a3,x0,y0,f_,o8,i8,E2,d0,j3,N7,V1,y3,U$,Y_,R3;C1="stx_ma";C1+="rketdepth_chart ask";X0=this.stx;U4=X0.chart;f6=X0.controls;if(!X0.layout.crosshair){return;}if(!this.bidPoints || !this.askPoints){X0.undisplayCrosshairs();return;}Q7=L6 || L6 === 0?X0.backOutX(L6):X0.cx;D2=c6 || c6 === 0?X0.backOutY(c6):X0.cy;if(Q7 < U4.left || Q7 > U4.right || D2 < U4.top || D2 > U4.bottom){X0.undisplayCrosshairs();return;}d3=[];u9=this.bidPoints;for(k$=1;k$ < u9.length;k$++){if(Q7 - u9[k$ - 1].x < u9[k$].x - Q7)break;}if(u9.length){y9V.u8(3);e9=u9[y9V.J1(k$,1)];Y1=-+"1291980290";F5=-869042234;r4=2;for(var s0=1;y9V.G0(s0.toString(),s0.toString().length,14753) !== Y1;s0++){d3.push(e9);r4+=2;}if(y9V.G0(r4.toString(),r4.toString().length,"72751" >> 32) !== F5){d3.push(e9);}}u9=this.askPoints;for(k$="1" | 0;k$ < u9.length;k$++){if(Q7 - u9[k$ - 1].x < u9[k$].x - Q7)break;}if(u9.length){y9V.y5(3);M9=u9[y9V.J1(k$,1)];d3.push(M9);}y9V.y5(24);var K0=y9V.J1(2,18,4,9,3);D4=this.bidPoints[this.bidPoints.length - K0];G2=this.askPoints[+"0"];if(d3.length){if(D4 !== undefined && G2 !== undefined){if(Q7 <= D4.x && Q7 >= G2.x || Q7 > D4.x && Q7 < G2.x){if(Math.pow(Q7 - d3[0].x,"2" - 0) + Math.pow(D2 - d3[0].y,2) > Math.pow(Q7 - d3[1].x,2) + Math.pow(D2 - d3[1].y,2)){d3.shift();}}else if(Q7 > G2.x){d3.shift();}}else if(D4 === undefined && Q7 < G2.x || G2 === undefined && Q7 > D4.x){d3.shift();}}v6=d3[0];if(!v6){X0.undisplayCrosshairs();return;}X0.cx=v6.x;X0.cy=v6.y;if(v6 == e9){a3=X0.canvasStyle("stx_marketdepth_chart bid");}else {a3=X0.canvasStyle(C1);}if(f6){if(f6.crossX){x0="le";x0+="f";x0+="t";C.efficientDOMUpdate(f6.crossX.style,x0,v6.x + "px");f6.crossX.style.display="";}if(f6.crossY){C.efficientDOMUpdate(f6.crossY.style,"top",v6.y + "px");f6.crossY.style.display="";}X0.floatCanvas.style.display="block";if(f6.floatDate){y0="p";y0+="x";f_="a";f_+="uto";f6.floatDate.style.visibility="";C.efficientDOMUpdate(f6.floatDate.style,"width",f_);if(this.params.headsUp){o8=":";o8+=" ";i8=":";i8+=" ";E2="p";E2+="x";d0="b";d0+="o";d0+="tt";d0+="om";if(X0.floatCanvas.isDirty){C.clearCanvas(X0.floatCanvas,X0);}C.efficientDOMUpdate(f6.floatDate.style,d0,U4.panel.chart.bottom - v6.y + 20 + E2);j3=X0.translateIf("Price") + i8 + X0.formatPrice(v6.price) + (this.params.volume?"<br>" + X0.translateIf("Vol") + ": " + v6.vol:"") + "<br>" + X0.translateIf("Depth") + o8 + X0.formatPrice(X0.transformedPriceFromPixel(v6.y,U4.panel));for(var r8 in v6.custom){j3+="<br>" + X0.translateIf(r8) + ": " + v6.custom[r8];}f6.floatDate.innerHTML=j3;}else {N7="i";N7+="nnerHTML";V1=X0.xAxisAsFooter === !""?0:U4.canvasHeight - U4.panel.chart.bottom;C.efficientDOMUpdate(f6.floatDate.style,"bottom",V1 + "px");C.efficientDOMUpdate(f6.floatDate,N7,X0.formatPrice(v6.price) + (this.params.volume?"<br>" + v6.vol:""));X0.updateFloatHRLabel(U4.panel);}y3=f6.floatDate.offsetWidth / ("2" ^ 0) - 0.5;U$=Math.min(Math.max(U4.panel.left,v6.x - y3),U4.panel.right - 2 * y3 - 1);C.efficientDOMUpdate(f6.floatDate.style,"left",U$ + y0);}}Y_=C.stripPX(a3.borderRightWidth) || this.lineWidth * 0.7;C.clearCanvas(X0.chart.tempCanvas,X0);R3=X0.chart.tempCanvas.context;R3.beginPath();R3.lineWidth=1;R3.fillStyle=a3.borderRightColor || X0.containerColor;R3.strokeStyle=X0.defaultColor;C.roundRect({ctx:R3,x:v6.x - Y_,top:v6.y - Y_,width:("2" ^ 0) * Y_,height:2 * Y_,radius:C.stripPX(a3.borderTopRightRadius),stroke:![]});R3.fill();R3.stroke();R3.closePath();X0.chart.tempCanvas.style.display="block";};C.Renderer.MarketDepth.displayPrice=function(i5,L3,l0,B_,D0){var h0n=B7_55;var d7,r_;d7=":";d7+=" ";r_=i5.chart.left + i5.chart.width / +"2";L3.textAlign="center";L3.fillStyle=l0.color;L3.save();h0n.y5(25);var S_=h0n.J1(167508,10,1665774);h0n.y5(26);var X9=h0n.B$(1165,15,7,3,11);h0n.u8(25);var l9=h0n.J1(8974,16,134604);h0n.u8(27);var h8=h0n.B$(9,2,79125,18990);h0n.u8(28);var U8=h0n.J1(16542,2,8269);h0n.u8(0);var A1=h0n.B$(129,14,11);h0n.u8(29);var S$=h0n.B$(255060,130800,1,8,4);h0n.y5(30);var I8=h0n.J1(6,30450,6,6096);h0n.y5(3);var x5=h0n.B$(352,320);h0n.y5(31);var d8=h0n.J1(20,300,6);h0n.y5(32);var u4=h0n.B$(219,20,0,11);h0n.y5(25);var l8=h0n.J1(3152,11,31512);h0n.u8(33);h0n.u8h();var a$=h0n.B$(6947,573,14,191,7);h0n.u8(34);var Y$=h0n.J1(12,65,11,7,13);h0n.y5(35);var B9=h0n.J1(15,30997230,12,172260);h0n.y5(36);var W5=h0n.J1(1083,7577,1);L3.font=l0.fontStyle + " " + l0.fontVariant + (S_ >= ("785.73" - 0,X9)?l9 > h8?" ":(U8,A1) > 909.9?"L":(!!1,!![]):("B",S$)) + l0.fontWeight + ((I8,"3771" >> x5) <= d8?"e":" ") + l0.fontSize + ((659.92,"700.24" * u4) == (l8,"5910" ^ 0)?(a$,725.55):"/") + l0.lineHeight + (Y$ !== B9?" ":W5) + l0.fontFamily.replace(/"/g,"");L3.fillText(B_,r_,30);L3.restore();if(D0.length){L3.fillText(i5.translateIf("Spread") + d7 + D0,r_,+"60");}};for(var m=0;m < C.ChartEngine.registeredContainers.length;m++){T2L9H="marke";T2L9H+="td";T2L9H+="epth";h=C.ChartEngine.registeredContainers[m].stx;if(h.layout.chartType.indexOf(T2L9H) > -1 && h.mainSeriesRenderer.params.type != "marketdepth"){z=h.mainSeriesRenderer.params.headsUp;h.setChartType(h.layout.chartType);h.mainSeriesRenderer.params.headsUp=z;h.draw();}}C.MarketDepth=function(M0){var n9T=B7_55;var G4,T$,R0,S1,s_,Q3,Y5,h3,I9,S5,O9,V9,O$,x3,B8,Q9,s5,e_,w7,N4,u_,i0,a0;G4="displa";G4+="yChart";T$="symb";T$+="olImpo";T$+="r";T$+="t";R0="stx-";R0+="crosshair-on";S1=".ch";S1+="artC";S1+="onta";S1+="iner";if(!M0 || !M0.stx){return;}s_=M0.stx;s_.marketDepth=this;Q3=M0.height || "150px";Y5=M0.stx.container;h3=M0.precedingContainer;if(typeof M0.precedingContainer === "string"){h3=Y5.ownerDocument.querySelector(h3);}if(!h3){h3=Array.from(Y5.parentElement.parentElement.querySelectorAll(S1)).pop().parentElement;}I9=document.createElement("div");I9.className="ciq-chart";S5=document.createElement("div");S5.className="chartContainer";I9.appendChild(S5);h3.parentElement.insertBefore(I9,h3.nextSibling);Object.assign(I9.style,{height:Q3,paddingTop:"5px",display:"none"});S5.style.height="100%";S5.dimensionlessCanvas=!!({});O9=this.marketDepth=new C.ChartEngine({container:S5,preferences:{labels:!"1",whitespace:0}});O9.xaxisHeight=25;O9.manageTouchAndMouse=M0.interaction || M0.allowUIZoom;O9.setChartType("marketdepth");C.extend(O9.mainSeriesRenderer.params,M0);O9.container.style.cursor="crosshair";O9.layout.crosshair=!![];O9.container.classList.add(R0);V9=O9.chart;V9.tension=M0.tension;V9.xAxis.fitLeftToRight=!![];V9.panel.yAxis.initialMarginBottom=0;V9.yaxisMarginMultiplier=1;C.extend(V9.panel.yAxis,M0.yAxis);function f3(){O9.orderbookSwitch=document.createElement("cq-toggle");O9.orderbookSwitch.className="cq-orderbook-toggle";O9.orderbookSwitch.innerHTML="<cq-tooltip>Orderbook</cq-tooltip>";S5.append(O9.orderbookSwitch);n9T.O0B();O9.orderbookSwitch.registerCallback(function(){n9T.O0B();O9.orderbook.open();},![]);}O$=O9.controls && O9.controls.chartControls;Object.defineProperty(this,"viewRatio",{get() {return O9.mainSeriesRenderer.params.widthFactor;},set(N1) {O9.zoomSet(C.ChartEngine.prototype.layout.candleWidth / N1);}});x3=M0.orderbook;if(x3){if(x3 === !!({})){B8="cq-show-";B8+="totals";Q9=document.createElement("cq-orderbook");Q9.setAttribute("cq-close","");Q9.setAttribute(B8,"");O9.orderbook=Q9;}else {O9.orderbook=x3;}S5.appendChild(O9.orderbook);f3();}var {multiChartContainer:c_}=s_.uiContext.topNode;if(c_){if(!c_.styles.market_depth){s5=-1127236528;e_=1591292869;w7=2;for(var m5=1;n9T.d5(m5.toString(),m5.toString().length,23377) !== s5;m5++){c_.styles.market_depth={};w7+=2;}if(n9T.d5(w7.toString(),w7.toString().length,67029) !== e_){c_.styles.market_depth={};}}O9.styles=c_.styles.market_depth;}n9T.u8(22);N4=-n9T.B$(64,"788246851");u_=-1034270886;i0=2;for(var O0=1;n9T.G0(O0.toString(),O0.toString().length,75391) !== N4;O0++){O9.initializeChart();n9T.u8(9);i0+=n9T.B$(1,"2");}if(n9T.G0(i0.toString(),i0.toString().length,66478) !== u_){O9.initializeChart();}this.setRecorder=function(E4){var K7,i_,m9;n9T.u8h();n9T.y5(5);K7=-n9T.B$("842878304",0);i_=1720042988;m9=2;for(var P1=1;n9T.d5(P1.toString(),P1.toString().length,72510) !== K7;P1++){this.recording=E4;m9+=2;}if(n9T.d5(m9.toString(),m9.toString().length,41524) !== i_){this.recording=E4;}};this.display=function(O5){var a6,Y4,R_,f4;a6="h";a6+="ide";if(s_.layout.marketDepth !== O5){s_.layout.marketDepth=O5;s_.changeOccurred("layout");return;}I9.style.display=O5?"show":a6;s_.resizeChart();I9.ownerDocument.defaultView.dispatchEvent(new Event("resize"));if(!O5){return;}O9.resizeChart();O9.initializeChart();Y4=-912666611;R_=-1713394293;f4=2;for(var p9=1;n9T.G0(p9.toString(),p9.toString().length,34320) !== Y4;p9++){O9.draw();f4+=2;}if(n9T.G0(f4.toString(),f4.toString().length,22394) !== R_){O9.draw();}};this.setSymbol=function(R5){V9.symbol=R5;V9.symbolObject={symbol:R5};if(this.recording){O9.L2History={};}n9T.O0B();O9.mainSeriesRenderer.measureCache=null;O9.initializeChart();O9.draw();};this.acceptLayoutChange=function(E9){if(O9.layout.marketDepth !== E9.marketDepth){s_.marketDepth.display(E9.marketDepth);O9.layout.marketDepth=E9.marketDepth;if(C.trulyVisible(I9)){O9.draw();}}if(this.recording){if(O9.layout.interval !== E9.interval){O9.L2History={};}}};this.copyData=function(N2){var b0,E6,R6;if(!N2.dataSet){return;}V9.masterData=O9.masterData=N2.masterData;V9.currentMarketData=N2.currentMarketData;V9.dataSet=N2.dataSet;V9.tickCache=N2.tickCache;if(!V9.symbol){b0=313046882;E6=2004213848;R6=2;for(var W6="1" | 0;n9T.G0(W6.toString(),W6.toString().length,85459) !== b0;W6++){V9.symbol=N2.symbol;O9.initializeChart();R6+=2;}if(n9T.G0(R6.toString(),R6.toString().length,32724) !== E6){V9.symbol=N2.symbol;O9.initializeChart();}}O9.draw();};a0=M0.heatmapBlockHeight;this.computeHeatMap=function(K3,v0){var d$,c7,S6,O6,r7,h2,B4,G5,z4,y6,Q6,x9,v9,Q_,v4,c9,a_,T_,x1,j0;if(s_.marketDepth.recording){d$=1470231130;c7=-1494143124;n9T.u8(4);S6=n9T.B$(0,"2");for(var F2=1;n9T.d5(F2.toString(),F2.toString().length,43070) !== d$;F2++){O6=K3.Close;if(!O6 && O6 !== 0){return;}S6+=2;}if(n9T.d5(S6.toString(),S6.toString().length,66081) !== c7){O6=K3.Close;if(~O6 || O6 === "4" - 0){return;}}if(!O9.L2History){O9.L2History={};}if(!O9.L2History[K3.DT]){O9.L2History[K3.DT]={};}r7=O9.L2History[K3.DT];h2=K3.BidL2 || r7.BidL2;B4=K3.AskL2 || r7.AskL2;z4=0;y6=(h2 || []).concat(B4 || []);for(G5=+"0";G5 < y6.length;G5++){z4+=y6[G5][1];}Q6=V9.decimalPlaces;x9=a0 || Math.pow(10,1 - Q6);if(h2){c9=new Map();for(G5=0;G5 < h2.length;G5++){v9=C.round(Math.floor((h2[G5][0] - O6) / x9) * x9 + O6 + x9 / 2,Q6);Q_=h2[G5][1];v4=c9.get(v9) || 0;n9T.u8(2);c9.set(v9,n9T.B$(Q_,v4));}r7.BidL2=h2;a_=-+"1825712618";T_=-+"869390205";x1=2;for(var b3=1;n9T.d5(b3.toString(),b3.toString().length,5312) !== a_;b3++){r7.BidHeatmap=[];x1+=2;}if(n9T.d5(x1.toString(),x1.toString().length,+"83944") !== T_){r7.BidHeatmap=[];}c9.forEach(function(N9,s$){r7.BidHeatmap.push([s$,N9,Math.min(1,3 * N9 / z4)]);});}if(B4){j0=new Map();for(G5=0;G5 < B4.length;G5++){v9=C.round(Math.ceil((B4[G5]["0" | 0] - O6) / x9) * x9 + O6 - x9 / 2,Q6);Q_=B4[G5][1];v4=j0.get(v9) || 0;n9T.y5(2);j0.set(v9,n9T.B$(Q_,v4));}r7.AskL2=B4;r7.AskHeatmap=[];j0.forEach(function(U6,K8){r7.AskHeatmap.push([K8,U6,Math.min(1,3 * U6 / z4)]);});}}else {O9.L2History={};}};s_.addEventListener("destroy",function(){O9.destroy();});s_.addEventListener("layout",function(J0){n9T.u8h();J0.stx.marketDepth.acceptLayoutChange(J0.stx.layout);});s_.addEventListener("preferences",function(U2){n9T.u8h();var o6;o6=U2.stx.preferences.language;if(C.I18N && O9.preferences.language != o6){C.I18N.localize(O9,o6);}O9.preferences.language=o6;O9.draw();});s_.addEventListener("symbolChange",function(x6){var d1;d1="ma";d1+="ste";d1+="r";if(x6.action == d1){x6.stx.marketDepth.setSymbol(x6.symbol);}});s_.addEventListener(T$,function(H0){var Y0;Y0="m";Y0+="aster";if(H0.action == Y0){H0.stx.marketDepth.setSymbol(H0.symbol);}H0.stx.marketDepth.acceptLayoutChange(H0.stx.layout);});s_.addEventListener("theme",function(J$){var P9,G3,H1,J5;P9=199075973;G3=1547580338;H1=+"2";n9T.O0B();for(var d4=1;n9T.G0(d4.toString(),d4.toString().length,85223) !== P9;d4++){O9.clearPixelCache();H1+=2;}if(n9T.d5(H1.toString(),H1.toString().length,5123) !== G3){O9.clearPixelCache();}if(!s_.container.multiChartContainer){O9.styles={};}V9.container.style.backgroundColor="";J5=new C.ThemeHelper({stx:J$.stx});J5.params.stx=O9;J5.update();});s_.append("initializeDisplay",function(P4){var y1,H6;y1="a";y1+="dd";n9T.u8h();if(O9.orderbookSwitch){O9.orderbookSwitch.classList[V9.yAxis.position === "left"?y1:"remove"]("left");}if(!this.layout.l2heatmap){return;}for(var j4=0;j4 <= this.chart.dataSegment.length - 1;j4++){H6=this.chart.dataSegment[j4];if(!H6)continue;if(H6.BidHeatmap && H6.BidHeatmap.length){P4.lowValue=P4.yAxis.lowValue=Math.min(P4.lowValue,H6.BidHeatmap[0][0]);}if(H6.AskHeatmap && H6.AskHeatmap.length){P4.highValue=P4.yAxis.highValue=Math.max(P4.highValue,H6.AskHeatmap[H6.AskHeatmap.length - 1][0]);}}});s_.append("createDataSet",function(){this.marketDepth.copyData(this.chart);});s_.append("updateCurrentMarketData",function(H9,w$,W1,{animationEntry:Z9, animationLastBar:t6, fromTrade:Q4} = {}){if(Z9 || W1){return;}w$=w$ || this.chart;if(O9.L2History && O9.L2History[H9.DT]){O9.L2History[H9.DT]=null;if(!Q4 && !t6 && w$.xaxis.length && w$.xaxis[0].DT <= H9.DT && w$.xaxis[w$.xaxis.length - "1" * 1].DT >= H9.DT){this.marketDepth.copyData(w$);setTimeout(()=>{s_.draw();});}}});s_.append("createDataSegment",function(M_){var t7,e7,I_,X3,y_,B1;if(this.marketDepth.recording){n9T.u8(22);t7=n9T.B$(0,"460204071");e7=+"1159290384";I_=2;for(var b2=1;n9T.G0(b2.toString(),b2.toString().length,95103) !== t7;b2++){X3=M_ || this.chart;I_+=2;}if(n9T.G0(I_.toString(),I_.toString().length,259) !== e7){X3=M_ && this.chart;}for(var Z8=0;Z8 < X3.dataSegment.length;Z8++){y_=X3.dataSegment[Z8];if(!y_)continue;if(!O9.L2History || !O9.L2History[y_.DT]){this.marketDepth.computeHeatMap(y_,X3);}B1=O9.L2History[y_.DT];if(B1){y_.BidHeatmap=B1.BidHeatmap;y_.AskHeatmap=B1.AskHeatmap;}}}});s_.prepend("resizeChart",function(){var g4,j$,P6,h$,v3,T2,R2,o0,e6,h1,m$,D3,x_,X$;g4=".";g4+="chartCont";g4+="ai";g4+="ner";j$=Y5.parentElement;if(!j$){return !!"1";}P6=j$.parentElement;h$=C.elementDimensions(P6).height;v3=P6.querySelectorAll(g4);Array.from(v3).forEach(function(H5){if(H5 !== Y5 && C.trulyVisible(H5)){h$-=C.elementDimensions(H5.parentElement,{border:1,padding:1,margin:+"1"}).height;}});T2=973020248;R2=-712453698;o0=2;n9T.u8h();for(var A0=1;n9T.G0(A0.toString(),A0.toString().length,8900) !== T2;A0++){n9T.u8(2);j$.style.height=n9T.B$("px",h$);o0+=2;}if(n9T.G0(o0.toString(),o0.toString().length,44923) !== R2){n9T.u8(37);j$.style.height=n9T.B$("",h$);}if(this.layout.marketDepth){I9.style.display="";V9.width=V9.container.clientWidth - V9.yAxis.width;O9.setCandleWidth(O9.layout.candleWidth);V9.canvasHeight=V9.container.clientHeight;O9.resizeChart();O9.initializeChart();O9.draw();}else {e6=-1245688416;h1=1640823563;m$=2;for(var v1=1;n9T.G0(v1.toString(),v1.toString().length,1572) !== e6;v1++){D3="n";D3+="o";D3+="ne";I9.style.display=D3;m$+=2;}if(n9T.d5(m$.toString(),m$.toString().length,72823) !== h1){I9.style.display="";}}if(O$){x_="r";x_+="emov";x_+="e";X$=O9.width < ("400" ^ 0);O$.classList[X$?"add":x_]("small");}});s_.prepend(G4,function(){var F1,h4,q_,R$,n4,o5,K4;if(this.layout.l2heatmap){F1="B";F1+="i";F1+="dHeatma";F1+="p";if(C.MarketDepth.hmStyleSheetLoaded){C.MarketDepth.hmStyleSheetLoaded=null;h4=-+"1042779826";n9T.y5(3);q_=-n9T.B$("1491836986",0);R$=2;for(var N3=1;n9T.G0(N3.toString(),N3.toString().length,51354) !== h4;N3++){this.clearStyles();R$+=2;}if(n9T.G0(R$.toString(),R$.toString().length,79016) !== q_){this.clearStyles();}}n4=this.canvasStyle("stx_marketdepth_chart bid");o5=this.canvasStyle("stx_marketdepth_chart ask");K4={min:0.3,max:0.9};this.drawHeatmap({height:a0 || Math.pow(+"10",1 - V9.decimalPlaces),showSize:M0.heatmapSize},[{field:F1,color:O9.mainSeriesRenderer.params.bidPeakColor || n4.borderTopColor,opacity:K4},{field:"AskHeatmap",color:O9.mainSeriesRenderer.params.askPeakColor || o5.borderTopColor,opacity:K4}]);}});if(C.I18N && s_.preferences.language){C.I18N.localize(O9,s_.preferences.language);}this.copyData(s_.chart);this.setRecorder(M0.record);if(C.UI){C.UI.KeystrokeHub.addHotKeyHandler("marketDepth",({stx:I3})=>{I3.container.ownerDocument.body.keystrokeHub.context.advertised.Layout.setMarketDepth();},s_);C.UI.KeystrokeHub.addHotKeyHandler("l2HeatMap",({stx:E8})=>{n9T.u8h();E8.container.ownerDocument.body.keystrokeHub.context.advertised.Layout.setL2Heatmap();},s_);}};/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
