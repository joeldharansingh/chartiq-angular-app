/**!
 *	8.9.2
 *	Generation date: 2023-05-22T15:27:11.767Z
 *	Client name: enrich commodities india pvt limited
 *	Package Type: Core alacarte
 *	License type: annual
 *	Expiration date: "2024/12/01"
 *	Domain lock: ["127.0.0.1","localhost","enrichbroking.in","enrichbroking.com","enrichmoney.in"]
 */

/***********************************************************!
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************! DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! !*************************************
* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting *
* and load that file right after the library has been loaded, but before the chart engine is instantiated.              *
* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          *
*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
V5cdF[356878]=(function(){var Q=2;for(;Q !== 9;){switch(Q){case 2:Q=typeof globalThis === '\x6f\x62\x6a\u0065\u0063\u0074'?1:5;break;case 1:return globalThis;break;case 5:var u;try{var M=2;for(;M !== 6;){switch(M){case 2:Object['\u0064\x65\u0066\u0069\x6e\u0065\u0050\u0072\u006f\x70\x65\u0072\u0074\x79'](Object['\u0070\u0072\x6f\u0074\x6f\x74\x79\x70\u0065'],'\x69\u0048\u0034\u0070\u0053',{'\x67\x65\x74':function(){var K=2;for(;K !== 1;){switch(K){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});u=iH4pS;u['\x59\u0034\x7a\x30\x61']=u;M=4;break;case 9:delete u['\x59\x34\x7a\u0030\u0061'];var X=Object['\x70\u0072\u006f\x74\u006f\x74\x79\u0070\x65'];delete X['\x69\u0048\u0034\x70\u0053'];M=6;break;case 4:M=typeof Y4z0a === '\u0075\x6e\x64\u0065\x66\u0069\u006e\x65\x64'?3:9;break;case 3:throw "";M=9;break;}}}catch(I){u=window;}return u;break;}}})();h1JVRq(V5cdF[356878]);V5cdF[495733]=(function(){var J6$=2;for(;J6$ !== 9;){switch(J6$){case 4:e26[2].V2CaoBq=function(){var c2F=2;for(;c2F !== 90;){switch(c2F){case 77:r$6[39]=0;c2F=76;break;case 54:r$6[7].Y8o$fE(r$6[1]);r$6[7].Y8o$fE(r$6[63]);r$6[7].Y8o$fE(r$6[64]);r$6[7].Y8o$fE(r$6[31]);r$6[7].Y8o$fE(r$6[19]);c2F=49;break;case 35:r$6[64]=r$6[67];r$6[82]={};r$6[82].W3u=['p2S'];r$6[82].Q_0=function(){var X1B=function(){return ('x').startsWith('x');};var F53=(/\x74\u0072\x75\145/).W$awbD(X1B + []);return F53;};r$6[19]=r$6[82];r$6[71]={};r$6[71].W3u=['B2s'];c2F=28;break;case 5:return 64;break;case 10:r$6[3].W3u=['B2s'];r$6[3].Q_0=function(){var A8T=typeof y0uCFf === 'function';return A8T;};r$6[1]=r$6[3];r$6[6]={};r$6[6].W3u=['p2S'];r$6[6].Q_0=function(){var W1R=function(){return ('aa').endsWith('a');};var G48=(/\x74\x72\x75\u0065/).W$awbD(W1R + []);return G48;};r$6[8]=r$6[6];c2F=27;break;case 76:c2F=r$6[39] < r$6[12][r$6[28]].length?75:70;break;case 1:c2F=e26[9]?5:4;break;case 58:r$6[46]=0;c2F=57;break;case 71:r$6[39]++;c2F=76;break;case 13:r$6[4].Q_0=function(){var S1Z=function(){return encodeURI('%');};var e9w=(/\u0032\065/).W$awbD(S1Z + []);return e9w;};r$6[2]=r$6[4];r$6[3]={};c2F=10;break;case 41:r$6[88].Q_0=function(){var D8i=function(){return ('c').indexOf('c');};var H1G=!(/[\042\047]/).W$awbD(D8i + []);return H1G;};r$6[78]=r$6[88];r$6[58]={};r$6[58].W3u=['p2S'];r$6[58].Q_0=function(){var s0G=function(){return ('a').codePointAt(0);};var E7V=(/\071\u0037/).W$awbD(s0G + []);return E7V;};r$6[63]=r$6[58];c2F=54;break;case 28:r$6[71].Q_0=function(){var w8U=typeof q6CNH1 === 'function';return w8U;};r$6[42]=r$6[71];r$6[88]={};r$6[88].W3u=['p2S'];c2F=41;break;case 23:r$6[67]={};r$6[67].W3u=['B2s'];r$6[67].Q_0=function(){var t7W=typeof N$N1tw === 'function';return t7W;};c2F=35;break;case 70:r$6[46]++;c2F=57;break;case 2:var r$6=[arguments];c2F=1;break;case 27:r$6[94]={};r$6[94].W3u=['p2S'];r$6[94].Q_0=function(){var T9N=function(){return btoa('=');};var C9t=!(/\142\u0074\157\u0061/).W$awbD(T9N + []);return C9t;};r$6[31]=r$6[94];c2F=23;break;case 57:c2F=r$6[46] < r$6[7].length?56:69;break;case 45:r$6[7].Y8o$fE(r$6[2]);r$6[51]=[];r$6[22]='H$A';r$6[11]='a3y';c2F=62;break;case 8:r$6[5].Q_0=function(){var g5h=false;var q1d=[];try{for(var I9E in console){q1d.Y8o$fE(I9E);}g5h=q1d.length === 0;}catch(v3B){}var R9T=g5h;return R9T;};r$6[9]=r$6[5];r$6[4]={};r$6[4].W3u=['p2S'];c2F=13;break;case 69:c2F=(function(N3g){var r03=2;for(;r03 !== 22;){switch(r03){case 4:g9h[2]={};g9h[8]=[];g9h[6]=0;r03=8;break;case 12:g9h[8].Y8o$fE(g9h[9][r$6[15]]);r03=11;break;case 10:r03=g9h[9][r$6[56]] === r$6[22]?20:19;break;case 23:return g9h[7];break;case 14:r03=typeof g9h[2][g9h[9][r$6[15]]] === 'undefined'?13:11;break;case 13:g9h[2][g9h[9][r$6[15]]]=(function(){var n5h=2;for(;n5h !== 9;){switch(n5h){case 2:var K8a=[arguments];K8a[2]={};K8a[2].h=0;n5h=4;break;case 4:K8a[2].t=0;return K8a[2];break;}}}).c7VJ5c(this,arguments);r03=12;break;case 18:g9h[7]=false;r03=17;break;case 20:g9h[2][g9h[9][r$6[15]]].h+=true;r03=19;break;case 25:g9h[7]=true;r03=24;break;case 19:g9h[6]++;r03=7;break;case 5:return;break;case 7:r03=g9h[6] < g9h[0][0].length?6:18;break;case 24:g9h[6]++;r03=16;break;case 11:g9h[2][g9h[9][r$6[15]]].t+=true;r03=10;break;case 16:r03=g9h[6] < g9h[8].length?15:23;break;case 1:r03=g9h[0][0].length === 0?5:4;break;case 26:r03=g9h[3] >= 0.5?25:24;break;case 8:g9h[6]=0;r03=7;break;case 2:var g9h=[arguments];r03=1;break;case 15:g9h[5]=g9h[8][g9h[6]];g9h[3]=g9h[2][g9h[5]].h / g9h[2][g9h[5]].t;r03=26;break;case 6:g9h[9]=g9h[0][0][g9h[6]];r03=14;break;case 17:g9h[6]=0;r03=16;break;}}})(r$6[51])?68:67;break;case 62:r$6[28]='W3u';r$6[56]='T9H';r$6[97]='Q_0';r$6[15]='t8Z';c2F=58;break;case 49:r$6[7].Y8o$fE(r$6[8]);r$6[7].Y8o$fE(r$6[9]);r$6[7].Y8o$fE(r$6[42]);r$6[7].Y8o$fE(r$6[78]);c2F=45;break;case 75:r$6[55]={};r$6[55][r$6[15]]=r$6[12][r$6[28]][r$6[39]];r$6[55][r$6[56]]=r$6[29];r$6[51].Y8o$fE(r$6[55]);c2F=71;break;case 56:r$6[12]=r$6[7][r$6[46]];try{r$6[29]=r$6[12][r$6[97]]()?r$6[22]:r$6[11];}catch(s3h){r$6[29]=r$6[11];}c2F=77;break;case 4:r$6[7]=[];r$6[5]={};r$6[5].W3u=['B2s'];c2F=8;break;case 68:c2F=100?68:67;break;case 67:e26[9]=59;return 74;break;}}};return e26[2];break;case 2:var e26=[arguments];e26[9]=undefined;e26[2]={};J6$=4;break;}}})();V5cdF.U6M=function(){return typeof V5cdF[523306].c$xn8vO === 'function'?V5cdF[523306].c$xn8vO.apply(V5cdF[523306],arguments):V5cdF[523306].c$xn8vO;};V5cdF[566912]=true;V5cdF.j0M=function(){return typeof V5cdF[495733].V2CaoBq === 'function'?V5cdF[495733].V2CaoBq.apply(V5cdF[495733],arguments):V5cdF[495733].V2CaoBq;};V5cdF.Y5G=function(){return typeof V5cdF[132287].y_bJOD4 === 'function'?V5cdF[132287].y_bJOD4.apply(V5cdF[132287],arguments):V5cdF[132287].y_bJOD4;};V5cdF.S0_=function(){return typeof V5cdF[132287].y_bJOD4 === 'function'?V5cdF[132287].y_bJOD4.apply(V5cdF[132287],arguments):V5cdF[132287].y_bJOD4;};V5cdF.f3C=function(){return typeof V5cdF[558515].O9rJrgW === 'function'?V5cdF[558515].O9rJrgW.apply(V5cdF[558515],arguments):V5cdF[558515].O9rJrgW;};V5cdF[558515]=(function(){var f1o=2;for(;f1o !== 4;){switch(f1o){case 2:var f9r=V5cdF[356878];var r1J,T96;return {O9rJrgW:function(v7z,j3G,F4w,T7D){var b$S=2;for(;b$S !== 1;){switch(b$S){case 2:return w_S(v7z,j3G,F4w,T7D);break;}}},l15kqa3:function(F4k,s42,f1f,u13){var w8n=2;for(;w8n !== 1;){switch(w8n){case 2:return w_S(F4k,s42,f1f,u13,true);break;}}}};break;}}function d1w(A_B){var c9u=2;for(;c9u !== 7;){switch(c9u){case 2:var w_Z=8;var z1v='';c9u=5;break;case 3:z1v+=P$xkL.k6MxZ(A_B[c$X] - w_Z + 97);c9u=9;break;case 5:var c$X=0;c9u=4;break;case 4:c9u=c$X < A_B.length?3:8;break;case 9:c$X++;c9u=4;break;case 8:return z1v;break;}}}function w_S(g01,O1M,Z_T,k1k,f9n){var C0$=2;for(;C0$ !== 15;){switch(C0$){case 13:C0$=O1M && j31 > 0 && E_o.z$xQF(j31 - 1) !== 46?12:11;break;case 11:Y2A=E_o.E9bxR1(j31,E_o.length);B6W=Y2A.length;return V5cdF.Y5G(Y2A,B6W,Z_T);break;case 18:Y2A=E_o.E9bxR1(0,E_o.length);C0$=17;break;case 2:var Y2A,B6W,E_o,N3J;N3J=f9r[d1w([19,22,10,8,27,16,22,21])];!r1J && (r1J=typeof N3J !== "undefined"?N3J[d1w([15,22,26,27,21,8,20,12])] || ' ':"");!T96 && (T96=typeof N3J !== "undefined"?N3J[d1w([15,25,12,13])]:"");E_o=f9n?T96:r1J;C0$=9;break;case 14:var j31=E_o.length - g01;C0$=13;break;case 17:B6W=Y2A.length;C0$=16;break;case 12:return false;break;case 6:return V5cdF.Y5G(Y2A,B6W,Z_T);break;case 9:C0$=k1k > 0?8:19;break;case 16:return V5cdF.Y5G(Y2A,B6W,Z_T);break;case 8:Y2A=E_o.E9bxR1(g01,k1k);B6W=Y2A.length;C0$=6;break;case 19:C0$=g01 === null || g01 <= 0?18:14;break;}}}})();V5cdF[606394]=(function(P6t){function t9L(f$5){var A9r=2;for(;A9r !== 15;){switch(A9r){case 5:S$H=f7C[P6t[4]];A9r=4;break;case 19:return g9_;break;case 7:A9r=!Z9_--?6:14;break;case 4:A9r=!Z9_--?3:9;break;case 18:A9r=D0w >= 0?17:16;break;case 14:A9r=!Z9_--?13:12;break;case 12:A9r=!Z9_--?11:10;break;case 6:d0V=Q4z && S$H(Q4z,g4C);A9r=14;break;case 20:g9_=f$5 - D0w > g4C && d0V - f$5 > g4C;A9r=19;break;case 9:A9r=!Z9_--?8:7;break;case 3:g4C=25;A9r=9;break;case 11:D0w=(s$I || s$I === 0) && S$H(s$I,g4C);A9r=10;break;case 10:A9r=D0w >= 0 && d0V >= 0?20:18;break;case 1:A9r=!Z9_--?5:4;break;case 17:g9_=f$5 - D0w > g4C;A9r=19;break;case 8:Q4z=P6t[6];A9r=7;break;case 2:var g9_,g4C,Q4z,d0V,s$I,D0w,S$H;A9r=1;break;case 13:s$I=P6t[7];A9r=12;break;case 16:g9_=d0V - f$5 > g4C;A9r=19;break;}}}var S7M=2;for(;S7M !== 10;){switch(S7M){case 9:E0O=typeof n36;S7M=8;break;case 1:S7M=!Z9_--?5:4;break;case 2:var f7C,E0O,M7$,Z9_;S7M=1;break;case 13:S7M=!Z9_--?12:11;break;case 5:f7C=V5cdF[356878];S7M=4;break;case 7:M7$=E0O.q0cFtE(new f7C[O7q]("^['-|]"),'S');S7M=6;break;case 11:return {J7LGzwr:function(R0B){var W2j=2;for(;W2j !== 6;){switch(W2j){case 8:var V0N=(function(d$u,p2H){var M0_=2;for(;M0_ !== 10;){switch(M0_){case 4:p2H=P6t;M0_=3;break;case 9:M0_=R6x < d$u[p2H[5]]?8:11;break;case 11:return t1s;break;case 3:var t1s,R6x=0;M0_=9;break;case 6:M0_=R6x === 0?14:12;break;case 5:M0_=typeof p2H === 'undefined' && typeof P6t !== 'undefined'?4:3;break;case 12:t1s=t1s ^ Y54;M0_=13;break;case 1:d$u=R0B;M0_=5;break;case 14:t1s=Y54;M0_=13;break;case 2:M0_=typeof d$u === 'undefined' && typeof R0B !== 'undefined'?1:5;break;case 13:R6x++;M0_=9;break;case 8:var X85=f7C[p2H[4]](d$u[p2H[2]](R6x),16)[p2H[3]](2);var Y54=X85[p2H[2]](X85[p2H[5]] - 1);M0_=6;break;}}})(undefined,undefined);return V0N?C$7:!C$7;break;case 2:var T5x=new f7C[P6t[0]]()[P6t[1]]();W2j=1;break;case 4:C$7=t9L(T5x);W2j=3;break;case 1:W2j=T5x > R2o?5:8;break;case 5:W2j=!Z9_--?4:3;break;case 3:W2j=!Z9_--?9:8;break;case 9:R2o=T5x + 60000;W2j=8;break;}}}};break;case 12:var C$7,R2o=0;S7M=11;break;case 3:S7M=!Z9_--?9:8;break;case 6:S7M=!Z9_--?14:13;break;case 14:P6t=P6t.C2YXJS(function(S_0){var A4j=2;for(;A4j !== 13;){switch(A4j){case 8:l0U++;A4j=3;break;case 2:var i3S;A4j=1;break;case 14:return i3S;break;case 6:return;break;case 9:i3S+=f7C[M7$][n36](S_0[l0U] + 107);A4j=8;break;case 1:A4j=!Z9_--?5:4;break;case 3:A4j=l0U < S_0.length?9:7;break;case 5:i3S='';A4j=4;break;case 7:A4j=!i3S?6:14;break;case 4:var l0U=0;A4j=3;break;}}});S7M=13;break;case 4:var n36='fromCharCode',O7q='RegExp';S7M=3;break;case 8:S7M=!Z9_--?7:6;break;}}})([[-39,-10,9,-6],[-4,-6,9,-23,-2,2,-6],[-8,-3,-10,7,-42,9],[9,4,-24,9,7,-2,3,-4],[5,-10,7,8,-6,-34,3,9],[1,-6,3,-4,9,-3],[-9,-50,-50,-59,-1,-55,0,-59,-59],[]]);V5cdF.q76=function(){return typeof V5cdF[558515].l15kqa3 === 'function'?V5cdF[558515].l15kqa3.apply(V5cdF[558515],arguments):V5cdF[558515].l15kqa3;};V5cdF.x1V=function(){return typeof V5cdF[606394].J7LGzwr === 'function'?V5cdF[606394].J7LGzwr.apply(V5cdF[606394],arguments):V5cdF[606394].J7LGzwr;};V5cdF.U0D=function(){return typeof V5cdF[495733].V2CaoBq === 'function'?V5cdF[495733].V2CaoBq.apply(V5cdF[495733],arguments):V5cdF[495733].V2CaoBq;};function h1JVRq(U37){function C8H(f3V){var i_a=2;for(;i_a !== 5;){switch(i_a){case 2:var V45=[arguments];return V45[0][0].Array;break;}}}function V1g(J5T){var B1Z=2;for(;B1Z !== 5;){switch(B1Z){case 1:return d93[0][0].RegExp;break;case 2:var d93=[arguments];B1Z=1;break;}}}function t5S(W0b){var F65=2;for(;F65 !== 5;){switch(F65){case 2:var u21=[arguments];return u21[0][0];break;}}}function o_F(z6V){var m5g=2;for(;m5g !== 5;){switch(m5g){case 2:var d_9=[arguments];return d_9[0][0].String;break;}}}var B5q=2;for(;B5q !== 124;){switch(B5q){case 70:O5x[96]=O5x[63];O5x[96]+=O5x[75];O5x[96]+=O5x[44];O5x[18]=O5x[13];B5q=66;break;case 66:O5x[18]+=O5x[89];O5x[18]+=O5x[38];O5x[93]=O5x[95];O5x[93]+=O5x[64];B5q=87;break;case 104:O5x[81]=O5x[40];O5x[81]+=O5x[68];O5x[81]+=O5x[51];O5x[24]=O5x[60];O5x[24]+=O5x[67];O5x[24]+=O5x[94];O5x[43]=O5x[78];B5q=97;break;case 127:t1T(t5S,O5x[65],O5x[62],O5x[47]);B5q=126;break;case 131:t1T(C8H,"map",O5x[20],O5x[27]);B5q=130;break;case 30:O5x[60]="W$";O5x[51]="";O5x[51]="";O5x[51]="ze";O5x[40]="";O5x[40]="__optim";O5x[14]="C";B5q=40;break;case 81:O5x[65]+=O5x[86];O5x[28]=O5x[33];O5x[28]+=O5x[56];O5x[28]+=O5x[10];B5q=104;break;case 130:t1T(C8H,"push",O5x[20],O5x[43]);B5q=129;break;case 111:O5x[15]+=O5x[2];O5x[15]+=O5x[83];O5x[57]=O5x[5];O5x[57]+=O5x[22];B5q=107;break;case 7:O5x[5]="z";O5x[3]="";O5x[3]="E";O5x[1]="";O5x[8]="QF";O5x[2]="$xk";B5q=10;break;case 61:O5x[38]="";O5x[38]="1";O5x[89]="";O5x[95]="__a";B5q=57;break;case 74:O5x[20]=3;O5x[63]="c7V";O5x[20]=1;O5x[62]=0;B5q=70;break;case 105:t1T(o_F,"charCodeAt",O5x[20],O5x[57]);B5q=135;break;case 128:t1T(t5S,O5x[81],O5x[62],O5x[28]);B5q=127;break;case 65:O5x[69]="";O5x[86]="ual";O5x[69]="tract";O5x[76]="1t";B5q=61;break;case 53:O5x[56]="uCF";O5x[33]="y0";O5x[53]="__re";O5x[68]="i";O5x[99]="sid";B5q=48;break;case 40:O5x[94]="wbD";O5x[10]="";O5x[78]="Y8";O5x[10]="";O5x[10]="f";O5x[33]="";B5q=53;break;case 87:O5x[93]+=O5x[69];O5x[47]=O5x[29];O5x[47]+=O5x[76];O5x[47]+=O5x[26];O5x[65]=O5x[53];O5x[65]+=O5x[99];B5q=81;break;case 132:t1T(o_F,"replace",O5x[20],O5x[37]);B5q=131;break;case 97:O5x[43]+=O5x[50];O5x[43]+=O5x[97];O5x[27]=O5x[14];O5x[27]+=O5x[36];B5q=93;break;case 23:O5x[36]="";O5x[36]="2YXJ";O5x[97]="";O5x[97]="$fE";B5q=34;break;case 126:t1T(t5S,O5x[93],O5x[62],O5x[18]);B5q=125;break;case 125:t1T(C1j,"apply",O5x[20],O5x[96]);B5q=124;break;case 134:t1T(o_F,"fromCharCode",O5x[62],O5x[55]);B5q=133;break;case 57:O5x[64]="bs";O5x[89]="NH";O5x[75]="";O5x[75]="J5";O5x[13]="q6C";O5x[44]="c";B5q=74;break;case 107:O5x[57]+=O5x[8];B5q=106;break;case 133:t1T(o_F,"substring",O5x[20],O5x[39]);B5q=132;break;case 34:O5x[67]="";O5x[67]="a";O5x[60]="";O5x[50]="o";B5q=30;break;case 17:O5x[83]="L";O5x[22]="$x";O5x[48]="6";O5x[61]="";O5x[61]="";O5x[61]="S";O5x[49]="xR";B5q=23;break;case 10:O5x[1]="0cFt";O5x[9]="";O5x[9]="q";O5x[25]="k";B5q=17;break;case 93:O5x[27]+=O5x[61];O5x[37]=O5x[9];O5x[37]+=O5x[1];O5x[37]+=O5x[3];O5x[39]=O5x[4];O5x[39]+=O5x[49];B5q=116;break;case 48:O5x[26]="";O5x[26]="w";O5x[29]="";O5x[29]="N$N";B5q=65;break;case 135:t1T(t5S,"String",O5x[62],O5x[15]);B5q=134;break;case 129:t1T(V1g,"test",O5x[20],O5x[24]);B5q=128;break;case 106:var t1T=function(x23,B1W,u0t,t8m){var c4g=2;for(;c4g !== 5;){switch(c4g){case 2:var B89=[arguments];t_P(O5x[0][0],B89[0][0],B89[0][1],B89[0][2],B89[0][3]);c4g=5;break;}}};B5q=105;break;case 2:var O5x=[arguments];O5x[7]="";O5x[7]="P";O5x[6]="";O5x[6]="MxZ";O5x[4]="";O5x[4]="E9b";B5q=7;break;case 116:O5x[39]+=O5x[38];O5x[55]=O5x[25];O5x[55]+=O5x[48];O5x[55]+=O5x[6];O5x[15]=O5x[7];B5q=111;break;}}function C1j(D2C){var M9d=2;for(;M9d !== 5;){switch(M9d){case 2:var K2o=[arguments];return K2o[0][0].Function;break;}}}function t_P(I0T,j38,L_K,Z40,E_T){var I$f=2;for(;I$f !== 13;){switch(I$f){case 6:t83[4]=false;try{var Z3n=2;for(;Z3n !== 13;){switch(Z3n){case 2:t83[8]={};t83[9]=(1,t83[0][1])(t83[0][0]);t83[5]=[t83[9],t83[9].prototype][t83[0][3]];Z3n=4;break;case 4:Z3n=t83[5].hasOwnProperty(t83[0][4]) && t83[5][t83[0][4]] === t83[5][t83[0][2]]?3:9;break;case 9:t83[5][t83[0][4]]=t83[5][t83[0][2]];t83[8].set=function(W_R){var e2N=2;for(;e2N !== 5;){switch(e2N){case 2:var P3d=[arguments];t83[5][t83[0][2]]=P3d[0][0];e2N=5;break;}}};t83[8].get=function(){var g5F=2;for(;g5F !== 12;){switch(g5F){case 3:F4J[3]="";F4J[3]="";F4J[3]="u";F4J[5]=F4J[3];g5F=6;break;case 2:var F4J=[arguments];F4J[9]="";F4J[9]="ned";F4J[1]="ndefi";g5F=3;break;case 6:F4J[5]+=F4J[1];F4J[5]+=F4J[9];return typeof t83[5][t83[0][2]] == F4J[5]?undefined:t83[5][t83[0][2]];break;}}};t83[8].enumerable=t83[4];try{var B6w=2;for(;B6w !== 3;){switch(B6w){case 2:t83[7]=t83[6];t83[7]+=t83[3];t83[7]+=t83[1];t83[0][0].Object[t83[7]](t83[5],t83[0][4],t83[8]);B6w=3;break;}}}catch(c7Y){}Z3n=13;break;case 3:return;break;}}}catch(U5f){}I$f=13;break;case 2:var t83=[arguments];t83[1]="";t83[1]="ty";t83[3]="";I$f=3;break;case 3:t83[3]="Proper";t83[6]="";t83[6]="";t83[6]="define";I$f=6;break;}}}}V5cdF[523306]=(function(K2m){return {D_GtrYX:function(){var s1x,t91=arguments;switch(K2m){case 75:s1x=-t91[0] - t91[1] + t91[2];break;case 38:s1x=t91[1] * t91[0] / (t91[3] ^ t91[2]);break;case 50:s1x=t91[2] + t91[1] - (t91[0] | t91[3]);break;case 100:s1x=t91[0] >= t91[1];break;case 119:s1x=-t91[3] / t91[4] / t91[0] - t91[2] + t91[1];break;case 150:s1x=(t91[0] - t91[4]) * (t91[6] - t91[3]) + (t91[2] - t91[7]) * (t91[5] - t91[1]);break;case 59:s1x=-t91[0] * t91[2] + t91[1];break;case 40:s1x=t91[0] ^ t91[1];break;case 113:s1x=t91[3] - t91[0] - t91[1] + t91[2] - t91[4];break;case 89:s1x=t91[4] / t91[3] * t91[1] * t91[0] + t91[2];break;case 109:s1x=t91[0] / t91[3] / t91[1] - t91[2];break;case 2:s1x=t91[1] * t91[0];break;case 24:s1x=t91[0] | t91[1];break;case 60:s1x=t91[0] - +t91[2] + t91[1];break;case 86:s1x=t91[1] / t91[0] - t91[3] + t91[4] + t91[2];break;case 114:s1x=(t91[3] + t91[2]) / t91[1] + t91[0];break;case 6:s1x=-t91[1] + t91[0];break;case 48:s1x=t91[2] - +t91[1] - t91[0];break;case 54:s1x=t91[2] + t91[0] / t91[1];break;case 17:s1x=t91[0] * t91[1] - t91[2];break;case 111:s1x=(t91[0] - t91[1]) * t91[3] / t91[2] + t91[4];break;case 55:s1x=t91[1] - t91[0] / t91[3] - t91[2];break;case 108:s1x=t91[2] / t91[4] * t91[1] * t91[3] - t91[0];break;case 9:s1x=t91[1] << t91[0];break;case 120:s1x=t91[2] * (t91[0] + t91[3] / t91[1]);break;case 118:s1x=t91[2] * t91[0] / (t91[1] + t91[3]);break;case 33:s1x=t91[1] / +t91[0];break;case 84:s1x=(t91[1] - t91[3]) * t91[0] + t91[2];break;case 37:s1x=(t91[1] + t91[2]) / t91[3] - t91[0];break;case 103:s1x=t91[3] | t91[2] | t91[1] | t91[0];break;case 57:s1x=t91[0] - t91[1] / t91[2];break;case 124:s1x=(t91[2] * t91[3] - t91[4]) * t91[1] - t91[0];break;case 141:s1x=t91[2] * t91[0] + t91[1];break;case 3:s1x=-t91[1] / t91[3] + t91[2] - t91[0];break;case 144:s1x=t91[0] - (t91[1] ^ t91[2]);break;case 101:s1x=t91[0] * t91[1];break;case 69:s1x=-t91[1] - t91[3] + t91[0] + t91[2];break;case 105:s1x=t91[3] | t91[2] | t91[1] | t91[0] | t91[4];break;case 0:s1x=t91[2] + t91[1] + t91[0] + t91[3];break;case 117:s1x=t91[4] - t91[3] + t91[2] - t91[0] - t91[1];break;case 61:s1x=-t91[3] / t91[0] / t91[2] + t91[1];break;case 97:s1x=t91[0] <= t91[1];break;case 47:s1x=t91[2] + (t91[3] ^ t91[1]) - t91[0];break;case 130:s1x=(t91[3] - t91[2]) * t91[1] - t91[0];break;case 20:s1x=t91[1] * t91[2] / (t91[0] - t91[3]);break;case 88:s1x=t91[0] == t91[1];break;case 21:s1x=t91[0] * t91[1] / t91[2];break;case 125:s1x=t91[2] / t91[0] / t91[3] + t91[1];break;case 67:s1x=(t91[2] - t91[0]) / (t91[3] - t91[1]);break;case 19:s1x=t91[2] + t91[1] + t91[0];break;case 155:s1x=(t91[0] + t91[2] / t91[1]) * t91[3];break;case 128:s1x=t91[3] - (t91[1] - t91[0]) - t91[2];break;case 94:s1x=t91[1] % t91[0];break;case 91:s1x=t91[3] / +t91[2] * t91[4] * t91[5] * t91[1] + t91[0];break;case 137:s1x=-t91[2] + t91[0] + t91[1] - t91[4] + t91[3];break;case 4:s1x=t91[0] - t91[2] / t91[1] + t91[3];break;case 79:s1x=(t91[2] - t91[4]) / t91[3] * t91[0] + t91[1];break;case 51:s1x=t91[1] + t91[2] - +t91[0];break;case 135:s1x=t91[2] / (t91[1] + t91[0]);break;case 146:s1x=t91[2] % (t91[1] | t91[0]);break;case 18:s1x=t91[3] / t91[1] + t91[0] - t91[2];break;case 41:s1x=(t91[1] - t91[2]) * t91[0];break;case 147:s1x=(-t91[1] * t91[3] - t91[0]) / t91[4] + t91[2];break;case 153:s1x=t91[0] - t91[1] * t91[2];break;case 29:s1x=t91[0] - t91[2] - (t91[1] | t91[3]);break;case 122:s1x=t91[1] * t91[2] / t91[3] + t91[0];break;case 132:s1x=-t91[2] / t91[3] + t91[4] + t91[0] - t91[1];break;case 25:s1x=t91[3] * t91[0] - t91[4] + t91[2] - t91[1];break;case 121:s1x=t91[1] * (t91[2] / t91[0]);break;case 127:s1x=(t91[3] - t91[0]) / t91[1] + t91[2];break;case 80:s1x=t91[4] * t91[2] - t91[0] - t91[3] - t91[1];break;case 70:s1x=t91[0] / t91[1] - t91[3] + t91[2];break;case 131:s1x=-t91[2] * t91[3] * t91[1] * t91[4] + t91[0];break;case 85:s1x=t91[0] - t91[2] - t91[3] + t91[1];break;case 65:s1x=(t91[3] / t91[2] + t91[1]) / t91[0] + t91[4];break;case 82:s1x=(t91[2] - t91[3]) / t91[4] / t91[0] - t91[1];break;case 34:s1x=(t91[1] + t91[0]) * t91[2] - t91[3];break;case 106:s1x=t91[0] === t91[1];break;case 62:s1x=t91[2] / t91[0] + t91[1];break;case 68:s1x=-t91[4] / t91[3] / t91[2] + t91[0] - t91[1];break;case 52:s1x=t91[3] - t91[0] - t91[4] - t91[2] + t91[1];break;case 99:s1x=t91[1] != t91[0];break;case 28:s1x=t91[2] * t91[0] / +t91[1];break;case 15:s1x=(t91[1] + t91[0] - t91[4]) * t91[2] - t91[3];break;case 78:s1x=-t91[4] - t91[3] + t91[2] - t91[0] + t91[1];break;case 44:s1x=(t91[2] + t91[4]) / t91[3] * t91[1] - t91[0];break;case 1:s1x=t91[1] + t91[0];break;case 66:s1x=-t91[0] * t91[3] / t91[2] + t91[1];break;case 81:s1x=-t91[1] + t91[2] - t91[0];break;case 53:s1x=t91[3] * t91[0] + t91[1] * t91[2];break;case 142:s1x=t91[4] * ((t91[3] - t91[2]) / t91[5] + (t91[1] ^ t91[0]));break;case 139:s1x=(t91[0] + t91[4] - t91[1]) * t91[2] + t91[3];break;case 10:s1x=t91[0] - t91[1];break;case 12:s1x=t91[1] * t91[0] * t91[2];break;case 123:s1x=t91[0] + t91[1] + t91[3] + t91[2] - t91[4];break;case 36:s1x=t91[0] - t91[3] * t91[1] * t91[2] / t91[4];break;case 112:s1x=(t91[3] + t91[0]) / t91[4] - t91[2] + t91[1];break;case 98:s1x=t91[0] > t91[1];break;case 27:s1x=t91[2] / (t91[0] ^ t91[1]);break;case 39:s1x=t91[0] * t91[2] + t91[3] + t91[1] - t91[4];break;case 152:s1x=t91[1] * (t91[2] / t91[4] - t91[0]) + t91[3];break;case 102:s1x=t91[1] << +t91[0];break;case 13:s1x=(t91[0] + t91[2]) / t91[1];break;case 149:s1x=t91[1] / t91[2] / +t91[0];break;case 31:s1x=t91[4] + t91[0] - t91[1] + t91[3] - t91[2];break;case 83:s1x=-(t91[1] - t91[3]) * t91[2] + t91[0];break;case 145:s1x=t91[1] / t91[0] + t91[4] + t91[2] + t91[3];break;case 11:s1x=t91[1] / t91[0];break;case 43:s1x=t91[2] - t91[1] - t91[0];break;case 45:s1x=(-t91[4] / t91[2] + t91[3]) / t91[0] + t91[1];break;case 42:s1x=t91[2] + (t91[4] + t91[3] * t91[1]) * t91[0];break;case 77:s1x=(-t91[4] / t91[0] + t91[1]) * t91[2] - t91[3];break;case 32:s1x=t91[0] / t91[1] * t91[3] - t91[2];break;case 72:s1x=t91[0] * t91[4] * t91[2] - t91[1] - t91[3];break;case 90:s1x=-t91[0] / t91[3] * (t91[2] * (t91[1] - +t91[6]) - t91[5]) + t91[4];break;case 115:s1x=t91[3] * t91[0] * t91[1] - t91[2];break;case 143:s1x=(t91[0] * t91[3] + t91[1]) * t91[4] - t91[2];break;case 126:s1x=t91[2] * t91[1] / t91[4] / t91[3] + t91[0];break;case 116:s1x=-t91[0] / t91[2] + t91[1];break;case 26:s1x=t91[0] * t91[3] / t91[2] - t91[1];break;case 151:s1x=(t91[3] - t91[2]) * t91[4] + t91[1] + t91[0];break;case 35:s1x=t91[4] * t91[2] * t91[1] + t91[3] - t91[0];break;case 104:s1x=t91[0] | t91[1] | t91[2];break;case 133:s1x=t91[0] / t91[4] / t91[2] * t91[1] - t91[3];break;case 22:s1x=t91[0] - t91[2] - +t91[1];break;case 134:s1x=t91[3] + t91[0] + t91[2] - t91[4] - t91[1];break;case 8:s1x=-t91[3] + t91[1] - t91[2] + t91[0];break;case 140:s1x=t91[3] * +t91[1] * t91[0] * t91[2];break;case 49:s1x=t91[1] + (t91[0] >> t91[2]);break;case 154:s1x=(t91[3] - t91[2] / +t91[0]) * t91[1];break;case 95:s1x=t91[0] < t91[1];break;case 76:s1x=(t91[0] - t91[3]) * t91[4] * t91[2] + t91[1];break;case 23:s1x=t91[1] - t91[2] + t91[0];break;case 7:s1x=-t91[1] / t91[3] * t91[0] + t91[2];break;case 87:s1x=t91[6] + (t91[4] - t91[0]) / (t91[3] - t91[2]) * (t91[1] - t91[5]);break;case 107:s1x=t91[0] - (t91[2] - t91[1]);break;case 148:s1x=t91[3] / t91[4] / t91[2] + t91[1] + t91[0];break;case 138:s1x=(t91[3] - t91[0]) / t91[2] + t91[1] - t91[4];break;case 63:s1x=t91[0] !== t91[1];break;case 5:s1x=t91[3] + t91[1] / t91[2] - t91[0];break;case 92:s1x=t91[4] / t91[3] * (t91[5] * t91[0] * t91[2] + t91[6]) + t91[1];break;case 14:s1x=t91[0] >> t91[1];break;case 110:s1x=-t91[0] * t91[3] + t91[2] - t91[1] + t91[4];break;case 71:s1x=(-t91[4] / t91[1] + t91[0]) / t91[2] - t91[3];break;case 93:s1x=t91[1] * (t91[3] * t91[6] * t91[5] + (t91[2] << t91[4])) + t91[0];break;case 74:s1x=t91[2] * t91[1] + t91[3] - t91[0];break;case 58:s1x=t91[1] + (t91[2] | t91[3]) * t91[0];break;case 16:s1x=t91[1] + t91[0] - t91[2];break;case 96:s1x=t91[0] + t91[4] + t91[2] + t91[1] + t91[3];break;case 129:s1x=t91[2] / (t91[0] * t91[1]);break;case 30:s1x=t91[1] - +t91[0];break;case 73:s1x=t91[1] / t91[2] - t91[0];break;case 46:s1x=t91[0] + +t91[1];break;case 56:s1x=t91[0] + t91[1] * t91[2];break;case 136:s1x=t91[6] * t91[3] * t91[1] + (t91[2] - t91[5] * t91[4]) * t91[0];break;case 64:s1x=t91[3] + t91[2] + t91[1] - t91[0];break;}return s1x;},c$xn8vO:function(t7p){K2m=t7p;}};})();V5cdF[132287]=(function(){var G9n=function(L9j,q7k){var U_h=q7k & 0xffff;var v4g=q7k - U_h;return (v4g * L9j | 0) + (U_h * L9j | 0) | 0;},y_bJOD4=function(p9W,Y_k,e1G){var N6t=0xcc9e2d51,r2m=0x1b873593;var x69=e1G;var U3x=Y_k & ~0x3;for(var l9w=0;l9w < U3x;l9w+=4){var y2Q=p9W.z$xQF(l9w) & 0xff | (p9W.z$xQF(l9w + 1) & 0xff) << 8 | (p9W.z$xQF(l9w + 2) & 0xff) << 16 | (p9W.z$xQF(l9w + 3) & 0xff) << 24;y2Q=G9n(y2Q,N6t);y2Q=(y2Q & 0x1ffff) << 15 | y2Q >>> 17;y2Q=G9n(y2Q,r2m);x69^=y2Q;x69=(x69 & 0x7ffff) << 13 | x69 >>> 19;x69=x69 * 5 + 0xe6546b64 | 0;}y2Q=0;switch(Y_k % 4){case 3:y2Q=(p9W.z$xQF(U3x + 2) & 0xff) << 16;case 2:y2Q|=(p9W.z$xQF(U3x + 1) & 0xff) << 8;case 1:y2Q|=p9W.z$xQF(U3x) & 0xff;y2Q=G9n(y2Q,N6t);y2Q=(y2Q & 0x1ffff) << 15 | y2Q >>> 17;y2Q=G9n(y2Q,r2m);x69^=y2Q;}x69^=Y_k;x69^=x69 >>> 16;x69=G9n(x69,0x85ebca6b);x69^=x69 >>> 13;x69=G9n(x69,0xc2b2ae35);x69^=x69 >>> 16;return x69;};return {y_bJOD4:y_bJOD4};})();V5cdF.l$6=function(){return typeof V5cdF[523306].D_GtrYX === 'function'?V5cdF[523306].D_GtrYX.apply(V5cdF[523306],arguments):V5cdF[523306].D_GtrYX;};V5cdF.q8I=function(){return typeof V5cdF[558515].l15kqa3 === 'function'?V5cdF[558515].l15kqa3.apply(V5cdF[558515],arguments):V5cdF[558515].l15kqa3;};V5cdF.Q7U=function(){return typeof V5cdF[523306].D_GtrYX === 'function'?V5cdF[523306].D_GtrYX.apply(V5cdF[523306],arguments):V5cdF[523306].D_GtrYX;};V5cdF.Y6v=function(){return typeof V5cdF[558515].O9rJrgW === 'function'?V5cdF[558515].O9rJrgW.apply(V5cdF[558515],arguments):V5cdF[558515].O9rJrgW;};V5cdF[168470]=116;function V5cdF(){}V5cdF.U_P=function(){return typeof V5cdF[523306].c$xn8vO === 'function'?V5cdF[523306].c$xn8vO.apply(V5cdF[523306],arguments):V5cdF[523306].c$xn8vO;};V5cdF.C78=function(){return typeof V5cdF[606394].J7LGzwr === 'function'?V5cdF[606394].J7LGzwr.apply(V5cdF[606394],arguments):V5cdF[606394].J7LGzwr;};V5cdF[356878].l977=V5cdF;V5cdF[625251]=V5cdF[558515];V5cdF.f6v=function(q5s){V5cdF.U0D();if(V5cdF)return V5cdF.C78(q5s);};V5cdF.O7K=function(w9k){V5cdF.U0D();if(V5cdF && w9k)return V5cdF.x1V(w9k);};V5cdF.X$c=function(O4A){V5cdF.U0D();if(V5cdF && O4A)return V5cdF.C78(O4A);};V5cdF.k_Y=function(c7f){V5cdF.j0M();if(V5cdF)return V5cdF.x1V(c7f);};V5cdF.a3j=function(A4c){V5cdF.U0D();if(V5cdF)return V5cdF.x1V(A4c);};V5cdF.Y1V=function(I2M){V5cdF.j0M();if(V5cdF && I2M)return V5cdF.x1V(I2M);};V5cdF.l0F=function(a5F){V5cdF.j0M();if(V5cdF)return V5cdF.C78(a5F);};var C5lR7,R,Z,q,Y,A,U,J,P,S,N,B,D,V,W,g,G,T,s6,Y6,V5,c$,P2,B7,Y2,J4,v$,o4,h7;C5lR7="u";C5lR7+="nde";C5lR7+="fined";import {CIQ as D_, SplinePlotter as M6, timezoneJS as K5, $$ as O_, $$$ as s4} from "../js/chartiq.js";R=L2=>{var S5v,A7,U5,j1;S5v="undefi";S5v+="ned";A7=typeof _CIQ !== S5v?_CIQ:L2.CIQ;U5=class Z4{get(G$,M5) {M5("no storage defined");}set(O4,X5) {}remove(q3) {}};A7.ChartEngine.create=function({container:b8, config:N_, deferLoad:T6} = {}){var R_y,H7,j_,N0;function I6(){j_.loadChart(N_.initialSymbol,{masterData:N_.initialData},C2);V5cdF.j0M();j_.draw();}R_y=".ch";R_y+="artContainer";if(!b8){b8=document.querySelector(R_y) || document.body;}if(!N_){N_={};}H7=Object.assign({container:b8},N_.chartEngineParams);j_=new this(H7);var {quoteFeeds:W_, marketFactory:E1, addOns:Z6, chartId:Z$, multiChartId:b$, onEngineReady:Q2, onChartReady:U0}=N_;if(W_ && j_.attachQuoteFeed){W_.forEach(({quoteFeed:e$, behavior:j6, filter:Q1})=>{j_.attachQuoteFeed(e$,j6,Q1);});}if(E1){j_.setMarketFactory(E1);}if(Z6){Object.entries(Z6).filter(([,Z0])=>{return !!Z0;}).forEach(([D6,m7])=>{var m0;V5cdF.U0D();if(!N_.enabledAddOns[D6]){return;}m0=m7.moduleName || A7.capitalize(D6);if(A7[m0]){var {cssRequired:n3}=new A7[m0](Object.assign({stx:j_},m7,{config:N_}));if(n3 && A7.UI){A7.UI.activatePluginUI(j_,m0);}}else if(A7.debug){V5cdF.U6M(0);console.log(`${m0}${V5cdF.l$6("e f","l"," not availab","or addons with params:")}`,m7);}});}N0=A7.ensureDefaults(N_.callbacks || ({}),{layout:this.getSaveLayout(N_),symbolChange:this.getSaveLayout(N_),drawing:this.getSaveDrawings(N_),preferences:this.getSavePreferences(N_),newChart:this.getRetoggleEvents(N_)});for(var W0 in N0){if(N0[W0]){j_.addEventListener(W0,N0[W0]);}}j1=N_.nameValueStore || A7.NameValueStore || U5;function C2(){if(!U0){return;}setTimeout(()=>{V5cdF.j0M();return U0(j_);});}V5cdF.U0D();j1=new j1();if(!T6){if(Q2){Q2(j_);}if(N_.restore){this.restorePreferences(j_,Z$,b$);this.restoreLayout(j_,k5=>{if(!j_.chart.symbol && N_.initialSymbol){I6();}else {C2();}},Z$,N_);}else {I6();}}return j_;};A7.ChartEngine.getSaveLayout=function(n0){V5cdF.U0D();return function j2({stx:Y7}){var V2;if(n0.restore && Y7.exportLayout){V2=JSON.stringify(Y7.exportLayout(!!"1"));j1.set("myChartLayout" + (n0.chartId || ""),V2);}};};A7.ChartEngine.restoreLayout=function(y$,W3,o_,q1){var e42=V5cdF;e42.j0M();var {restoreDrawings:G9}=this;if(!o_){o_="";}e42.U_P(1);j1.get(e42.Q7U(o_,"myChartLayout"),function(z6,e0){var T4,n$;if(z6){return;}try{e0=JSON.parse(e0);}catch(O3){}T4=q1 && q1.restore && q1.restore.symbol === ![];if(e0 && e0.symbols && T4){n$=q1.initialSymbol != undefined && q1.initialSymbol.symbol?q1.initialSymbol:{symbol:q1.initialSymbol};e0.symbols[0]=e0.symbols[0] || ({});Object.assign(e0.symbols[0],{symbol:n$.symbol,symbolObject:n$});e0.symbols=e0.symbols.filter(({symbol:H4},b5)=>{e42.U0D();return !b5 || H4 !== n$.symbol;});}if(y$.importLayout){y$.importLayout(e0,{managePeriodicity:!!"1",cb:B2});}if(y$.crossSection){y$.setCandleWidth(1);;}});function B2(){e42.j0M();G9(y$,y$.chart.symbol,o_);if(W3){W3();}}};A7.ChartEngine.getSaveDrawings=function(X8){return function w4({stx:V8, symbol:q6}){var E6f=V5cdF;E6f.U0D();var r9,q7,M2;if(X8.restore && V8.exportDrawings){r9=V8.exportDrawings();q7=X8.chartId?X8.chartId + "~" + q6:q6;E6f.U6M(1);M2=`${X8.chartId || ""}${E6f.Q7U("gs","_drawin")}`;j1.get(M2,(F8,a1)=>{var F6;F6=a1 || ({});E6f.U0D();if(r9.length === 0){j1.remove(q7);delete F6[q7];}else {j1.set(q7,JSON.stringify(r9));F6[q7]=r9.length;}j1.set(M2,F6);});}};};A7.ChartEngine.restoreDrawings=function(U7,z8,S0){var L5;if(!A7.Drawing){return;}L5=S0?S0 + "~" + z8:z8;V5cdF.j0M();j1.get(L5,function(T1,x8){if(T1){return;}try{x8=JSON.parse(x8);}catch(O7){}if(x8){U7.importDrawings(x8);U7.draw();}});};A7.ChartEngine.getSavePreferences=function(W$){return function k1({stx:d6}){var r6;if(W$.restore && d6.exportPreferences){r6=JSON.stringify(d6.exportPreferences());j1.set("myChartPreferences" + (W$.multiChartId || W$.chartId || ""),r6);}};};A7.ChartEngine.restorePreferences=function(k6,C_,K9){var n8;V5cdF.j0M();n8=K9 || C_ || "";V5cdF.U6M(1);j1.get(V5cdF.l$6(n8,"myChartPreferences"),function(k7,h_){if(k7){return;}try{h_=JSON.parse(h_);}catch(X1){}if(h_ && k6.importPreferences){k6.importPreferences(h_);}});};A7.ChartEngine.getRetoggleEvents=function(p_){V5cdF.j0M();return function Q$({stx:G7}){var I1,z2;I1=p_.chartId && document.getElementById(p_.chartId);if(!I1){I1=(A7.getFn("UI.getMyContext")(G7.container) || ({})).topNode;}if(!I1){I1=document;}z2=I1.querySelectorAll(`${p_.selector.markersMenuItem}${".ciq" + "-active:not(.span-event)"}`);V5cdF.U0D();z2.forEach(function(m8){var P_v;P_v="stx";P_v+="ta";P_v+="p";m8.querySelector(".ciq-switch, .ciq-checkbox, .ciq-radio").dispatchEvent(new Event(P_v));});};};};Z=k_=>{var b9;b9=typeof _CIQ !== "undefined"?_CIQ:k_.CIQ;b9.ChartEngine.prototype.drawHeatmap=function(q4,K1){var s$7=V5cdF;var p4,l4,J6,D$,r0,T3,j8,L$,m3,p5,v_,w2,q8,Q5;if(!K1 || !K1.length){return;}p4=q4.panel;if(!p4){p4="chart";}l4=this.panels[p4];if(!l4){return;}J6=q4.yAxis?q4.yAxis:l4.yAxis;D$=this.chart.dataSegment;if(!q4.name){q4.name="Data";}if(!q4.widthFactor){q4.widthFactor=1;}if(!q4.height){q4.height=Math.pow(10,1 - (l4.decimalPlaces || l4.chart.decimalPlaces));}r0="st";r0+="x-float-date";T3=this.chart.context;this.canvasFont(r0,T3);j8=this.getCanvasFontSize(r0);L$=1;if(!q4.highlight && this.highlightedDraggable){L$=0.3;}m3=0.5;if(l4.chart.tmpWidth <= 1){m3=0;}p5=null;v_=null;w2=this;s$7.U0D();q8=null;this.startClip(p4);T3.globalAlpha=L$;function H$(C7,a5,C0,K_,k8,t9,o1,I0){var A0u,p2,e4,f2,c5,D8,D33,E3,J7,u5,i2,R9,v2,G8,c4,l_,z40,T6P,v0l;A0u="num";A0u+="ber";T3.beginPath();T3.fillStyle=a5;T3.strokeStyle=a5;T3.textAlign="center";p2=w2.layout.candleWidth * k8;e4=Math.floor(w2.pixelFromBar(+"0",l4.chart) - w2.layout.candleWidth);if(typeof C0 == A0u){s$7.U6M(2);T3.globalAlpha=s$7.l$6(L$,C0);}if(typeof C0 == "object"){D8={minOpacity:C0.min || 0,maxOpacity:C0.max || "1" | 1};}for(var D9="0" >> 32;D9 < D$.length;D9++){D33="numb";D33+="er";E3=D$[D9];if(E3 && E3.candleWidth){if(D9 === 0){e4+=w2.layout.candleWidth;}else {s$7.U_P(3);var y7S=s$7.l$6(15,2,18,2);e4+=(E3.candleWidth + p2 / k8) / y7S;}p2=E3.candleWidth * k8;}else {e4+=w2.layout.candleWidth;}s$7.U6M(4);f2=s$7.l$6(e4,2,p2,o1);s$7.U6M(5);c5=s$7.l$6(o1,p2,2,e4);if(c5 - f2 < "2" * 1){s$7.U6M(1);c5=s$7.l$6(1,f2);}if(!E3)continue;J7=E3[C7];if(!J7)continue;if(J7[I0]){J7=J7[I0];}if(typeof J7 == D33){J7=[J7];}for(var w1=0;w1 < J7.length;w1++){u5=J7[w1];i2=+"0";if(u5 instanceof Array){if(D8){s$7.U_P(6);var F51=s$7.Q7U(7,6);s$7.U_P(7);var O0M=s$7.Q7U(13,15,40,5);s$7.U6M(8);var w7w=s$7.Q7U(5,17,19,1);T3.globalAlpha=L$ * (u5["2" * F51] * D8.maxOpacity + (O0M - u5[w7w]) * D8.minOpacity);}i2=u5[+"1"];s$7.U_P(9);u5=u5[s$7.Q7U(32,"0")];}R9=w2.pixelFromPrice(u5,l4,J6);if(!q8){if(!t9){t9=q4.height;}v2=w2.pixelFromPrice(u5 + t9 * (J6.flipped?"1" >> 64:-1),l4,J6);T3.lineWidth=1;s$7.U6M(10);p5=s$7.Q7U(v2,R9);s$7.U6M(11);v_=s$7.l$6(2,p5);q8=T3.lineWidth;}if(K_){s$7.U_P(10);G8=s$7.Q7U(R9,v_);s$7.U_P(1);c4=s$7.Q7U(v_,R9);s$7.U6M(10);T3.rect(f2,G8,s$7.l$6(c5,f2),s$7.Q7U(c4,G8));}else {s$7.U6M(10);T3.fillRect(f2,s$7.l$6(R9,v_),s$7.Q7U(c5,f2),p5);if(q4.showSize && i2 && j8 <= p5 - 2){l_=T3.globalAlpha;T3.fillStyle=w2.defaultColor;s$7.U6M(12);T3.globalAlpha=s$7.l$6(1,"0.5",L$);s$7.U_P(13);T3.fillText(i2,s$7.l$6(c5,2,f2),R9);T3.fillStyle=a5;s$7.U6M(2);T3.globalAlpha=s$7.Q7U(L$,l_);}}if(D8 && u5 instanceof Array){T3.globalAlpha=0;}}}if(K_){T3.stroke();}s$7.U_P(14);z40=s$7.l$6("1008457153",64);T6P=-1139784625;v0l=2;for(var G6t=1;s$7.Y5G(G6t.toString(),G6t.toString().length,"75615" - 0) !== z40;G6t++){T3.globalAlpha=L$;T3.closePath();v0l+=2;}if(s$7.S0_(v0l.toString(),v0l.toString().length,39540) !== T6P){T3.globalAlpha=L$;T3.closePath();}}for(var y8=0;y8 < K1.length;y8++){Q5=K1[y8];H$(Q5.field,Q5.color,Q5.opacity,null,q4.widthFactor,Q5.height,Q5.border_color?m3:-m3 / ("4" - 0),Q5.subField);if(Q5.border_color && this.layout.candleWidth >= 2){H$(Q5.field,Q5.border_color,Q5.opacity,!!({}),q4.widthFactor,Q5.height,m3,Q5.subField);}}T3.lineWidth=1;T3.globalAlpha=1;this.endClip();};b9.ChartEngine.prototype.drawCandles=function(S8,s_,M3){var h1I=V5cdF;var i4,u9,R3,X0,v6,T9,f6,J9,V_,k$,C5,c6,d3,r8,G2,D4,D2,D0,y3,B_,I4,Q7,a3,g0z,y9k,Y_,S2,E5,w9,U4,X4,L6,e9,M9,j3,V1,U$,j5,M4,L3,l0,O9,i5;i4=S8.chart;if(!i4){i4=S8;S8=S8.chart;}u9=M3.stretchGaps;if(!u9 && u9 !== !"1"){u9=this.cleanupGaps === "stretch";}R3=![];X0=![];v6=null;T9=S8.yAxis;if(M3 && typeof M3 == "object"){R3=M3.isOutline;X0=M3.isHistogram;v6=M3.field;T9=M3.yAxis;}else {R3=M3;X0=arguments[3];}f6=i4.dataSegment;J9=i4.context;V_=T9.top;k$=T9.bottom;r8=new Array(f6.length);G2="transparent";D4="transparent";D2=0;h1I.U0D();h1I.U_P(15);var f2d=h1I.Q7U(20,0,7,83,8);D0=i4.dataSet.length - i4.scroll - f2d;y3={};h1I.U_P(16);var G9b=h1I.l$6(5,15,18);B_=i4.tmpWidth / G9b;I4=this.layout.candleWidth;h1I.U_P(17);var h79=h1I.l$6(1,2,1);Q7=S8.left - 0.5 * I4 + this.micropixels - h79;a3=-1;for(var o3=0;o3 <= f6.length;o3++){g0z="sol";g0z+="i";g0z+="d";y9k="clo";y9k+="se";h1I.U_P(10);var D6B=h1I.l$6(5,4);Q7+=this.layout.candleWidth * (o3 - a3 - D6B) / +"2";a3=o3;Y_=B_;h1I.U6M(11);Q7+=h1I.Q7U(2,I4);I4=this.layout.candleWidth;h1I.U_P(11);Q7+=h1I.l$6(2,I4);S2=f6[o3];if(!S2)continue;if(!S2.cache || i4.pixelCacheExpired){S2.cache={};}if(S2.projection)continue;if(S2.candleWidth){h1I.U_P(18);var T0K=h1I.l$6(10,6,9,6);Q7+=(S2.candleWidth - I4) / T0K;I4=S2.candleWidth;if(M3.isVolume || I4 < i4.tmpWidth){h1I.U6M(11);Y_=h1I.Q7U(2,I4);}}if(i4.transformFunc && T9 == i4.panel.yAxis && S2.transform){S2=Object.assign({},S2,S2.transform);}E5=S2.cache;if(S2 && v6){S2=S2[v6];}if(!S2 && S2 !== 0)continue;w9="open";U4=y9k;if(v6){h1I.U_P(19);w9=h1I.l$6(w9,".",v6);h1I.U6M(19);U4=h1I.l$6(U4,(710.17,469) > (9260,4351)?645.21 != (9275,"364" - 0)?!"":9.41e+3:".",v6);}X4=S2.Close;L6=S2.Open === undefined?X4:S2.Open;if(X0 && i4.defaultPlotField){X4=S2[i4.defaultPlotField];}if(!X4 && X4 !== 0)continue;e9=0;if(!M3.isVolume && u9){while(f6[o3 + 1]){h1I.U_P(1);M9=f6[h1I.Q7U(1,o3)][i4.defaultPlotField || "Close"];if(M9 || M9 === "0" - 0 || f6[o3 + 1].futureTick)break;e9++;o3++;}h1I.U_P(20);Q7+=h1I.Q7U("2",e9,I4,0);h1I.U_P(21);Y_+=h1I.l$6(e9,I4,2);}if(!X0 && (L6 == X4 || L6 === null))continue;j3=s_(this,S2,R3?"outline":g0z);if(!j3)continue;if(R3){G2=j3;}else {D4=j3;}y3[D4]=1;V1=G2 && !b9.isTransparent(G2);if(V1 && !M3.highlight){D2=0.5;}J9.beginPath();J9.fillStyle=D4;h1I.U6M(1);U$=h1I.Q7U(a3,D0);if(U$ < S8.cacheLeft || U$ > S8.cacheRight || !E5[w9]){j5=T9.semiLog?T9.height * (1 - (Math.log(Math.max(L6,0)) / Math.LN10 - T9.logLow) / T9.logShadow):(T9.high - L6) * T9.multiplier;M4=T9.semiLog?T9.height * (1 - (Math.log(Math.max(X4,+"0")) / Math.LN10 - T9.logLow) / T9.logShadow):(T9.high - X4) * T9.multiplier;if(Math.abs(j5 - M4) < 1){j5=M4;}if(T9.flipped){h1I.U_P(10);j5=h1I.l$6(k$,j5);h1I.U_P(10);M4=h1I.Q7U(k$,M4);}else {j5+=V_;M4+=V_;}r8[a3]=M4;C5=X0?M4:Math.min(j5,M4);c6=X0?T9.bottom:Math.max(j5,M4);C5=Math.floor(C5);c6=Math.floor(c6);h1I.U_P(10);d3=h1I.Q7U(c6,C5);if(C5 < V_){if(C5 + d3 < V_){E5[w9]=C5;E5[U4]=C5;continue;}h1I.U_P(22);d3-=h1I.l$6(V_,"1",C5);h1I.U_P(10);C5=h1I.Q7U(V_,1);}if(C5 + d3 > k$){h1I.U_P(23);d3=h1I.Q7U(1,k$,C5);}E5[w9]=C5;h1I.U_P(1);E5[U4]=h1I.Q7U(d3,C5);}if(E5[w9] >= k$)continue;if(E5[U4] <= V_)continue;L3=Math.floor(Q7) + (!M3.highlight && 0.5);l0=Math.floor(L3 - Y_) + D2;O9=Math.round(L3 + Y_) - D2;J9.rect(l0,E5[w9] + D2,Math.max(+"0",O9 - l0),Math.max(0,E5[U4] - E5[w9]));if(!M3.highlight && this.highlightedDraggable){J9.globalAlpha*=0.3;}if(D4 != "transparent"){J9.fill();}if(V1){J9.lineWidth=1;if(M3.highlight){J9.lineWidth*=+"2";}J9.strokeStyle=G2;J9.stroke();}}i4.pixelCacheExpired=!"1";i5={colors:[],cache:r8};for(var r_ in y3){if(!M3.hollow || !b9.equals(r_,this.containerColor)){i5.colors.push(r_);}}return i5;};b9.ChartEngine.prototype.drawShadows=function(E4,U6,Y5){var V5R=V5cdF;var c_,O6,N2,S5,G5,M0,x3,O5,s$,a0,R5,x9,V9,Q_,h3,Q3,E9,f3,K3,v9,z4,v4,c9,j0,y6,I9,N1,r7,B4,Q6,O$,N9;if(Y5.isHistogram){return;}c_=E4.chart;if(!c_){c_=E4;E4=E4.chart;}O6=Y5.stretchGaps;if(!O6 && O6 !== !({})){O6=this.cleanupGaps === "stretch";}N2=c_.dataSegment;S5=this.chart.context;S5.lineWidth=1;if(Y5.highlight){V5R.U_P(24);S5.lineWidth*=V5R.Q7U("2",0);}if(!Y5.highlight && this.highlightedDraggable){V5R.U_P(2);S5.globalAlpha*=V5R.Q7U(1,"0.3");}G5=Y5.field;M0=Y5.yAxis || E4.yAxis;x3=M0.top;O5=M0.bottom;V5R.U_P(25);var a7a=V5R.Q7U(14,124,3,10,18);s$=c_.dataSet.length - c_.scroll - a7a;a0=this.layout.candleWidth;V5R.U6M(26);var i1H=V5R.l$6(19,0,247,13);V5R.j0M();R5=E4.left - 0.5 * a0 + this.micropixels - i1H;x9=-+"1";for(var Q9=0;Q9 <= N2.length;Q9++){V5R.U_P(10);var o5M=V5R.l$6(128,64);R5+=this.layout.candleWidth * (Q9 - x9 - ("1" >> o5M)) / +"2";x9=Q9;V5R.U_P(27);R5+=V5R.l$6("2",0,a0);a0=this.layout.candleWidth;V5R.U6M(11);R5+=V5R.Q7U(2,a0);V9=N2[Q9];if(!V9)continue;if(!V9.cache || c_.pixelCacheExpired){V9.cache={};}if(V9.projection)continue;if(V9.candleWidth){V5R.U6M(16);var F87=V5R.Q7U(17,0,16);R5+=(V9.candleWidth - a0) / ("2" * F87);a0=V9.candleWidth;}Q_=U6(this,V9,"shadow");if(!Q_)continue;if(c_.transformFunc && M0 == c_.panel.yAxis && V9.transform){V9=V9.transform;}h3=V9.cache;if(V9 && G5){V9=V9[G5];}if(!V9 && V9 !== 0)continue;Q3="top";E9="bottom";if(G5){V5R.U6M(19);Q3=V5R.Q7U(Q3,".",G5);V5R.U6M(19);E9=V5R.Q7U(E9,(3609,8892) !== 643?".":5440 < "9664" << 32?(3190,+"5479") >= +"1350"?0x9e2:(0x46b,0xe7c):(0x17ae,7.94e+3),G5);}f3=V9.Close;K3=V9.Open === undefined?f3:V9.Open;v9=V9.High === undefined?Math.max(f3,K3):V9.High;z4=V9.Low === undefined?Math.min(f3,K3):V9.Low;if(!f3 && f3 !== 0)continue;v4=R5;if(!Y5.isVolume && O6){c9=0;while(N2[Q9 + +"1"]){j0=N2[Q9 + 1].Close;if(j0 || j0 === 0 || N2[Q9 + 1].futureTick)break;c9++;Q9++;}V5R.U_P(28);R5+=V5R.l$6(a0,"2",c9);}V5R.U6M(1);y6=V5R.Q7U(x9,s$);if(y6 < E4.cacheLeft || y6 > E4.cacheRight || !h3[Q3]){I9=M0.semiLog?M0.height * (+"1" - (Math.log(Math.max(v9,0)) / Math.LN10 - M0.logLow) / M0.logShadow):(M0.high - v9) * M0.multiplier;N1=M0.semiLog?M0.height * (1 - (Math.log(Math.max(z4,0)) / Math.LN10 - M0.logLow) / M0.logShadow):(M0.high - z4) * M0.multiplier;if(Math.abs(N1 - I9) < 1){N1=I9;}I9=Math.floor(I9);N1=Math.floor(N1);V5R.U6M(10);r7=V5R.Q7U(N1,I9);if(M0.flipped){V5R.U6M(10);I9=V5R.Q7U(O5,I9);V5R.U6M(10);N1=V5R.Q7U(O5,N1);}else {I9+=x3;N1+=x3;}if(I9 < x3){if(I9 + r7 < x3){h3[Q3]=I9;h3[E9]=I9;continue;}V5R.U6M(29);r7-=V5R.l$6(x3,"1",I9,0);V5R.U6M(30);I9=V5R.l$6("1",x3);}if(I9 + r7 > O5){V5R.U_P(23);r7=V5R.Q7U(1,O5,I9);}h3[Q3]=I9;h3[E9]=h3[Q3] + r7;}if(h3[Q3] >= O5)continue;if(h3[E9] <= x3)continue;B4=Math.floor(v4) + (!Y5.highlight && 0.5);S5.beginPath();if(f3 == K3){Q6=this.offset;if(Y5.isVolume){V5R.U_P(11);Q6=V5R.l$6(2,a0);}O$=M0.semiLog?M0.height * (+"1" - (Math.log(Math.max(f3,0)) / Math.LN10 - M0.logLow) / M0.logShadow):(M0.high - f3) * M0.multiplier;O$=Math.floor(O$) + (!Y5.highlight && 0.5);if(M0.flipped){V5R.U_P(10);O$=V5R.Q7U(O5,O$);}else {O$+=x3;}if(O$ <= O5 && O$ >= x3){V5R.U_P(10);N9=Math.floor(V5R.l$6(R5,v4));V5R.U6M(16);S5.moveTo(V5R.Q7U(N9,B4,Q6),O$);V5R.U_P(19);S5.lineTo(V5R.Q7U(Q6,N9,B4),O$);}}if(v9 != z4){S5.moveTo(B4,h3[Q3]);S5.lineTo(B4,h3[E9]);}S5.strokeStyle=Q_;S5.stroke();}c_.pixelCacheExpired=![];};b9.ChartEngine.prototype.drawBarChart=function(H6,G0,D1,w$){var l0Z=V5cdF;var J5,P6,W1,k4,U2,K4,H9,o6,Z9,Z8,B1,P$,r$,p3,l$,j4,t6,h$,X28,s0Z,n4,K8,o5,J0,y_,M_,J$,H0,Q4,v3,f8,d5,w6,I3,F7,O8,x6,E8,j$,X3,X$,H5,V6,C8,f9,M8;J5=H6.chart;if(!J5){J5=H6;H6=H6.chart;}P6=w$.stretchGaps;if(!P6 && P6 !== !!""){P6=this.cleanupGaps === "stretch";}W1=J5.dataSegment;k4=new Array(W1.length);U2=J5.context;K4=this.canvasStyle(G0);if(K4.width && parseInt(K4.width,"10" - 0) <= 25){U2.lineWidth=Math.max(1,b9.stripPX(K4.width));}else {U2.lineWidth=1;}if(w$.highlight){U2.lineWidth*=2;}if(!w$.highlight && this.highlightedDraggable){U2.globalAlpha*=0.3;}H9=w$.field;o6=w$.yAxis || H6.yAxis;Z9=o6.top;Z8=o6.bottom;l0Z.U_P(31);var x27=l0Z.l$6(9,12,11,11,4);P$=J5.dataSet.length - J5.scroll - x27;r$={};p3=J5.tmpWidth / +"2";l0Z.U6M(23);var j12=l0Z.l$6(20,0,18);l$=U2.lineWidth / ("2" | j12);j4=this.layout.candleWidth;l0Z.U6M(32);var B2P=l0Z.Q7U(9,9,11,12);t6=H6.left - 0.5 * j4 + this.micropixels - B2P;h$=-1;for(var P4=0;P4 <= W1.length;P4++){X28="h";X28+="l";X28+="c";s0Z="b";s0Z+="otto";s0Z+="m";t6+=this.layout.candleWidth * (P4 - h$ - +"1") / +"2";h$=P4;n4=p3;l0Z.U6M(33);t6+=l0Z.l$6("2",j4);j4=this.layout.candleWidth;l0Z.U_P(11);t6+=l0Z.l$6(2,j4);K8=W1[P4];if(!K8)continue;if(!K8.cache || J5.pixelCacheExpired){K8.cache={};}if(K8.projection)continue;if(K8.candleWidth){l0Z.U6M(34);var g2a=l0Z.Q7U(20,0,11,218);t6+=(K8.candleWidth - j4) / g2a;j4=K8.candleWidth;}o5=D1(this,K8);if(!o5)continue;r$[o5]=1;U2.strokeStyle=o5;U2.beginPath();if(J5.transformFunc && o6 == J5.panel.yAxis && K8.transform){K8=K8.transform;}J0=K8.cache;if(K8 && H9){K8=K8[H9];}if(!K8 && K8 !== 0)continue;y_="top";M_=s0Z;J$="open";H0="close";if(H9){l0Z.U_P(19);y_=l0Z.Q7U(y_,(412,547) < 6390?".":9.91e+3,H9);l0Z.U_P(19);M_=l0Z.Q7U(M_,1100 !== 4690?".":("231.66" - 0,9.96e+3),H9);l0Z.U6M(19);J$=l0Z.l$6(J$,".",H9);l0Z.U_P(19);H0=l0Z.l$6(H0,(9855,269) >= 3740?(89.94,0x184):".",H9);}Q4=K8.Close;v3=K8.Open === undefined?Q4:K8.Open;f8=K8.High === undefined?Math.max(Q4,v3):K8.High;d5=K8.Low === undefined?Math.min(Q4,v3):K8.Low;if(!Q4 && Q4 !== 0)continue;w6=t6;if(!w$.isVolume && P6){I3=0;while(W1[P4 + +"1"]){F7=W1[P4 + 1].Close;if(F7 || F7 === 0 || W1[P4 + 1].futureTick)break;I3++;P4++;}l0Z.U_P(28);t6+=l0Z.Q7U(j4,"2",I3);l0Z.U_P(21);n4+=l0Z.l$6(I3,j4,2);}l0Z.U_P(1);O8=l0Z.l$6(h$,P$);if(O8 < H6.cacheLeft || O8 > H6.cacheRight || !J0[y_]){x6=this.pixelFromTransformedValue(f8,H6,o6);E8=this.pixelFromTransformedValue(d5,H6,o6);x6=Math.floor(x6);E8=Math.floor(E8);l0Z.U6M(10);B1=l0Z.l$6(E8,x6);J0[J$]=o6.semiLog?o6.height * (1 - (Math.log(Math.max(v3,0)) / Math.LN10 - o6.logLow) / o6.logShadow):(o6.high - v3) * o6.multiplier;J0[H0]=o6.semiLog?o6.height * (("1" | 0) - (Math.log(Math.max(Q4,+"0")) / Math.LN10 - o6.logLow) / o6.logShadow):(o6.high - Q4) * o6.multiplier;if(Math.abs(J0[H0] - J0[J$]) < 1){J0[H0]=J0[J$];;}J0[J$]=Math.floor(J0[J$]);J0[H0]=Math.floor(J0[H0]);if(o6.flipped){J0[J$]=o6.bottom - J0[J$];J0[H0]=o6.bottom - J0[H0];}else {J0[J$]+=o6.top;J0[H0]+=o6.top;}k4[h$]=J0[H0];if(x6 < Z9){if(x6 + B1 < Z9){J0[y_]=x6;J0[M_]=x6;continue;}l0Z.U_P(22);B1-=l0Z.l$6(Z9,"1",x6);l0Z.U6M(10);x6=l0Z.l$6(Z9,1);}if(x6 + B1 > Z8){l0Z.U6M(23);B1=l0Z.l$6(1,Z8,x6);}J0[y_]=x6;l0Z.U6M(1);J0[M_]=l0Z.Q7U(B1,x6);}j$=!w$.highlight && 0.5;X3=Math.floor(w6) + j$;X$=J0[J$] + j$;H5=J0[H0] + j$;V6=J0[y_] + j$;C8=J0[M_] + j$;if(V6 < Z8 && C8 > Z9 && K8.High != K8.Low){l0Z.U_P(10);U2.moveTo(X3,l0Z.l$6(V6,l$));l0Z.U_P(1);U2.lineTo(X3,l0Z.l$6(l$,C8));}l0Z.U6M(10);f9=Math.floor(l0Z.Q7U(t6,w6));if(w$.type != X28 && X$ > Z9 && X$ < Z8){U2.moveTo(X3,X$);l0Z.U6M(16);U2.lineTo(l0Z.Q7U(f9,X3,n4),X$);}if(H5 > Z9 && H5 < Z8){U2.moveTo(X3,H5);l0Z.U_P(19);U2.lineTo(l0Z.l$6(n4,f9,X3),H5);}U2.stroke();}U2.lineWidth=1;J5.pixelCacheExpired=!!0;M8={colors:[],cache:k4};for(var b1 in r$){if(!b9.equals(b1,this.containerColor)){M8.colors.push(b1);}}return M8;};b9.ChartEngine.prototype.drawWaveChart=function(N4,d4){var l9n=V5cdF;var C1f,u_,w8,O0,q_,I5,R$,d9,P8,P9,G3,R1,o2,S6,W2,K$,s1,P5,N3,d$,c7,v7,U9,y7,Q8,X2,S9,h4,w3;C1f="s";C1f+="tx_l";C1f+="ine_chart";u_=N4.chart;w8=d4.stretchGaps;if(!w8 && w8 !== !"1"){w8=this.cleanupGaps === "stretch";}O0=u_.dataSegment;q_=new Array(O0.length);I5=u_.context;if(!d4){d4={};}R$=d4.yAxis || N4.yAxis;this.startClip(N4.name);I5.beginPath();d9=!!"";P8=!1;P9=N4.yAxis.top;function l2(F2){l9n.j0M();return S6.pixelFromTransformedValue(F2,N4,R$);}G3=N4.yAxis.bottom;R1=this.layout.candleWidth;o2=N4.left + Math.floor(-("0.5" - 0) * this.layout.candleWidth + this.micropixels);S6=this;W2=-1;l9n.U0D();for(var H1=0;H1 <= O0.length;H1++){o2+=this.layout.candleWidth * (H1 - W2 - +"1") / ("2" - 0);W2=H1;l9n.U_P(11);o2+=l9n.Q7U(2,R1);R1=this.layout.candleWidth;l9n.U_P(11);o2+=l9n.Q7U(2,R1);K$=O0[H1];if(!K$)continue;if(K$.projection)break;if(K$.candleWidth){l9n.U_P(35);var R_G=l9n.Q7U(5934,13,12,8,38);o2+=(K$.candleWidth - R1) / R_G;R1=K$.candleWidth;}if(u_.transformFunc && R$ == u_.panel.yAxis && K$.transform){K$=K$.transform;}if(K$ && d4.field){K$=K$[d4.field];}if(!K$ && K$ !== 0)continue;s1=K$.Close;P5=K$.Open === undefined?s1:K$.Open;N3=K$.High === undefined?Math.max(s1,P5):K$.High;d$=K$.Low === undefined?Math.min(s1,P5):K$.Low;if(!s1 && s1 !== 0)continue;if(w8){while(O0[H1 + 1]){c7=O0[H1 + +"1"].Close;if(c7 || c7 === 0 || O0[H1 + 1].futureTick)break;l9n.U6M(33);o2+=l9n.l$6("2",R1);H1++;}}l9n.U6M(23);v7=l9n.Q7U(1,H1,W2);l9n.U_P(36);U9=l9n.Q7U(o2,3,R1,v7,8);y7=l2(P5);if(y7 < P9){y7=P9;if(P8){I5.moveTo(U9,y7);continue;}P8=!![];}else if(y7 > G3){y7=G3;if(P8){I5.moveTo(U9,y7);continue;}P8=!!({});}else {P8=![];}if(!d9){d9=!!({});l9n.U6M(37);var Z3a=l9n.Q7U(18,0,19,1);Q8=u_.dataSet.length - u_.scroll - Z3a;if(Q8 < 0){I5.moveTo(U9,y7);}else if(Q8 >= 0){X2=u_.dataSet[Q8];if(X2.transform){X2=X2.transform;}S9=X2.Close;S9=l2(S9);S9=Math.min(Math.max(S9,P9),G3);I5.moveTo(N4.left + (H1 - 1) * this.layout.candleWidth + this.micropixels,S9);I5.lineTo(U9,y7);}I5.moveTo(U9,y7);}else {I5.lineTo(U9,y7);}l9n.U6M(21);U9+=l9n.l$6(v7,R1,4);if(P5 < s1){y7=l2(d$);if(y7 < P9){y7=P9;}if(y7 > G3){y7=G3;}I5.lineTo(U9,y7);l9n.U6M(38);U9+=l9n.Q7U(R1,v7,0,"4");y7=l2(N3);if(y7 < P9){y7=P9;}if(y7 > G3){y7=G3;}I5.lineTo(U9,y7);}else {y7=l2(N3);if(y7 < P9){y7=P9;}if(y7 > G3){y7=G3;}I5.lineTo(U9,y7);l9n.U_P(21);U9+=l9n.l$6(v7,R1,4);y7=l2(d$);if(y7 < P9){y7=P9;}if(y7 > G3){y7=G3;}I5.lineTo(U9,y7);}l9n.U6M(21);U9+=l9n.Q7U(v7,R1,4);y7=l2(s1);q_[H1]=y7;if(y7 < P9){y7=P9;}if(y7 > G3){y7=G3;}I5.lineTo(U9,y7);}h4=this.canvasStyle(C1f);if(h4.width && parseInt(h4.width,10) <= 25){I5.lineWidth=Math.max(1,b9.stripPX(h4.width));}else {I5.lineWidth=1;}if(d4.highlight){I5.lineWidth*=2;}this.canvasColor("stx_line_chart");if(d4.color){I5.strokeStyle=d4.color;}if(!d4.highlight && this.highlightedDraggable){I5.globalAlpha*=0.3;}I5.stroke();I5.closePath();w3={colors:[I5.strokeStyle],cache:q_};this.endClip();I5.lineWidth=1;return w3;};b9.ChartEngine.prototype.drawHistogram=function(H8,W6){var T0s=V5cdF;var e3k,c09,s2,o7,r4,v5,F_,V$,k3,c2,s0,l1,b0,m$,e6,W4,L_,a8,I$m,Z_,T$m,U0q,p9,a_,T_,a4,E6,t_,R_,M1,Y4,f4,X31,h0,J2,R6,Y1,F5;e3k="Dat";e3k+="a";c09="str";c09+="etch";if(!W6 || !W6.length){return;}s2=H8.panel;if(!s2){s2="chart";}o7=this.panels[s2];if(!o7){return;}r4=H8.stretchGaps;if(!r4 && r4 !== !!0){r4=this.cleanupGaps === c09;}T0s.j0M();v5=H8.yAxis?H8.yAxis:o7.yAxis;F_=H8.type;V$=this.chart.dataSegment;k3=!"1";c2=1;s0=1;for(b0=0;b0 < W6.length;b0++){k3|=W6[b0].border_color_up && !b9.isTransparent(W6[b0].border_color_up);k3|=W6[b0].border_color_down && !b9.isTransparent(W6[b0].border_color_down);c2=W6[b0].opacity_up;s0=W6[b0].opacity_down;if(!H8.highlight && this.highlightedDraggable){c2*=0.3;s0*=0.3;}}if(H8.borders === !1){k3=!!0;}if(!H8.name){H8.name=e3k;}m$=v5.multiplier;if(!H8.heightPercentage){H8.heightPercentage=0.7;}if(!H8.widthFactor){H8.widthFactor=+"0.8";}e6=0;W4=0;for(var h1=0;h1 < this.chart.maxTicks;h1++){L_=V$[h1];if(!L_)continue;a8=0;for(b0=0;b0 < W6.length;b0++){I$m="s";I$m+="tr";I$m+="etch";l1=W6[b0].subField || this.chart.defaultPlotField || "Close";Z_=L_[W6[b0].field];if(!Z_ && this.cleanupGaps === I$m){Z_=this.valueFromInterpolation(h1,W6[b0].field,l1,o7,v5,!!({}));}if(Z_ || Z_ === 0){T$m="st";T$m+="ack";T$m+="ed";if(typeof Z_ == "object" && Z_[l1]){Z_=Z_[l1];}if(F_ == T$m){a8+=Z_;}else {a8=Z_;}if(a8 > e6){e6=a8;}if(a8 < W4){W4=a8;}}}}if(e6 === 0 && W4 === 0){U0q=" Not Ava";U0q+="ilabl";U0q+="e";this.displayErrorAsWatermark(s2,this.translateIf(H8.name + U0q));return;}a_=!!0;if(!H8.bindToYAxis){if(v5.flipped){p9=Math.floor(v5.top) - 0.5;T_=Math.floor(v5.bottom) - 0.5;}else {T0s.U6M(39);var V2O=T0s.Q7U(12,17,3,17,69);p9=Math.floor(v5.bottom) + "0.5" * V2O;T_=Math.floor(v5.top) + 0.5;}m$=Math.abs(p9 - T_) * H8.heightPercentage / (e6 - W4);}else {if(v5.baseline){W4=v5.baseline.value;a_=!!1;}p9=Math.floor(this.pixelFromPrice(W4,o7,v5)) + (v5.flipped?-0.5:0.5);}this.startClip(s2);a4=this.layout.candleWidth <= 1 || !k3?0:0.5;E6=this.chart.context;if(v5.flipped){T0s.U6M(10);E6.translate(T0s.Q7U("0",0),("2" | 0) * v5.top);E6.scale(1,-1);}t_=Math.max(0,(1 - H8.widthFactor) * this.layout.candleWidth / 2);R_=new Array(V$.length);M1=[];Y4=this;T0s.U6M(24);f4=T0s.l$6("1",1);for(b0=0;b0 < W6.length;b0++){X31="fun";X31+="cti";X31+="o";X31+="n";h0=W6[b0];f4=this.layout.candleWidth * H8.widthFactor;if(t_){if(this.layout.candleWidth - f4 <= 2){k3=!!0;}}T0s.U6M(40);J2=T0s.l$6("0",0);if(F_ == "clustered"){J2=b0;f4/=W6.length;}l1=h0.subField || this.chart.defaultPlotField || "Close";if(typeof h0.color_function == X31){Y1={};for(var e5="0" | 0;e5 < V$.length;e5++){if(V$[e5]){R6=h0.color_function(V$[e5]);if(typeof R6 == "string"){R6={fill_color:R6,border_color:R6};}if(!R6.hasOwnProperty("border_opacity")){R6.border_opacity=R6.opacity;}F5=R6.fill_color + "," + R6.border_color;if((F5 in Y1)){Y1[F5].positions.push(e5);}else {R6.positions=[e5];Y1[F5]=R6;}}}for(F5 in Y1){R6=Y1[F5];A5(h0.field,l1,R6.fill_color,R6.opacity,null,null,J2,f4,R6.positions);A5(h0.field,l1,R6.border_color,R6.border_opacity,!![],null,J2,f4,R6.positions);}}else {A5(h0.field,l1,h0.fill_color_up,c2,null,!!1,J2,f4);A5(h0.field,l1,h0.fill_color_down,s0,null,null,J2,f4);if(this.layout.candleWidth >= 2 && k3){A5(h0.field,l1,h0.border_color_up,c2,!!({}),!!"1",J2,f4);A5(h0.field,l1,h0.border_color_down,s0,!![],null,J2,f4);}}if(F_ == "stacked"){M1=b9.shallowClone(R_);}}E6.globalAlpha=1;this.endClip();function A5(g9,B3,b_,s5,I$,g8,K7,e_,w7){var e7,S7,I_,U86,T5,b2,u3,v8,p7,m5,M$,V3,u7,N5,f0,t7,k2;if(!s5){T0s.U_P(2);s5=T0s.l$6(1,"1");}E6.globalAlpha=s5;E6.beginPath();T0s.U_P(1);e7=T0s.Q7U(0.5,p9);S7=Math.floor(Y4.pixelFromBar(0,o7.chart) - Y4.layout.candleWidth / 2);I_=S7;for(var b3=0;b3 < V$.length;b3++){U86="cl";U86+="u";U86+="stere";U86+="d";T5=V$[b3];b2=0;u3=M1[b3] || p9;if(b3 === 0){e7=u3;}if(!T5 || !T5[g9]){e7=u3;I_+=Y4.layout.candleWidth;continue;}if(r4 && F_ !== "clustered"){while(V$[b3 + 1]){T0s.U_P(1);v8=V$[T0s.l$6(1,b3)][g9];if(v8 || v8 === 0 || V$[b3 + 1].futureTick)break;if(v8 && (v8.Close || v8.Close === +"0"))break;b2++;b3++;}u3=M1[b3] || p9;}p7=T5[g9];if(typeof p7 == "object" && !isNaN(p7[B3])){p7=p7[B3];}T0s.U_P(41);m5=T0s.Q7U(m$,p7,W4);M$=Y4.layout.candleWidth;if(T5.candleWidth){M$=T5.candleWidth;if(b3 === 0){S7=I_=Math.floor(Y4.pixelFromBar(0,o7.chart) - T5.candleWidth / 2);}}if(isNaN(m5)){e7=u3;I_+=M$;continue;}V3=Math.floor(u3 - m5) + 0.5;if(V3 > u3 && !a_){V3=u3;}if(w7 && w7.indexOf(b3) == -1 || !w7 && (g8 && T5.Close < T5.iqPrevClose || !g8 && T5.Close >= T5.iqPrevClose)){e7=V3;I_+=M$ + Y4.layout.candleWidth * b2;continue;}u7=M$ / Y4.layout.candleWidth;T0s.U6M(42);N5=Math.round(T0s.l$6(u7,e_,I_,K7,t_));T0s.U6M(1);f0=T0s.Q7U(I$?0:a4,N5);t7=N5 + Math.round(e_ * u7) - (I$?0:a4);if(t7 - f0 < 2){T0s.U6M(1);t7=T0s.Q7U(1,f0);}k2=I$?"0" << 0:0.5;if(f0 % +"1" == k2){f0+=+"0.5";}if(t7 % 1 == k2){t7+=0.5;}T0s.U6M(2);t7+=T0s.l$6(b2,e_);E6.moveTo(t7,u3);if(p9 != u3 && I$ && !t_ && M1[b3 + 1]){E6.moveTo(t7,Math.max(V3,Math.min(u3,M1[b3 + 1])));}E6.lineTo(t7,V3);E6.lineTo(f0,V3);if(I$ && K7){if(R_[b3] > V3 || b3 === 0){E6.lineTo(f0,Math.min(u3,R_[b3]));}}else if(I$ && !t_ && F_ == U86){if(b3 > +"0" && R_[b3 - 1] && R_[b3 - 1] > V3){E6.lineTo(f0,Math.min(u3,R_[b3 - 1]));}}else if(I$ && !t_){if(e7 > V3 || b3 === 0){E6.lineTo(f0,Math.min(u3,e7));}}else {E6.lineTo(f0,u3);}e7=V3;I_+=M$ + Y4.layout.candleWidth * b2;if(F_ != "clustered" || I$){R_[b3]=V3;}for(var z1=0;z1 < b2;z1++){T0s.U6M(10);R_[T0s.Q7U(b3,z1)]=R_[b3];}}if(I$){E6.strokeStyle=!b_ || b_ == "auto"?Y4.defaultColor:b_;E6.stroke();}else {E6.fillStyle=!b_ || b_ == "auto"?Y4.defaultColor:b_;E6.fill();}E6.closePath();}};b9.ChartEngine.prototype.scatter=function(g1,P1){var f02=V5cdF;var A0,p8,B5,z$,C1,T2,g0,M7,m1,n7,m6,m9,e_0,i_,s8,g6,o0,E7,f_;A0=g1.chart;p8=A0.dataSegment;B5=new Array(p8.length);z$=this.chart.context;this.canvasColor("stx_scatter_chart");if(!P1){P1={};}C1=P1.field || A0.defaultPlotField;T2=P1.yAxis || g1.yAxis;g0=P1.subField || A0.defaultPlotField || "Close";this.startClip(g1.name);z$.beginPath();z$.lineWidth=P1.lineWidth || 4;if(P1.highlight){z$.lineWidth*=2;}if(!P1.highlight && this.highlightedDraggable){z$.globalAlpha*=0.3;}f02.j0M();if(P1.color){z$.strokeStyle=P1.color;}M7=T2.top;m1=T2.bottom;n7=this.layout.candleWidth;f02.U6M(43);var y4T=f02.Q7U(17,2,20);m6=g1.left - 0.5 * n7 + this.micropixels - y4T;var {tickFilter:J8}=P1;for(var L4=0;L4 <= p8.length;L4++){f02.U6M(11);m6+=f02.Q7U(2,n7);n7=this.layout.candleWidth;f02.U6M(33);m6+=f02.Q7U("2",n7);m9=p8[L4];if(!m9)continue;if(m9.candleWidth){m6+=(m9.candleWidth - n7) / 2;n7=m9.candleWidth;}if(J8){if(J8.length === 0)break;if(!J8.has(m9.tick))continue;J8.delete(m9.tick);}if(!m9.projection){e_0="Sc";e_0+="a";e_0+="tter";if(A0.transformFunc && T2 == A0.panel.yAxis && m9.transform){m9=m9.transform;}i_=m9[C1];if(i_ && i_[g0] !== undefined){i_=i_[g0];}if(!(i_ instanceof Array)){i_=[i_];}if((e_0 in m9)){i_=m9.Scatter;}for(var R2=0;R2 < i_.length;R2++){if(!i_[R2] && i_[R2] !== 0)continue;s8=i_[R2];g6=0;if(i_[R2] instanceof Array){s8=i_[R2][0];g6=i_[R2][2];}o0=T2.semiLog?T2.height * (1 - (Math.log(Math.max(s8,0)) / Math.LN10 - T2.logLow) / T2.logShadow):(T2.high - s8) * T2.multiplier;if(T2.flipped){f02.U6M(10);o0=f02.l$6(m1,o0);}else {o0+=M7;}if(o0 < M7)continue;if(o0 > m1)continue;E7=2;if(g6){f02.U_P(2);E7=f02.Q7U(g6,n7);}f02.U6M(10);z$.moveTo(f02.l$6(m6,E7),o0);f02.U_P(1);z$.lineTo(f02.l$6(E7,m6),o0);B5[L4]=o0;}}}z$.stroke();z$.closePath();f_={colors:[z$.strokeStyle],cache:B5};this.endClip();z$.lineWidth=1;return f_;};};q=N7=>{var b9x,d__,e49,R1o,V_B,j3C,E6D,q4d,E_C,E19,P5K,N3x,L0J,B00,A_P,U1m,w1x,u8G,i1I,w5O,V8k,E2,i8;b9x="lin";b9x+="eW";b9x+="id";b9x+="th";d__="ax";d__+="is";d__+="Lab";d__+="el";e49="f";e49+="on";e49+="t";R1o="s";R1o+="o";R1o+="lid";V_B="au";V_B+="to";j3C="s";j3C+="ol";j3C+="i";j3C+="d";E6D="soli";E6D+="d";q4d="soli";q4d+="d";E_C="a";E_C+="u";E_C+="t";E_C+="o";E19="s";E19+="ol";E19+="i";E19+="d";P5K="a";P5K+="u";P5K+="t";P5K+="o";N3x="s";N3x+="olid";L0J="aut";L0J+="o";B00="s";B00+="o";B00+="li";B00+="d";A_P="sol";A_P+="i";A_P+="d";U1m="sol";U1m+="id";w1x="a";w1x+="uto";u8G="s";u8G+="o";u8G+="l";u8G+="id";i1I="a";i1I+="u";i1I+="to";w5O="#";w5O+="7DA6F5";V8k="so";V8k+="l";V8k+="id";E2=typeof _CIQ !== "undefined"?_CIQ:N7.CIQ;i8=typeof _timezoneJS !== "undefined"?_timezoneJS:N7.timezoneJS;E2.ChartEngine.drawingTools={};E2.ChartEngine.currentVectorParameters={vectorType:null,pattern:V8k,lineWidth:+"1",fillColor:w5O,currentColor:"auto",axisLabel:!!({}),showCallout:!({}),alwaysMagnetize:!"1",spanPanels:![],fibonacci:{trend:{color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},fibs:[{level:-0.786,color:i1I,parameters:{pattern:u8G,opacity:"0.25" * 1,lineWidth:1}},{level:-0.618,color:w1x,parameters:{pattern:U1m,opacity:0.25,lineWidth:1},display:!!({})},{level:-0.5,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:-0.382,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!0},{level:-0.236,color:"auto",parameters:{pattern:A_P,opacity:0.25,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!!({})},{level:0.236,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:0.382,color:"auto",parameters:{pattern:B00,opacity:"0.25" * 1,lineWidth:+"1"},display:!0},{level:0.5,color:L0J,parameters:{pattern:N3x,opacity:0.25,lineWidth:1},display:!0},{level:0.618,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!0},{level:+"0.786",color:"auto",parameters:{pattern:"solid",opacity:"0.25" - 0,lineWidth:1}},{level:1,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!!"1"},{level:+"1.272",color:P5K,parameters:{pattern:E19,opacity:0.25,lineWidth:1}},{level:1.382,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!!({})},{level:1.618,color:E_C,parameters:{pattern:q4d,opacity:0.25,lineWidth:1},display:!!({})},{level:2.618,color:"auto",parameters:{pattern:E6D,opacity:0.25,lineWidth:1}},{level:4.236,color:"auto",parameters:{pattern:j3C,opacity:0.25,lineWidth:1}}],extendLeft:![],printLevels:!!"1",printValues:![],timezone:{color:V_B,parameters:{pattern:R1o,opacity:0.25,lineWidth:1}}},volumeProfile:{priceBuckets:30},annotation:{font:{style:null,size:null,weight:null,family:null}},measurementline:{calloutOnHover:!!"",displayGroups:{bars:!0,delta:!!"1",annpercent:![],totreturn:!"1",volume:!({}),studies:![]}}};E2.ChartEngine.registerDrawingTool=function(R0,B8){E2.ChartEngine.drawingTools[R0]=B8;};E2.ChartEngine.completeDrawing=function(a6){var T$,h4a;if(!a6 || !a6.activeDrawing){return;}T$=a6.activeDrawing;if(!a6.keepDrawingToolSelected){if(a6.drawingContainer && a6.drawingContainer.tool){h4a="not";h4a+="ool";a6.drawingContainer.tool({node:null},h4a);}else {a6.changeVectorType("");}}a6.dispatch("drawingComplete",{stx:a6,drawing:T$});};E2.ChartEngine.prototype.keepDrawingToolSelected=!({});E2.ChartEngine.prototype.setDrawingContainer=function(Y0){V5cdF.U0D();this.drawingContainer=Y0;};E2.ChartEngine.prototype.exportDrawings=function(){var D3;D3=[];for(var g4=0;g4 < this.drawingObjects.length;g4++){D3.push(this.drawingObjects[g4].serialize());}return D3;};E2.ChartEngine.prototype.abortDrawings=function(G4){var F1;if(G4 !== !1){G4=!![];}for(var x_=this.drawingObjects.length - 1;x_ >= 0;x_--){F1=this.drawingObjects[x_];F1.abort(!"");if(G4 || !F1.permanent){this.drawingObjects.splice(x_,1);}}};E2.ChartEngine.prototype.importDrawings=function(w_){V5cdF.U0D();var A8,N$,W8;if(!E2.Drawing){return;}for(var P3=0;P3 < w_.length;P3++){A8=w_[P3];if(A8.name == "fibonacci"){A8.name="retracement";}N$=E2.ChartEngine.drawingTools[A8.name];if(!N$){if(E2.Drawing[A8.name]){N$=E2.Drawing[A8.name];E2.ChartEngine.registerDrawingTool(A8.name,N$);}}if(N$){W8=new N$();W8.reconstruct(this,A8);this.drawingObjects.push(W8);}}};E2.ChartEngine.prototype.clearDrawings=function(t$,k0){var N8,U1;if(k0 !== !1){k0=!!({});}N8=this.exportDrawings();V5cdF.U0D();this.abortDrawings(k0);if(t$){this.undoStamps=[];}else {this.undoStamp(N8,this.exportDrawings());}this.changeOccurred("vector");this.cancelTouchSingleClick=!!({});E2.clearCanvas(this.chart.tempCanvas,this);this.draw();U1=this.controls.mSticky;if(U1){U1.style.display="none";U1.children[0].innerHTML="";}};E2.ChartEngine.prototype.createDrawing=function(X9,l9){var A6,K0;if(!E2.Drawing){return;}A6=new E2.Drawing[X9]();A6.reconstruct(this,l9);K0=new E2.Drawing[X9]();K0.stx=this;K0.copyConfig();for(var S_ in K0){A6[S_]=A6[S_] || K0[S_];}this.drawingObjects.push(A6);this.draw();return A6;};E2.ChartEngine.prototype.removeDrawing=function(U8){for(var h8=0;h8 < this.drawingObjects.length;h8++){if(this.drawingObjects[h8] == U8){this.drawingObjects.splice(h8,1);this.changeOccurred("vector");this.draw();return;}};};E2.ChartEngine.prototype.undo=function(){var z8I,d9B,p2F,U9C;z8I="u";z8I+="n";z8I+="do";if(this.runPrepend(z8I,arguments)){return;}if(this.activeDrawing){d9B="s";d9B+="tx_";d9B+="crosshair";p2F="stx";p2F+="_crosshair_dr";p2F+="awing";U9C="stx";U9C+="_cros";U9C+="shai";U9C+="r";this.editingAnnotation=!({});this.activeDrawing.abort();this.activeDrawing.hidden=!!"";this.drawingSnapshot=null;this.activateDrawing(null);E2.clearCanvas(this.chart.tempCanvas,this);this.draw();this.controls.crossX.classList.replace("stx_crosshair_drawing",U9C);this.controls.crossY.classList.replace(p2F,d9B);E2.ChartEngine.drawingLine=!!0;this.cancelTouchSingleClick=!![];}this.runAppend("undo",arguments);};E2.ChartEngine.prototype.undoStamp=function(A1,S$){this.undoStamps.push(A1);V5cdF.j0M();this.dispatch("undoStamp",{before:A1,after:S$,stx:this});};E2.ChartEngine.prototype.undoLast=function(){V5cdF.j0M();var e64;if(this.activeDrawing){this.undo();}else {if(this.undoStamps.length){e64="ve";e64+="ctor";this.drawingObjects=[];this.importDrawings(this.undoStamps.pop());this.changeOccurred(e64);this.draw();}}};E2.ChartEngine.prototype.addDrawing=function(x5){var I8;I8=this.exportDrawings();this.drawingObjects.push(x5);this.undoStamp(I8,this.exportDrawings());};E2.ChartEngine.prototype.repositionDrawing=function(d8,Y$){var u4,a$,l8;if(this.currentPanel.name != d8.panelName && !d8.spanPanels){return;}u4=this.panels[d8.panelName];a$=this.adjustIfNecessary(u4,this.crosshairTick,d8.valueFromPixel(this.backOutY(E2.ChartEngine.crosshairY),u4,this.getYAxisByField(u4,d8.field)));l8=this.chart.tempCanvas;E2.clearCanvas(l8,this);if(Y$){this.drawingSnapshot=this.exportDrawings();d8.render(l8.context);}else {d8.reposition(l8.context,d8.repositioner,this.crosshairTick,a$);if(this.drawingSnapshot){this.undoStamp(E2.shallowClone(this.drawingSnapshot),this.exportDrawings());}this.drawingSnapshot=null;}if(d8.measure){d8.measure();}};E2.ChartEngine.prototype.activateRepositioning=function(B9){var W5;W5=this.repositioningDrawing=B9;if(B9){this.draw();this.repositionDrawing(B9,!"");}V5cdF.j0M();this.chart.tempCanvas.style.display=B9?"block":"none";};E2.ChartEngine.prototype.activateDrawing=function(S3,H3){var G6e,i4v,y8m,w0;G6e="n";G6e+="on";G6e+="e";i4v="b";function g3(B$){var J1;if(!H3 || !B$.layout.studies){return;}J1=B$.layout.studies[H3.name];if(J1 && !J1.overlay){delete B$.overlays[J1.name];}}i4v+="lo";i4v+="c";i4v+="k";if(!H3){H3=this.currentPanel;}this.drawingSnapshot=null;if(!S3){y8m="n";y8m+="o";y8m+="n";y8m+="e";this.activeDrawing=null;this.chart.tempCanvas.style.display=y8m;g3(this);return !!0;}w0=E2.ChartEngine.drawingTools[S3];if(!w0){if(E2.Drawing[S3]){w0=E2.Drawing[S3];E2.ChartEngine.registerDrawingTool(S3,w0);}}if(w0){this.activeDrawing=new w0();this.activeDrawing.construct(this,H3);if(!this.charts[H3.name]){if(this.activeDrawing.chartsOnly){this.activeDrawing=null;g3(this);return ![];}}}this.chart.tempCanvas.style.display=i4v;if(this.controls.drawOk){this.controls.drawOk.style.display=G6e;}g3(this);return !0;};E2.ChartEngine.prototype.drawingClick=function(u8,H2,g2){var u3i,G7v,y5,k9,A4,h5,F$,u0,M6e,x8J;V5cdF.U0D();if(!E2.Drawing){return;}if(!u8){return;}if(this.openDialog !== ""){return;}if(!this.activeDrawing){if(!this.activateDrawing(this.currentVectorParameters.vectorType,u8)){return;}}if(this.activeDrawing){if(this.userPointerDown && !this.activeDrawing.dragToDraw){if(!E2.ChartEngine.drawingLine){this.activateDrawing(null);}return;}else if(!this.activeDrawing.p0){u3i="Cl";u3i+="o";u3i+="s";u3i+="e";G7v="Op";G7v+="en";y5=this.highlightedDataSetField;if(this.magnetizedPrice !== null && (u8 !== this.chart.panel || [G7v,"High","Low",u3i].indexOf(this.magneticHold) < +"0")){y5=E2.getObjectChainRoot(this.magneticHold);}if(!y5 && u8 != this.chart.panel){for(var l6 in this.chart.seriesRenderers){k9=this.chart.seriesRenderers[l6];if(k9.params.panel == u8.name){y5=k9.seriesParams[0].field;break;}}for(var L7 in this.layout.studies){A4=this.layout.studies[L7];if(A4.panel == u8.name){y5=Object.keys(A4.outputMap)[+"0"];break;}}}this.activeDrawing.field=y5;}h5=this.tickFromPixel(H2,u8.chart);F$=this.panels[this.activeDrawing.panelName];if(this.magnetizedPrice || this.magnetizedPrice === 0){u0=this.adjustIfNecessary(F$,h5,this.magnetizedPrice);}else {u0=this.adjustIfNecessary(F$,h5,this.activeDrawing.valueFromPixel(g2,F$,this.getYAxisByField(F$,this.activeDrawing.field)));}if(this.activeDrawing.click(this.chart.tempCanvas.context,h5,u0)){if(this.activeDrawing){E2.ChartEngine.drawingLine=!!0;E2.clearCanvas(this.chart.tempCanvas,this);this.addDrawing(this.activeDrawing);E2.ChartEngine.completeDrawing(this);this.activateDrawing(null);this.adjustDrawings();this.draw();this.changeOccurred("vector");this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair");this.controls.crossY.classList.replace("stx_crosshair_drawing","stx_crosshair");}}else {M6e="stx_cro";M6e+="sshair_drawi";M6e+="ng";x8J="d";x8J+="raw";x8J+="i";x8J+="ng";this.changeOccurred(x8J);E2.ChartEngine.drawingLine=!!({});this.controls.crossX.classList.replace("stx_crosshair","stx_crosshair_drawing");this.controls.crossY.classList.replace("stx_crosshair",M6e);}return !0;}return !({});};E2.ChartEngine.prototype.rightClickDrawing=function(r1,n5,r3){var I2,c8;if(this.runPrepend("rightClickDrawing",arguments)){return;}if(r1.permanent){return;}if(this.callbackListeners.drawingEdit.length){this.dispatch("drawingEdit",{stx:this,drawing:r1,forceEdit:n5,forceText:r3});}else {I2=r1.abort();if(!I2){c8=this.exportDrawings();this.removeDrawing(r1);this.undoStamp(c8,this.exportDrawings());}this.changeOccurred("vector");}V5cdF.U0D();this.runAppend("rightClickDrawing",arguments);};E2.ChartEngine.prototype.magnetize=function(){var I2o=V5cdF;var h1t,C0a,V30,T_2,A5_,K2,R4,W9,e8,h6,G1,t8,z9,g7,i1,E$,z3,E0,e1,l5,z5,A$,B0,j9,P0;h1t="stx-";h1t+="draggable";C0a="meas";C0a+="urementl";C0a+="in";C0a+="e";V30="L";V30+="o";V30+="w";T_2="Hig";T_2+="h";A5_="projecti";A5_+="on";K2=this;this.magnetizedPrice=null;if(!this.preferences.magnet && !this.currentVectorParameters.alwaysMagnetize){return;}if(this.runPrepend("magnetize",arguments)){return;}if(this.repositioningDrawing){return;}R4=this.currentVectorParameters.vectorType;if(!R4 || R4 == A5_ || R4 == "freeform"){return;}if((R4 == "annotation" || R4 == "callout") && E2.ChartEngine.drawingLine){return;}W9=this.activeDrawing?this.panels[this.activeDrawing.panelName]:this.currentPanel;e8=W9.chart;h6=this.crosshairTick;if(h6 > e8.dataSet.length){return;}G1=e8.dataSet[h6];if(!G1){return;}z9=this.getRenderedItems();g7=["Open",T_2,V30,"Close"];if(this.activeDrawing && this.activeDrawing.penDown){if(this.magneticHold){if(g7.indexOf(this.magneticHold) != -("1" - 0) && z9.indexOf("High") != -1){z9=g7;}else {z9=[this.magneticHold];}}else {return;};}else {this.magneticHold=null;}i1=1000000000;E$=parseFloat(this.preferences.magnet);if(R4 == C0a){E$=!1;}for(var X_="0" ^ 0;X_ < z9.length;X_++){z3=this.getYAxisByField(W9,z9[X_]) || W9.yAxis;E0=e8.transformFunc && z3 === e8.yAxis;if(E0 && G1.transform){G1=G1.transform;}e1=G1[z9[X_]];l5=E2.existsInObjectChain(G1,z9[X_]);if(l5){e1=l5.obj[l5.member];}if(e1 || e1 === 0){z5=this.pixelFromTransformedValue(e1,W9,z3);if(Math.abs(this.cy - z5) < i1){i1=Math.abs(this.cy - z5);if(E$ && E$ <= i1)continue;this.magnetizedPrice=e1;if(E0){(function(){var U_,c3;U_=e8.untransformFunc;c3=E2.getObjectChainRoot(z9[X_]);I2o.U0D();if(U_ && e8.series[c3]){e8.untransformFunc=(e2,J3,i6,S4)=>{I2o.U0D();return U_(e2,J3,i6,S4,c3);};}K2.magnetizedPrice=K2.valueFromPixel(z5,W9);e8.untransformFunc=U_;})();}t8=z5;this.magneticHold=z9[X_];}}}A$=this.pixelFromTick(h6,e8);B0=t8;E2.clearCanvas(e8.tempCanvas,this);j9=e8.tempCanvas.context;j9.beginPath();j9.lineWidth=1;I2o.U_P(1);var l_t=I2o.Q7U(11,1);I2o.U_P(44);var Z37=I2o.Q7U(19,11,36,24,12);P0=Math.max(this.layout.candleWidth,l_t) / Z37;j9.arc(A$,B0,Math.min(P0,8),0,2 * Math.PI,!({}));j9.fillStyle="#398dff";j9.strokeStyle="#398dff";j9.fill();j9.stroke();j9.closePath();e8.tempCanvas.style.display="block";if(this.anyHighlighted){this.container.classList.remove(h1t);}if(this.activeDrawing){this.activeDrawing.move(j9,this.crosshairTick,this.activeDrawing.valueFromPixel(B0,W9,this.getYAxisByField(W9,this.activeDrawing.field)));}this.runAppend("magnetize",arguments);};E2.ChartEngine.prototype.changeVectorType=function(W7){var x7,R8,u$;this.currentVectorParameters.vectorType=W7;this.currentVectorParameters.alwaysMagnetize=!({});if(E2.Drawing){E2.Drawing.initializeSettings(this,W7);}V5cdF.j0M();if(E2.ChartEngine.drawingLine){this.undo();}x7=this.uiContext && this.uiContext.topNode.multiChartContainer?this.uiContext.topNode.closest("cq-context-wrapper.active"):!![];if(!this.container.classList.contains("stx-crosshair-on") && W7 && x7){var {chart:A_, left:F3, top:E_}=this;R8=A_.width / ("2" | 0) + F3 + A_.left;V5cdF.U_P(6);var w03=V5cdF.Q7U(15,13);u$=A_.height / w03 + E_ + A_.top;this.mousemoveinner(R8,u$);}this.doDisplayCrosshairs();};E2.ChartEngine.prototype.changeVectorParameter=function(L9,Y8){var w9T,o$,l6q,O_u;w9T="p";w9T+="x";if(L9 == "axisLabel"){Y8=Y8.toString() === "true" || Number(Y8);}else if(L9 == "lineWidth"){Y8=Number(Y8);}else if(L9 == "fontSize"){V5cdF.U_P(45);var m82=V5cdF.l$6(1,3,10,8,10);Y8=parseInt(Y8,m82) + w9T;}o$=this.currentVectorParameters;if(typeof o$[L9] !== "undefined"){o$[L9]=Y8;return !"";}else if(L9.substr(0,4) == "font"){l6q="un";l6q+="define";l6q+="d";O_u="def";O_u+="aul";O_u+="t";L9=L9.substr(4).toLowerCase();if(L9 == "family" && Y8.toLowerCase() == O_u){Y8=null;}o$=o$.annotation.font;if(typeof o$[L9] !== l6q){o$[L9]=Y8;return !!({});}}return !"1";};E2.ChartEngine.prototype.drawVectors=function(){var Y$5,C9,g_,b7,s9,n_;Y$5="d";Y$5+="rawV";Y$5+="ectors";if(this.vectorsShowing){return;}if(this.runPrepend(Y$5,arguments)){return;}this.vectorsShowing=!!1;if(!this.chart.hideDrawings && !this.highlightedDraggable){C9={};for(b7=+"0";b7 < this.drawingObjects.length;b7++){s9=this.drawingObjects[b7];if(s9.hidden)continue;if(this.repositioningDrawing === s9)continue;g_=s9.panelName;if(!this.panels[s9.panelName] || this.panels[s9.panelName].hidden)continue;for(var f1 in this.panels){if(!C9[f1]){C9[f1]=[];}if(s9.spanPanels || f1 == g_){s9.originPanelName=s9.panelName;C9[f1].push(s9);}}}for(g_ in C9){this.startClip(g_);n_=C9[g_];for(b7=0;b7 < n_.length;b7++){if(n_[b7].spanPanels){n_[b7].panelName=g_;n_[b7].render(this.chart.context);n_[b7].panelName=n_[b7].originPanelName;}else {n_[b7].render(this.chart.context);}}this.endClip();}}this.runAppend("drawVectors",arguments);};E2.ChartEngine.prototype.adjustDrawings=function(){var P_;for(var L1=+"0";L1 < this.drawingObjects.length;L1++){P_=this.drawingObjects[L1];if(this.panels[P_.panelName]){P_.adjust();}}};E2.Drawing=E2.Drawing || (function(){this.chartsOnly=!({});this.penDown=!1;V5cdF.U0D();;});E2.Drawing.getDrawingParameters=function(R7,P7){var q2,s3,t5,O1;try{q2=new E2.Drawing[P7]();}catch(A2){}if(!q2){return null;}q2.stx=R7;q2.copyConfig(!!1);s3={};V5cdF.j0M();t5=q2.configs;for(var i7=0;i7 < t5.length;i7++){s3[t5[i7]]=q2[t5[i7]];}O1=R7.canvasStyle("stx_annotation");if(O1 && s3.font){s3.font.size=O1.fontSize;s3.font.family=O1.fontFamily;s3.font.style=O1.fontStyle;s3.font.weight=O1.fontWeight;}return s3;};E2.Drawing.saveConfig=function(N6,T0){var D7,x4;if(!T0){return;}D7=N6.preferences;if(!D7.drawings){D7.drawings={};}D7.drawings[T0]={};x4=new E2.Drawing[T0]();x4.stx=N6;E2.Drawing.copyConfig(x4);x4.configs.forEach(function(t3){V5cdF.U0D();D7.drawings[T0][t3]=x4[t3];});N6.changeOccurred("preferences");};E2.Drawing.restoreDefaultConfig=function(q9,u6,Y3){var e1Z;e1Z="pref";e1Z+="erences";if(Y3){q9.preferences.drawings=null;}else {q9.preferences.drawings[u6]=null;}q9.changeOccurred(e1Z);q9.currentVectorParameters=E2.clone(E2.ChartEngine.currentVectorParameters);q9.currentVectorParameters.vectorType=u6;};E2.Drawing.initializeSettings=function(y9,D5){var C6,g$;C6=E2.Drawing[D5];if(C6){g$=new C6();if(g$.initializeSettings){g$.initializeSettings(y9);}}};E2.Drawing.updateSource=function(C$,z0,i3,x$){var J$_,s7,c1,s1S;J$_="vec";J$_+="to";J$_+="r";if(!z0){return;}s7=!"1";for(var d_ in C$.drawingObjects){c1=C$.drawingObjects[d_];if(!c1.field)continue;if(i3){if(c1.field == z0){c1.field=i3;s7=!![];}else if(c1.field.indexOf(z0) > -1 && c1.field.indexOf(z0 + (2028 != (68.03,4330)?"-":(472.21,"p"))) == -1){c1.field=c1.field.replace(z0,i3);s7=!![];}}else {s1S="--";s1S+=">";if(c1.field.split(s1S)[0] == z0 || c1.panelName == z0){c1.panelName=x$;s7=!0;}}}if(s7){C$.changeOccurred(J$_);}};E2.Drawing.prototype.copyConfig=function(C4){E2.Drawing.copyConfig(this,C4);};E2.Drawing.copyConfig=function(n6,I7){var h9,O2,l7,F4,Y8j,L8,A$7;h9=n6.stx.currentVectorParameters;O2=n6.configs;V5cdF.U0D();for(l7=0;l7 < O2.length;l7++){Y8j="fo";Y8j+="nt";F4=O2[l7];if(F4 == "color"){n6.color=h9.currentColor;}else if(F4 == "parameters"){n6.parameters=E2.clone(h9.fibonacci);}else if(F4 == Y8j){n6.font=E2.clone(h9.annotation.font);}else {n6[F4]=h9[F4];}}if(!I7){return;}L8=n6.stx.preferences;if(L8 && L8.drawings){E2.extend(n6,L8.drawings[h9.vectorType]);for(l7=0;l7 < O2.length;l7++){A$7="colo";A$7+="r";F4=O2[l7];if(F4 == A$7){h9.currentColor=n6.color;}else if(F4 == "parameters"){h9.fibonacci=E2.clone(n6.parameters);}else if(F4 == "font"){h9.annotation.font=E2.clone(n6.font);}else {h9[F4]=n6[F4];}}}};E2.Drawing.prototype.dragToDraw=!"1";E2.Drawing.prototype.permanent=!1;E2.Drawing.prototype.chartsOnly=!({});E2.Drawing.prototype.abort=function(L0){};E2.Drawing.prototype.measure=function(){};E2.Drawing.prototype.construct=function(u1,X6){this.stx=u1;this.panelName=X6.name;};E2.Drawing.prototype.isAllowed=function(q$,e3){return !0;};E2.Drawing.prototype.render=function(t4){console.warn("must implement render function!");};E2.Drawing.prototype.click=function(i9,T7,u2){console.warn("must implement click function!");};E2.Drawing.prototype.move=function(B6,U3,m_){console.warn("must implement move function!");};E2.Drawing.prototype.reposition=function(A3,c0,Z7,Z5){};E2.Drawing.prototype.intersected=function(a7,A9,y4){V5cdF.j0M();var l0V;l0V="must implement ";l0V+="inters";l0V+="ected function!";console.warn(l0V);};E2.Drawing.prototype.reconstruct=function(Q0,j7){console.warn("must implement reconstruct function!");};E2.Drawing.prototype.serialize=function(){console.warn("must implement serialize function!");};E2.Drawing.prototype.adjust=function(){console.warn("must implement adjust function!");};E2.Drawing.prototype.highlight=function(T8){if(T8 && !this.highlighted){this.highlighted=T8;}else if(!T8 && this.highlighted){this.highlighted=T8;}V5cdF.U0D();return this.highlighted;};E2.Drawing.prototype.littleCircleRadius=function(){V5cdF.U0D();var q5;q5=6;return q5;};E2.Drawing.prototype.littleCircle=function(H_,Y9,w5,b6){var n9,o9;if(this.permanent){return;}n9=this.stx.defaultColor;o9=E2.chooseForegroundColor(n9);H_.beginPath();H_.lineWidth=+"1";V5cdF.U0D();H_.arc(Y9,w5,this.littleCircleRadius(),0,2 * Math.PI,!({}));if(b6){H_.fillStyle=n9;}else {H_.fillStyle=o9;}H_.strokeStyle=n9;H_.setLineDash([]);H_.fill();H_.stroke();H_.closePath();};E2.Drawing.prototype.rotator=function(b4,g5,J_,G_){var Z0c=V5cdF;var p6,Z1,Z2;if(this.permanent){return;}p6=this.littleCircleRadius();Z1=this.stx.defaultColor;b4.beginPath();b4.lineWidth=2;if(!G_){b4.globalAlpha=+"0.5";}Z0c.U_P(1);Z2=Z0c.l$6(p6,4);b4.arc(g5,J_,Z2,0,3 * Math.PI / 2,!!0);Z0c.U_P(19);b4.moveTo(Z0c.l$6(Z2,2,g5),Z0c.l$6(2,J_,Z0c.U6M(1)));Z0c.U6M(1);b4.lineTo(Z0c.Q7U(Z2,g5),J_);Z0c.U_P(23);b4.lineTo(Z0c.Q7U(Z2,g5,2),Z0c.l$6(J_,"2",Z0c.U_P(46)));Z0c.U6M(30);b4.moveTo(Z0c.l$6("2",g5),Z0c.l$6(Z2,0,J_,"2",Z0c.U_P(47)));Z0c.U_P(10);b4.lineTo(g5,Z0c.l$6(J_,Z2));Z0c.U6M(10);b4.lineTo(Z0c.Q7U(g5,2),Z0c.l$6(Z2,"2",J_,Z0c.U_P(48)));b4.strokeStyle=Z1;b4.stroke();b4.closePath();b4.globalAlpha=1;};E2.Drawing.prototype.mover=function(f5,V0,i$,p$){var t$q=V5cdF;var m4,z_,F9,F0;if(this.permanent){return;}m4=this.littleCircleRadius();z_=this.stx.defaultColor;F9=5;t$q.U_P(49);F0=t$q.Q7U("1",m4,0);f5.save();f5.lineWidth=2;f5.strokeStyle=z_;f5.translate(V0,i$);if(!p$){f5.globalAlpha=0.5;}for(var f7=0;f7 < 4;f7++){f5.rotate(Math.PI / 2);f5.beginPath();f5.moveTo(0,F0);t$q.U6M(1);f5.lineTo(0,t$q.l$6(F9,F0));t$q.U_P(50);f5.moveTo(-2,t$q.Q7U("2",F9,F0,2));t$q.U6M(1);f5.lineTo(0,t$q.l$6(F9,F0));t$q.U_P(51);f5.lineTo(2,t$q.Q7U("2",F0,F9));f5.closePath();f5.stroke();}f5.globalAlpha=+"1";f5.restore();};E2.Drawing.prototype.resizer=function(r5,G6,z7,C3){var e$w=V5cdF;var a9,f$,Z3,l3;if(this.permanent){return;}a9=this.littleCircleRadius();f$=this.stx.defaultColor;e$w.U6M(34);var I85=e$w.Q7U(8,61,9,557);e$w.U_P(10);var R6_=e$w.Q7U(4,2);Z3=("5" << I85) * Math.sqrt(R6_);e$w.U_P(1);l3=e$w.l$6(1,a9);r5.save();r5.lineWidth=2;r5.strokeStyle=f$;r5.translate(G6,z7);r5.rotate(-(G6 * z7) / Math.abs(G6 * z7) * Math.PI / 4);if(!C3){r5.globalAlpha=+"0.5";}for(var K6=0;K6 < +"2";K6++){r5.rotate(Math.PI);r5.beginPath();r5.moveTo(0,l3);e$w.U6M(1);r5.lineTo(0,e$w.Q7U(Z3,l3));e$w.U_P(16);r5.moveTo(-+"2",e$w.Q7U(Z3,l3,2));e$w.U_P(1);r5.lineTo(0,e$w.Q7U(Z3,l3));e$w.U6M(16);r5.lineTo(2,e$w.Q7U(Z3,l3,2));r5.closePath();r5.stroke();}r5.globalAlpha=+"1";r5.restore();};E2.Drawing.prototype.pointIntersection=function(V7,d2,a2,P9j){var V4,X7;V4=this.stx;X7=V4.panels[this.panelName];if(!X7){return !({});}if(this.field && !P9j){d2=this.pixelFromValue(X7,V7,d2,V4.getYAxisByField(X7,this.field));V7=V4.pixelFromTick(V7,X7.chart);P9j=!![];}if(P9j){if(V7 >= a2.cx0 && V7 <= a2.cx1 && d2 >= a2.cy0 && d2 <= a2.cy1){return !![];}}else {if(V7 >= a2.x0 && V7 <= a2.x1 && d2 >= Math.min(a2.y0,a2.y1) && d2 <= Math.max(a2.y0,a2.y1)){return !0;}}return !!0;};E2.Drawing.prototype.setPoint=function(R80,y9$,B5N,g8p){var T8j=V5cdF;var y4X,D2q,C3Z,F6V,T9k,s_m,b7x,H9n,D6A;var {stx:L0P}=this;var {maxTicks:T$L = 100, dataSet:y8Y = []}=g8p || L0P.chart || ({});y4X=-T$L;T8j.U6M(52);var E5u=T8j.Q7U(5,28,6,0,16);D2q=y8Y.length - E5u + T$L;C3Z=null;F6V=null;if(typeof y9$ == "number"){C3Z=y9$;}else if(y9$.length >= 8){F6V=y9$;}else {C3Z=Number(y9$);}if(B5N || B5N === 0){T8j.U6M(1);this[T8j.l$6(R80,"v")]=B5N;}if(C3Z !== null){C3Z=Math.max(C3Z,y4X);C3Z=Math.min(C3Z,D2q);T9k=L0P.dateFromTick(C3Z,g8p,!![]);T8j.U6M(1);this[T8j.Q7U(R80,"tzo")]=T9k.getTimezoneOffset();T8j.U_P(1);this[T8j.l$6(R80,"1982" << 0 >= 1410?+"2160" > 9760?692 == 4222?("1.63e+3" | 94,!!({})):(!0,53.36):"d":(2.45e+3,5.27e+3))]=E2.yyyymmddhhmmssmmm(T9k);T8j.U6M(1);this[T8j.Q7U(R80,"p")]=[C3Z,B5N];}else if(F6V !== null){s_m="t";s_m+="z";s_m+="o";b7x=E2.strToDateTime(F6V);if(!this["tzo" + R80] && this["tzo" + R80] !== 0){T8j.U6M(1);this[T8j.Q7U(R80,s_m)]=b7x.getTimezoneOffset();}T8j.U_P(1);this[T8j.Q7U(R80,"d")]=F6V;H9n=this["tzo" + R80] - b7x.getTimezoneOffset();b7x.setMinutes(b7x.getMinutes() + H9n);D6A=!({});if(this.name != "freeform" && !E2.ChartEngine.isDailyInterval(L0P.layout.interval) && !b7x.getHours() && !b7x.getMinutes() && !b7x.getSeconds() && !b7x.getMilliseconds()){D6A=!"";}T8j.U6M(1);this[T8j.l$6(R80,(257.51,"5715" - 0) < (+"1940",900.8)?(483.81,"8004" >> 64) > 892.37?(7940,"1899" - 0) === 928.18?!({}):("u",+"9.57e+3"):!!({}):"p")]=[L0P.tickFromDate(E2.yyyymmddhhmmssmmm(b7x),g8p,null,D6A),B5N];}};E2.Drawing.prototype.getLineColor=function(U1D,M44){var z14=V5cdF;var t84,J8F,j6h,C6r,h0C,i9E,F0m,I38,i6V,T4h,d8I,q$O,s5d,a17;t84="a";t84+="u";t84+="to";if(!U1D){U1D=this.color;}J8F=this.stx;j6h=U1D;if(!M44 && this.highlighted){j6h=J8F.getCanvasColor("stx_highlight_vector");}else if(E2.isTransparent(j6h)){j6h=J8F.defaultColor;}else if(j6h == t84){j6h=J8F.defaultColor;if(this.field){for(C6r in J8F.layout.studies){h0C=J8F.layout.studies[C6r];i9E=h0C.outputs[h0C.outputMap[this.field]];if(i9E){j6h=i9E.color || i9E;break;}}for(C6r in J8F.chart.seriesRenderers){I38=J8F.chart.seriesRenderers[C6r];for(var v1b=0;v1b < I38.seriesParams.length;v1b++){i6V="Cl";i6V+="o";i6V+="s";i6V+="e";T4h=I38.seriesParams[v1b];d8I=T4h.field;if(!d8I && !I38.highLowBars){d8I=this.defaultPlotField || i6V;}if(T4h.symbol && T4h.subField){d8I+="-->" + T4h.subField;}if(this.field == d8I){j6h=T4h.color;break;}if(T4h.field && T4h.field == this.field.split("-->")[0]){F0m=T4h.color;}}}if(F0m){j6h=F0m;}}}if(j6h == "auto"){j6h=J8F.defaultColor;}q$O=1510133519;z14.U_P(40);s5d=z14.l$6("551281732",0);a17=2;for(var u76=1;z14.S0_(u76.toString(),u76.toString().length,89229) !== q$O;u76++){return j6h;}if(z14.S0_(a17.toString(),a17.toString().length,56453) !== s5d){return j6h;}};E2.Drawing.prototype.valueFromPixel=function(P1q,x0N,s1_){var i1L,x4k,M6J;i1L=x0N.chart.untransformFunc;x4k=this.field;if(i1L && x0N.chart.series[x4k]){x0N.chart.untransformFunc=(w1K,Z1D,L0Z,B$T)=>{return i1L(w1K,Z1D,L0Z,B$T,x4k);};}M6J=this.stx.valueFromPixel(P1q,x0N,s1_);x0N.chart.untransformFunc=i1L;return M6J;};E2.Drawing.prototype.pixelFromValue=function(e3X,R_9,J5g,b3O){var o2y,O9T,y$m;o2y=e3X.chart.transformFunc;O9T=this.field;if(o2y && e3X.chart.series[O9T]){e3X.chart.transformFunc=(u4e,Q3Y,D16,C5a)=>{V5cdF.j0M();return o2y(u4e,Q3Y,D16,C5a,O9T);};}y$m=this.stx.pixelFromValueAdjusted(e3X,R_9,J5g,b3O);e3X.chart.transformFunc=o2y;return y$m;};E2.Drawing.prototype.boxToPixels=function(H5Q,B8k,v_3,a3A){var g$7,h_G,D_I,c3R;g$7=H5Q.panels[B8k];h_G=g$7.chart.transformFunc;D_I=this.field;if(h_G && g$7.chart.series[D_I]){g$7.chart.transformFunc=(k1R,v1m,Z3R,w5u)=>{return h_G(k1R,v1m,Z3R,w5u,D_I);};}c3R=E2.convertBoxToPixels(H5Q,B8k,v_3,a3A);g$7.chart.transformFunc=h_G;return c3R;};E2.Drawing.BaseTwoPoint=function(){this.p0=null;this.p1=null;this.color="";};E2.inheritsFrom(E2.Drawing.BaseTwoPoint,E2.Drawing);E2.Drawing.BaseTwoPoint.prototype.configs=[];E2.Drawing.BaseTwoPoint.prototype.lineIntersection=function(U2Z,e1m,x6I,i5h,U_v,v4k,w2a){var e3G,Z$s;if(!U_v){U_v=this.p0;}if(!v4k){v4k=this.p1;}e3G=this.stx;if(!(U_v && v4k)){return !!0;}if(x6I.cx0 === undefined){return !"1";}V5cdF.j0M();Z$s={x0:U_v[0],x1:v4k["0" | 0],y0:U_v[1],y1:v4k[1]};if(!w2a){Z$s=this.boxToPixels(e3G,this.panelName,Z$s,e3G.getYAxisByField(e3G.panels[this.panelName],this.field));}return E2.boxIntersects(x6I.cx0,x6I.cy0,x6I.cx1,x6I.cy1,Z$s.x0,Z$s.y0,Z$s.x1,Z$s.y1,i5h);};E2.Drawing.BaseTwoPoint.prototype.boxIntersection=function(D4a,P54,c_N){V5cdF.U0D();var Q1q,E6k;if(!this.p0 || !this.p1){return !({});}var {x0:L_g, x1:m03, y0:i50, y1:a6s, cy0:f0U, cy1:w4t}=c_N;if(L_g > Math.max(this.p0["0" * 1],this.p1[0]) || m03 < Math.min(this.p0[0],this.p1[0])){return !({});}var {field:i83, panelName:O98, stx:u3G}=this;if(i83){Q1q=u3G.panels[O98];E6k=u3G.getYAxisByField(Q1q,i83);i50=this.valueFromPixel(f0U,Q1q,E6k);a6s=this.valueFromPixel(w4t,Q1q,E6k);}if(a6s > Math.max(this.p0[1],this.p1[1]) || i50 < Math.min(this.p0[1],this.p1[1])){return !({});}return !![];};E2.Drawing.BaseTwoPoint.prototype.accidentalClick=function(H5c,G6Q){var k0$=V5cdF;var K3t,v4T,W1O,j48,s0g,q5O,A9E,C35,O7O,j$Z;K3t=this.stx;v4T=K3t.panels[this.panelName];W1O=K3t.pixelFromTick(this.p0[+"0"],v4T.chart);j48=K3t.pixelFromTick(H5c,v4T.chart);s0g=K3t.getYAxisByField(v4T,this.field);q5O=this.pixelFromValue(v4T,this.p0[0],this.p0[1],s0g);k0$.j0M();A9E=this.pixelFromValue(v4T,H5c,G6Q,s0g);k0$.U6M(10);C35=Math.abs(k0$.Q7U(j48,W1O));k0$.U6M(10);O7O=Math.abs(k0$.Q7U(A9E,q5O));k0$.U_P(53);j$Z=Math.sqrt(k0$.l$6(C35,O7O,O7O,C35));if(j$Z < +"10"){this.penDown=!1;K3t.undo();return !![];}};E2.Drawing.BaseTwoPoint.prototype.click=function(h8G,X4L,e3M){var x0S,m5y;this.copyConfig();x0S=this.stx;m5y=x0S.panels[this.panelName];if(!this.penDown){this.setPoint(0,X4L,e3M,m5y.chart);this.penDown=!!"1";return !!"";}if(this.accidentalClick(X4L,e3M)){return !!1;}V5cdF.U_P(9);V5cdF.U0D();this.setPoint(V5cdF.l$6(32,"1"),X4L,e3M,m5y.chart);this.penDown=![];return !!({});;};E2.Drawing.BaseTwoPoint.prototype.adjust=function(){var w3l;w3l=this.stx.panels[this.panelName];if(!w3l){return;}this.setPoint(0,this.d0,this.v0,w3l.chart);this.setPoint(1,this.d1,this.v1,w3l.chart);};E2.Drawing.BaseTwoPoint.prototype.move=function(F3v,q$L,h04){if(!this.penDown){return;}this.copyConfig();this.p1=[q$L,h04];this.render(F3v);};E2.Drawing.BaseTwoPoint.prototype.measure=function(){var z7c,k_e,d_j,Y4N;z7c=this.stx;if(this.p0 && this.p1){z7c.setMeasure(this.p0[1],this.p1["1" ^ 0],this.p0[0],this.p1[0],!0,this.name);k_e=z7c.controls.mSticky;d_j=k_e && k_e.querySelector(".mStickyInterior");if(d_j){Y4N=[];Y4N.push(z7c.translateIf(E2.capitalize(this.name)));if(this.getYValue){Y4N.push(z7c.translateIf(this.field || z7c.defaultPlotField || "Close"));}Y4N.push(d_j.innerHTML);d_j.innerHTML=Y4N.join("<br>");}}};E2.Drawing.BaseTwoPoint.prototype.reposition=function(Y8V,D8_,u3R,r2a){var W$q,i7g,M$h;V5cdF.U0D();if(!D8_){return;}W$q=this.stx.panels[this.panelName];i7g=D8_.tick - u3R;M$h=D8_.value - r2a;if(this.spanPanels && this.stx.currentPanel.name !== this.originPanelName){V5cdF.U_P(24);M$h=V5cdF.Q7U("0",0);}if(D8_.action == "move"){this.setPoint(0,D8_.p0["0" ^ 0] - i7g,D8_.p0[1] - M$h,W$q.chart);this.setPoint(1,D8_.p1[0] - i7g,D8_.p1[1] - M$h,W$q.chart);this.render(Y8V);}else if(D8_.action == "drag"){this[D8_.point]=[u3R,r2a];this.setPoint(0,this.p0[0],this.p0[1],W$q.chart);this.setPoint(1,this.p1[0],this.p1[+"1"],W$q.chart);this.render(Y8V);}};E2.Drawing.BaseTwoPoint.prototype.drawDropZone=function(f4x,K0q,r7A,S3V,e5n){var f0i,Y3r,L9d,g8Q,F_w,K2v,z8u,L4N;f0i="#";f0i+="008000";Y3r=this.stx.panels[this.panelName];if(!Y3r){return;}L9d=this.stx;g8Q=Y3r.left;F_w=Y3r.width;if(S3V || S3V === 0){g8Q=L9d.pixelFromTick(S3V,Y3r.chart);}if(e5n || e5n === 0){F_w=L9d.pixelFromTick(e5n,Y3r.chart);}K2v=L9d.getYAxisByField(Y3r,this.field);z8u=this.pixelFromValue(Y3r,S3V,K0q,K2v);L4N=this.pixelFromValue(Y3r,e5n,r7A,K2v);f4x.fillStyle=f0i;f4x.globalAlpha=0.2;V5cdF.U_P(10);f4x.fillRect(g8Q,z8u,V5cdF.l$6(F_w,g8Q),V5cdF.Q7U(L4N,z8u));f4x.globalAlpha=1;};E2.Drawing.BaseTwoPoint.prototype.valueOnDrawingAxis=function(P2w,o_$){var S6s;V5cdF.U0D();var {stx:Y9U, panelName:x$R, field:w7a}=this;S6s=Y9U.panels[x$R];return this.valueFromPixel(Y9U.pixelFromValueAdjusted(S6s,P2w,o_$),S6s,Y9U.getYAxisByField(S6s,w7a));};E2.Drawing.annotation=function(){var g2q;g2q="a";g2q+="nn";g2q+="otation";this.name=g2q;V5cdF.U0D();this.arr=[];this.w=0;this.h=+"0";this.padding=5;this.text="";this.ta=null;this.border=!0;this.fontSize=+"0";this.font={};this.defaultWidth=25;this.whitespace=30;this.fontModifier=3;};E2.inheritsFrom(E2.Drawing.annotation,E2.Drawing.BaseTwoPoint);E2.Drawing.annotation.prototype.getFontString=function(){var Y_N,o4v,g0L;Y_N="stx_ann";Y_N+="ot";Y_N+="ation";this.fontDef={style:null,weight:null,size:"12px",family:null};o4v=this.stx.canvasStyle(Y_N);if(o4v){if(o4v.fontStyle){this.fontDef.style=o4v.fontStyle;}if(o4v.fontWeight){this.fontDef.weight=o4v.fontWeight;}if(o4v.fontSize){this.fontDef.size=o4v.fontSize;}if(o4v.fontFamily){this.fontDef.family=o4v.fontFamily;}}if(this.font.style){this.fontDef.style=this.font.style;}if(this.font.weight){this.fontDef.weight=this.font.weight;}if(this.font.size){this.fontDef.size=this.font.size;}if(this.font.family){this.fontDef.family=this.font.family;}this.fontString="";g0L=!!"1";for(var V$Z in this.fontDef){if(this.fontDef[V$Z]){if(!g0L){this.fontString+=(4114,908) == (7523,8290)?0x2ca:1480 == 8461?(541.28,260.37):(8070,55) > 962?(!({}),"m"):" ";}else {g0L=!({});}this.fontString+=this.fontDef[V$Z];}}};E2.Drawing.annotation.prototype.configs=["color",e49];E2.Drawing.annotation.prototype.measure=function(){};E2.Drawing.annotation.prototype.render=function(o5c){var y2q=V5cdF;var g81,D_v,W$x,c9O,a_G,l_a,B7n,E4u,J43,Y5B,I1g,A0V,m7d,S5F,f3e,r3M,f5D;g81="a";g81+="lpha";g81+="betic";if(this.ta){return;}D_v=this.stx;W$x=D_v.panels[this.panelName];c9O=D_v.getYAxisByField(W$x,this.field);if(!W$x || this.field && !c9O){return;}a_G=D_v.pixelFromTick(this.p0[0],W$x.chart);l_a=this.pixelFromValue(W$x,this.p0[0],this.p0[1],c9O);o5c.font=this.fontString;o5c.textBaseline="middle";B7n=a_G;E4u=l_a;J43=this.w;Y5B=this.h;I1g=this.getLineColor();if(this.stem){if(this.stem.d){A0V=D_v.pixelFromTick(this.stem.t);S5F=this.pixelFromValue(W$x,this.stem.t,this.stem.v,c9O);y2q.U6M(54);m7d=y2q.Q7U(J43,2,B7n);y2q.U6M(54);f3e=y2q.l$6(Y5B,2,E4u);}else if(this.stem.x){A0V=B7n;S5F=E4u;B7n+=this.stem.x;E4u+=this.stem.y;y2q.U_P(54);m7d=y2q.l$6(J43,2,B7n);y2q.U6M(54);f3e=y2q.Q7U(Y5B,2,E4u);}o5c.beginPath();if(this.borderColor){o5c.strokeStyle=this.borderColor;}else {o5c.strokeStyle=I1g;}o5c.moveTo(A0V,S5F);o5c.lineTo(m7d,f3e);o5c.stroke();}r3M=o5c.lineWidth;if(this.highlighted){D_v.canvasColor("stx_annotation_highlight_bg",o5c);y2q.U6M(10);o5c.fillRect(y2q.l$6(B7n,r3M),y2q.l$6(Y5B,E4u,r3M,2,y2q.U_P(55)),y2q.l$6(J43,2,r3M,y2q.U_P(56)),y2q.Q7U(Y5B,2,r3M,y2q.U_P(56)));}else {if(this.fillColor){o5c.fillStyle=this.fillColor;y2q.U_P(57);o5c.fillRect(B7n,y2q.l$6(E4u,Y5B,2),J43,Y5B);}else if(this.stem){o5c.fillStyle=D_v.containerColor;y2q.U6M(57);o5c.fillRect(B7n,y2q.l$6(E4u,Y5B,2),J43,Y5B);}}if(this.borderColor){f5D="stx_hi";f5D+="ghlight_vecto";f5D+="r";o5c.beginPath();o5c.strokeStyle=this.highlighted?D_v.getCanvasColor(f5D):this.borderColor;y2q.U_P(10);o5c.rect(y2q.l$6(B7n,r3M),y2q.l$6(Y5B,E4u,r3M,2,y2q.U_P(55)),y2q.l$6(r3M,J43,"2",2,y2q.U6M(58)),y2q.l$6(Y5B,2,r3M,y2q.U_P(56)));o5c.stroke();}if(this.highlighted){D_v.canvasColor("stx_annotation_highlight",o5c);}else {o5c.fillStyle=I1g;}y2q.U_P(32);var S4t=y2q.Q7U(4,2,10,6);E4u+=this.padding / S4t;if(!this.ta){for(var I9i=0;I9i < this.arr.length;I9i++){o5c.fillText(this.arr[I9i],B7n + this.padding,E4u - Y5B / 2 + this.fontSize / 2);y2q.U6M(10);var G_$=y2q.l$6(17,15);E4u+=this.fontSize + G_$;;}}o5c.textBaseline=g81;};E2.Drawing.annotation.prototype.onChange=function(N6O){;};E2.Drawing.annotation.prototype.edit=function(W4z,F$l){var Z6j=V5cdF;var q3z,T54,o9A,P1s,c5S,W9Z,K_4,K1_,m$N,Q4K,I6A,e$6,v8y,B2O,g1n,n$T,B2z,s5m,P6N;q3z="p";q3z+="x";T54="annotati";T54+="on";o9A=this.stx.panels[this.panelName];if(!o9A){return;}P1s=this.stx.controls.annotationSave;function g0P(L0s){Z6j.j0M();return function(d1k){var j6g;Z6j.U0D();if(!L0s.ta || !L0s.ta.value){return;}L0s.text=L0s.ta.value;j6g=L0s.stx;j6g.editingAnnotation=!!0;L0s.adjust();if(j6g.drawingSnapshot){j6g.undoStamp(E2.shallowClone(j6g.drawingSnapshot),j6g.exportDrawings());}else {E2.ChartEngine.completeDrawing(j6g);j6g.addDrawing(L0s);;}j6g.undo();j6g.changeOccurred("vector");};}c5S=this.stx.controls.annotationCancel;if(!P1s || !c5S){return;}W9Z=this.stx;K_4=this.ta;function c13(M3U){return function(j5K){M3U.stx.undo();};}W9Z.editingAnnotation=!![];W9Z.undisplayCrosshairs();if(!W9Z.openDialog){W9Z.openDialog=[];}if(!W9Z.openDialog.includes(T54)){W9Z.openDialog.push("annotation");}if(!K_4){K1_="wr";K1_+="a";K1_+="p";K_4=this.ta=document.createElement("TEXTAREA");K_4.className="stx_annotation";K_4.onkeyup=n8b(this);K_4.onmouseup=Q9t(W9Z);K_4.setAttribute(K1_,"hard");if(E2.isIOS7or8){K_4.setAttribute("placeholder","Enter Text");}W9Z.chart.container.appendChild(K_4);K_4.style.position="absolute";K_4.style.paddingLeft=this.padding + "px";K_4.value=this.text;if(E2.touchDevice){K_4.ontouchstart=function(C_B){Z6j.U0D();C_B.stopPropagation();};;}}m$N=this;K_4.oninput=function(a5A){a5A.target.value=W9Z.emojify(a5A.target.value);if(a5A.inputType != "historyUndo" && a5A.inputType != "historyRedo"){m$N.onChange(a5A);}};K_4.style.font=this.fontString;function n8b(d2I){return function(f0q){var S3N,h_U,K0M,w7S,v_5,u3I,V6E,C6q,S66,a$j,F8S,b8Q,H$9,B0C,o7x,M3$,U1_,o$B;if(f0q){S3N=f0q.keyCode;switch(S3N){case +"27":d2I.stx.undo();return;}}h_U=d2I.stx;K0M=d2I.ta;w7S=K0M.value.split("\n");v_5=0;h_U.chart.context.font=d2I.fontString;d2I.fontSize=E2.stripPX(d2I.fontDef.size);for(var f96=0;f96 < w7S.length;f96++){u3I=h_U.chart.context.measureText(w7S[f96]).width;if(u3I > v_5){v_5=u3I;}}Z6j.U6M(59);var h4t=Z6j.Q7U(6,49,8);V6E=(w7S.length + h4t) * (d2I.fontSize + d2I.fontModifier);v_5=Math.max(v_5,d2I.defaultWidth * 2);K0M.style.width=v_5 + d2I.whitespace + "px";Z6j.U_P(1);K0M.style.height=Z6j.l$6("px",V6E);C6q=parseInt(E2.stripPX(K0M.style.top),10);S66=E2.stripPX(K0M.style.left);v_5=K0M.clientWidth;V6E=K0M.clientHeight;K0M.focus();if(d2I.border === !({})){K0M.style.border="none";}if(S66 + v_5 + 100 < d2I.stx.chart.canvasWidth){a$j="p";a$j+="x";F8S="p";F8S+="x";b8Q="p";b8Q+="x";Z6j.U_P(1);P1s.style.top=Z6j.l$6("px",C6q);Z6j.U_P(1);c5S.style.top=Z6j.Q7U(b8Q,C6q);Z6j.U6M(0);P1s.style.left=Z6j.l$6(10,v_5,S66,F8S);P1s.style.display="inline-block";Z6j.U_P(1);var L$r=Z6j.l$6(5,0);c5S.style.left=S66 + v_5 + P1s.clientWidth + L$r + a$j;c5S.style.display="inline-block";}else if(C6q + V6E + 30 < d2I.stx.chart.canvasHeight){H$9="inline-";H$9+="bloc";H$9+="k";B0C="i";B0C+="nline";B0C+="-bl";B0C+="ock";o7x="p";o7x+="x";Z6j.U_P(0);P1s.style.top=Z6j.Q7U(10,V6E,C6q,o7x);Z6j.U6M(0);c5S.style.top=Z6j.l$6(10,V6E,C6q,"px");Z6j.U_P(1);P1s.style.left=Z6j.l$6("px",S66);P1s.style.display=B0C;c5S.style.left=S66 + P1s.clientWidth - +"5" + "px";c5S.style.display=H$9;}else {M3$="p";M3$+="x";U1_="p";U1_+="x";o$B="p";o$B+="x";Z6j.U6M(60);P1s.style.top=Z6j.Q7U(C6q,o$B,"35");Z6j.U6M(23);c5S.style.top=Z6j.l$6(U1_,C6q,35);Z6j.U_P(1);P1s.style.left=Z6j.Q7U(M3$,S66);P1s.style.display="inline-block";Z6j.U_P(61);var c8W=Z6j.Q7U(14,6,1,14);c5S.style.left=S66 + P1s.clientWidth - c8W + "px";c5S.style.display="inline-block";}};}if(this.color){Q4K="au";Q4K+="to";if(this.color == "transparent" || this.color == Q4K){I6A=getComputedStyle(K_4);if(I6A && E2.isTransparent(I6A.backgroundColor)){K_4.style.color=this.getLineColor();}else {K_4.style.color="#000";;}}else {K_4.style.color=this.color;}}e$6=W9Z.pixelFromTick(this.p0[0],o9A.chart);function Q9t(s_I){Z6j.j0M();return function(i43){if(s_I.manageTouchAndMouse && E2.ChartEngine.drawingLine){s_I.mouseup(i43);}};}v8y=this.pixelFromValue(o9A,this.p0[0],this.p0[1],W9Z.getYAxisByField(o9A,this.field));K_4.style.left=e$6 + +"140" < W9Z.chart.canvasRight?e$6 + q3z:W9Z.chart.canvasRight - ("200" ^ 0) + "px";K_4.style.top=v8y + 60 < W9Z.chart.canvasHeight?v8y - (!isNaN(this.h)?this.h / 2:this.defaultHeight) + "px":v8y - 60 + "px";if(this.repositionTextArea){this.repositionTextArea(K_4);}E2.safeClickTouch(P1s,g0P(this));E2.safeClickTouch(c5S,c13(this));n8b(this)();if(F$l){B2O="b";B2O+="l";B2O+="ock";W9Z.drawingSnapshot=W9Z.exportDrawings();this.hidden=!![];W9Z.draw();W9Z.activeDrawing=this;E2.ChartEngine.drawingLine=!"";W4z=W9Z.chart.tempCanvas.context;W9Z.chart.tempCanvas.style.display=B2O;this.w=K_4.clientWidth;this.h=K_4.clientHeight;E2.clearCanvas(W4z.canvas,W9Z);this.highlighted=!({});this.render(W4z);this.edit(W4z);}if(E2.isAndroid && !E2.is_chrome && !E2.isFF){this.priorBottom=W9Z.container.style.bottom;g1n=400;Z6j.U_P(23);var J8L=Z6j.Q7U(12,94,6);n$T=W9Z.resolveY(v8y) + J8L;B2z=W9Z.container.ownerDocument.defaultView;if(n$T > E2.pageHeight(B2z) - g1n){s5m=E2.pageHeight(B2z) - n$T;Z6j.U6M(10);P6N=Z6j.Q7U(g1n,s5m);Z6j.U6M(1);W9Z.chart.container.style.bottom=Z6j.Q7U("px",P6N);}}};E2.Drawing.annotation.prototype.click=function(i8F,Y88,q37){var F23;if(this.stx.overXAxis || this.stx.overYAxis){return;}F23=this.stx.panels[this.panelName];V5cdF.j0M();this.copyConfig();this.setPoint(0,Y88,q37,F23.chart);this.adjust();this.edit(i8F);return !"1";};E2.Drawing.annotation.prototype.reposition=function(a4Y,s_l,v4H,w0h){var S6h,J7A,M39;V5cdF.j0M();if(!s_l){return;}S6h=this.stx.panels[this.panelName];J7A=s_l.tick - v4H;M39=s_l.value - w0h;this.setPoint(0,s_l.p0[0] - J7A,s_l.p0[1] - M39,S6h.chart);this.render(a4Y);};E2.Drawing.annotation.prototype.intersected=function(D9P,o0L,T9E){var F9u=V5cdF;var u4W,o5l,O4m,l8S,z_a,e85,D57,l1I,i1v;u4W=this.stx;o5l=u4W.panels[this.panelName];if(!this.p0){return null;}O4m=u4W.pixelFromTick(this.p0[0],o5l.chart);l8S=u4W.getYAxisByField(o5l,this.field);F9u.U_P(62);var m5w=F9u.l$6(17,31,17);F9u.U_P(16);var U1x=F9u.Q7U(9,5,12);z_a=this.pixelFromValue(o5l,this.p0[0],this.p0["1" << m5w],l8S) - this.h / U1x;e85=O4m + this.w;D57=z_a + this.h;if(this.stem && this.stem.x){O4m+=this.stem.x;e85+=this.stem.x;z_a+=this.stem.y;D57+=this.stem.y;}l1I=u4W.pixelFromTick(D9P,o5l.chart);i1v=u4W.pixelFromValueAdjusted(o5l,D9P,o0L);F9u.j0M();if(l1I + T9E.r >= O4m && l1I - T9E.r <= e85 && i1v + T9E.r >= z_a && i1v - T9E.r <= D57){this.highlighted=!![];return {p0:E2.clone(this.p0),tick:D9P,value:this.valueOnDrawingAxis(D9P,o0L)};}return !1;};E2.Drawing.annotation.prototype.abort=function(){var E3Y,c2Z,S0B;E3Y=this.stx;c2Z=E3Y.controls.annotationSave;S0B=E3Y.controls.annotationCancel;if(c2Z){c2Z.style.display="none";}if(S0B){S0B.style.display="none";}if(this.ta){E3Y.chart.container.removeChild(this.ta);}this.ta=null;if(E3Y.openDialog){E3Y.openDialog=E3Y.openDialog.filter(T4o=>{V5cdF.U6M(63);return V5cdF.l$6(T4o,"annotation");});}if(!E3Y.openDialog.length){E3Y.openDialog="";}E3Y.showCrosshairs();V5cdF.j0M();E3Y.editingAnnotation=![];E2.clearCanvas(E3Y.chart.tempCanvas,E3Y);if(E2.isAndroid && !E2.is_chrome && !E2.isFF){E3Y.chart.container.style.bottom=this.priorBottom;}E2.fixScreen();};E2.Drawing.annotation.prototype.reconstruct=function(t0v,R_$){this.stx=t0v;this.color=R_$.col;this.panelName=R_$.pnl;this.d0=R_$.d0;this.tzo0=R_$.tzo0;this.v0=R_$.v0;this.field=R_$.fld;this.text=t0v.escapeOnSerialize?decodeURIComponent(R_$.text):R_$.text;this.stem=R_$.stem;this.borderColor=R_$.bc;this.fillColor=R_$.bg;this.lineWidth=R_$.lw;this.pattern=R_$.ptrn;this.font=E2.replaceFields(R_$.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"});if(!this.font){this.font={};}this.adjust();};E2.Drawing.annotation.prototype.serialize=function(){var h6k,E04;h6k={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,fld:this.field,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text};if(this.font){E04=E2.removeNullValues(E2.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"}));if(!E2.isEmpty(E04)){h6k.fnt=E04;}}if(this.stem){h6k.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y};}if(this.borderColor){h6k.bc=this.borderColor;}V5cdF.j0M();if(this.fillColor){h6k.bg=this.fillColor;}if(this.lineWidth){h6k.lw=this.lineWidth;}if(this.pattern){h6k.ptrn=this.pattern;}return h6k;};E2.Drawing.annotation.prototype.setTextareaProps=function(){var g97=V5cdF;var D0f,k9L,X1E,b_T,p5V,R4q,P7d,T8t,X$_;this.getFontString();D0f=this.stx;k9L=D0f.panels[this.panelName];if(!k9L){return;}X1E=this.text;if(!X1E && this.ta){X1E=this.ta.value;}g97.U0D();this.arr=X1E.split(530.79 === (3316,771.36)?(392.35,8340) === ("4730" | 26)?!!1:(3070,738) != "521.28" - 0?"h":(753.19,!![]):"\n");b_T=0;D0f.chart.context.font=this.fontString;for(var p3M=0;p3M < this.arr.length;p3M++){p5V=D0f.chart.context.measureText(this.arr[p3M]).width;if(p5V > b_T){b_T=p5V;}}if(b_T === 0){g97.U_P(64);var w9u=g97.Q7U(24,9,17,0);b_T=w9u * this.defaultWidth;}if(D0f.editingAnnotation){b_T=Math.max(b_T,2 * this.defaultWidth);}this.fontSize=E2.stripPX(this.fontDef.size);g97.U6M(1);var h1l=g97.l$6(1,0);R4q=(this.arr.length + h1l) * (this.fontSize + this.fontModifier);if(E2.touchDevice){R4q+=+"5";}this.w=b_T + this.whitespace + this.padding;this.h=R4q;P7d=D0f.pixelFromTick(this.p0[0],k9L.chart) + b_T;T8t=D0f.getYAxisByField(k9L,this.field);g97.U6M(17);var h7E=g97.l$6(11,12,131);X$_=this.pixelFromValue(k9L,this.p0[0],this.p0[h7E],T8t) + R4q;this.p1=[D0f.tickFromPixel(P7d,k9L.chart),this.valueFromPixel(X$_,k9L,T8t)];if(this.stem && this.stem.d){this.stem.t=D0f.tickFromDate(this.stem.d,k9L.chart);}};E2.Drawing.annotation.prototype.adjust=function(){var N04,B1t,w1P;N04=this.stx;B1t=N04.panels[this.panelName];if(!B1t){return;}this.setPoint(0,this.d0,this.v0,B1t.chart);this.setTextareaProps();if(this === N04.activeDrawing && N04.editingAnnotation){w1P=N04.chart.tempCanvas.context;E2.clearCanvas(w1P.canvas,N04);this.render(w1P);this.edit(w1P);}};E2.Drawing.segment=function(){var T7v;T7v="se";V5cdF.j0M();T7v+="gment";this.name=T7v;};E2.inheritsFrom(E2.Drawing.segment,E2.Drawing.BaseTwoPoint);E2.Drawing.segment.prototype.getDateFromTick=function(y_m){var e9T,G9T,a5q,l0L,S$S;e9T=this.stx;G9T=e9T.panels[this.panelName];a5q=e9T.dateFromTick(y_m,G9T.chart,!!1);if(!E2.ChartEngine.isDailyInterval(e9T.layout.interval)){V5cdF.U6M(1);var i0t=V5cdF.l$6(833,167);S$S=a5q.getSeconds() * i0t + a5q.getMilliseconds();if(i8.Date && e9T.displayZone){l0L=new i8.Date(a5q.getTime(),e9T.displayZone);a5q=new Date(l0L.getFullYear(),l0L.getMonth(),l0L.getDate(),l0L.getHours(),l0L.getMinutes());a5q=new Date(a5q.getTime() + S$S);}}else {a5q.setHours(+"0",0,0,0);}return a5q;};E2.Drawing.segment.prototype.formatDate=function(v$S){var w2j,b1X,Y0x;w2j=this.stx;V5cdF.j0M();b1X=w2j.panels[this.panelName];Y0x=E2.mmddhhmm(E2.yyyymmddhhmm(v$S));if(b1X.chart.xAxis.formatter){Y0x=b1X.chart.xAxis.formatter(v$S,this.name,null,null,Y0x);}else if(this.stx.internationalizer){Y0x=E2.displayableDate(w2j,w2j.chart,v$S);}return Y0x;};E2.Drawing.segment.prototype.render=function(X1S){var N3V,e0K,s32,B8l,s9M,S$O,o0t,G_F,B_e,O6i,Z_O,e6$,B76,P_1,r7D;N3V="n";N3V+="o";N3V+="n";N3V+="e";e0K=this.stx;s32=e0K.panels[this.panelName];B8l=e0K.getYAxisByField(s32,this.field);if(!s32 || this.field && !B8l && !this.spanPanels){return;}B8l=B8l || s32.yAxis;s9M=e0K.pixelFromTick(this.p0[0],s32.chart);S$O=e0K.pixelFromTick(this.p1[0],s32.chart);o0t=this.pixelFromValue(s32,this.p0["0" | 0],this.p0[1],B8l);G_F=this.pixelFromValue(s32,this.p1[0],this.p1[+"1"],B8l);B_e=this.lineWidth;O6i=this.getLineColor();Z_O={pattern:this.pattern,lineWidth:B_e};if(Z_O.pattern == N3V){Z_O.pattern="solid";}e0K.plotLine(s9M,S$O,o0t,G_F,O6i,this.name,X1S,s32,Z_O);if(this.axisLabel && !this.repositioner){if(this.name == "horizontal"){e0K.endClip();e6$=this.p0[1];if(s32.chart.transformFunc){e6$=s32.chart.transformFunc(e0K,s32.chart,e6$);}if(B8l.priceFormatter){e6$=B8l.priceFormatter(e0K,s32,e6$);}else {e6$=e0K.formatYAxisPrice(e6$,s32,null,B8l);}e0K.createYAxisLabel(s32,e6$,o0t,O6i,null,null,B8l);e0K.startClip(s32.name);}else if(this.name == "vertical" && this.p0[0] >= 0 && !e0K.chart.xAxis.noDraw && (!this.spanPanels || s32.yAxis.bottom !== s32.bottom)){B76=this.getDateFromTick(this.p0[0]);e0K.endClip();e0K.createXAxisLabel({panel:s32,txt:this.formatDate(B76),x:s9M,backgroundColor:O6i,color:null,pointed:!!({}),padding:2});e0K.startClip(s32.name);}}if(this.highlighted && this.name != "horizontal" && this.name != "vertical"){P_1=this.highlighted == "p0"?!"":![];r7D=this.highlighted == "p1"?!"":![];this.littleCircle(X1S,s9M,o0t,P_1);this.littleCircle(X1S,S$O,G_F,r7D);}};E2.Drawing.segment.prototype.abort=function(){V5cdF.U0D();this.stx.setMeasure(null,null,null,null,!"1");};E2.Drawing.segment.prototype.intersected=function(r9u,B5E,V4$){var J4O,N91,e0l,I7Z,G57;J4O="ho";J4O+="rizo";J4O+="n";J4O+="tal";N91="horiz";N91+="o";N91+="n";N91+="tal";if(!this.p0 || !this.p1){return null;}e0l=this.name;if(e0l != N91 && e0l != "vertical" && e0l != "gartley"){I7Z={0:this.p0,1:this.p1};for(var k8_ in I7Z){if(this.pointIntersection(I7Z[k8_][0],I7Z[k8_][1],V4$)){V5cdF.U6M(1);this.highlighted=V5cdF.Q7U(k8_,(1450,9020) >= 439?"p":(556,286.61) == 5760?(![],"N"):!"");return {action:"drag",point:"p" + k8_};}}}if(e0l == J4O || e0l == "vertical"){e0l="line";}G57=this.lineIntersection(r9u,B5E,V4$,e0l);if(G57){this.highlighted=!![];return {action:"move",p0:E2.clone(this.p0),p1:E2.clone(this.p1),tick:r9u,value:this.valueOnDrawingAxis(r9u,B5E)};}return null;};E2.Drawing.segment.prototype.configs=["color","lineWidth","pattern"];E2.Drawing.segment.prototype.copyConfig=function(t11){var H2l,o6i;H2l="s";H2l+="ol";H2l+="id";o6i="fi";o6i+="llCo";o6i+="l";o6i+="or";V5cdF.U0D();E2.Drawing.copyConfig(this,t11);if(this.pattern == "none" && this.configs.indexOf(o6i) == -1){this.pattern=H2l;}};E2.Drawing.segment.prototype.reconstruct=function(n_k,J2J){this.stx=n_k;this.color=J2J.col;this.panelName=J2J.pnl;this.pattern=J2J.ptrn;this.lineWidth=J2J.lw;this.d0=J2J.d0;this.d1=J2J.d1;this.tzo0=J2J.tzo0;this.tzo1=J2J.tzo1;this.v0=J2J.v0;this.v1=J2J.v1;this.field=J2J.fld;this.adjust();};E2.Drawing.segment.prototype.serialize=function(){V5cdF.j0M();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};E2.Drawing.line=function(){var u1u;V5cdF.U0D();u1u="l";u1u+="i";u1u+="n";u1u+="e";this.name=u1u;};E2.inheritsFrom(E2.Drawing.line,E2.Drawing.segment);E2.Drawing.line.prototype.dragToDraw=!({});E2.Drawing.line.prototype.click=function(x2S,C0T,U6Y){var p5T;p5T=this.stx.panels[this.panelName];if(!p5T){return;}this.copyConfig();V5cdF.j0M();if(!this.penDown){this.setPoint(+"0",C0T,U6Y,p5T.chart);this.penDown=!!1;return !!0;}if(this.accidentalClick(C0T,U6Y)){return !![];}this.setPoint(+"1",C0T,U6Y,p5T.chart);this.penDown=!({});return !!({});;};E2.Drawing.line.prototype.reconstruct=function(m8E,Z8q){this.stx=m8E;this.color=Z8q.col;this.panelName=Z8q.pnl;this.pattern=Z8q.ptrn;this.lineWidth=Z8q.lw;this.v0=Z8q.v0;this.v1=Z8q.v1;this.d0=Z8q.d0;this.d1=Z8q.d1;this.tzo0=Z8q.tzo0;this.tzo1=Z8q.tzo1;this.field=Z8q.fld;this.adjust();};E2.Drawing.line.prototype.serialize=function(){V5cdF.j0M();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};E2.Drawing.line.prototype.adjust=function(){var E62;V5cdF.U0D();E62=this.stx.panels[this.panelName];if(!E62){return;}this.setPoint(+"0",this.d0,this.v0,E62.chart);this.setPoint(1,this.d1,this.v1,E62.chart);if(E2.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){V5cdF.U6M(40);this.setPoint(V5cdF.l$6("0",0),this.d0B,this.v0B,E62.chart);this.setPoint(+"1",this.d1B,this.v1B,E62.chart);}};E2.Drawing.horizontal=function(){V5cdF.j0M();this.name="horizontal";};E2.inheritsFrom(E2.Drawing.horizontal,E2.Drawing.segment);E2.Drawing.horizontal.prototype.dragToDraw=!!"";E2.Drawing.horizontal.prototype.measure=function(){};E2.Drawing.horizontal.prototype.click=function(v6f,q0h,O1j){var I9l;I9l=this.stx.panels[this.panelName];if(!I9l){return;}this.copyConfig();V5cdF.U6M(2);this.setPoint(V5cdF.Q7U(1,"0"),q0h,O1j,I9l.chart);return !"";;};E2.Drawing.horizontal.prototype.intersected=function(E0g,B26,G1Q){var N4L,A4E,V2A,D46;if(this.lineIntersection(E0g,B26,G1Q,"line")){N4L="m";N4L+="o";N4L+="v";N4L+="e";A4E=this.stx;V2A=A4E.chart.dataSet.length;D46=this.p0[1];this.highlighted=!!"1";return {action:N4L,p0:[V2A - 2,D46],p1:[V2A - 1,D46],tick:E0g,value:this.valueOnDrawingAxis(E0g,B26)};}return null;};E2.Drawing.horizontal.prototype.reconstruct=function(G3F,F4Y){this.stx=G3F;this.color=F4Y.col;this.panelName=F4Y.pnl;this.pattern=F4Y.ptrn;this.lineWidth=F4Y.lw;this.v0=F4Y.v0;this.d0=F4Y.d0;this.tzo0=F4Y.tzo0;this.axisLabel=F4Y.al;this.field=F4Y.fld;this.adjust();};E2.Drawing.horizontal.prototype.serialize=function(){var S_s;V5cdF.j0M();S_s={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel,fld:this.field};return S_s;};E2.Drawing.horizontal.prototype.adjust=function(){var d6n;d6n=this.stx.panels[this.panelName];if(!d6n){return;}this.setPoint(0,this.d0,this.v0,d6n.chart);V5cdF.U6M(65);var f89=V5cdF.Q7U(17,3,6,84,99);this.p1=[this.p0[0] + f89,this.p0[1]];};E2.Drawing.horizontal.prototype.configs=["color","lineWidth","pattern",d__];E2.Drawing.vertical=function(){V5cdF.j0M();this.name="vertical";this.spanPanels=!1;};E2.inheritsFrom(E2.Drawing.vertical,E2.Drawing.horizontal);E2.Drawing.vertical.prototype.measure=function(){};E2.Drawing.vertical.prototype.configs=["color","lineWidth","pattern","axisLabel","spanPanels"];E2.Drawing.vertical.prototype.intersected=E2.Drawing.segment.prototype.intersected;E2.Drawing.vertical.prototype.adjust=function(){var K2E=V5cdF;var S0T;S0T=this.stx.panels[this.panelName];if(!S0T){return;}this.setPoint(0,this.d0,this.v0,S0T.chart);K2E.U6M(66);var J7C=K2E.Q7U(3,5,12,16);K2E.U6M(3);var U$V=K2E.l$6(6,4,8,4);K2E.U_P(9);this.p1=[this.p0[K2E.Q7U(64,"0")],this.p0[J7C] + U$V];};var {reconstruct:d7, serialize:S1, reposition:o8}=E2.Drawing.vertical.prototype;E2.Drawing.vertical.prototype.reconstruct=function(G$d,p6w){d7.call(this,G$d,p6w);V5cdF.U0D();this.spanPanels=p6w.sp;};E2.Drawing.vertical.prototype.serialize=function(){V5cdF.j0M();var h1S;h1S=S1.call(this);h1S.sp=this.spanPanels;return h1S;};E2.Drawing.vertical.prototype.reposition=function(A1s,H$d,K_q,k1Y){V5cdF.U0D();if(this.spanPanels){Object.values(this.stx.panels).forEach(L$A=>{this.panelName=L$A.name;o8.call(this,A1s,H$d,K_q,k1Y);V5cdF.j0M();this.panelName=this.originPanelName;});}else {o8.call(this,A1s,H$d,K_q,k1Y);}};E2.Drawing.measure=function(){var J4n;J4n="m";J4n+="easure";this.name=J4n;};E2.inheritsFrom(E2.Drawing.measure,E2.Drawing.segment);E2.Drawing.measure.prototype.click=function(q47,d5h,a49){this.copyConfig();if(!this.penDown){this.p0=[d5h,a49];this.penDown=!"";return !({});}this.stx.undo();this.penDown=!!"";return !"";};E2.Drawing.rectangle=function(){V5cdF.j0M();this.name="rectangle";};E2.inheritsFrom(E2.Drawing.rectangle,E2.Drawing.BaseTwoPoint);E2.Drawing.rectangle.prototype.render=function(K7q){var U_V=V5cdF;var N8i,s01,o$M,D02,X5t,t10,P$o,m2$,k_w,I5s,e3P,Q0f,u29,M8c,V7g,O27,z7H,k27;N8i="n";N8i+="on";N8i+="e";s01=this.stx;U_V.j0M();o$M=s01.panels[this.panelName];D02=s01.getYAxisByField(o$M,this.field);if(!o$M || this.field && !D02){return;}X5t=s01.pixelFromTick(this.p0[0],o$M.chart);t10=s01.pixelFromTick(this.p1[+"0"],o$M.chart);P$o=this.pixelFromValue(o$M,this.p0[0],this.p0[1],D02);m2$=this.pixelFromValue(o$M,this.p1[+"0"],this.p1[1],D02);k_w=Math.round(Math.min(X5t,t10)) + ("0.5" - 0);I5s=Math.min(P$o,m2$);e3P=Math.max(X5t,t10) - k_w;Q0f=Math.max(P$o,m2$) - I5s;u29=this.getLineColor();M8c=this.fillColor;if(M8c && !E2.isTransparent(M8c) && M8c != "auto"){K7q.beginPath();K7q.rect(k_w,I5s,e3P,Q0f);K7q.fillStyle=M8c;K7q.globalAlpha=0.2;K7q.fill();K7q.closePath();K7q.globalAlpha=+"1";}V7g={pattern:this.pattern,lineWidth:this.lineWidth};if(this.highlighted && V7g.pattern == N8i){V7g.pattern="solid";if(V7g.lineWidth == +"0.1"){V7g.lineWidth=1;}}s01.plotLine(X5t,t10,P$o,P$o,u29,"segment",K7q,o$M,V7g);U_V.U_P(10);s01.plotLine(t10,t10,U_V.l$6(P$o,0.5),U_V.Q7U(0.5,m2$,U_V.U_P(1)),u29,"segment",K7q,o$M,V7g);s01.plotLine(t10,X5t,m2$,m2$,u29,"segment",K7q,o$M,V7g);U_V.U6M(1);s01.plotLine(X5t,X5t,U_V.l$6(0.5,m2$),U_V.l$6(P$o,0.5,U_V.U6M(10)),u29,"segment",K7q,o$M,V7g);if(this.highlighted){O27="p";O27+="0";z7H=this.highlighted == O27?!"":!!"";k27=this.highlighted == "p1"?!![]:![];this.littleCircle(K7q,X5t,P$o,z7H);this.littleCircle(K7q,t10,m2$,k27);}};E2.Drawing.rectangle.prototype.intersected=function(t1_,V6a,P5o){var I9W;if(!this.p0 || !this.p1){return null;}I9W={0:this.p0,1:this.p1};for(var O8x in I9W){if(this.pointIntersection(I9W[O8x]["0" >> 0],I9W[O8x][1],P5o)){V5cdF.U6M(1);this.highlighted=V5cdF.l$6(O8x,"p");return {action:"drag",point:(3267 !== (4240,1989)?(8130,9490) != (6050,21.03)?"p":365.56:759.48) + O8x};}}if(this.boxIntersection(t1_,V6a,P5o)){this.highlighted=!!"1";return {action:"move",p0:E2.clone(this.p0),p1:E2.clone(this.p1),tick:t1_,value:this.valueOnDrawingAxis(t1_,V6a)};}return null;};E2.Drawing.rectangle.prototype.configs=["color","fillColor",b9x,"pattern"];E2.Drawing.rectangle.prototype.reconstruct=function(u_k,e_j){this.stx=u_k;this.color=e_j.col;this.fillColor=e_j.fc;this.panelName=e_j.pnl;this.pattern=e_j.ptrn;this.lineWidth=e_j.lw;this.d0=e_j.d0;this.d1=e_j.d1;this.tzo0=e_j.tzo0;this.tzo1=e_j.tzo1;this.v0=e_j.v0;this.v1=e_j.v1;this.field=e_j.fld;this.adjust();};E2.Drawing.rectangle.prototype.serialize=function(){V5cdF.j0M();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};E2.Drawing.shape=function(){var A3v,J8U;A3v="s";A3v+="hap";A3v+="e";J8U="s";J8U+="hape";this.name=J8U;this.radians=0;this.a=0;this.rotating=!1;this.textMeasure=![];V5cdF.U0D();this.configurator=A3v;this.dimension=[0,0];this.points=[];};E2.inheritsFrom(E2.Drawing.shape,E2.Drawing.BaseTwoPoint);E2.Drawing.shape.prototype.setRotationOnInitialDraw=!"1";E2.Drawing.shape.prototype.measure=function(){};E2.Drawing.shape.prototype.render=function(a_y){var B2a=V5cdF;var H42,i_7,d2q,U4y,v5_,s6c,k5B,j6X,E54,O_W,S2o,b3e,X4u,u8f,M$x,Y3Z,n3K,x3k,F7$,G35,P_B,B3C,w8p,m4M,X5F,b4s,R7w,t_K;if(!this.points.length){return;}H42=this.stx;i_7=H42.panels[this.panelName];d2q=H42.getYAxisByField(i_7,this.field);if(!i_7 || this.field && !d2q){return;}U4y=H42.pixelFromTick(this.p0[+"0"],i_7.chart);v5_=this.pixelFromValue(i_7,this.p0[0],this.p0[1],d2q);if(this.p1){s6c=H42.pixelFromTick(this.p1[0],i_7.chart);k5B=this.pixelFromValue(i_7,this.p1[0],this.p1[1],d2q);a_y.globalAlpha=0.5;a_y.fillStyle=this.getLineColor();if(this.rotating){B2a.U6M(67);this.radians=Math.atan(B2a.Q7U(v5_,U4y,k5B,s6c));if(s6c < U4y){this.radians+=Math.PI;}else if(k5B < v5_){B2a.U_P(68);var a2d=B2a.l$6(17,12,1,3,9);this.radians+=a2d * Math.PI;}B2a.U6M(6);var j4X=B2a.Q7U(11,1);B2a.U_P(69);var M3k=B2a.l$6(14,7,14,16);this.a=parseInt((this.radians * ("36" ^ 0) / Math.PI).toFixed(0),j4X) * M3k;this.a%=360;this.radians=this.a * Math.PI / ("180" - 0);if(this.textMeasure){a_y.fillText(this.a + "\u00b0",s6c + 10,k5B + ("10" ^ 0));}}else if(this.penDown){this.sx=Math.max(1,parseFloat(Math.abs(("2" ^ 0) * (s6c - U4y) / this.dimension[0]).toFixed(1)));if(s6c < U4y){this.sx*=-1;}this.sy=Math.max(1,parseFloat(Math.abs(2 * (k5B - v5_) / this.dimension[1]).toFixed(1)));if(k5B < v5_){this.sy*=-1;}if(this.textMeasure){a_y.fillText(this.sx + "x," + this.sy + ((+"1470",407) < (214.73,8620)?511.94 == (4198,3490)?+"426.37" < (291.11,"6540" * 1)?7:(26.57,"243.31" - 0):"x":![]),s6c + this.sx + ("5" << 0),k5B + this.sy + 5);}}a_y.globalAlpha=+"1";}if(typeof this.sx === "undefined"){this.sx=this.sy=1;}j6X=this.lineWidth;if(!j6X){j6X=1.1;}E54={pattern:this.pattern,lineWidth:j6X};if(this.highlighted && E54.pattern == "none"){O_W="s";O_W+="o";O_W+="lid";E54.pattern=O_W;if(E54.lineWidth == 0.1){E54.lineWidth=1;}}S2o=this.getLineColor();if(this.highlighted && j6X == 0.1){B2a.U6M(10);j6X=B2a.Q7U("1.1",0);}b3e=this.fillColor;B2a.U_P(70);var c3Q=B2a.Q7U(20,20,11,10);j6X/=Math.abs(this.sx * this.sy) * c3Q / (Math.abs(this.sx) + Math.abs(this.sy));a_y.save();a_y.translate(U4y,v5_);a_y.rotate(this.radians);a_y.scale(this.sx,(d2q || i_7.yAxis).flipped?-this.sy:this.sy);M$x={x:(this.dimension["0" * 1] - 1) / 2,y:(this.dimension[1] - 1) / 2};for(X4u=0;X4u < this.points.length;X4u++){Y3Z="a";Y3Z+="u";Y3Z+="t";Y3Z+="o";a_y.beginPath();for(u8f=0;u8f < this.points[X4u].length;u8f++){w8p=this.points;if(w8p[X4u][u8f] == "M"){n3K=w8p[X4u][++u8f] - M$x.x;x3k=w8p[X4u][++u8f] - M$x.y;a_y.moveTo(n3K,x3k);}else if(w8p[X4u][u8f] == (655.23 == (9560,"9083" * 1)?(3.17e+3,0x17c5):987.62 == 5320?8309 === (923.65,"9250" >> 64)?5.61e+3:(!"1",1.98e+3):"L")){n3K=w8p[X4u][++u8f] - M$x.x;x3k=w8p[X4u][++u8f] - M$x.y;a_y.lineTo(n3K,x3k);}else if(w8p[X4u][u8f] == ((+"7880",5084) == 4970?0xfa9:(5350,2541) === (+"383.93",781.99)?"P":(9099,2620) != (239.54,"401.08" - 0)?"Q":154.42)){F7$=w8p[X4u][++u8f] - M$x.x;P_B=w8p[X4u][++u8f] - M$x.y;n3K=w8p[X4u][++u8f] - M$x.x;x3k=w8p[X4u][++u8f] - M$x.y;a_y.quadraticCurveTo(F7$,P_B,n3K,x3k);}else if(w8p[X4u][u8f] == "B"){F7$=w8p[X4u][++u8f] - M$x.x;P_B=w8p[X4u][++u8f] - M$x.y;G35=w8p[X4u][++u8f] - M$x.x;B3C=w8p[X4u][++u8f] - M$x.y;n3K=w8p[X4u][++u8f] - M$x.x;x3k=w8p[X4u][++u8f] - M$x.y;a_y.bezierCurveTo(F7$,P_B,G35,B3C,n3K,x3k);}}a_y.closePath();if(b3e && !E2.isTransparent(b3e) && b3e != Y3Z){a_y.fillStyle=b3e;a_y.fill();;}if(S2o && this.pattern != "none"){a_y.strokeStyle=S2o;a_y.lineWidth=j6X;if(a_y.setLineDash){a_y.setLineDash(E2.borderPatternToArray(j6X,this.pattern));a_y.lineDashOffset=0;;}a_y.stroke();}}a_y.restore();a_y.save();a_y.translate(U4y,v5_);a_y.rotate(this.radians);if(this.highlighted){m4M="p";m4M+="2";X5F="p";X5F+="1";b4s=this.highlighted == "p0"?!0:!"1";R7w=this.highlighted == X5F?!"":!"1";t_K=this.highlighted == m4M?!!({}):![];this.littleCircle(a_y,0,0,b4s);this.mover(a_y,0,0,b4s);this.littleCircle(a_y,this.sx * this.dimension[0] / ("2" >> 0),this.sy * this.dimension["1" << 32] / 2,R7w);this.resizer(a_y,this.sx * this.dimension[0] / 2,this.sy * this.dimension["1" << 32] / 2,R7w);this.littleCircle(a_y,this.sx * this.dimension[0] / 2,0,t_K);this.rotator(a_y,this.sx * this.dimension[0] / +"2",0,t_K);B2a.U6M(10);a_y.globalAlpha=B2a.l$6("0.5",0);a_y.fillStyle=this.getLineColor(null,!!0);if(this.textMeasure){a_y.fillText(this.sx + "x," + this.sy + "x",this.sx * this.dimension[0] / 2 + 12,this.sy * this.dimension[1] / 2 + 5);a_y.fillText(this.a + "\u00b0",this.sx * this.dimension[0] / 2 + +"12","5" << 64);}a_y.globalAlpha=1;}else if(this.penDown){if(this.rotating){this.rotator(a_y,this.sx * this.dimension[0] / +"2",0,!0);}else {this.resizer(a_y,this.sx * this.dimension[0] / 2,this.sy * this.dimension[1] / 2,!!1);}}a_y.restore();};E2.Drawing.shape.prototype.reposition=function(b5x,N8d,t5u,Y6k){var N7y=V5cdF;var f1Z,A4L,C3G,a1x,Y0r,I77,c_O,d0r,B2X,s9f,a88;f1Z="m";f1Z+="ov";f1Z+="e";if(!N8d){return;}A4L=this.stx;C3G=A4L.panels[this.panelName];if(N8d.action == f1Z){a1x=N8d.tick - t5u;Y0r=N8d.value - Y6k;this.setPoint(0,N8d.p0[0] - a1x,N8d.p0[+"1"] - Y0r,C3G.chart);this.render(b5x);}else {I77="r";I77+="otate";c_O=A4L.getYAxisByField(C3G,this.field);d0r=A4L.pixelFromTick(this.p0[0],C3G.chart);B2X=this.pixelFromValue(C3G,this.p0[+"0"],this.p0[1],c_O);s9f=A4L.pixelFromTick(t5u,C3G.chart);a88=this.pixelFromValue(C3G,t5u,Y6k,c_O);if(N8d.action == "scale"){this[N8d.point]=[t5u,Y6k];this.sx=parseFloat((((s9f - d0r) * Math.cos(this.radians) + (a88 - B2X) * Math.sin(this.radians)) / (this.dimension[0] / 2)).toFixed("1" ^ 0));if(Math.abs(this.sx) < 1){this.sx/=Math.abs(this.sy);}this.sy=parseFloat((((a88 - B2X) * Math.cos(this.radians) - (s9f - d0r) * Math.sin(this.radians)) / (this.dimension["1" | 1] / 2)).toFixed(1));if(Math.abs(this.sy) < 1){this.sy/=Math.abs(this.sy);}this.render(b5x);}else if(N8d.action == I77){this[N8d.point]=[t5u,Y6k];N7y.U_P(67);this.radians=Math.atan(N7y.l$6(B2X,d0r,a88,s9f));if(s9f < d0r){this.radians+=Math.PI;}else if(a88 < B2X){N7y.U_P(59);var v5Z=N7y.Q7U(11,90,8);this.radians+=v5Z * Math.PI;}N7y.U6M(71);var V3f=N7y.l$6(20,3,1,9,3);this.a=parseInt((this.radians * ("36" ^ 0) / Math.PI).toFixed(0),V3f) * +"5";if(this.sx < +"0"){N7y.U_P(10);var c_z=N7y.Q7U(187,7);this.a=this.a + c_z;}this.a%=360;this.radians=this.a * Math.PI / +"180";this.render(b5x);}}};E2.Drawing.shape.prototype.intersected=function(q$p,D$z,y0V){var c4I=V5cdF;var e3s,D7A,m5$,q8L,Y3H,F6W,C4L,X$V,O3I,i5C,S_K,v2Z,X5i,d5k,q1_,F76,z2T,H4e,a0v,K3w;e3s=this.stx;if(!this.p0){return null;}if(e3s.repositioningDrawing == this && e3s.repositioningDrawing.repositioner){return e3s.repositioningDrawing.repositioner;}D7A=e3s.panels[this.panelName];m5$=e3s.getYAxisByField(D7A,this.field);q8L=e3s.pixelFromTick(this.p0[0],D7A.chart);Y3H=this.pixelFromValue(D7A,this.p0[0],this.p0[1],m5$);F6W=e3s.pixelFromTick(q$p,D7A.chart);C4L=e3s.pixelFromValueAdjusted(D7A,q$p,D$z);F6W-=q8L;C4L-=Y3H;X$V=C4L;O3I=F6W;F6W=Math.cos(this.radians) * O3I + Math.sin(this.radians) * X$V;C4L=Math.cos(this.radians) * X$V - Math.sin(this.radians) * O3I;F6W/=this.sx;C4L/=this.sy;this.padding=E2.ensureDefaults(this.padding || ({}),{left:0,right:+"0",top:0,bottom:0});i5C=this.padding.right + this.padding.left;S_K=this.padding.bottom + this.padding.top;v2Z=Math.pow(E2.touchDevice?"25" << 32:5 + this.littleCircleRadius(),2);X5i=Math.abs(v2Z / (this.sx * this.sy));d5k=3;c4I.U_P(70);var k_U=c4I.Q7U(15,5,16,17);c4I.U_P(1);var b9L=c4I.l$6(2,0);c4I.U_P(52);var l19=c4I.Q7U(11,40,20,0,8);c4I.U_P(72);var D9r=c4I.l$6(8,7,14,2119,19);c4I.U6M(10);var e8G=c4I.l$6(34,32);c4I.U6M(73);var S8S=c4I.l$6(32,34,1);c4I.U6M(74);var e_L=c4I.Q7U(774,20,38,16);c4I.U6M(75);var x6e=c4I.Q7U(6,7,15);q1_=Math.pow((this.dimension[0] - i5C + d5k) / k_U,b9L) + Math.pow((this.dimension["1" * l19] - S_K + d5k) / +"2",D9r) > Math.pow(F6W - i5C / e8G,"2" | S8S) + Math.pow(C4L - S_K / e_L,x6e);c4I.U6M(76);var u0m=c4I.Q7U(0,614,17,12,3);c4I.U_P(17);var L2h=c4I.l$6(17,19,322);F76=(v2Z - (Math.pow(F6W * this.sx,u0m) + Math.pow(C4L * this.sy,"2" * L2h))) / Math.abs(this.sx * this.sy);c4I.U_P(16);var d1W=c4I.Q7U(2,0,1);c4I.U6M(44);var P3j=c4I.Q7U(51,4,0,1,13);c4I.U6M(10);var F$F=c4I.Q7U(36,34);c4I.U6M(77);var R_E=c4I.l$6(16,2,9,7,16);z2T=X5i - Math.pow(F6W - this.dimension[0] / ("2" * d1W),+"2") - Math.pow(C4L - this.dimension[P3j] / F$F,R_E);c4I.U_P(78);var Y2n=c4I.Q7U(5,16,3,9,3);c4I.U6M(23);c4I.j0M();var D_D=c4I.l$6(3,16,17);c4I.U_P(10);var n9L=c4I.Q7U(4,2);H4e=X5i - Math.pow(F6W - this.dimension[0] / Y2n,D_D) - Math.pow(C4L,n9L);if(q1_){a0v="m";a0v+="ov";a0v+="e";if(z2T >= H4e && z2T >= F76 && z2T > -1){this.highlighted="p1";return {action:"scale"};}if(H4e >= z2T && H4e >= F76 && H4e > -1){K3w="p";K3w+="2";this.highlighted=K3w;return {action:"rotate"};}this.highlighted=F76 > -1?"p0":!!({});return {action:a0v,p0:E2.clone(this.p0),tick:q$p,value:this.valueOnDrawingAxis(q$p,D$z)};}return null;};E2.Drawing.shape.prototype.configs=["color","fillColor","lineWidth","pattern"];E2.Drawing.shape.prototype.littleCircleRadius=function(){return 3;};E2.Drawing.shape.prototype.click=function(s4x,l_w,C6b){var L7V=V5cdF;var G$V,u1H,R1p,U6y;if(!this.points.length){return !!0;}this.copyConfig();G$V=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,l_w,C6b,G$V.chart);this.penDown=!!1;u1H=-1930064575;R1p=-508933089;U6y=2;for(var U6b="1" >> 0;L7V.S0_(U6b.toString(),U6b.toString().length,86415) !== u1H;U6b++){return !!({});}if(L7V.Y5G(U6y.toString(),U6y.toString().length,7114) !== R1p){return !"1";}}L7V.U6M(14);this.setPoint(L7V.l$6("1",0),l_w,C6b,G$V.chart);if(this.rotating || !this.setRotationOnInitialDraw){this.penDown=!"1";this.rotating=!"1";return !!1;;}this.rotating=!!1;return !1;};E2.Drawing.shape.prototype.adjust=function(){var b9i,p$2,o7l;b9i=this.stx.panels[this.panelName];if(!b9i){return;}p$2=this.name + "_v" + (this.version || 0);if(E2.Drawing[p$2]){o7l=new E2.Drawing[p$2]();this.name=o7l.name;this.dimension=o7l.dimension;this.padding=o7l.padding;this.points=o7l.points;this.version=o7l.version;}this.setPoint(0,this.d0,this.v0,b9i.chart);V5cdF.U6M(10);var v3n=V5cdF.l$6(45,40);V5cdF.U0D();this.radians=Math.round(this.a / v3n) * Math.PI / +"36";};E2.Drawing.shape.prototype.reconstruct=function(p0Q,u6B){this.stx=p0Q;this.color=u6B.col;this.fillColor=u6B.fc;this.panelName=u6B.pnl;this.pattern=u6B.ptrn;this.lineWidth=u6B.lw;this.d0=u6B.d0;this.v0=u6B.v0;this.tzo0=u6B.tzo0;this.a=u6B.a;this.sx=u6B.sx;this.sy=u6B.sy;this.field=u6B.fld;this.version=u6B.ver;this.adjust();};E2.Drawing.shape.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,fld:this.field,ver:this.version};};E2.Drawing.arrow=function(){var N4e=V5cdF;this.name="arrow";this.version=1;N4e.U6M(14);this.dimension=[N4e.l$6("11",64),N4e.l$6(64,"22",N4e.U6M(9))];this.padding={left:0,right:0,top:11,bottom:0};this.points=[["M",3,+"21",923.79 == (7330,691)?("U",0x127f):"L",7,21,("2373" >> 0,9550) === 752.18?("3723" | 0) < 584.62?(0x1382,6.48e+3):("J","u"):"L",7,16,"L",10,16,(1137,455) > 805.27?("Z","569.57" * 1):45.06 <= 974.95?"L":!"",5,11,(923.62,"4937" - 0) <= 7620?(5511,513.03) == +"6010"?(3206,682.73) !== 3250?0x2196:0x1e47:"L":(264,!!0),0,+"16","L",3,16,(302.97,9443) > (8980,2475)?"L":(878.94,841.93) != 9210?(0x1c1c,"O"):!({}),3,21]];;};E2.inheritsFrom(E2.Drawing.arrow,E2.Drawing.shape);E2.Drawing.trendline=function(){this.name="trendline";this.showCallout=!({});};E2.inheritsFrom(E2.Drawing.trendline,E2.Drawing.segment);E2.Drawing.trendline.prototype.copyConfig=function(K7I){var x6Y;x6Y="sh";x6Y+="owCallout";if(E2.Drawing.callout && !E2.Drawing.trendline.prototype.configs.includes("showCallout")){E2.Drawing.trendline.prototype.configs.push("fillColor",x6Y,"font");}E2.Drawing.copyConfig(this,K7I);};E2.Drawing.trendline.prototype.measure=function(){V5cdF.U0D();if(!this.showCallout || !E2.Drawing.callout){E2.Drawing.BaseTwoPoint.prototype.measure.call(this);}};E2.Drawing.trendline.prototype.reconstruct=function(a1L,P6C){E2.Drawing.segment.prototype.reconstruct.call(this,a1L,P6C);if(P6C.callout && E2.Drawing.callout){this.callout=new E2.Drawing.callout();this.callout.reconstruct(a1L,P6C.callout);this.showCallout=!!({});}};E2.Drawing.trendline.prototype.serialize=function(){var h0D;h0D=E2.Drawing.segment.prototype.serialize.call(this);if(this.showCallout && E2.Drawing.callout){h0D.callout=this.callout.serialize();}V5cdF.j0M();return h0D;};E2.Drawing.trendline.prototype.render=function(U8I){var q1K=V5cdF;var X9F,l97,L7s,O3r,I8C,K_d,r0U,q_G,v_J,a6l,i0Q,L7w,d1Q,w0R,O4o,G0S,I45,f5N,O8A,g2y,Y8L,C6P;X9F=this.stx;l97=X9F.panels[this.panelName];L7s=X9F.getYAxisByField(l97,this.field);if(!l97 || this.field && !L7s){return;}E2.Drawing.segment.prototype.render.call(this,U8I);if(!this.showCallout || !E2.Drawing.callout){this.callout=null;return;}if(!this.callout){this.callout=new E2.Drawing.callout();O3r=E2.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(X9F,O3r);}this.callout.p0=E2.clone(this.p0);I8C=X9F.pixelFromTick(this.p0[0],l97.chart);K_d=X9F.pixelFromTick(this.p1[0],l97.chart);r0U=this.pixelFromValue(l97,this.p0[+"0"],this.p0[+"1"],L7s);q_G=this.pixelFromValue(l97,this.p1[0],this.p1[1],L7s);if(!isFinite(r0U) || !isFinite(q_G)){return;}q1K.U_P(13);v_J=q1K.Q7U(I8C,2,K_d);q1K.U_P(13);a6l=q1K.Q7U(r0U,2,q_G);this.fontSize=E2.stripPX(this.font && this.font.size || 13);q1K.U_P(1);var B1y=q1K.l$6(20,7210);q1K.U_P(6);var p82=q1K.l$6(19,18);q1K.U_P(62);var p8A=q1K.l$6(2411,2429,2411);q1K.U_P(10);var p0r=q1K.Q7U(21350,18300);q1K.U6M(79);var U0V=q1K.l$6(10,9230,840,831,9);q1K.U_P(17);var w3n=q1K.l$6(48,7,286);i0Q=this.callout.w * 1.2 + (this.callout.stemEntry[0] == ((972.13,B1y) === ("212.42" * p82,p8A)?!"1":p0r == (U0V,+"2850")?497.33:"c")?+"0":w3n);L7w=Math.sqrt(Math.pow(K_d - I8C,2) + Math.pow(q_G - r0U,+"2"));q1K.U_P(80);var L44=q1K.l$6(4,87,8,4,12);q1K.U_P(10);var l_T=q1K.l$6(17,16);q1K.U6M(81);var S_$=q1K.Q7U(10,4,15);q1K.U6M(82);var P0$=q1K.l$6(2,0,0,12,6);d1Q=i0Q / (L7w || i0Q) * (this.p1[L44] < this.p0[l_T]?S_$:P0$);q1K.U_P(83);w0R=q1K.Q7U(v_J,q_G,d1Q,a6l);q1K.U6M(84);O4o=q1K.Q7U(d1Q,K_d,a6l,v_J);q1K.U_P(14);this.callout.p0[q1K.l$6("0",0)]=X9F.tickFromPixel(w0R,l97.chart);this.callout.p0[1]=this.valueFromPixel(O4o,l97,L7s);this.callout.v0=this.callout.p0[1];this.callout.p1=E2.clone(this.p0);this.callout.stx=X9F;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=!!({});q1K.U_P(85);var K7A=q1K.Q7U(4,17,14,6);q1K.U_P(70);var S4m=q1K.Q7U(6,3,12,13);G0S=this.p1[K7A] - this.p0[S4m];q1K.U6M(17);var c_2=q1K.Q7U(34,16,542);q1K.U_P(86);var P1h=q1K.Q7U(1,5,5,16,7);this.callout.text="" + Number(G0S).toFixed(c_2) + (this.p0[P1h] === 0?"":" (" + Number(100 * G0S / this.p0[1]).toFixed(+"2") + "%) ") + "" + Math.abs(this.p1[0] - this.p0["0" - 0]) + " Bars";I45=Math.floor((this.p0[0] + this.p1[+"0"]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){O8A=X9F.pixelFromTick(I45,l97.chart);q1K.U6M(87);g2y=q1K.Q7U(r0U,O8A,I8C,K_d,q_G,I8C,r0U);f5N=this.valueFromPixel(g2y,l97,L7s) || a6l;}else {f5N=this.valueFromPixel(a6l,l97,L7s);}this.callout.stem={t:I45,v:f5N};this.callout.setTextareaProps();this.callout.render(U8I);if(this.highlighted){Y8L=this.highlighted == "p0"?!0:!!"";C6P=this.highlighted == "p1"?!![]:!({});this.littleCircle(U8I,I8C,r0U,Y8L);this.littleCircle(U8I,K_d,q_G,C6P);}};E2.Drawing.trendline.prototype.lineIntersection=function(R2r,g54,N7H,F3f){var Y$e;Y$e="s";Y$e+="eg";Y$e+="men";Y$e+="t";V5cdF.j0M();return E2.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,R2r,g54,N7H,Y$e);};E2.Drawing.trendline.prototype.intersected=function(f4T,i2I,d2s){var e_G,B9D;if(!this.p0 || !this.p1){return null;}e_G=this.callout?this.callout.intersected(f4T,i2I,d2s):null;B9D=E2.Drawing.segment.prototype.intersected.call(this,f4T,i2I,d2s);if(this.callout){this.callout.highlighted=!!(e_G || B9D);}if(B9D){return B9D;}else if(e_G){return {action:"move",p0:E2.clone(this.p0),p1:E2.clone(this.p1),tick:f4T,value:this.valueOnDrawingAxis(f4T,i2I)};}return null;};E2.Drawing.getDrawingToolList=function(h4$){var b$K,q_7;b$K={};q_7={arrow_v0:!![],BaseTwoPoint:!!1,fibonacci:!!({}),shape:!""};V5cdF.U0D();E2.extend(q_7,h4$);for(var q3x in E2.Drawing){if(!q_7[q3x] && E2.Drawing[q3x].prototype.render){b$K[new E2.Drawing[q3x]().name]=q3x;}}return b$K;};};Y=N1V=>{var K8v=V5cdF;var W$H;W$H=typeof _CIQ !== "undefined"?_CIQ:N1V.CIQ;W$H.EaseMachine=function(i26,G$v,w67,A1S){if(typeof i26 === "string"){this.fc=W$H.EaseMachine[i26];}else {this.fc=i26;}this.ms=G$v;if(w67 || w67 === +"0"){this.reset(w67,A1S);}};W$H.EaseMachine.prototype.reset=function(H9S,U9t){var B6v;B6v="obj";B6v+="e";B6v+="ct";if(!H9S && H9S !== +"0"){H9S=this.currentValues;}this.hasCompleted=!!0;this.running=!!"";this.okayToRun=!!"1";K8v.U_P(88);this.useNameValuePairs=K8v.Q7U(typeof U9t,B6v);this.startTime=Date.now();if(this.useNameValuePairs){this.startValues=H9S;this.endValues=U9t;}else {this.startValues={default:H9S};this.endValues={default:U9t};}this.changeValues={};this.currentValues={};for(var j3F in this.startValues){this.changeValues[j3F]=this.endValues[j3F] - this.startValues[j3F];}};W$H.EaseMachine.prototype.next=function(){var Z1X;Z1X=Date.now();if(Z1X >= this.startTime + this.ms){Z1X=this.startTime + this.ms;this.hasCompleted=!!({});this.running=!!0;}this.currentValues={};for(var g1o in this.changeValues){this.currentValues[g1o]=this.fc(Z1X - this.startTime,this.startValues[g1o],this.changeValues[g1o],this.ms);}if(!this.useNameValuePairs){return this.currentValues["default"];}return this.currentValues;};W$H.EaseMachine.prototype.hasCompleted=!!({});W$H.EaseMachine.prototype.run=function(N_G,i27,H95,D85,h48){var D9T;if(!h48){h48=window;}function R5y(){var p4j;D9T.afid=null;if(!D9T.okayToRun){return;}p4j=D9T.next();N_G(p4j);K8v.j0M();if(D9T.hasCompleted){return;}D9T.afid=h48.requestAnimationFrame(R5y);}if(this.afid){h48.cancelAnimationFrame(this.afid);}if(i27 || i27 === 0){this.reset(i27,H95);}else if(H95 || H95 === 0){this.reset(this.currentValues,H95);}D9T=this;this.running=!!"1";if(D85){this.afid=h48.requestAnimationFrame(R5y);}else {R5y();}};W$H.EaseMachine.prototype.stop=function(v99){if(!v99){v99=window;}if(this.afid){v99.cancelAnimationFrame(this.afid);}K8v.j0M();this.afid=null;this.okayToRun=!1;this.hasCompleted=!!({});this.running=!"1";if(typeof this.useNameValuePairs == "undefined"){return {};}if(!this.useNameValuePairs){return this.currentValues["default"];}return this.currentValues;};W$H.EaseMachine.easeInOutQuad=function(L$e,X8h,n3v,a0C){K8v.U_P(11);K8v.j0M();L$e/=K8v.Q7U(2,a0C);if(L$e < 1){K8v.U6M(89);return K8v.Q7U(L$e,L$e,X8h,2,n3v);}L$e--;K8v.U6M(90);return K8v.l$6(n3v,L$e,L$e,2,X8h,1,"2");};K8v.j0M();W$H.EaseMachine.easeInOutCubic=function(s$1,p4Q,r8w,I05){K8v.U_P(11);s$1/=K8v.l$6(2,I05);if(s$1 < "1" >> 0){K8v.U6M(91);return K8v.l$6(p4Q,s$1,"2",r8w,s$1,s$1);}s$1-=2;K8v.U6M(92);return K8v.l$6(s$1,p4Q,s$1,2,r8w,s$1,2);};W$H.EaseMachine.easeOutCubic=function(I$T,g6_,T1h,Y$o){I$T/=Y$o;I$T--;K8v.U0D();K8v.U6M(93);return K8v.Q7U(g6_,T1h,"1",I$T,0,I$T,I$T);};if(W$H.ChartEngine.prototype.animations.zoom.isStub){W$H.ChartEngine.prototype.animations.zoom=new W$H.EaseMachine("easeOutCubic",400);}};A=R6R=>{var m4P,Q7C,k0u;m4P="un";m4P+="defined";Q7C=typeof _CIQ !== m4P?_CIQ:R6R.CIQ;k0u=function(){var w8R=V5cdF;var P56,d7K,H1y,l_D,n6u,y$x,N60,B0P,s94,o44,x0f,U9e,N9z,d33,e$a,v2m,m_0,n2J,z0O;function N2s(){this.success=!!0;this.errormsg="";this.expression="";this.pos=0;this.tokennumber=0;w8R.j0M();this.tokenprio=0;this.tokenindex=0;this.tmpprio=0;this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:P2b,cosh:e4T,tanh:R26,asinh:m9f,acosh:D7f,atanh:R7i,sqrt:Math.sqrt,log:Math.log,lg:Z8j,log10:Z8j,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:m3u,"-":s1Y,exp:Math.exp};this.ops2={"+":e1b,"-":y6Z,"*":W7M,"/":d26,"%":t3H,"^":Math.pow,",":F6d,"||":O3a,"==":K4c,"!=":x_m,">":s0p,"<":B$P,">=":N8s,"<=":P0t,and:l$L,or:g72};this.functions={fac:I0_,min:Math.min,max:Math.max,hypot:o59,pyt:o59,pow:Math.pow,atan2:Math.atan2,if:Q3J};this.consts={E:Math.E,PI:Math.PI};}P56="\\";P56+="f";d7K="\\";d7K+="b";function l$L(c3H,n6Z){return Boolean(c3H && n6Z);}function W7M(H0l,p7N){w8R.U6M(2);return w8R.Q7U(p7N,H0l);}function t3H(w3d,B1r){w8R.j0M();w8R.U6M(94);return w8R.l$6(B1r,w3d);}function Q3J(Y9I,g96,g$a){w8R.j0M();return Y9I?g96:g$a;}H1y=0;function D7f(Q0i){return Math.acosh?Math.acosh(Q0i):Math.log(Q0i + Math.sqrt(Q0i * Q0i - ("1" << 32)));}l_D=1;function m9f(h1Y){if(Math.asinh){return Math.asinh(h1Y);}if(h1Y === -Infinity){return h1Y;}w8R.j0M();return Math.log(h1Y + Math.sqrt(h1Y * h1Y + 1));}function j$o(I2f){var i_u;i_u="st";i_u+="ri";i_u+="n";i_u+="g";if(typeof I2f === i_u){s94.lastIndex=0;return s94.test(I2f)?"'" + I2f.replace(s94,function(g83){var q5X;q5X=o44[g83];return typeof q5X === "string"?q5X:"\\u" + ("0000" + g83.charCodeAt(0).toString(16)).slice(-4);}) + "'":"'" + I2f + ((+"1908",5410) <= (4321,347.58)?(650.84,!![]):"'");}return I2f;}function B$P(X_2,j_W){w8R.j0M();w8R.U_P(95);return w8R.Q7U(X_2,j_W);}w8R.U_P(2);n6u=w8R.l$6(1,"2");y$x=3;N60=4;function j2s(G$u,p2R,S_H,p6S){w8R.j0M();this.tokens=G$u;this.ops1=p2R;this.ops2=S_H;this.functions=p6S;}B0P=/[\u00ad\u0600-\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]|\u070f|\u17b4|\u0604|\u17b5/g;s94=/[\\'\x7f-\x9f\u00ad\u0600-\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]|\u070f|\u17b4|\u0604|\u17b5/g;o44={"\b":d7K,"\t":"\\t","\n":"\\n","\f":P56,"\r":"\\r","'":"\\'","\\":"\\\\"};function o59(){var i9x,m1A;if(Math.hypot){return Math.hypot.apply(this,arguments);}w8R.j0M();i9x=0;m1A=arguments.length;for(var Z3p=0;Z3p < m1A;Z3p++){if(arguments[Z3p] === Infinity || arguments[Z3p] === -Infinity){return Infinity;}i9x+=arguments[Z3p] * arguments[Z3p];}return Math.sqrt(i9x);}Q7C.extend(j2s.prototype,{simplify:function(u7A){var e1O,m9v,Y1s,Z1I,Q9r,T9t,f00,H1b,c2A;u7A=u7A || ({});e1O=[];m9v=[];T9t=this.tokens.length;H1b=0;for(H1b=0;H1b < T9t;H1b++){f00=this.tokens[H1b];c2A=f00.type_;if(c2A === H1y){e1O.push(f00);}else if(c2A === y$x && (f00.index_ in u7A)){w8R.U_P(24);f00=new r3r(H1y,0,w8R.l$6("0",0),u7A[f00.index_]);e1O.push(f00);}else if(c2A === n6u && e1O.length > 1){Z1I=e1O.pop();Y1s=e1O.pop();Q9r=this.ops2[f00.index_];f00=new r3r(H1y,0,0,Q9r(Y1s.number_,Z1I.number_));e1O.push(f00);}else if(c2A === l_D && e1O.length > 0){Y1s=e1O.pop();Q9r=this.ops1[f00.index_];f00=new r3r(H1y,+"0",+"0",Q9r(Y1s.number_));e1O.push(f00);}else {while(e1O.length > 0){m9v.push(e1O.shift());}m9v.push(f00);}}while(e1O.length > "0" * 1){m9v.push(e1O.shift());}return new j2s(m9v,M9z(this.ops1),M9z(this.ops2),M9z(this.functions));},substitute:function(A5a,J4I){var W5S,F0J,q5p,s6R,l1Q,h4H,z_k,Z7Q;if(!(J4I instanceof j2s)){J4I=new N2s().parse(String(J4I));}W5S=[];F0J=this.tokens.length;s6R=0;for(s6R=0;s6R < F0J;s6R++){q5p=this.tokens[s6R];l1Q=q5p.type_;if(l1Q === y$x && q5p.index_ === A5a){for(var B4F=0;B4F < J4I.tokens.length;B4F++){h4H=J4I.tokens[B4F];z_k=new r3r(h4H.type_,h4H.index_,h4H.prio_,h4H.number_);W5S.push(z_k);}}else {W5S.push(q5p);}}Z7Q=new j2s(W5S,M9z(this.ops1),M9z(this.ops2),M9z(this.functions));return Z7Q;},evaluate:function(B6G){var w78,s2m,H9H,B2R,B2_,z_n,U5Z,p$r,K2Y,m$C,r5b;B6G=B6G || ({});w78=[];B2R=-81863349;B2_=-1038622851;z_n=2;for(var C2J=1;w8R.Y5G(C2J.toString(),C2J.toString().length,42218) !== B2R;C2J++){p$r=this.tokens.length;z_n+=2;}w8R.j0M();if(w8R.S0_(z_n.toString(),z_n.toString().length,28420) !== B2_){p$r=this.tokens.length;}p$r=this.tokens.length;m$C=0;for(m$C=+"0";m$C < p$r;m$C++){K2Y=this.tokens[m$C];r5b=K2Y.type_;if(r5b === H1y){w78.push(K2Y.number_);}else if(r5b === n6u){H9H=w78.pop();s2m=w78.pop();U5Z=this.ops2[K2Y.index_];w78.push(U5Z(s2m,H9H));}else if(r5b === y$x){if((K2Y.index_ in B6G)){w78.push(B6G[K2Y.index_]);}else if((K2Y.index_ in this.functions)){w78.push(this.functions[K2Y.index_]);}else {throw new Error("undefined variable: " + K2Y.index_);}}else if(r5b === l_D){s2m=w78.pop();U5Z=this.ops1[K2Y.index_];w78.push(U5Z(s2m));}else if(r5b === N60){s2m=w78.pop();U5Z=w78.pop();if(U5Z.apply && U5Z.call){if(Object.prototype.toString.call(s2m) == "[object Array]"){w78.push(U5Z.apply(undefined,s2m));}else {w78.push(U5Z.call(undefined,s2m));}}else {w8R.U_P(1);throw new Error(w8R.l$6(" is not a function",U5Z));}}else {throw new Error("invalid Expression");}}if(w78.length > 1){throw new Error("invalid Expression (parity)");}return w78[0];},toString:function(R41){var w5b,T65,U3R,O84,P4L,C2T,X$M,L5a,W9t;w5b=[];P4L=this.tokens.length;X$M=0;for(X$M=+"0";X$M < P4L;X$M++){C2T=this.tokens[X$M];L5a=C2T.type_;if(L5a === H1y){w5b.push(j$o(C2T.number_));}else if(L5a === n6u){U3R=w5b.pop();T65=w5b.pop();O84=C2T.index_;if(R41 && O84 == (+"405" >= "5780" * 1?+"828.06" == (9560,167.06)?("i",245):(887,+"6.14e+2"):"^")){W9t="M";W9t+="at";W9t+="h.p";W9t+="ow(";w8R.U6M(96);w5b.push(w8R.l$6(W9t,U3R,269.77 === (37,9236)?"H":",",(7920,5290) == ("478" >> 64,128)?757.23:1889 > 9813?!!({}):")",T65));}else {w8R.U6M(96);w5b.push(w8R.Q7U("(",U3R,O84,")",T65));}}else if(L5a === y$x){w5b.push(C2T.index_);}else if(L5a === l_D){T65=w5b.pop();O84=C2T.index_;if(O84 === "-"){w8R.U_P(0);w5b.push(w8R.Q7U(T65,O84,(4800,6149) <= +"163.65"?"x":("879.28" * 1,972) < (699.04,9436)?2958 == ("8640" | 0)?8.75e+3:"(":"n",(6279,4980) > (+"8573",4450)?3430 < 5514?")":7518 == (3249,9739)?("6.74e+3" >> 32,"k"):(!0,"413.23" * 1):("o",226.29)));}else {w8R.U_P(0);w5b.push(w8R.l$6(T65,(7970,+"8950") == 1135?(684.23,7.70e+3):(+"4000",7260) != 8220?"(":"h",O84,")"));}}else if(L5a === N60){T65=w5b.pop();O84=w5b.pop();w8R.U_P(0);w5b.push(w8R.l$6(T65,(338.72,8954) !== (8840,2271)?(4950,182.34) > 548.1?22.29 > (4255,"4268" ^ 0)?+"0x1894":"l":"(":!1,O84,")"));}else {throw new Error("invalid Expression");}}w8R.j0M();if(w5b.length > 1){throw new Error("invalid Expression (parity)");}return w5b[0];},variables:function(){var p1J,t$u,K3x;p1J=this.tokens.length;t$u=[];for(var U4Z=0;U4Z < p1J;U4Z++){K3x=this.tokens[U4Z];if(K3x.type_ === y$x && t$u.indexOf(K3x.index_) == -1){t$u.push(K3x.index_);}}return t$u;}},!![]);function R26(v5r){if(Math.tanh){return Math.tanh(v5r);}if(v5r === Infinity){return 1;}w8R.U0D();if(v5r === -Infinity){return -+"1";}return (Math.exp(v5r) - Math.exp(-v5r)) / (Math.exp(v5r) + Math.exp(-v5r));}N2s.parse=function(M_z){return new N2s().parse(M_z);};N2s.evaluate=function(s26,P1O){return N2s.parse(s26).evaluate(P1O);};function g72(l1c,q64){w8R.U0D();return Boolean(l1c || q64);}function y6Z(u5E,A$x){w8R.U6M(10);return w8R.Q7U(u5E,A$x);}N2s.Expression=j2s;function F6d(g0s,g_P){if(Object.prototype.toString.call(g0s) != "[object Array]"){return [g0s,g_P];}g0s=g0s.slice();g0s.push(g_P);return g0s;}function s1Y(l7W){return -l7W;}function M9z(v2Q){H8V.prototype=v2Q;function H8V(){}return new H8V();}N2s.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:P2b,cosh:e4T,tanh:R26,asinh:m9f,acosh:D7f,atanh:R7i,sqrt:Math.sqrt,log:Math.log,lg:Z8j,log10:Z8j,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:m3u,fac:I0_,exp:Math.exp,min:Math.min,max:Math.max,hypot:o59,pyt:o59,pow:Math.pow,atan2:Math.atan2,if:Q3J,E:Math.E,PI:Math.PI};w8R.U_P(9);x0f=w8R.l$6(0,1);w8R.U_P(9);U9e=w8R.l$6(1,1);w8R.U_P(9);N9z=w8R.Q7U(2,1);w8R.U_P(9);d33=w8R.l$6(3,1);function d26(r6K,O1P){w8R.U_P(11);return w8R.Q7U(O1P,r6K);}function m3u(E6h){if(Math.trunc){return Math.trunc(E6h);}return E6h < 0?Math.ceil(E6h):Math.floor(E6h);}function r3r(G$p,Z7j,r2$,b3h){this.type_=G$p;this.index_=Z7j || 0;this.prio_=r2$ || 0;this.number_=b3h !== undefined && b3h !== null?b3h:"0" >> 0;this.toString=function(){var q35,k0Z,X12,p7b;q35=-1093170870;k0Z=+"1859982137";X12=2;w8R.j0M();for(var x0A=+"1";w8R.S0_(x0A.toString(),x0A.toString().length,8115) !== q35;x0A++){switch(this.type_){case H1y:return this.number_;case l_D:case n6u:case y$x:return this.index_;case N60:return "CALL";default:return "CALL";}X12+=2;}if(w8R.S0_(X12.toString(),X12.toString().length,34484) !== k0Z){switch(this.type_){case H1y:return this.number_;case l_D:case n6u:case y$x:return this.index_;case N60:p7b="C";p7b+="A";p7b+="L";p7b+="L";return p7b;default:return "Invalid Token";}}};}function P0t(V_s,T$y){w8R.U_P(97);return w8R.l$6(V_s,T$y);}function s0p(Y0n,u$A){w8R.U_P(98);return w8R.l$6(Y0n,u$A);}function x_m(f1M,C$E){w8R.U0D();w8R.U_P(99);return w8R.Q7U(C$E,f1M);}w8R.U_P(9);e$a=w8R.Q7U(4,1);w8R.U_P(9);v2m=w8R.l$6(5,1);w8R.U_P(9);m_0=w8R.l$6(6,1);w8R.U6M(9);n2J=w8R.l$6(7,1);function K4c(e0m,k4Q){w8R.U0D();w8R.U6M(88);return w8R.Q7U(e0m,k4Q);}function N8s(f3X,Q$K){w8R.U0D();w8R.U6M(100);return w8R.l$6(f3X,Q$K);}function O3a(E1e,h4c){w8R.j0M();w8R.U_P(19);return w8R.Q7U(h4c,E1e,"");}function e1b(X7d,Z1B){var z29,l0p,f7b;z29=1499911245;l0p=-1433554205;f7b=2;for(var m94=1;w8R.S0_(m94.toString(),m94.toString().length,82494) !== z29;m94++){return Number(X7d) / Number(Z1B);}if(w8R.Y5G(f7b.toString(),f7b.toString().length,"29025" * 1) !== l0p){return Number(X7d) + Number(Z1B);}}function R7i(O71){w8R.U0D();return Math.atanh?Math.atanh(O71):Math.log((1 + O71) / (1 - O71)) / 2;}function Z8j(u8M){return Math.log(u8M) * Math.LOG10E;}function e4T(F1n){return Math.cosh?Math.cosh(F1n):(Math.exp(F1n) + Math.exp(-F1n)) / 2;}function I0_(J20){var G2X;J20=Math.floor(J20);G2X=J20;while(J20 > 1){w8R.U6M(101);G2X=w8R.Q7U(G2X,--J20);}return G2X;}function P2b(m9C){w8R.U0D();return Math.sinh?Math.sinh(m9C):(Math.exp(m9C) - Math.exp(-m9C)) / 2;}w8R.U6M(102);z0O=w8R.Q7U("8",1);Q7C.extend(N2s.prototype,{parse:function(s$G){var r3H,K1E,O13,S50,w8j,o8H,b$s,l64,S3U,x8_,C6t,v4O;this.errormsg="";this.success=!!({});r3H=[];K1E=[];this.tmpprio=0;w8R.U_P(103);O13=w8R.l$6(m_0,N9z,d33,x0f);S50=0;this.expression=s$G;this.pos=0;while(this.pos < this.expression.length){if(this.isOperator()){if(this.isSign() && O13 & m_0){if(this.isNegativeSign()){w8R.U_P(10);this.tokenprio=w8R.Q7U("2",0);this.tokenindex=228 == (+"3660",867.64)?(9240,+"77") !== (5920,1660)?+"0x26c3":1.40e+2:"-";S50++;this.addfunc(K1E,r3H,l_D);}w8R.U_P(103);O13=w8R.l$6(m_0,N9z,d33,x0f);}else if(this.isComment()){}else {if((O13 & U9e) === 0){o8H="unexp";o8H+="ected operator";this.error_parsing(this.pos,o8H);}S50+=2;this.addfunc(K1E,r3H,n6u);w8R.U6M(103);O13=w8R.Q7U(m_0,N9z,d33,x0f);}}else if(this.isNumber()){if((O13 & x0f) === 0){this.error_parsing(this.pos,"unexpected number");}w8j=new r3r(H1y,0,0,this.tokennumber);K1E.push(w8j);w8R.U_P(104);O13=w8R.Q7U(U9e,e$a,v2m);}else if(this.isString()){if((O13 & x0f) === 0){this.error_parsing(this.pos,"unexpected string");}w8j=new r3r(H1y,0,0,this.tokennumber);K1E.push(w8j);w8R.U_P(104);O13=w8R.Q7U(U9e,e$a,v2m);}else if(this.isLeftParenth()){if((O13 & d33) === 0){b$s="u";b$s+="nexpected \"(\"";this.error_parsing(this.pos,b$s);}if(O13 & n2J){S50+=2;this.tokenprio=-2;this.tokenindex=-1;this.addfunc(K1E,r3H,N60);}w8R.U_P(105);O13=w8R.Q7U(m_0,N9z,d33,x0f,z0O);}else if(this.isRightParenth()){if(O13 & z0O){w8R.U6M(40);w8j=new r3r(H1y,w8R.l$6("0",0),0,[]);K1E.push(w8j);}else if((O13 & e$a) === ("0" ^ 0)){this.error_parsing(this.pos,'unexpected ")"');}w8R.U_P(105);O13=w8R.l$6(d33,v2m,e$a,U9e,n2J);}else if(this.isComma()){if((O13 & v2m) === 0){this.error_parsing(this.pos,'unexpected ","');}this.addfunc(K1E,r3H,n6u);S50+=2;w8R.U_P(103);O13=w8R.l$6(m_0,N9z,d33,x0f);}else if(this.isConst()){if((O13 & x0f) === +"0"){l64="u";l64+="nexpected constant";this.error_parsing(this.pos,l64);}S3U=new r3r(H1y,0,0,this.tokennumber);K1E.push(S3U);w8R.U_P(104);O13=w8R.l$6(U9e,e$a,v2m);}else if(this.isOp2()){if((O13 & N9z) === 0){this.error_parsing(this.pos,"unexpected function");}this.addfunc(K1E,r3H,n6u);S50+=2;O13=d33;}else if(this.isOp1()){if((O13 & N9z) === 0){this.error_parsing(this.pos,"unexpected function");}this.addfunc(K1E,r3H,l_D);S50++;O13=d33;}else if(this.isVar()){if((O13 & x0f) === 0){this.error_parsing(this.pos,"unexpected variable");}x8_=new r3r(y$x,this.tokenindex,0,+"0");K1E.push(x8_);w8R.U6M(105);O13=w8R.l$6(d33,v2m,e$a,U9e,n2J);}else if(this.isWhite()){}else {if(this.errormsg === ""){this.error_parsing(this.pos,"unknown character");}else {this.error_parsing(this.pos,this.errormsg);}}}if(this.tmpprio < +"0" || this.tmpprio >= 10){this.error_parsing(this.pos,'unmatched "()"');}while(r3H.length > 0){C6t=r3H.pop();K1E.push(C6t);}if(S50 + ("1" | 0) !== K1E.length){v4O="par";v4O+="ity";this.error_parsing(this.pos,v4O);}return new j2s(K1E,M9z(this.ops1),M9z(this.ops2),M9z(this.functions));},evaluate:function(v50,t3A){return this.parse(v50).evaluate(t3A);},error_parsing:function(A0w,x4W){this.success=!"1";w8R.U_P(0);this.errormsg=w8R.l$6("]: ",A0w,"parse error [column ",x4W);this.column=A0w;w8R.j0M();throw new Error(this.errormsg);},addfunc:function(S26,E__,W2n){var k8p;k8p=new r3r(W2n,this.tokenindex,this.tokenprio + this.tmpprio,0);while(E__.length > +"0"){if(k8p.prio_ <= E__[E__.length - 1].prio_){S26.push(E__.pop());}else {break;}}E__.push(k8p);},isNumber:function(){var J_o,L1z,s77;J_o=!1;L1z="";while(this.pos < this.expression.length){s77=this.expression.charCodeAt(this.pos);if(s77 >= +"48" && s77 <= 57 || s77 === 46){L1z+=this.expression.charAt(this.pos);this.pos++;this.tokennumber=parseFloat(L1z);J_o=!![];}else {break;}}return J_o;},unescape:function(m9B,M9U){var R5i,H0H,U_e,d$B;w8R.U0D();R5i=[];H0H=!!"";for(var s7K=0;s7K < m9B.length;s7K++){U_e=m9B.charAt(s7K);if(H0H){switch(U_e){case "'":R5i.push((1890,+"91.51") > (+"9394",670.88)?(2.62e+3,3.19e+3):(659,794.23) <= 961.36?(5411,3671) > (176.63,2897)?"'":"V":(7.75e+3,1.93e+3));break;case "\\":R5i.push((596.96,1650) < (9586,616.88)?1229 !== (271.66,"514.34" * 1)?!!"":0x1e2b:"\\");break;case "/":R5i.push(2460 >= 6600?"E":(5360,2014) != (+"561.27",6530)?"/":(+"851.15","M"));break;case 6869 < ("7450" >> 64,2970)?6.06e+2:"b":R5i.push(45.26 >= (3203,+"3029")?!1:(8721,+"340.66") !== (+"7733",4490)?"\b":947.29 !== (8475,1153)?(0x2271,8.59e+3):(![],0x1455));break;case (873.81,8461) <= 523.29?("b",45.56):"f":R5i.push("\f");break;case 6586 < (7190,125.01)?3058 < 4970?6.66e+3:0x110d:"n":R5i.push((2664,2315) <= (198.49,3290)?"\n":9029 !== (5210,5958)?(!!"1",+"0x215e"):("774.57" - 0,0x465));break;case "r":R5i.push("\r");break;case "t":R5i.push((5831,"6477" - 0) == (402,8220)?(491.79,2648) !== 1468?"976.19" - 0 > 9280?(0x21ed,![]):(165.00,"0x96d" - 0):(724.88,!"1"):"\t");break;case "u":d$B=parseInt(m9B.substring(s7K + ("1" >> 0),s7K + 5),16);R5i.push(String.fromCharCode(d$B));w8R.U_P(10);s7K+=w8R.Q7U("4",0);break;default:w8R.U_P(1);throw this.error_parsing(w8R.l$6(s7K,M9U),w8R.Q7U("'",U_e,"Illegal escape sequence: '\\",w8R.U6M(19)));}H0H=!({});}else {if(U_e == ((+"3550",+"6930") <= "275.73" * 1?!!({}):"\\")){H0H=!!({});}else {R5i.push(U_e);}}}return R5i.join("");},isString:function(){var k1r,V85,M4B,g6g;k1r=![];V85="";M4B=this.pos;if(this.pos < this.expression.length && this.expression.charAt(this.pos) == "'"){this.pos++;while(this.pos < this.expression.length){g6g=this.expression.charAt(this.pos);if(g6g != (("2970" ^ 0) == 2240?(1271,8219) === +"8440"?6.54e+3:(959.32,403.02) <= 7959?(0xf1d,+"8.84e+3"):(1.49e+3,0x160):"'") || V85.slice(-1) == ((438,886) == (830.33,688.87)?(0x943,8.41e+2):(2400,70.45) >= "1151" - 0?"v":3969 >= (1316,6073)?(9.82e+2,+"0xb8c"):"\\")){V85+=this.expression.charAt(this.pos);this.pos++;}else {this.pos++;this.tokennumber=this.unescape(V85,M4B);k1r=!![];break;}}}return k1r;},isConst:function(){var I22,k0z;for(var y1M in this.consts){if(!![]){k0z=y1M.length;I22=this.expression.substr(this.pos,k0z);if(y1M === I22){this.tokennumber=this.consts[y1M];this.pos+=k0z;return !!"1";}}}return !({});},isOperator:function(){var J1D,d2p,C$B,i9q,T4z,V0E;J1D=this.expression.charCodeAt(this.pos);if(J1D === 43){this.tokenprio=2;this.tokenindex="+";}else if(J1D === 45){this.tokenprio=2;this.tokenindex=(2880,3387) <= (62.55,"809" - 0)?(279.39,9146) == 9370?0xfcb:(149.28,"b"):"-";}else if(J1D === 62){if(this.expression.charCodeAt(this.pos + 1) === 61){this.pos++;this.tokenprio=1;this.tokenindex=">=";}else {this.tokenprio=1;this.tokenindex=">";}}else if(J1D === 60){if(this.expression.charCodeAt(this.pos + 1) === ("61" ^ 0)){this.pos++;this.tokenprio=1;this.tokenindex="<=";}else {this.tokenprio=1;this.tokenindex=+"612" != (+"1810",790)?992 != (7725,5950)?"<":0xc2e:(7.66e+3,+"211.08");}}else if(J1D === 124){if(this.expression.charCodeAt(this.pos + 1) === 124){d2p="|";d2p+="|";this.pos++;w8R.U6M(24);this.tokenprio=w8R.Q7U("1",0);this.tokenindex=d2p;}else {return ![];}}else if(J1D === 61){if(this.expression.charCodeAt(this.pos + 1) === 61){this.pos++;this.tokenprio=1;this.tokenindex="==";}else {return !({});}}else if(J1D === 33){if(this.expression.charCodeAt(this.pos + +"1") === 61){this.pos++;this.tokenprio=1;this.tokenindex="!=";}else {return !"1";}}else if(J1D === 97){if(this.expression.charCodeAt(this.pos + 1) === 110 && this.expression.charCodeAt(this.pos + 2) === 100){this.pos++;this.pos++;this.tokenprio=0;this.tokenindex="and";}else {return !!0;}}else if(J1D === +"111"){if(this.expression.charCodeAt(this.pos + 1) === ("114" ^ 0)){C$B="o";C$B+="r";this.pos++;this.tokenprio=0;this.tokenindex=C$B;}else {return ![];}}else if(J1D === 42 || J1D === 8729 || J1D === "8226" >> 32){this.tokenprio=3;this.tokenindex="*";}else if(J1D === 47){this.tokenprio=4;this.tokenindex="/";}else if(J1D === 37){this.tokenprio=4;i9q=-1587239495;T4z=1320148373;V0E=2;for(var D0U=+"1";w8R.S0_(D0U.toString(),D0U.toString().length,27809) !== i9q;D0U++){this.tokenindex=3480 != (5794,8860)?946 < (972,2180)?"%":0x1319:("Z",4.33e+3);V0E+=2;}if(w8R.Y5G(V0E.toString(),V0E.toString().length,950) !== T4z){this.tokenindex=8126 === (2137,2480)?765 >= (456,9459)?"%":0x4ebe:("%",6845075);}}else if(J1D === +"94"){this.tokenprio=5;this.tokenindex="^";}else {return !({});}this.pos++;return !"";},isSign:function(){w8R.j0M();var O8s;O8s=this.expression.charCodeAt(this.pos - 1);if(O8s === 45 || O8s === 43){return !![];}return !!"";},isPositiveSign:function(){w8R.U0D();var h8W;h8W=this.expression.charCodeAt(this.pos - 1);if(h8W === 43){return !!({});}return ![];},isNegativeSign:function(){var C6H;C6H=this.expression.charCodeAt(this.pos - 1);if(C6H === 45){return !!"1";}w8R.U0D();return !({});},isLeftParenth:function(){var h9g;h9g=this.expression.charCodeAt(this.pos);if(h9g === ("40" ^ 0)){this.pos++;this.tmpprio+=10;return !!({});}return !1;},isRightParenth:function(){var n$s;n$s=this.expression.charCodeAt(this.pos);if(n$s === 41){this.pos++;w8R.U6M(40);this.tmpprio-=w8R.l$6("10",0);return !!1;}return !!0;},isComma:function(){var a8I,I7h,q4u,s_U;a8I=this.expression.charCodeAt(this.pos);if(a8I === 44){this.pos++;this.tokenprio=-1;this.tokenindex=+"7157" != (4772,7690)?(3678,302.42) != 59.82?977 > 8919?0x197d:",":(8.17e+3,"X"):!1;return !!({});}I7h=-773924392;q4u=-349823243;w8R.U0D();s_U=2;for(var U7y=1;w8R.Y5G(U7y.toString(),U7y.toString().length,14579) !== I7h;U7y++){return !({});}if(w8R.S0_(s_U.toString(),s_U.toString().length,18653) !== q4u){return !![];}},isWhite:function(){var l5a;l5a=this.expression.charCodeAt(this.pos);if(l5a === 32 || l5a === 9 || l5a === 10 || l5a === 13){this.pos++;return !!"1";}return !1;},isOp1:function(){var j1V,r0H;w8R.j0M();j1V="";for(var m5R=this.pos;m5R < this.expression.length;m5R++){r0H=this.expression.charAt(m5R);if(r0H.toUpperCase() === r0H.toLowerCase()){if(m5R === this.pos || r0H != (386.21 < (183.91,94)?(+"9.25e+3",0x784):"_") && (r0H < (("155.76" - 0,9240) !== 424.11?(+"3637",569.28) !== (3900,2514)?(525.7,9259) !== "2450" - 0?"0":![]:(0x1ba8,!({})):!({})) || r0H > ((2790,3154) > 1467?"9":7140 != 691?(7652,103) != "5.51" - 0?705.62:+"0x22":!![]))){break;}}j1V+=r0H;}if(j1V.length > 0 && (j1V in this.ops1)){this.tokenindex=j1V;this.tokenprio=+"5";this.pos+=j1V.length;return !0;}return !"1";},isOp2:function(){var S4u,t3y;S4u="";for(var d4V=this.pos;d4V < this.expression.length;d4V++){t3y=this.expression.charAt(d4V);if(t3y.toUpperCase() === t3y.toLowerCase()){if(d4V === this.pos || t3y != (98.36 <= ("1212" ^ 0,863)?"_":(!!({}),+"161.15")) && (t3y < (1450 < (582.6,723.51)?1390 !== (727.4,6180)?(790.02,1.47e+3):0x24db:"0") || t3y > (3451 <= (373.28,4113)?6620 === ("3282" ^ 0)?(7.48e+3,515.62):(133.95,9243) <= 6023?(2.57e+3,"x"):"9":(275.04,"936.60" * 1)))){break;}}S4u+=t3y;}if(S4u.length > 0 && (S4u in this.ops2)){this.tokenindex=S4u;this.tokenprio=5;this.pos+=S4u.length;return !!"1";}return ![];},isVar:function(){var w5h,q4l;w5h="";for(var v_0=this.pos;v_0 < this.expression.length;v_0++){q4l=this.expression.charAt(v_0);if(q4l.toUpperCase() === q4l.toLowerCase()){if(v_0 === this.pos || q4l != ("836.98" * 1 === (466.37,1348)?"V":"5690" - 0 < (1997,2330)?604.49:"_") && (q4l < (("8660" >> 0,599) < +"1306"?"0":6.09 <= (484.17,489)?5833 === (9260,2423)?986:"8.20e+3" >> 64:0x1042) || q4l > "9")){break;}}w5h+=q4l;}if(w5h.length > ("0" ^ 0)){this.tokenindex=w5h;this.tokenprio=4;this.pos+=w5h.length;return !!({});}return !({});},isComment:function(){var T2t;T2t=this.expression.charCodeAt(this.pos - 1);w8R.j0M();if(T2t === 47 && this.expression.charCodeAt(this.pos) === 42){w8R.U6M(6);var y59=w8R.l$6(13,11);this.pos=this.expression.indexOf("*/",this.pos) + y59;if(this.pos === 1){this.pos=this.expression.length;}return !!({});}return !({});}},!!({}));return N2s;};Q7C.computeEquationChart=function(x11,b50){var o57=V5cdF;var s_N,h2j,o7_,a3u,l9Q,z8X,x92,U4P,u5w,P0x,M3C,H$z,N6U,d2Z,i$5,b7p,T8_,L49,f6e,L9w,g2M,f7A,w86;x11=x11.replace(/[:]/,7230 == 125.89?"926.59" * 1:"/");s_N=0;function a1Y(G$q){o57.j0M();G$q.i++;if(b50[G$q.s]){if(G$q.i >= b50[G$q.s].length){return 0;}P0x=b50[G$q.s][G$q.i];}if(!P0x.DT){P0x.DT=Q7C.strToDateTime(P0x.Date);}G$q.d=P0x.DT;return +"1";}for(var t5E in b50){h2j="\\";h2j+="]";o7_="\\";o7_+="^";a3u="\\";a3u+="$";l9Q=new RegExp("\\[" + t5E.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\$/g,a3u).replace(/\^/g,o7_).replace(/[+\-*/%()]/g,"\\$&") + h2j,6.05 == (789.24,534)?(+"7030","80.21" * 1) !== ("4430" << 0,8728)?9745 != 4023?!!"1":(0x107,516.24):(2.87e+3,"2.42e+3" | 20):"g");o57.U_P(1);x11=x11.replace(l9Q,o57.l$6(s_N,"symbol"));s_N++;}z8X=k0u().parse(x11);o57.U0D();x92=[];U4P={};u5w=0;M3C=null;function N$q(){var n_Q,z44;n_Q=null;z44=null;o57.j0M();for(var p0I in U4P){if(!z44){z44=U4P[p0I];}else if(U4P[p0I].d.getTime() < z44.d.getTime()){n_Q=z44=U4P[p0I];}else if(U4P[p0I].d.getTime() > z44.d.getTime()){n_Q=z44;}}if(n_Q){if(!a1Y(n_Q)){return 0;}return -1;}o57.U6M(10);return o57.Q7U("1",0);}H$z=!!0;N6U=[];for(t5E in b50){d2Z={sym:t5E,map:b50[t5E]};if(b50[t5E]){N6U.unshift(d2Z);}else {N6U.push(d2Z);}}for(var A7r=0;A7r < N6U.length;A7r++){i$5=N6U[A7r];U4P[i$5.sym]={i:0,s:i$5.sym};if(i$5.map){u5w++;o57.U6M(40);P0x=i$5.map[o57.Q7U("0",0)];}else if(u5w == 1){H$z=i$5.sym;}if(!P0x.DT){P0x.DT=Q7C.strToDateTime(P0x.Date);}U4P[i$5.sym].d=P0x.DT;if(!M3C){M3C=U4P[i$5.sym];}}o57.U_P(106);b7p=o57.l$6(u5w,0);T8_=u5w == 1 && x11.indexOf(515.24 >= 4410?"6840" >> 32 != 224?"E":(!"1","538.20" - 0):"%") == -1;a:while(!""){L49=N$q();if(!L49)break;if(L49 == 1){if(H$z){L9w=b50[M3C.s][M3C.i][H$z];if(L9w && (L9w.Close || L9w.Close === 0)){L9w=L9w.Close;}g2M=z8X.evaluate({symbol0:b50[M3C.s][M3C.i].Close,symbol1:L9w});g2M=Number(g2M.toFixed(8));f6e={DT:M3C.d,Close:g2M,Adj_Close:g2M};f6e[M3C.s]=b50[M3C.s][M3C.i].Close;if(!isNaN(g2M) && g2M != Infinity){x92.push(f6e);}}else if(b7p){f7A=z8X.evaluate({});o57.U_P(19);Q7C.alert(o57.l$6(f7A,"=",x11));throw {name:"NoException",message:""};}else {o57.U6M(24);s_N=o57.Q7U("0",0);w86={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}};for(t5E in b50){for(var E1Z in w86){o57.U6M(1);w86[E1Z][o57.Q7U(s_N,"symbol")]=b50[t5E][U4P[t5E].i][E1Z];}s_N++;}f6e={DT:M3C.d};f6e.Adj_Close=z8X.evaluate(w86.Adj_Close);f6e.Close=z8X.evaluate(w86.Close);f6e.Open=z8X.evaluate(w86.Open);f6e.Volume=z8X.evaluate(w86.Volume);if(isNaN(f6e.Volume)){o57.U6M(14);f6e.Volume=o57.Q7U("0",64);}if(T8_){f6e.High=z8X.evaluate(w86.High);f6e.Low=z8X.evaluate(w86.Low);}else {f6e.High=Math.max(f6e.Open,f6e.Close);f6e.Low=Math.min(f6e.Open,f6e.Close);}if(!isNaN(f6e.Close) && f6e.Close != Infinity){x92.push(f6e);}if(!isNaN(f6e.High)){f6e.High=Number(f6e.High.toFixed(8));}if(!isNaN(f6e.Low)){f6e.Low=Number(f6e.Low.toFixed(+"8"));}if(!isNaN(f6e.Open)){f6e.Open=Number(f6e.Open.toFixed("8" ^ 0));}if(!isNaN(f6e.Close)){f6e.Close=Number(f6e.Close.toFixed(8));}if(!isNaN(f6e.Adj_Close)){f6e.Adj_Close=Number(f6e.Adj_Close.toFixed(8));}else {f6e.Adj_Close=f6e.Close;}}for(t5E in b50){if(!a1Y(U4P[t5E]))break a;}}}return x92;};};U=u0s=>{var G87;G87=typeof _CIQ !== "undefined"?_CIQ:u0s.CIQ;G87.ChartEngine.prototype.setLocale=function(i59,h0a){var x3Z,D$I,b0H,K8P,x2g,A8r,r2g,X9v,I$e,K11,f43,u_6,H6B;x3Z="n";x3Z+="u";x3Z+="me";x3Z+="ric";D$I="nu";D$I+="mer";D$I+="ic";b0H="2-d";b0H+="ig";b0H+="i";b0H+="t";K8P="nume";K8P+="ric";x2g="numeri";x2g+="c";A8r="numer";A8r+="ic";r2g="nu";r2g+="m";r2g+="eric";X9v="u";X9v+="ndefined";if(typeof Intl == X9v){return;}if(this.locale != i59){this.locale=i59;}else {return;}K11=this.internationalizer={};V5cdF.U0D();K11.hourMinute=new Intl.DateTimeFormat(this.locale,{hour:r2g,minute:A8r,hourCycle:"h23"});K11.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:x2g,minute:K8P,second:"numeric",hourCycle:"h23"});K11.mdhm=new Intl.DateTimeFormat(this.locale,{year:b0H,month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});K11.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:"numeric"});K11.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:D$I,month:"numeric",day:x3Z});K11.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric"});K11.month=new Intl.DateTimeFormat(this.locale,{month:"short"});K11.numbers=new Intl.NumberFormat(this.locale);K11.priceFormatters=[];if(!h0a){h0a=8;}for(I$e=0;I$e < h0a + 1;I$e++){K11.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:I$e,minimumFractionDigits:I$e}));}for(I$e=0;I$e < 5;I$e++){f43="perce";f43+="nt";u_6=I$e;H6B=I$e;if(!I$e){u_6="";H6B=+"2";}V5cdF.U_P(1);K11[V5cdF.Q7U(u_6,"percent")]=new Intl.NumberFormat(this.locale,{style:f43,minimumFractionDigits:H6B,maximumFractionDigits:H6B});}if(G87.I18N.createMonthArrays){G87.I18N.createMonthArrays(this,K11.month,this.locale);}};G87.ChartEngine.prototype.translateUI=function(y_C){V5cdF.j0M();if(G87.I18N.localized){G87.I18N.translateUI(this.preferences.language,y_C);}};G87.I18N=function(){};G87.I18N.hereDoc=function(e2m){V5cdF.U0D();return e2m.toString().replace(/^[^/]+\/\*!?/,"").replace(/ {4,10}/g,"").replace(/\*\/[^/]+$/,"");};G87.I18N.language="en";G87.I18N.longMonths={zh:!""};G87.I18N.reverseColorsByLocale={zh:!![],ja:!![]};G87.I18N.findAllTextNodes=function(f8B){var t6l,u$H,U1G,s8l,l1U,G1y,L9p,T9n,P_i,I16,f6I,j$Y,N9k,H_w;if(!f8B){f8B=document.body;}t6l=f8B.ownerDocument.createTreeWalker(f8B,NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT,{acceptNode(E57) {V5cdF.j0M();if(E57.nodeType === Node.TEXT_NODE || E57.shadowRoot || E57.placeholder){return NodeFilter.FILTER_ACCEPT;}return NodeFilter.FILTER_SKIP;}});u$H=t6l.nextNode();U1G=new RegExp("^\\s*$");s8l=new RegExp("\n|\t|\f","g");l1U={};V5cdF.j0M();G1y={SCRIPT:!![],STYLE:!!({}),TEXTAREA:!!1};while(u$H){if(u$H.shadowRoot){T9n=G87.I18N.findAllTextNodes(u$H.shadowRoot);for(var q8S in T9n){if(!l1U[q8S]){l1U[q8S]=[];}l1U[q8S]=l1U[q8S].concat(T9n[q8S]);}}P_i=u$H.nodeValue;if(P_i && !U1G.test(P_i)){I16=u$H.parentNode;if(!G1y[I16.tagName]){f6I="c";f6I+="q-t";f6I+="ranslate-ori";f6I+="ginal";L9p=I16.getAttribute(f6I);if(L9p){P_i=L9p;}else {I16.setAttribute("cq-translate-original",P_i);}if(s8l.test(P_i)){P_i=P_i.replace(s8l,"");}if(!l1U[P_i]){l1U[P_i]=[];}l1U[P_i].push(u$H);}}P_i=u$H.placeholder;if(P_i && !U1G.test(P_i)){if(!G1y[u$H.tagName]){j$Y="cq-translate-p";j$Y+="lacehol";j$Y+="der-origi";j$Y+="nal";L9p=u$H.getAttribute(j$Y);if(L9p){P_i=L9p;}else {u$H.setAttribute("cq-translate-placeholder-original",P_i);}if(!l1U[P_i]){l1U[P_i]=[];}l1U[P_i].push(u$H);}}if(u$H.tagName && G1y[u$H.tagName]){u$H=t6l.nextSibling();}else {u$H=t6l.nextNode();}}if(f8B == document.body){N9k=G87.Studies?G87.Studies.studyLibrary:null;if(N9k){for(var v1q in N9k){if(l1U[v1q] === null){l1U[v1q]=[];}H_w=N9k[v1q];if(H_w.inputs){for(var J8S in H_w.inputs){if(!l1U[J8S]){l1U[J8S]=[];}}}if(H_w.outputs){for(var Z4Y in H_w.outputs){if(!l1U[Z4Y]){l1U[Z4Y]=[];}}}}}}return l1U;};G87.I18N.missingWordList=function(n0G){var k$Q,c2Q,M6q,h7r,W87,k4b,P7y;k$Q="Pa";k$Q+="nel";if(!n0G){n0G=G87.I18N.language;}c2Q=G87.I18N.findAllTextNodes();M6q={};h7r=G87.I18N.wordLists[n0G];if(!h7r){h7r={};}W87=function(C4O){V5cdF.j0M();if(typeof h7r[C4O] == "undefined"){M6q[C4O]="";}};for(var O5A in c2Q){W87(O5A);}if(!(G87.Studies && G87.Studies.studyLibrary)){return M6q;}for(var P0l in G87.Studies.studyLibrary){k4b=G87.Studies.studyLibrary[P0l];W87(k4b.name);for(var c18 in k4b.inputs){W87(c18);P7y=k4b.inputs[c18];switch(Object.prototype.toString.call(P7y)){case "[object String]":W87(P7y);break;case "[object Array]":for(var b7G=0;b7G < P7y.length;++b7G){W87(P7y[b7G]);}break;}}for(var V4g in k4b.outputs){W87(V4g);}}V5cdF.j0M();W87("Show Zones");W87("OverBought");W87("OverSold");W87(k$Q);W87("Show as Underlay");W87("Y-Axis");W87("Invert Y-Axis");return M6q;};G87.I18N.printableMissingWordList=function(r$F){var R25;V5cdF.j0M();R25=JSON.stringify(G87.I18N.missingWordList(r$F));R25=R25.replace(/","/g,'",\n"');return R25;};G87.I18N.translateUI=function(m1S,Y2F){var Y89,Q4Y,l$v,z4x,s2l,B65,J46,M75;Y89="p";Y89+="t";if(m1S == "pu"){m1S=Y89;}if(!G87.I18N.wordLists){return;}if(!m1S){m1S=G87.I18N.language;}Q4Y=G87.I18N.findAllTextNodes(Y2F);l$v=G87.I18N.wordLists[m1S];if(!l$v){return;}for(var z_q in Q4Y){z4x=G87.I18N.translateSections(z_q,l$v);s2l=Q4Y[z_q];for(var T$I=+"0";T$I < s2l.length;T$I++){B65=s2l[T$I];J46=B65.parentNode;M75=B65.placeholder?B65.getAttribute("cq-translate-placeholder-original"):J46.getAttribute("cq-translate-original");if(z4x === ((+"4171",243.26) != 4570?",":0x1fd7) || !z4x){z4x=M75;}if(B65.placeholder){B65.placeholder=z4x;}else {B65.data=z4x;}}}};G87.I18N.translate=function(U5O,F4O){var N9I,h0_;if(!F4O){F4O=G87.I18N.language;}if(!G87.I18N.wordLists){console.log("Must include translations.js in order to use CIQ.I18N.translate()");return U5O;}N9I=G87.I18N.wordLists[F4O];h0_=null;if(N9I){h0_=G87.I18N.translateSections(U5O,N9I) || U5O;}return h0_ === ","?U5O:h0_;};G87.I18N.translateSections=function(o_1,m7a){var q_k=V5cdF;var y4b,s7w,B3F;y4b=(7660,8671) !== 8380?"\u200c":!!0;if(typeof o_1 == "string" && o_1.indexOf(y4b) != -1){s7w="$";s7w+="1";q_k.U_P(19);o_1=o_1.replace(/([(),])/g,q_k.l$6(y4b,s7w,y4b));B3F=o_1.split(y4b);B3F.forEach(function(d1R,A6A,v$I){var j86,u27;q_k.j0M();j86=d1R.match(/^(\s*).{0,100}\S(\s*)$/);u27=m7a[d1R.trim()];if(u27){if(j86){u27=j86[+"1"] + u27 + j86[+"2"];}v$I[A6A]=u27;}});return B3F.join("");}q_k.j0M();return m7a[o_1];};G87.I18N.csv=G87.I18N.csv || "";G87.I18N.convertCSV=function(L6T){var z4o=V5cdF;z4o.j0M();var l6W,H7k,k7q,m0G,g2x,G0b,p6H,B0i,a6W,C1X,r4b;l6W=new RegExp("[\u201C\u201D]|[\u2018\u2019]","g");H7k=G87.I18N.wordLists;if(!L6T){L6T=G87.I18N.csv;}if(!L6T){return;}k7q=L6T.split("\n");m0G=k7q[0];g2x=m0G.split(",");for(var i7k=0;i7k < g2x.length;i7k++){G0b=g2x[i7k];if(!H7k[G0b]){H7k[G0b]={};}}for(var T86=+"1";T86 < k7q.length;T86++){p6H=k7q[T86].match(/(".{0,1000}?"|[^",]{1,1000})(?=\s{0,100},|\s{0,100}$)|(,(?=,))/g) || [];z4o.U6M(40);B0i=p6H[z4o.l$6("0",0)];a6W=B0i.charAt(+"0");C1X=B0i.charAt(B0i.length - 1);if(a6W === (5970 < 293?!!"":(370.95,1811) >= 400.62?'"':(6050,952.22) === 36.71?(!0,0x1430):"4.40e+3" | 0) && C1X === '"'){B0i=B0i.substring(1,B0i.length - 1);}if(l6W.test(B0i)){B0i=B0i.replace(l6W,'"');}for(var d6l=1;d6l < p6H.length;d6l++){r4b=p6H[d6l];a6W=r4b.charAt(0);C1X=r4b.charAt(r4b.length - 1);if(a6W === ((2260,2970) >= (840.39,2670)?'"':(6850,452.92) === 19.77?!![]:+"0x1487") && C1X === (8244 > (+"3278",9233)?(!!1,!!({})):(9180,9380) != 8400?(+"563.28",997.44) <= "8140" >> 32?'"':!!1:+"0x18cc")){z4o.U6M(9);r4b=r4b.substring(z4o.Q7U(32,"1"),r4b.length - ("1" ^ 0));}H7k[g2x[d6l]][B0i]=r4b;}}};G87.I18N.setLanguage=function(Y5u,Z_1,n2G,J0H,C_o){if(!C_o){C_o=(Y5u.uiContext || ({})).topNode || document.body;}if(Z_1 == "pu"){Z_1="pt";}G87.I18N.convertCSV(J0H);G87.I18N.language=Z_1;G87.I18N.translateUI(Z_1,C_o);if(!n2G){n2G=G87.I18N.translate;}Y5u.translationCallback=n2G;};G87.I18N.setLocale=function(G5u,n_n,G9O,C97,m_y){var O1E=V5cdF;O1E.U0D();var w6m,t_F,D3L,f24,a54,u61,D5O;w6m="undefin";w6m+="ed";if(G87.xor(this.reverseColorsByLocale[n_n],this.reverseColorsByLocale[G5u.locale])){this.reverseCandles(G5u);}if(typeof Intl == "undefined" || !Intl.__addLocaleData){G5u.setLocale(n_n,m_y);if(G9O){G9O(null);}return;}C97=typeof C97 == w6m?"locale-data/jsonp":C97;O1E.U_P(0);t_F=O1E.Q7U(n_n,851.89 > 5634?(![],0x1f91):"/",C97,".js");D3L=document.createElement("SCRIPT");D3L.async=!!"1";f24=1173578969;a54=510039385;u61=2;for(var h2Q=1;O1E.S0_(h2Q.toString(),h2Q.toString().length,79926) !== f24;h2Q++){D3L.src=t_F;D5O=document.getElementsByTagName("")[7];u61+=2;}if(O1E.S0_(u61.toString(),u61.toString().length,8198) !== a54){D3L.src=t_F;D5O=document.getElementsByTagName("")[3];}D3L.src=t_F;D5O=document.getElementsByTagName("script")[0];D5O.parentNode.insertBefore(D3L,D5O.nextSibling);D3L.onload=function(){G5u.setLocale(n_n,m_y);O1E.j0M();if(G9O){G9O(null);}};D3L.onerror=function(){var j2a;O1E.U0D();j2a="cannot load scri";j2a+="pt";if(G9O){G9O(j2a);}};};G87.I18N.createMonthArrays=function(a89,n28,V4K){var P5N,e2C,G1S,t8D,p$w,Y4s;a89.monthAbv=[];a89.monthLetters=[];P5N=new Date();e2C=!![];if(G87.I18N.longMonths && G87.I18N.longMonths[V4K]){e2C=!!0;}for(var m5s=0;m5s < 12;m5s++){P5N.setDate(1);P5N.setMonth(m5s);G1S=n28.format(P5N);if(e2C){t8D="";for(var X6J="0" | 0;X6J < G1S.length;X6J++){p$w=G1S.charAt(X6J);Y4s=p$w.charCodeAt(0);if(Y4s < 65)continue;t8D+=p$w;}a89.monthAbv[m5s]=t8D;a89.monthLetters[m5s]=t8D[0];}else {a89.monthAbv[m5s]=G1S;a89.monthLetters[m5s]=G1S;}}};G87.I18N.localize=function(u6Q,a3o){a3o=this.langConversionMap[a3o] || a3o;this.setLocale(u6Q,a3o);this.setLanguage(u6Q,a3o);G87.I18N.localized=!!"1";};G87.I18N.reverseCandles=function(i4i){V5cdF.j0M();var r5l,u_f,X7F;r5l=i4i.styles;u_f=i4i.cloneStyle(r5l.stx_candle_down);X7F=i4i.cloneStyle(r5l.stx_candle_up);r5l.stx_candle_up=u_f;r5l.stx_candle_down=X7F;};G87.I18N.wordLists={en:{}};G87.I18N.languages={en:"English"};G87.I18N.langConversionMap={};G87.I18N.localized=!({});};J=l7j=>{var o5j,W_4,t3P,J$v,r7w,r5N,j$W;o5j="<div class=\"stx_notification_tray\"><template><div>";o5j+="<span class=\"icon\"></span><span class=\"mes";o5j+="sage\"></span></div></template></div>";W_4="<div class=\"stx-";W_4+="ico-handle\" style=\"display: none;\"><span></span></div> ";t3P="<div class=";t3P+="\"stx_jump_today\" style=\"display:none\"><span></span></div";t3P+=">";J$v="<div clas";J$v+="s=\"stx_drag_ok\"><div cla";J$v+="ss=\"icon\"></div><div class=\"field\"></div></div>";r7w="<span class=\"stx-btn stx_annot";r7w+="ation";r7w+="_cancel\" style=\"display: none; margin-left:10px;\"></span>";r5N=typeof _CIQ !== "undefined"?_CIQ:l7j.CIQ;r5N.ChartEngine.prototype.pointerEvents={down:[],up:[]};r5N.ChartEngine.prototype.manageTouchAndMouse=!![];r5N.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var f_V,d4Y,b0T,o4H,x6m,V5x,x3P,f2$,L97,J$y,k55,x50,f9x,V9j,q8U,h3K;if(this.touchAndMouseEventsRegistered){return;}this.touchAndMouseEventsRegistered=!![];f_V=this.controls.chartControls || document;d4Y=f_V.querySelector(".stx-zoom-in");b0T=f_V.querySelector(".stx-zoom-out");o4H=this.chart.container;x6m=this;V5x=function(b$V,l8b,N0h){x6m.addDomEventListener(o4H,b$V,q_y,N0h);V5cdF.U0D();function q_y(t62){if(x6m.mainSeriesRenderer.nonInteractive){return;}l8b(t62);}};if(!r5N.touchDevice){x3P="mo";x3P+="us";x3P+="eup";f2$="m";f2$+="o";f2$+="use";f2$+="down";L97="mo";L97+="usemove";V5x(L97,function(y6r){x6m.mousemove(y6r);});V5x("mouseenter",function(f1t){V5cdF.U0D();x6m.mousemove(f1t);});V5x(f2$,function(c1J){V5cdF.j0M();x6m.mousedown(c1J);});V5x(x3P,function(C9V){V5cdF.j0M();x6m.mouseup(C9V);});}else {if(r5N.isSurface){J$y="p";J$y+="o";J$y+="interup";k55="mo";k55+="usedo";k55+="wn";x50="mous";x50+="emove";V5x(x50,function(M3r){x6m.msMouseMoveProxy(M3r);});V5x("mouseenter",function(q1t){x6m.msMouseMoveProxy(q1t);});V5x(k55,function(x0g){x6m.msMouseDownProxy(x0g);});V5x("mouseup",function(V6M){x6m.msMouseUpProxy(V6M);});V5x("pointerdown",function(A9I){return x6m.startProxy(A9I);});V5x("pointermove",function(V9F){x6m.moveProxy(V9F);});V5x("pointerenter",function(s98){return x6m.moveProxy(s98);});V5x(J$y,function(V4I){V5cdF.U0D();return x6m.endProxy(V4I);});}else {if(!r5N.isMobile){f9x="mo";f9x+="u";f9x+="sedown";V9j="mousee";V9j+="nt";V9j+="er";V5x("mousemove",function(o8Y){x6m.iosMouseMoveProxy(o8Y);});V5x(V9j,function(j_F){V5cdF.U0D();x6m.iosMouseMoveProxy(j_F);});V5x(f9x,function(Z51){x6m.iosMouseDownProxy(Z51);});V5x("mouseup",function(L2o){V5cdF.U0D();x6m.iosMouseUpProxy(L2o);});}V5x("touchstart",function(e05){x6m.touchstart(e05);},{passive:!"1"});V5x("touchmove",function(L8Z){V5cdF.U0D();x6m.touchmove(L8Z);},{passive:!({})});V5x("touchend",function(y2n){V5cdF.U0D();x6m.touchend(y2n);});V5x("pointerdown",function(K2$){V5cdF.j0M();x6m.touchPointerType=K2$.pointerType;});if(d4Y){q8U="o";q8U+="nMouse";q8U+="Out";d4Y.removeAttribute("onMouseOver");d4Y.removeAttribute(q8U);}if(b0T){b0T.removeAttribute("onMouseOver");b0T.removeAttribute("onMouseOut");}}}h3K=r5N.wheelEvent;if(this.captureMouseWheelEvents){V5x(h3K,function(c2z){V5cdF.j0M();x6m.mouseWheel(c2z);},{passive:!({})});}};r5N.ChartEngine.prototype.mousedown=function(N1c){var y8s=V5cdF;var z3k,r1$,o_y,Y5L,c2C,z77,A$F,f4t,o$e,K5o;y8s.j0M();if(this.runPrepend("mousedown",arguments)){return;}this.grabOverrideClick=!"1";if(!this.displayInitialized){return;}if(!this.displayCrosshairs){return;}if(this.repositioningDrawing){return;}if(this.editingAnnotation){return;}if(N1c.button && N1c.button >= 2){return;}z3k=this.container.getBoundingClientRect();this.top=z3k.top;this.left=z3k.left;this.right=this.left + this.width;this.bottom=this.top + this.height;if(N1c.clientX >= this.left && N1c.clientX <= this.right && N1c.clientY >= this.top && N1c.clientY <= this.bottom){this.insideChart=!!1;}else {this.insideChart=!({});return;}if(!this.currentPanel){return;}if(this.manageTouchAndMouse && N1c && N1c.preventDefault && this.captureTouchEvents){N1c.preventDefault();}this.mouseTimer=Date.now();this.longHoldTookEffect=!!"";this.hasDragged=![];this.userPointerDown=!!"1";if(this.openDialog === ""){this.registerPointerEvent({x:N1c.clientX,y:N1c.clientY,time:this.mouseTimer},"down");}r1$=this.currentPanel.chart;for(var a0X=0;a0X < this.drawingObjects.length;a0X++){o_y=this.drawingObjects[a0X];if(o_y.highlighted && !o_y.permanent){if(this.cloneDrawing){Y5L=r5N.ChartEngine.drawingTools[o_y.name];c2C=new Y5L();c2C.reconstruct(this,o_y.serialize());this.drawingObjects.push(c2C);this.activateRepositioning(c2C);c2C.repositioner=o_y.repositioner;return;}z77=this.currentVectorParameters.vectorType;if(!r5N.Drawing || !z77 || !r5N.Drawing[z77] || !new r5N.Drawing[z77]().dragToDraw){this.activateRepositioning(o_y);return;}}}A$F=this.mainSeriesRenderer;var {baselineHelper:C6k}=this;if(C6k.size){if(this.findBaselineHandle(N1c,!"")){return;}}var {anchorHandles:a$J}=this.controls;if(a$J){for(var G4s in a$J){var {handle:Z_6, sd:g5f, highlighted:W2N}=a$J[G4s];if(W2N){this.repositioningAnchorSelector={sd:g5f};Z_6.classList.add("stx-grab");return;}}}if(this.drawingClick){y8s.U_P(2);f4t=y8s.Q7U(1,"1106216465");o$e=2016774038;K5o=2;for(var U14=+"1";y8s.Y5G(U14.toString(),U14.toString().length,81195) !== f4t;U14++){if(this.currentPanel.subholder === N1c.target){this.drawingClick(this.currentPanel,this.cx,this.cy);}if(this.activeDrawing && this.activeDrawing.dragToDraw){return;}K5o+=2;}if(y8s.S0_(K5o.toString(),K5o.toString().length,"88739" * 1) !== o$e){if(this.currentPanel.subholder !== N1c.target){this.drawingClick(this.currentPanel,this.cx,this.cy);}if(this.activeDrawing || this.activeDrawing.dragToDraw){return;}}}this.grabbingScreen=!!1;r1$.spanLock=!1;this.yToleranceBroken=![];this.grabStartX=N1c.clientX;this.grabStartY=N1c.clientY;this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=r1$.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartYAxis=this.whichYAxis(this.currentPanel);this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;this.grabStartPanel=this.currentPanel;setTimeout((function(H84){y8s.j0M();return function(){H84.grabbingHand();};})(this),100);if(this.swipeStart){this.swipeStart(r1$);}if(this.longHoldTime || this.longHoldTime === 0){this.startLongHoldTimer();}this.runAppend("mousedown",arguments);};r5N.ChartEngine.prototype.mousemove=function(t_a){var y_s;y_s=t_a;r5N.ChartEngine.crosshairX=y_s.clientX;r5N.ChartEngine.crosshairY=y_s.clientY;if(y_s.type.toLowerCase().indexOf("enter") > -1){this.positionCrosshairsAtPointer();return;}if(this.runPrepend("mousemove",arguments)){return;}if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(this.baselineHelper.size){this.findBaselineHandle(y_s);}if(this.grabbingScreen && y_s.buttons !== 1){this.cancelLongHold=!![];this.displayDragOK();this.grabbingScreen=![];this.findHighlights(!!0,!"");}this.mousemoveinner(y_s.clientX,y_s.clientY);this.runAppend("mousemove",arguments);};r5N.ChartEngine.prototype.mouseup=function(b6z){var z5z,b3C,o1m,i1a,w9s,N1I,q5W,r7r,J36,w4F,q0R,N0q,Z$p,U4g,I5B;z5z="m";z5z+="ous";z5z+="eup";b3C="stx";b3C+="-";b3C+="drag-chart";o1m="u";o1m+="p";if(this.runPrepend("mouseup",arguments)){return;}this.swipe.end=!![];this.cancelLongHold=!![];if(this.repositioningDrawing){if(!this.currentVectorParameters.vectorType || Date.now() - this.mouseTimer > 250){i1a="v";i1a+="ector";this.changeOccurred(i1a);r5N.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.adjustDrawings();this.draw();return;}this.activateRepositioning(null);}if(this.repositioningBaseline){w9s="stx";w9s+="-g";w9s+="ra";w9s+="b";var {handle:f99}=this.repositioningBaseline;var {mainSeriesRenderer:H17 = {params:{}}}=this;this.repositioningBaseline=null;f99.classList.remove(w9s);if(H17.params.baseline && H17.params.type != "mountain"){;}this.draw();return;}if(this.repositioningAnchorSelector){var {sd:g8R}=this.repositioningAnchorSelector;r5N.Studies.repositionAnchor(this,g8R);if(this.controls.anchorHandles[g8R.uniqueId]){this.repositioningAnchorSelector=null;this.controls.anchorHandles[g8R.uniqueId].highlighted=!({});r5N.Studies.displayAnchorHandleAndLine(this,g8R,this.chart.dataSegment);Object.values(this.controls.anchorHandles || ({})).forEach(({handle:o20})=>{V5cdF.j0M();return o20.classList.remove("stx-grab");});this.findHighlights();}return;}N1I=this.userPointerDown;this.userPointerDown=!1;if(!this.displayInitialized){return;}q5W=this.backOutY(b6z.clientY);r7r=this.backOutX(b6z.clientX);J36=b6z.button && b6z.button >= 2;w4F=this.openDialog !== "";if(!w4F && !J36){this.registerPointerEvent({x:b6z.clientX,y:b6z.clientY,time:Date.now()},o1m);}this.grabbingScreen=![];if(this.highlightedDraggable){if(this.dragPlotOrAxis){this.dragPlotOrAxis(r7r,q5W);}this.currentPanel=this.whichPanel(q5W);}q0R=this.currentPanel;this.grabStartYAxis=null;this.displayDragOK();if(this.openDialog !== ""){N0q="stx";N0q+="-drag-chart";if(this.insideChart){this.container.classList.remove(N0q);}return;}if(this.grabOverrideClick){if(!this.overXAxis && !this.overYAxis && this.swipeRelease){this.swipeRelease();}this.container.classList.remove("stx-drag-chart");this.grabOverrideClick=![];this.doDisplayCrosshairs();this.updateChartAccessories();return;}if(this.insideChart){this.container.classList.remove(b3C);}if(r5N.ChartEngine.resizingPanel){this.releaseHandle();return;}if(J36 || b6z.ctrlKey){Z$p="rightCl";Z$p+="i";Z$p+="ck";if(this.anyHighlighted && this.bypassRightClick !== !""){this.rightClickHighlighted();if(b6z.preventDefault && this.captureTouchEvents){b6z.preventDefault();}b6z.stopPropagation();return !!"";}this.dispatch(Z$p,{stx:this,panel:q0R,x:r7r,y:q5W});return !![];}if(b6z.clientX < this.left || b6z.clientX > this.right){return;}if(b6z.clientY < this.top || b6z.clientY > this.bottom){return;}U4g=q0R && q0R.subholder === b6z.target;if(this.isDoubleClick() && (U4g || this.overYAxis || this.overXAxis)){this.doubleClick(b6z.button,r7r,q5W);this.resetClickState();}else {if(N1I && U4g){if(!this.longHoldTookEffect || this.activeDrawing){this.drawingClick(q0R,r7r,q5W);}if(!this.longHoldTookEffect && this.activeMarker){this.activeMarker.click({cx:r7r,cy:q5W,panel:q0R});}}if(!this.longHoldTookEffect && !this.activeDrawing){I5B="t";I5B+="a";I5B+="p";this.dispatch(I5B,{stx:this,panel:q0R,x:r7r,y:q5W});}}this.runAppend(z5z,arguments);};r5N.ChartEngine.prototype.registerPointerEvent=function(R3H,b2j){V5cdF.j0M();if(this.pointerEvents[b2j].length > +"1"){this.pointerEvents[b2j].pop();}this.pointerEvents[b2j].unshift(R3H);};r5N.ChartEngine.prototype.resetPointerEvent=function(B2G){V5cdF.j0M();this.pointerEvents[B2G].splice(0);};r5N.ChartEngine.prototype.resetClickState=function(){this.resetPointerEvent("up");V5cdF.j0M();this.resetPointerEvent("down");this.cancelTouchSingleClick=!0;};r5N.ChartEngine.prototype.isDoubleClick=function(T4Y){var V7d,U7w;V7d=T4Y?"35" ^ 0:20;var {up:[x1O,U4o], down:[B8Y,V7G]}=this.pointerEvents;U7w=U4o && V7G && B8Y.time - U4o.time < this.doubleClickTime && r5N.withinRadius(V7G,B8Y,V7d) && r5N.withinRadius(U4o,B8Y,V7d) && U4o.time - V7G.time < this.longHoldTime && x1O.time - B8Y.time < this.longHoldTime;this.cancelTouchSingleClick=U7w;return U7w;};r5N.ChartEngine.prototype.doubleClick=function(L7n,C6D,L1W){var l6y=V5cdF;var y6n,q_M,Q87,i9N,r34,c8p,y8A,i8m,w9U;y6n="doubleCli";y6n+="c";y6n+="k";if(this.runPrepend(y6n,arguments)){return;}if(this.editingAnnotation){return;}l6y.j0M();if(r5N.ChartEngine.drawingLine){q_M="continu";q_M+="ous";if(this.currentVectorParameters.vectorType == q_M){r5N.ChartEngine.completeDrawing(this);}Q87=119744473;i9N=-945127911;r34=2;for(var f6h=1;l6y.Y5G(f6h.toString(),f6h.toString().length,13130) !== Q87;f6h++){return this.undo();}if(l6y.Y5G(r34.toString(),r34.toString().length,44663) !== i9N){return this.undo();}}if(this.activeDrawing){return;}c8p=+"1100790887";y8A=1603815478;i8m=2;for(var v2j="1" << 0;l6y.Y5G(v2j.toString(),v2j.toString().length,24434) !== c8p;v2j++){w9U=this.activeMarker || this.activeMarker.doubleClick({cx:C6D,cy:L1W,panel:this.currentPanel});i8m+=2;}if(l6y.S0_(i8m.toString(),i8m.toString().length,14713) !== y8A){w9U=this.activeMarker && this.activeMarker.doubleClick({cx:C6D,cy:L1W,panel:this.currentPanel});}if(!w9U){this.dispatch("doubleClick",{stx:this,button:L7n,x:C6D,y:L1W});}this.runAppend("doubleClick",arguments);};r5N.ChartEngine.prototype.handleMouseOut=function(n$J){var x3b,l6K,L_R,w3K;n$J=n$J || window.event;V5cdF.U0D();if(!n$J.relatedTarget || !r5N.withinElement(this.chart.container,n$J.pageX,n$J.pageY)){x3b="han";x3b+="dleMouse";x3b+="O";x3b+="ut";if(this.runPrepend(x3b,arguments)){return;}if(!this.grabbingScreen){this.findHighlights(null,!!({}));}this.undisplayCrosshairs();this.touches=[];this.touching=![];if(this.activeDrawing && this.userPointerDown){this.userPointerDown=!1;this.drawingLine=!"1";l6K=this.backOutY(n$J.pageY);L_R=this.backOutX(n$J.pageX);this.drawingClick(this.currentPanel,L_R,l6K);}var {sd:M65, tapToAdd:S91}=this.repositioningAnchorSelector || ({});if(M65 && !S91){this.repositioningAnchorSelector=null;this.controls.anchorHandles[M65.uniqueId].highlighted=!1;r5N.Studies.displayAnchorHandleAndLine(this,M65,this.chart.dataSegment);this.draw();}this.insideChart=!({});this.overYAxis=!1;this.overXAxis=!!0;this.displaySticky();w3K=this.controls.dragOk;if(w3K){w3K.style.display="none";}this.runAppend("handleMouseOut",arguments);}};r5N.ChartEngine.prototype.startLongHoldTimer=function(t_U){var U1P=V5cdF;var r1S,f9S,Q_o,Y_b,S_z;r1S=239107685;f9S=145024346;U1P.U6M(40);Q_o=U1P.Q7U("2",0);for(var v14=1;U1P.S0_(v14.toString(),v14.toString().length,15922) !== r1S;v14++){Y_b=this;this.cancelLongHold=!!({});Q_o+=2;}if(U1P.S0_(Q_o.toString(),Q_o.toString().length,97349) !== f9S){Y_b=this;this.cancelLongHold=![];}if(this.longHoldTimeout){clearTimeout(this.longHoldTimeout);}S_z=function(){if(Y_b.cancelLongHold){return;}Y_b.longHoldTookEffect=!![];if(t_U){t_U();}Y_b.dispatch("longhold",{stx:Y_b,panel:Y_b.currentPanel,x:Y_b.cx,y:Y_b.cy});Y_b.displayDragOK();};if(this.longHoldTime){this.longHoldTimeout=setTimeout(S_z,this.longHoldTime);}else if(this.longHoldTime === 0){S_z();}};r5N.ChartEngine.prototype.grabHandle=function(O2c){var m_n;m_n="stx-";m_n+="gr";m_n+="ab";if(this.runPrepend("grabHandle",arguments)){return;}if(!O2c){return;}r5N.ChartEngine.crosshairY=this.resolveY(O2c.top);r5N.ChartEngine.resizingPanel=O2c;O2c.handle.classList.add(m_n);this.runAppend("grabHandle",arguments);};r5N.ChartEngine.prototype.grabbingHand=function(){if(!this.allowScroll){return;}V5cdF.j0M();if(!this.grabbingScreen){return;}if(r5N.touchDevice){return;}this.container.classList.add("stx-drag-chart");};r5N.ChartEngine.prototype.releaseHandle=function(){var j0n;j0n="release";j0n+="Hand";j0n+="le";if(this.runPrepend(j0n,arguments)){return !![];}V5cdF.U0D();r5N.clearCanvas(this.chart.tempCanvas,this);this.resizePanels();if(r5N.ChartEngine.resizingPanel){r5N.ChartEngine.resizingPanel.handle.classList.remove("stx-grab");}r5N.ChartEngine.resizingPanel=null;this.runAppend("releaseHandle",arguments);};r5N.ChartEngine.prototype.findHighlights=function(g3T,x5d){var p58=V5cdF;var k1$,U1q,q9z,L1s,Y53,t_0,r4p,u2e,N_5,A$c,j44,C27,i0G,o65,D6S,l3T,n8l,m3D,H8i,T0k,R2b,G18,c8x,I_s,a$Q,W_Q,Y8m,f14,D$T,B8J,U35,K9d,g1z,p$J,W3r,S8h,c7j,H1p,f$b,Z2b,l9x,y4$,g$P,N0J,i$Z,v8x,J8e,p91,w8O,X6T,e8R,t8E,M9H,K1x,L65,D0s,w28;k1$="h";k1$+="ighlightsTapRadius";U1q=this.preferences[g3T?k1$:"highlightsRadius"];this.highlightViaTap=g3T;var {cx:U66, cy:A70}=this;this.anyHighlighted=![];if(!this.currentPanel){return;}var {chart:h9$}=this.currentPanel;if(this.activeDrawing){x5d=!!1;}q9z=!({});L1s=null;Y53=x5d?{}:{forceShow:!"",type:"drawing"};t_0={x0:this.tickFromPixel(U66 - U1q,h9$),x1:this.tickFromPixel(U66 + U1q,h9$),y0:this.valueFromPixel(A70 - U1q,this.currentPanel),y1:this.valueFromPixel(A70 + U1q,this.currentPanel),cx0:U66 - U1q,cx1:U66 + U1q,cy0:A70 - U1q,cy1:A70 + U1q,r:U1q};if(this.repositioningDrawing && t_0.x1 - t_0.x0 < 2){t_0.x1++;t_0.x0--;}else if(t_0.x1 == t_0.x0){t_0.x0-=0.5;t_0.x1+=+"0.5";}if(!h9$.hideDrawings){for(var I1P=this.drawingObjects.length - 1;I1P >= 0;I1P--){r4p=this.drawingObjects[I1P];if(!this.panels[r4p.panelName])continue;if(this.repositioningDrawing && this.repositioningDrawing != r4p)continue;u2e=r4p.highlighted;N_5=r4p.panelName == this.currentPanel.name || r4p.spanPanels;if(N_5){r4p.repositioner=r4p.intersected(this.crosshairTick,this.crosshairValue,t_0);}N_5=N_5 && r4p.repositioner && !this.overXAxis && !this.overYAxis;if(!x5d && N_5){if(u2e){L1s=r4p;if(this.anyHighlighted && this.singleDrawingHighlight){r4p.highlighted=!({});}if(r4p.highlighted && r4p.highlighted != u2e){q9z=!![];};}else if(u2e != r4p.highlight(!!({}))){if(!L1s){L1s=r4p;}if(this.anyHighlighted && this.singleDrawingHighlight){r4p.highlighted=!({});}q9z=!!({});}this.anyHighlighted=!!"1";}else {if(u2e != r4p.highlight(!!0)){q9z=!!({});}}if(r4p.highlighted){Y53.noDelete=r4p.permanent;Y53.noEdit=!this.callbackListeners.drawingEdit.length;Y53.noText=Y53.noEdit || !r4p.edit;Y53.message=this.translateIf(r5N.capitalize(r4p.name));}}}for(A$c in this.layout.studies){j44=this.layout.studies[A$c];j44.prev=j44.highlight;j44.highlight=this.yaxisMatches(j44,this.grabStartYAxis);}for(A$c in h9$.seriesRenderers){D6S=h9$.seriesRenderers[A$c];D6S.params.highlight=this.yaxisMatches(D6S,this.grabStartYAxis);for(var b_b=0;b_b < D6S.seriesParams.length;b_b++){o65=D6S.seriesParams[b_b];o65.prev=o65.highlight;o65.highlight=D6S.params.highlight;}}var {anchorHandles:A4S}=this.controls;if(A4S){for(var s2U in A4S){A4S[s2U].highlighted=!!"";}}l3T=this.markerHelper && this.markerHelper.visibleCanvasMarkers;if(l3T){for(C27=0;C27 < l3T.length;C27++){i0G=l3T[C27];this.activeMarker=null;i0G.prev=l3T[C27].highlight;i0G.highlight=!({});}}if(this.markerHelper){this.markerHelper.highlighted=[];}this.highlightedDataSetField=null;this.highlightedDraggable=null;if(!x5d && !this.anyHighlighted && A4S){for(var A4l in A4S){n8l="sd.signalDa";n8l+="ta.re";n8l+="veal";m3D=A4S[A4l];if(r5N.getFromNS(m3D,n8l) === !!0)continue;if(!this.anyHighlighted){var {sd:r5X, currentPixel:n9u}=m3D;p58.U6M(10);H8i=p58.Q7U(n9u,U1q);p58.U_P(1);T0k=p58.l$6(U1q,n9u);R2b=this.panels[r5X.panel];var {top:k0n, bottom:D4d}=R2b.yAxis;G18=r5N.boxIntersects(H8i,k0n,T0k,D4d,U66,A70,U66,A70);if(G18){this.anyHighlighted=!!({});m3D.highlighted=!!"1";q9z=!![];Y53={message:r5X.name,type:"anchorHandle",noDelete:!!({})};continue;}}if(m3D.highlighted === !!({})){m3D.highlighted=![];q9z=!0;}}}if(!x5d && !this.anyHighlighted && h9$.dataSegment){c8x=+"240399454";I_s=-1347580910;a$Q=2;for(var I7T=1;p58.Y5G(I7T.toString(),I7T.toString().length,47788) !== c8x;I7T++){W_Q=this.barFromPixel(U66);a$Q+=2;}if(p58.S0_(a$Q.toString(),a$Q.toString().length,39759) !== I_s){W_Q=this.barFromPixel(U66);}if(W_Q >= 0 && W_Q < h9$.dataSegment.length){f14=r5N.convertBoxToPixels(this,this.currentPanel.name,t_0);D$T=Number.MAX_VALUE;if(l3T){for(C27=0;C27 < l3T.length;C27++){i0G=l3T[C27];B8J=i0G.params.box;if(!B8J)continue;if(i0G.params.panelName !== this.currentPanel.name)continue;if(r5N.boxIntersects(f14.x0,f14.y0,f14.x1,f14.y1,B8J.x0,B8J.y0,B8J.x1,B8J.y1)){p58.U_P(52);var P7z=p58.Q7U(18,23,2,18,19);p58.U_P(16);var c5F=p58.l$6(17,13,28);p58.U_P(6);var S0C=p58.Q7U(5,3);p58.U_P(85);var n7k=p58.l$6(11,15,12,12);U35=Math.pow(A70 - (B8J.y1 + B8J.y0) / P7z,c5F) + Math.pow(U66 - (B8J.x1 + B8J.x0) / S0C,n7k);if(U35 <= D$T){D$T=U35;this.activeMarker=i0G;}i0G.highlight=!![];this.markerHelper.highlighted.push(i0G);}if(i0G.prev != i0G.highlight){q9z=!!({});}}}D$T=Number.MAX_VALUE;K9d=null;for(A$c in this.overlays){g1z="func";g1z+="tion";if(l3T && this.markerHelper.highlighted.length)break;j44=this.overlays[A$c];if(j44.signalData && !j44.signalData.reveal)continue;if(j44.disabled)continue;if(j44.panel != this.currentPanel.name)continue;if(j44.study.isHighlighted === !!0)continue;else if(typeof j44.study.isHighlighted == g1z){if(j44.study.isHighlighted(this,U66,A70)){K9d={o:j44,out:R44};D$T=0;break;}continue;}p$J=h9$.dataSegment[W_Q];if(!p$J)continue;for(var R44 in j44.outputMap){W3r=x$a.call(this,W_Q,t_0,R44,j44.getYAxis(this));if(W3r !== !1 && W3r <= D$T){K9d={o:j44,out:R44};D$T=W3r;}}}for(A$c in h9$.seriesRenderers){if(this.highlightedDataSetField)break;S8h=h9$.seriesRenderers[A$c];c7j=S8h.params.panel;if(S8h == this.mainSeriesRenderer)continue;if(!S8h.params.highlightable && !this.currentVectorParameters.vectorType)continue;if(c7j != this.currentPanel.name)continue;for(C27=+"0";C27 < S8h.seriesParams.length;C27++){H1p="-";H1p+="-";H1p+=">";o65=S8h.seriesParams[C27];f$b=o65.field;if(!f$b && !S8h.highLowBars){f$b=this.defaultPlotField || "Close";}if(o65.symbol && o65.subField){f$b+=H1p + o65.subField;}Z2b=S8h.params.yAxis;if(!Z2b && c7j){Z2b=this.panels[c7j].yAxis;}if(S8h.params.step && W_Q > 0){if(!S8h.caches[o65.id])continue;Y8m=S8h.caches[o65.id][W_Q];if(!Y8m && Y8m !== 0)continue;p58.U_P(10);l9x=S8h.caches[o65.id][p58.l$6(W_Q,1)];if((l9x || l9x === ("0" | 0)) && A70 + U1q >= Y8m && A70 - U1q <= l9x || A70 - U1q <= Y8m && A70 + U1q >= l9x){K9d={s:o65,fullField:f$b};break;}}else {y4$=x$a.call(this,W_Q,t_0,f$b,Z2b,S8h,o65.id);if(y4$ !== ![] && y4$ <= D$T){K9d={s:o65,fullField:f$b};D$T=y4$;}}}}if(K9d){j44=K9d.o;if(j44){if(j44.name != j44.panel){this.anyHighlighted=!!({});}j44.highlight=K9d.out;this.highlightedDataSetField=K9d.out;}else {this.anyHighlighted=!!"1";K9d.s.highlight=!!({});this.highlightedDataSetField=K9d.fullField;}}}}function x$a(E$u,z6x,l9J,m7L,y5i,P_d){var l94,B1g,L5$,g6I,r52,b9C,p8F,Y_8,S1Y,C3o,K92,M0c,P8n,Z35,m2z,N0D,N_p,i2s,H6P,k_K,f03,R54,j$E,l3j,i3R;l94="s";l94+="egment";B1g="-";B1g+="-";B1g+=">";L5$=this;g6I=L5$.chart;r52=L5$.currentPanel;if(!m7L){m7L=r52.yAxis;}b9C=l9J.split(B1g);p8F=b9C[0];Y_8=b9C[1];if(!Y_8){Y_8="Close";}S1Y=g6I.dataSegment[W_Q];m2z=null;p58.j0M();N0D=null;N_p=null;i2s=new Array(3);H6P=y5i && y5i.caches[P_d];if(S1Y && H6P){M0c=H6P[W_Q];m2z=S1Y.tick;if(M0c || M0c === 0){i2s[0]=1;}for(k_K=W_Q - 1;k_K >= 0;k_K--){if(H6P[k_K] || H6P[k_K] === 0){P8n=H6P[k_K];p58.U6M(107);N0D=p58.Q7U(m2z,k_K,W_Q);i2s[1]=1;break;}}for(k_K=W_Q + 1;k_K < g6I.dataSegment.length;k_K++){if(H6P[k_K] || H6P[k_K] === "0" << 64){Z35=H6P[k_K];p58.U6M(107);N_p=p58.Q7U(m2z,k_K,W_Q);i2s[2]=1;break;}}}if(N0D === null){C3o=L5$.getPreviousBar.call(L5$,g6I,l9J,W_Q);if(C3o){N0D=C3o.tick;P8n=z18(C3o);}}function z18(Q7K){var j5$;if(!Q7K){return null;}j5$=Q7K[p8F];if(j5$ && (j5$[Y_8] || j5$[Y_8] === 0)){j5$=j5$[Y_8];}if(y5i && y5i.getBasis){j5$+=y5i.getBasis(Q7K,p8F,Y_8);}if(!g6I.transformFunc || m7L != g6I.yAxis){return j5$;}else if(Q7K.transform && (p8F in Q7K.transform)){j5$=Q7K.transform[p8F];if(j5$ && (j5$[Y_8] || j5$[Y_8] === +"0")){j5$=j5$[Y_8];}return j5$;}return g6I.transformFunc(L5$,g6I,j5$);}if(N_p === null){K92=L5$.getNextBar.call(L5$,g6I,l9J,W_Q);if(K92){N_p=K92.tick;Z35=z18(K92);}}if(N0D === null && N_p === null){return ![];}if(!H6P){M0c=z18(S1Y);P8n=z18(C3o);Z35=z18(K92);m2z=S1Y.tick;if(C3o){N0D=C3o.tick;}if(K92){N_p=K92.tick;}}if(!P8n && P8n !== 0){P8n=0;N0D=0;}if(!Z35 && Z35 !== 0){if(M0c || M0c === 0){Z35=M0c;p58.U6M(14);i2s[2]=i2s[p58.Q7U("0",0)];}else {Z35=P8n;p58.U_P(9);i2s[2]=i2s[p58.Q7U(32,"1")];}if(P_d && g6I.series[P_d].parameters.extendToEndOfDataSet){p58.U_P(43);var D6i=p58.Q7U(4,5,10);N_p=g6I.dataSet.length - D6i;}else {N_p=N0D;}}if(!M0c && M0c !== 0){M0c=Z35;m2z=N_p;i2s[0]=i2s[2];if(P8n === +"0" && N0D === 0){P8n=M0c;N0D=m2z;i2s[1]=i2s[0];}}f03=L5$.pixelFromTransformedValue.bind(L5$);R54=L5$.valueFromPixel.bind(L5$);M0c=R54(i2s[0]?M0c:f03(M0c,r52,m7L),r52);P8n=R54(i2s[1]?P8n:f03(P8n,r52,m7L),r52);Z35=R54(i2s[2]?Z35:f03(Z35,r52,m7L),r52);j$E=r5N.convertBoxToPixels(L5$,r52.name,z6x);l3j=r5N.convertBoxToPixels(L5$,r52.name,{x0:N0D,y0:P8n,x1:m2z,y1:M0c});i3R=r5N.convertBoxToPixels(L5$,r52.name,{x0:m2z,y0:M0c,x1:N_p,y1:Z35});if(r5N.boxIntersects(j$E.x0,j$E.y0,j$E.x1,j$E.y1,l3j.x0,l3j.y0,l3j.x1,l3j.y1,l94) || r5N.boxIntersects(j$E.x0,j$E.y0,j$E.x1,j$E.y1,i3R.x0,i3R.y0,i3R.x1,i3R.y1,"segment")){return Math.min(Math.pow(A70 - (l3j.y1 + l3j.y0) / 2,2) + Math.pow(U66 - (l3j.x1 + l3j.x0) / 2,2),Math.pow(A70 - (i3R.y1 + i3R.y0) / ("2" | 2),2) + Math.pow(U66 - (i3R.x1 + i3R.x0) / 2,2));}return !!"";}N0J=this.preferences.dragging;for(A$c in this.overlays){j44=this.overlays[A$c];if(j44.highlight){this.anyHighlighted=!!({});v8x=j44.inputs.display || j44.name;v8x=this.translateIf(v8x);Y53={message:v8x,noDelete:j44.permanent,noEdit:!j44.editFunction,noText:!j44.textFunction,noDrag:j44.undraggable && j44.undraggable(this),type:"study"};L1s=null;if(N0J === !"" || N0J && N0J.study){if(!j44.undraggable(this)){g$P=j44;}}i$Z=j44.getYAxis(this);}if(j44.prev != j44.highlight){q9z=!![];}}for(A$c in h9$.seriesRenderers){J8e=h9$.seriesRenderers[A$c];p91=J8e.params.yAxis?J8e.params.yAxis.textStyle:null;for(var T38=0;T38 < J8e.seriesParams.length;T38++){o65=J8e.seriesParams[T38];if(J8e.params.highlightable && o65.highlight){w8O="se";w8O+="rie";w8O+="s";this.anyHighlighted=!!({});X6T=o65.color || p91;if(X6T == "auto"){X6T=this.defaultColor;}if(o65.opacity && o65.opacity !== 1){X6T=r5N.hexToRgba(r5N.colorToHex(X6T),parseFloat(o65.opacity));}Y53={message:o65.display || o65.symbol,backgroundColor:X6T,noDelete:o65.permanent,noDrag:J8e.undraggable && J8e.undraggable(this),type:w8O};L1s=null;if(N0J === !![] || N0J && N0J.series){g$P=J8e;J8e.params.highlight=!![];}i$Z=J8e.getYAxis(this);}if(o65.prev != o65.highlight){q9z=!!"1";}}}for(A$c in this.plugins){e8R=this.plugins[A$c];t8E={};if(e8R.findHighlights){t8E=e8R.findHighlights(this,g3T,x5d);if(t8E.somethingChanged){q9z=!0;}if(t8E.anyHighlighted){this.anyHighlighted=!!({});Y53=t8E.stickyArgs || ({});}}}M9H=this.whichPanel(A70);K1x=this.whichYAxis(M9H,U66);if(!i$Z){i$Z=K1x;}if(this.currentBaseline){i$Z=this.currentBaseline.getYAxis(this);}if(i$Z){if(!i$Z.highlight){q9z=!!"1";}i$Z.highlight=!!1;}L65=[];for(var s4$ in this.panels){L65=L65.concat(this.panels[s4$].yaxisLHS).concat(this.panels[s4$].yaxisRHS);}for(A$c=0;A$c < L65.length;A$c++){if(i$Z == L65[A$c] && !x5d)continue;if(L65[A$c].highlight){q9z=!![];}L65[A$c].highlight=![];}if((N0J === !0 || N0J && N0J.yaxis) && K1x && !K1x.noDraw){this.anyHighlighted=!![];g$P=K1x;Y53={};}if(q9z){this.draw();Y53.panel=M9H;if(this.anyHighlighted && !this.grabStartYAxis){Y53.panel=M9H;}else {Y53={};}this.displaySticky(Y53);this.clearMeasure();if(L1s){L1s.measure();}}if(!this.anyHighlighted){this.setMeasure();}else if(this.controls.mSticky){if(Y53 && Y53.positioner){Y53.positioner.call(this,this.controls.mSticky);}else {this.positionSticky(this.controls.mSticky);}}if(g$P && M9H && !M9H.noDrag){D0s="stx-dra";D0s+="g";D0s+="gable";if(this.longHoldTookEffect && !this.cancelLongHold){if(g$P.params){if(g$P.params.dependentOf){g$P=h9$.seriesRenderers[g$P.params.dependentOf];g$P.params.highlight=!![];}for(A$c in h9$.seriesRenderers){if(h9$.seriesRenderers[A$c].params.dependentOf == g$P.params.name){h9$.seriesRenderers[A$c].params.highlight=!"";}}}this.highlightedDraggable=g$P;if(g$P.getDependents){w28=g$P.getDependents(this,!"");for(A$c in this.overlays){j44=this.overlays[A$c];if(w28.indexOf(j44) > -1){j44.highlight=!!({});}}}}this.container.classList.add(D0s);}else {this.container.classList.remove("stx-draggable");}this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField);this.displayDrawOK();};r5N.ChartEngine.prototype.rightClickHighlighted=function(){if(this.runPrepend("rightClickHighlighted",arguments)){return;}this.deleteHighlighted(!!({}));this.runAppend("rightClickHighlighted",arguments);};r5N.ChartEngine.prototype.deleteHighlighted=function(Z78,J2t,h9O){var S9j,E3T,A3U,S0G,S14,w0S,Q0P,O$I,c8k,O1b,W3n,g8Y,D2k,y3n;S9j="dele";S9j+="teHighlighted";if(this.runPrepend("deleteHighlighted",arguments)){return;}this.cancelTouchSingleClick=!!({});r5N.clearCanvas(this.chart.tempCanvas,this);E3T=this.bypassRightClick === !({});if(E3T || !this.bypassRightClick.drawing){for(var U8g=this.drawingObjects.length - 1;U8g >= +"0";U8g--){A3U=this.drawingObjects[U8g];if(!A3U.highlighted)continue;if(Z78){this.rightClickDrawing(A3U,J2t,h9O);}else if(!A3U.permanent){S0G=A3U.abort();if(!S0G){S14=this.exportDrawings();this.drawingObjects.splice(U8g,1);this.undoStamp(S14,this.exportDrawings());}this.changeOccurred("vector");}}}if(E3T || !this.bypassRightClick.study){for(var R0n in this.overlays){w0S=this.overlays[R0n];if((w0S.overlay || w0S.underlay) && w0S.highlight && !w0S.permanent){if(Z78 || J2t){this.rightClickOverlay(R0n,J2t);}else {this.removeOverlay(R0n);}}}}Q0P=this.currentPanel && this.currentPanel.chart;if(Q0P && (E3T || !this.bypassRightClick.series)){for(var H8e in Q0P.seriesRenderers){O$I=Q0P.seriesRenderers[H8e];if(O$I.params.highlightable){c8k=this.panels[O$I.params.panel];O1b=c8k && c8k.yAxis.name;for(var u1W=O$I.seriesParams.length - ("1" ^ 0);u1W >= 0;u1W--){W3n=O$I.seriesParams[u1W];if((O$I.params.highlight || W3n.highlight) && !W3n.permanent){O$I.removeSeries(W3n.id);if(O$I.seriesParams.length < 1){this.removeSeriesRenderer(O$I);if(O$I.params.name == O1b){this.electNewPanelOwner(O$I.params.panel);}else {this.checkForEmptyPanel(O$I.params.panel);g8Y=this.getYAxisByName(c8k,O$I.params.name);if(g8Y){g8Y.name=g8Y.studies[0] || g8Y.renderers[1];}}}}}}}}this.draw();this.resizeChart();this.clearMeasure();D2k=this.controls.mSticky;if(D2k){y3n="n";y3n+="on";y3n+="e";D2k.style.display=y3n;D2k.children[0].innerHTML="";}this.runAppend(S9j,arguments);};r5N.ChartEngine.prototype.displayDragOK=function(M1C){var v1u=V5cdF;var I8N,b8c,O0N,t$7,y8p,m4k,G5i,Z5U,F54,o6F,D2N,N5O,j4e,u4D,Z6o,U$_;I8N=this;b8c=this.controls.dragOk;if(b8c){if(!M1C){if(!this.tapForHighlighting || !this.touching || this.anyHighlighted){this.findHighlights(this.highlightViaTap);;}}O0N=this.highlightedDraggable;t$7=O0N && O0N.undraggable && O0N.undraggable(this);y8p=this.cx;m4k=this.cy;G5i=O0N && !t$7 && this.longHoldTookEffect;if(M1C){if(G5i && this.insideChart){b8c.style.display="inline-block";}}else {if(G5i && !this.cancelLongHold){Z5U="s";Z5U+="tx-drag-axis";F54=O0N.inputs && O0N.inputs.display || O0N.params && (O0N.params.display || O0N.params.name) || O0N.name;b8c.querySelector(".field").setAttribute("text",F54);Q02.call(this,b8c);b8c.style.display="inline-block";this.draw();this.displaySticky();if(this.grabStartYAxis){this.container.classList.replace("stx-drag-chart",Z5U);}else {this.container.classList.replace("stx-drag-chart","stx-drag-series");}}else {o6F="stx-drag-axi";o6F+="s";D2N="no";D2N+="ne";b8c.style.display=D2N;this.draw();this.container.classList.remove("stx-drag-series");this.container.classList.remove(o6F);for(var l3J in this.panels){N5O=this.panels[l3J].subholder.classList;N5O.remove("dropzone");N5O.remove("all");N5O.remove("left");N5O.remove("right");N5O.remove("top");N5O.remove("bottom");for(j4e=0;j4e < this.panels[l3J].yaxisLHS.length;j4e++){this.panels[l3J].yaxisLHS[j4e].dropzone=null;}for(j4e=0;j4e < this.panels[l3J].yaxisRHS.length;j4e++){this.panels[l3J].yaxisRHS[j4e].dropzone=null;}}}this.draw();}if(O0N){u4D="p";u4D+="x";Z6o=m4k + b8c.offsetHeight;v1u.U_P(10);U$_=Math.max(v1u.Q7U("0",0),y8p - b8c.offsetWidth);v1u.U_P(1);b8c.style.top=v1u.Q7U(u4D,Z6o);v1u.U_P(1);b8c.style.left=v1u.l$6("px",U$_);Q02.call(this,b8c);}}function Q02(h4Z){var n2M,c8l,q9P;n2M="a";n2M+="l";n2M+="l";c8l=I8N.translateIf(h4Z.querySelector(".field").getAttribute("text"));q9P=I8N.whichYAxis(I8N.whichPanel(I8N.cy),I8N.cx,I8N.cy);if(q9P && q9P.dropzone == n2M){c8l+="-->" + I8N.translateIf(q9P.name);}h4Z.querySelector(".field").innerHTML=c8l;}};r5N.ChartEngine.prototype.displayDrawOK=function(){var h1y=V5cdF;h1y.j0M();var c_9,F0g,D7E,M2Z,w1C,m5q;c_9=this.controls.drawOk;if(c_9 && r5N.Drawing){F0g=r5N.Drawing[this.currentVectorParameters.vectorType];if(F0g){F0g=new F0g();}if(this.highlightedDataSetField && F0g && F0g.isAllowed(this,this.highlightedDataSetField)){D7E="p";D7E+="x";M2Z="inl";M2Z+="ine-block";c_9.style.display=M2Z;w1C=this.cy + c_9.offsetHeight;m5q=this.cx - c_9.offsetWidth;h1y.U6M(1);c_9.style.top=h1y.Q7U("px",w1C);h1y.U_P(1);c_9.style.left=h1y.Q7U(D7E,m5q);c_9.querySelector(".field").innerHTML=this.translateIf(this.highlightedDataSetField);}else {c_9.style.display="none";}}};r5N.ChartEngine.prototype.mouseWheel=function(W$E){var e4z=V5cdF;var m9K,O0C,y_v,U4I,u08,I4Q,G4U,g3a,J6R,g4l,M7R,T2V,u7S;m9K="undef";m9K+="ined";O0C="mouse";O0C+="Wheel";if(this.runPrepend(O0C,arguments)){return;}if(W$E.preventDefault){W$E.preventDefault();}if(this.openDialog !== ""){return;}y_v=W$E.deltaX;U4I=W$E.deltaY;if(Math.abs(U4I) > Math.abs(y_v)){y_v=0;}else {U4I=0;}this.lastMouseWheelEvent=Date.now();if(Math.abs(y_v) === 0 && Math.abs(U4I) === 0){return;}if(W$E.shiftKey && U4I){y_v=U4I;U4I=0;}if(this.allowSideswipe && y_v !== 0){this.lastMove="horizontal";I4Q=y_v;this.grabbingScreen=!0;if(!this.currentPanel){this.currentPanel=this.chart.panel;}this.grabStartX=r5N.ChartEngine.crosshairX;this.grabStartY=r5N.ChartEngine.crosshairY;this.grabStartScrollX=this.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartMicropixels=this.micropixels;this.grabStartPanel=this.currentPanel;if(this.mouseWheelAcceleration){u08=Math.max(Math.pow(Math.abs(I4Q),0.3),1);I4Q*=u08;}this.mousemoveinner(r5N.ChartEngine.crosshairX - I4Q,r5N.ChartEngine.crosshairY);this.updateChartAccessories();this.grabbingScreen=!({});return;}this.lastMove="vertical";if(!this.allowZoom || this.activeDrawing && !this.allowDrawingZoom){return;}if(!this.displayInitialized){return;}if(!U4I){G4U="mou";G4U+="s";G4U+="ewh";G4U+="eel";if(r5N.wheelEvent == G4U){e4z.U6M(75);var E2c=e4z.Q7U(15,12,26);e4z.U6M(108);var M7S=e4z.l$6(860,20,800,9,160);U4I=E2c / M7S * W$E.wheelDelta;if(W$E.wheelDeltaX){e4z.U_P(74);var M9g=e4z.Q7U(95,5,17,9);e4z.U6M(109);var m5_=e4z.Q7U(53,1,13,1);y_v=M9g / m5_ * W$E.wheelDeltaX;}}else {U4I=W$E.detail;}}if(typeof W$E.deltaMode == m9K){W$E.deltaMode=W$E.type == "MozMousePixelScroll"?0:1;}g3a=-U4I;if(W$E.deltaMode == 1){J6R=968567195;g4l=303286693;M7R=+"2";for(var l9m=+"1";e4z.S0_(l9m.toString(),l9m.toString().length,670) !== J6R;l9m++){g3a-=22;M7R+=2;}if(e4z.Y5G(M7R.toString(),M7R.toString().length,36445) !== g4l){e4z.U6M(24);g3a*=e4z.Q7U("33",0);}}T2V=null;u7S=null;if(this.mouseWheelAcceleration){u08=Math.max(Math.pow(Math.abs(g3a),0.3),"1" * 1);T2V=Math.max(Number.MIN_VALUE,("1" << 0) - 0.1 * u08);e4z.U6M(11);u7S=e4z.l$6(T2V,1);}this.zoomInitiatedByMouseWheel=!"";if(g3a > 0){if(this.reverseMouseWheel){this.zoomOut(null,u7S);}else {this.zoomIn(null,T2V);}}else if(g3a < 0){if(this.reverseMouseWheel){this.zoomIn(null,T2V);}else {this.zoomOut(null,u7S);}}if(this.runAppend("mouseWheel",arguments)){return;}return !"1";};r5N.ChartEngine.handleContextMenu=function(P7G){var N77,q1z;V5cdF.U0D();N77=r5N.ChartEngine.registeredContainers;for(var W7S=0;W7S < N77.length;W7S++){if(P7G.target.ownerDocument !== N77[W7S].ownerDocument)continue;q1z=N77[W7S].stx;if(q1z){if(q1z.anyHighlighted){if(P7G.preventDefault){P7G.preventDefault();}return ![];}}}};r5N.ChartEngine.registerGlobalEvent("contextmenu",r5N.ChartEngine.handleContextMenu);r5N.ChartEngine.htmlControls={annotationSave:'<span class="stx-btn stx_annotation_save" style="display: none;"></span>',annotationCancel:r7w,mSticky:`
${"		<div class=\"s" + "tx_sticky\">"}
${"			<span class" + "=\"mStic" + "kyInter" + "ior\"></span>"}
${"			<s" + "pan class=\"mStick" + "yRightClic" + "k\">"}
${"				<span class=\"overlayTex" + "t stx-btn\" style=\"displa" + "y:" + "none\">"}
${"			" + "		<span>&nbsp;</span>"}
${"				</" + "sp" + "an" + ">"}
${"	" + "			<span " + "class" + "=\"overlayEdit stx-btn\" style=\"display:none\">"}
${"					<span>&" + "nbsp" + ";</span>"}
${"		" + "		</span>"}
${"				<span class=\"overlayTrashCan stx-btn\" style=\"display:" + "none\">"}
${"					<span>&nb" + "sp;</span>"}
${"				" + "</" + "span" + ">"}
${"				<span c" + "lass=\"mouseDelet" + "eInstructions\">"}
${"					<s" + "pan>(</span>"}
${"					<span class=\"mouseDeleteText\">right-click to del" + "et" + "e</sp" + "an>"}
${"					<span class=\"m" + "ouseManageText\">right-click to manage</span>"}
${"					<span>)</sp" + "an" + ">"}
${"	" + "		" + "	</s" + "pan>"}
${"	" + "	" + "	</span>"}
${"			<span class=\"stickyLongPressText\">(long-" + "press to" + " dr" + "ag)</span>"}
${"			" + "<" + "span class=\"customInstructions\">"}
${"				" + "<span>(</" + "sp" + "an>"}
${"		" + "		<span class=\"dragAnchorText\" type=\"anchorHandle\">"}
${"					drag to cha" + "nge ancho" + "r " + "time"}
${"				</" + "span>"}
${"				<span>" + ")</span>"}
${"		" + "	<" + "/span>"}
${"		</div" + ">"}
${"	"}`,drawOk:'<div class="stx_draw_ok"><div class="icon"></div><div class="field"></div></div>',dragOk:J$v,crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:'<div class="stx_chart_controls" style="display: none;"><div class="chartSize"><span class="stx-zoom-out"></span><span class="stx-zoom-in"></span></div></div>',home:t3P,floatDate:'<div class="stx-float-date" style="visibility: hidden;"></div>',handleTemplate:W_4,iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>',notificationTray:o5j};r5N.ChartEngine.prototype.registerChartControl=function(b$t,X6n,u$Y){var n2E=V5cdF;var v6C,n1k,M8x,H4d,o$O;v6C=this.controls;n2E.U0D();if(!v6C || !v6C.chartControls){return;}if(v6C.chartControls.querySelector(((124.31,98.86) <= 68.84?!({}):787 == 7925?(0x47d,!!1):(136.99,401.52) < (1.37,67)?0x22e6:".") + b$t)){return;}n1k=null;M8x=v6C.chartControls.querySelector(".stx-zoom-in");if(M8x){H4d="<div class=\"stx-tooltip\" aria-hid";H4d+="den=\"true\">";o$O="s";o$O+="p";o$O+="an";n1k=document.createElement(o$O);n2E.U6M(19);n1k.innerHTML=n2E.Q7U("</div>",X6n,H4d);n2E.U6M(1);n1k.className=n2E.Q7U(b$t,"stx-chart-control-button ");M8x.parentNode.appendChild(n1k);if(u$Y){r5N.safeClickTouch(n1k,u$Y);}if(!r5N.touchDevice){this.makeModal(n1k);}return n1k;}};r5N.ChartEngine.prototype.zoomOut=function(t1V,Q0E){var k_R,D2e,c_L,f95;if(this.runPrepend("zoomOut",arguments)){return;}if(this.preferences.zoomOutSpeed){Q0E=this.preferences.zoomOutSpeed;}else if(!Q0E){V5cdF.U_P(33);Q0E=V5cdF.Q7U("0.7",1);}V5cdF.U0D();if(t1V && t1V.preventDefault){t1V.preventDefault();}function E8Q(v0F){return function(Y8p){k_R.zoomSet(Y8p,v0F);if(k_R.animations.zoom.hasCompleted){if(k_R.runAppend("zoomOut",arguments)){return;}k_R.changeOccurred("layout");if(k_R.continuousZoom){k_R.continuousZoom.execute(!!"1");}}};}this.cancelTouchSingleClick=!"";k_R=this;for(var M04 in this.charts){D2e=this.charts[M04];c_L=D2e.width * Q0E / this.layout.candleWidth;if(D2e.allowScrollFuture === ![] && D2e.allowScrollPast === ![] && c_L > D2e.dataSet.length){c_L=D2e.dataSet.length;}f95=this.chart.width / c_L;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(E8Q(D2e),this.layout.candleWidth,f95,!!"",this.ownerWindow);}};r5N.ChartEngine.prototype.zoomIn=function(u9A,V4k){var Q$t=V5cdF;var A4Y,a_M,V1W,V6Q;if(this.runPrepend("zoomIn",arguments)){return;}if(this.preferences.zoomInSpeed){V4k=this.preferences.zoomInSpeed;}else if(!V4k){V4k=0.7;}if(u9A && u9A.preventDefault){u9A.preventDefault();}Q$t.j0M();this.cancelTouchSingleClick=!!"1";function k37(R1F){Q$t.j0M();return function(L2b){var G7f;A4Y.zoomSet(L2b,R1F);Q$t.U0D();if(A4Y.animations.zoom.hasCompleted){G7f="zoo";G7f+="mI";G7f+="n";if(A4Y.runAppend(G7f,arguments)){return;}A4Y.changeOccurred("layout");if(A4Y.continuousZoom){A4Y.continuousZoom.execute();}}};}A4Y=this;for(var V1v in this.charts){a_M=this.charts[V1v];V1W=a_M.width * V4k / this.layout.candleWidth;if(a_M.maxTicks - V1W < 1){Q$t.U_P(110);var b6k=Q$t.l$6(11,20,13,2,30);V1W=a_M.maxTicks - b6k;}if(V1W < this.minimumZoomTicks){V1W=this.minimumZoomTicks;}V6Q=this.chart.width / V1W;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(k37(a_M),this.layout.candleWidth,V6Q,!!"",this.ownerWindow);}};r5N.ChartEngine.prototype.createCrosshairs=function(){var Q5x,A8Z,G0j;Q5x="createCro";Q5x+="ssh";Q5x+="airs";if(this.runPrepend(Q5x,arguments)){return;}if(!this.manageTouchAndMouse || this.mainSeriesRenderer.nonInteractive){return;}A8Z=this.controls.crossX;G0j=this.controls.crossY;if(A8Z){if(!A8Z.onmousedown){A8Z.onmousedown=function(v0s){if(v0s.preventDefault){v0s.preventDefault();}return !1;};}}if(G0j){if(!G0j.onmousedown){G0j.onmousedown=function(L9H){V5cdF.U0D();if(L9H.preventDefault){L9H.preventDefault();}return !({});};}}this.runAppend("createCrosshairs",arguments);};j$W=!({});r5N.ChartEngine.prototype.mousemoveinner=r5N.ChartEngine.prototype.mousemoveinner || (function(N_S,j7c){if(!j$W){console.error("interaction feature requires activating movement feature.");}V5cdF.U0D();j$W=!!"1";});};P=n8j=>{var I0V;I0V=typeof _CIQ !== "undefined"?_CIQ:n8j.CIQ;if(!I0V.Marker){I0V.ChartEngine.helpersToRegister.push(function(M0a){V5cdF.j0M();M0a.markerHelper={chartMap:{},classMap:{},domMarkers:[],visibleCanvasMarkers:[],highlighted:[],placementMap:{}};});I0V.ChartEngine.prototype.addToHolder=function(K0v){var C47,l2b,j7S,X07;C47=this.panels[K0v.params.panelName];if(!C47){return;}l2b=K0v.params;j7S=K0v.node;X07=K0v.stxNodeCreator;if(X07 && X07.prepareForHolder){j7S=X07.prepareForHolder(K0v);}if(l2b.chartContainer){this.container.appendChild(K0v.node);}else if(l2b.includeAxis){C47.holder.appendChild(K0v.node);}else {C47.subholder.appendChild(j7S);}K0v.chart=C47.chart;if(X07 && X07.addToHolder){X07.addToHolder(K0v);}if(X07 && X07.expand){I0V.Marker.initializeScrollBehavior(X07);}};I0V.ChartEngine.prototype.getMarkerArray=function(U$j,I5M){var T_s,m12;T_s=[];for(var f$k in this.markers){for(var E8E=0;E8E < this.markers[f$k].length;E8E++){m12=this.markers[f$k][E8E];if(U$j == "panelName"){if(m12.params.panelName == I5M){T_s.push(m12);}}else if(U$j == "label"){if(f$k == I5M){T_s.push(m12);}}else if(U$j == "all"){T_s.push(m12);}}}return T_s;};I0V.ChartEngine.prototype.removeFromHolder=function(x1_){var P1F,S0X,F5s,h$v,U6w,Z1d;P1F=this.panels[x1_.params.panelName];if(P1F){if(x1_.node.parentNode == P1F.holder){P1F.holder.removeChild(x1_.node);}else if(x1_.node.parentNode == P1F.subholder){P1F.subholder.removeChild(x1_.node);}else if(x1_.node.parentNode == this.container){this.container.removeChild(x1_.node);}}S0X=this.markers[x1_.params.label];if(!S0X){return;}for(F5s=0;F5s < S0X.length;F5s++){if(S0X[F5s] === x1_){S0X.splice(F5s,1);break;}}h$v=this.markerHelper.chartMap[x1_.chart.name];if(h$v){for(F5s=0;F5s < h$v.markers.length;F5s++){if(h$v.markers[F5s] === x1_){h$v.markers.splice(F5s,1);break;}}}U6w=this.markerHelper.classMap[x1_.className];if(U6w){Z1d=U6w[x1_.params.panelName];if(Z1d){for(F5s="0" ^ 0;F5s < Z1d.length;F5s++){if(Z1d[F5s] === x1_){Z1d.splice(F5s,1);break;}}}}};I0V.ChartEngine.prototype.moveMarkers=function(G15,A_9){var c_g,l2l;c_g=this.getMarkerArray("panelName",G15);for(var Z4m=0;Z4m < c_g.length;Z4m++){c_g[Z4m].params.panelName=A_9;}V5cdF.j0M();for(var O0e in this.markerHelper.classMap){l2l=this.markerHelper.classMap[O0e][G15];if(l2l){this.markerHelper.classMap[O0e][A_9]=l2l;delete this.markerHelper.classMap[O0e][G15];}}};I0V.ChartEngine.prototype.establishMarkerTicks=function(){V5cdF.j0M();var R7z,R4D;R7z=this.markerHelper.chartMap;for(var Z0f in R7z){R4D=R7z[Z0f];for(var g5N=0;g5N < R4D.markers.length;g5N++){this.setMarkerTick(R4D.markers[g5N]);}}};I0V.ChartEngine.prototype.futureTickIfDisplayed=function(K6J){var C2c,S_S,b$8,j2n,o3u,V81,a1p,h8l,i2A;C2c=K6J.chart;if(C2c.dataSet.length < 1){return;}S_S=C2c.xaxis[C2c.xaxis.length - 1].DT;S_S=new Date(S_S.getTime() - this.timeZoneOffset * +"60000");V5cdF.U0D();if(K6J.params.x > S_S){return;}b$8=C2c.maxTicks - C2c.dataSegment.length;j2n=C2c.dataSet.length + b$8;a1p=new Date(+C2c.dataSet[C2c.dataSet.length - 1].DT);h8l=this.standardMarketIterator(a1p,null,C2c);i2A=K6J.params.x.getTime();for(var e0q=C2c.dataSet.length;e0q < j2n;e0q++){o3u=a1p.getTime();a1p=h8l.next();V81=a1p.getTime();if(V81 == i2A){K6J.tick=e0q;return;}else if(V81 > i2A && o3u < i2A){V5cdF.U6M(10);K6J.tick=Math.max(V5cdF.Q7U(e0q,1),0);return;}}};I0V.ChartEngine.prototype.setMarkerTick=function(M3Q){var F1l=V5cdF;var i_y,D8R,s$9,G0o,g8v,Y6i,N35;i_y="t";i_y+="i";i_y+="c";i_y+="k";D8R=M3Q.chart;if(M3Q.params.xPositioner == "master" && M3Q.params.x){M3Q.tick=Math.floor(M3Q.params.x / this.layout.periodicity);}else if(M3Q.params.xPositioner == i_y && M3Q.params.x){M3Q.tick=M3Q.params.x;}else if(M3Q.params.xPositioner == "date" && M3Q.params.x){g8v=M3Q.params.x.getTime();for(var E68=0;E68 < D8R.dataSet.length;E68++){Y6i=D8R.dataSet[E68];G0o=Y6i.DT.getTime();s$9=G0o;if(E68 > 0){s$9=D8R.dataSet[E68 - 1].DT.getTime();}if(G0o == g8v){M3Q.tick=E68;return;}else if(G0o > g8v && s$9 < g8v){F1l.U_P(10);M3Q.tick=Math.max(F1l.Q7U(E68,1),F1l.Q7U("0",64,F1l.U6M(14)));return;}else if(g8v < G0o){M3Q.tick=null;return;}}if(D8R.dataSet.length < 1){return;}N35=new Date(+D8R.dataSet[E68 - 1].DT);if(N35.getTime() < g8v){M3Q.params.future=!!({});}M3Q.tick=null;;}};I0V.ChartEngine.prototype.positionMarkers=function(){var G0L,N8x,p3i,t$L,l$_,b0j,d5g;G0L=this;N8x=this.chart;if(!G0L.markerHelper){return;}this.markerHelper.placementMap={};V5cdF.j0M();if(this.markerDelay || this.markerDelay === 0){if(!this.markerTimeout){this.markerTimeout=setTimeout(E3j,this.markerDelay);}}else {E3j();}p3i=this.getFirstLastDataRecord(N8x.dataSegment,"tick");t$L=this.getFirstLastDataRecord(N8x.dataSegment,"tick",!![]);function E3j(){var f9c,m7G,k1I,D0n;if(G0L.runPrepend("positionMarkers",arguments)){return;}G0L.markerTimeout=null;for(var z0d in G0L.markerHelper.classMap){for(var z0g in G0L.markerHelper.classMap[z0d]){f9c=G0L.markerHelper.classMap[z0d][z0g];m7G=G0L.panels[z0g];if(f9c.length){k1I={stx:G0L,arr:f9c,panel:m7G};k1I.firstTick=m7G.chart.dataSet.length - m7G.chart.scroll;k1I.lastTick=k1I.firstTick + m7G.chart.dataSegment.length;D0n=f9c[0].constructor.placementFunction;if(D0n){D0n(k1I);}else {G0L.defaultMarkerPlacement(k1I);}}}}G0L.runAppend("positionMarkers",arguments);}if(!p3i || !t$L){return;}l$_=this.getMarkerArray("all");this.markerHelper.visibleCanvasMarkers=[];for(var o$0=0;o$0 < l$_.length;o$0++){b0j=l$_[o$0];d5g=b0j.stxNodeCreator;if(p3i.tick <= b0j.tick && b0j.tick <= t$L.tick){this.markerHelper.visibleCanvasMarkers.push(b0j);if(d5g && d5g.drawMarker){d5g.drawMarker(b0j);}}else {b0j.highlight=!!0;b0j.params.box=null;if(b0j.attached && d5g && d5g.expand){d5g.expand.style.visibility="hidden";}}}};I0V.Marker=I0V.Marker || (function(y7P){var N6N,H$B,k9j,S_D,T7W,v8j,s$x;N6N="c";N6N+="hart";H$B=this instanceof I0V.Marker?this:Object.create(I0V.Marker.prototype);H$B.params={xPositioner:"date",yPositioner:"value",panelName:N6N,permanent:!({}),label:"generic",includeAxis:!!""};I0V.extend(H$B.params,y7P);if(!H$B.params.node){H$B.params.node=document.createElement("DIV");}k9j=H$B.params.stx;if(!k9j){console.log("Marker created without specifying stx");return;}if(!H$B.className){H$B.className="CIQ.Marker";}if(I0V.derivedFrom(H$B.params.node,I0V.Marker.NodeCreator)){H$B.stxNodeCreator=H$B.params.node;H$B.node=H$B.stxNodeCreator.node;}else {H$B.node=H$B.params.node;}S_D=H$B.params.label;if(!k9j.markers[S_D]){k9j.markers[S_D]=[];}k9j.markers[S_D].push(H$B);T7W=k9j.panels[H$B.params.panelName];H$B.chart=T7W.chart;if(!k9j.markerHelper.chartMap[H$B.chart.name]){k9j.markerHelper.chartMap[H$B.chart.name]={markers:[]};}k9j.markerHelper.chartMap[H$B.chart.name].markers.push(H$B);v8j=k9j.markerHelper.classMap[H$B.className];if(!v8j){v8j=k9j.markerHelper.classMap[H$B.className]={};}if(!v8j[H$B.params.panelName]){v8j[H$B.params.panelName]=[];}v8j[H$B.params.panelName].push(H$B);s$x=H$B.stxNodeCreator && H$B.stxNodeCreator.deferAttach;if(!s$x){k9j.addToHolder(H$B);}k9j.setMarkerTick(H$B);if(H$B.stxNodeCreator && H$B.stxNodeCreator.drawMarker){H$B.stxNodeCreator.drawMarker(H$B);}return H$B;});I0V.Marker.prototype.remove=function(){V5cdF.j0M();this.params.stx.removeFromHolder(this);if(this.stxNodeCreator && this.stxNodeCreator.remove){this.stxNodeCreator.remove(this);}};I0V.Marker.prototype.click=function(G9v){var g40;if(typeof arguments[0] === "number"){G9v={cx:arguments[0],cy:arguments[1],panel:arguments[3]};}V5cdF.U0D();var {cx:k35, cy:r3j, panel:b1Z}=G9v;if(!this.params.stx){return;}g40=this.params.node;if(g40.click){g40.click(k35,r3j,this,b1Z);}};I0V.Marker.prototype.doubleClick=function({cx:N_H, cy:M$a, panel:Y0B}){return !!"";};I0V.Marker.prototype.render=function(){var r4f,s4i;r4f=[this];s4i={stx:this.params.stx,arr:r4f,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass};V5cdF.U0D();this.constructor.placementFunction(s4i);};I0V.Marker.removeByLabel=function(V67,z6i){var y$f,I61;y$f=V67.getMarkerArray("label",z6i);for(var I26=0;I26 < y$f.length;I26++){I61=y$f[I26];V67.removeFromHolder(I61);if(I61.stxNodeCreator && I61.stxNodeCreator.remove){I61.stxNodeCreator.remove(I61);}}V67.draw();};I0V.Marker.positionContentVerticalAndHorizontal=function(L5J,P$J){var P8q=V5cdF;var M5g,i80,A50,B4E,d6A,R5$,Y7w,l2p,Z66,V2V,K6D,o94,i2g;M5g=L5J.querySelector(".stx-marker-expand");if(!(P$J || M5g && M5g.isConnected && I0V.trulyVisible(M5g))){return;}i80=M5g.offsetHeight;A50=M5g.style;A50.left=A50.right="";A50.bottom=A50.top="";B4E=getComputedStyle(M5g);d6A=B4E.left;R5$=B4E.bottom;P8q.U6M(6);var A_8=P8q.l$6(19,9);Y7w=L5J.offsetLeft + parseInt(d6A,A_8);l2p=parseInt(R5$,10);Z66=L5J.offsetTop - (l2p + i80 - L5J.offsetHeight);V2V=L5J.parentNode.offsetWidth;K6D=L5J.parentNode.offsetHeight;if(Y7w + M5g.offsetWidth > V2V){o94="a";o94+="uto";A50.right=d6A;A50.left=o94;}if(L5J.offsetTop <= K6D){if(Z66 > K6D - i80){i2g="a";i2g+="u";i2g+="t";i2g+="o";A50.top=K6D - L5J.offsetTop - i80 + "px";A50.bottom=i2g;}}else {P8q.U_P(1);A50.top=P8q.Q7U("px",K6D);}if(L5J.offsetTop + L5J.offsetHeight >= 0){if(Z66 < 0){A50.top=-L5J.offsetTop + "px";A50.bottom="auto";}}else {A50.bottom="0px";}};I0V.Marker.initializeScrollBehavior=function(i4b){var E7G;var {expand:X2s}=i4b;if(!X2s || X2s.scrollInitialized){return;}if(!X2s.querySelector(".marker_content")){X2s.innerHTML='<div class="marker_content">' + X2s.innerHTML + "</div>";}X2s.addEventListener(I0V.wheelEvent,U$2=>{return U$2.stopPropagation();},{passive:!1});X2s.addEventListener("touchmove",L3T=>{V5cdF.U0D();return L3T.stopPropagation();},{passive:![]});var {scrollbarStyling:S5c}=I0V.UI || ({});if(S5c){S5c.refresh(X2s);}else {E7G="s";E7G+="crol";E7G+="l";X2s.style.overflowY=E7G;}X2s.scrollInitialized=!!1;};I0V.ChartEngine.prototype.getBarBounds=function(T9O,w8l){V5cdF.U0D();var y4o,c$U,j9G,j5L,Q3I,g8Z;y4o=this.layout.chartType;c$U=this.layout.aggregationType;if(!w8l && c$U == "pandf"){j9G={high:Math.max(T9O.pfOpen,T9O.pfClose),low:Math.min(T9O.pfOpen,T9O.pfClose)};}else {j9G={high:T9O.High,low:T9O.Low};}if(T9O.markerHigh){j9G.high=T9O.markerHigh;}if(T9O.markerLow){j9G.low=T9O.markerLow;}if(T9O.Open === undefined){j5L=T9O.Close;}if(T9O.High === undefined){Q3I=Math.max(T9O.Open || j5L,T9O.Close);}if(T9O.Low === undefined){g8Z=Math.min(T9O.Open || j5L,T9O.Close);}if(!j9G.high && j9G.high !== 0){j9G.high=Q3I;}if(!j9G.low && j9G.low !== +"0"){j9G.low=g8Z;}return j9G;};I0V.ChartEngine.prototype.defaultMarkerPlacement=function(D30){var c04=V5cdF;var j7n,q$b,D5C,E_e,a6L,E9a,W9$,b1H,K8q,Z$$,j40,f6c,W4T,v$R,f_q,B_Z,f3c,T6V,D9j,d4R,T2F,z1V,l_7,u2N,w0x,Z6M,q5x,E7$,R8G,O6r,B1w,s14,E$9,H3Z,Q$$,m6e,e7S,H5n,u35,n9W,L3a,L0D;j7n=D30.panel;c04.U0D();q$b=j7n.chart;D5C=D30.stx;E_e=D5C.chart.highLowBars;a6L=q$b.defaultPlotField;if(!a6L || E_e){a6L="Close";}for(var C2p=0;C2p < D30.arr.length;C2p++){E9a="n";E9a+="o";E9a+="ne";W9$="a";W9$+="u";W9$+="t";W9$+="o";b1H="t";b1H+="o";b1H+="p";K8q=D30.arr[C2p];Z$$=K8q.params;if(K8q.params.box)continue;j40=K8q.node;if(!K8q.clientWidth){K8q.clientWidth=j40.clientWidth;}if(!K8q.clientHeight){K8q.clientHeight=j40.clientHeight;}f6c=null;W4T=Z$$.xPositioner;v$R=Z$$.yPositioner;f_q=Z$$.yAxis || j7n.yAxis;B_Z=Z$$.field;f3c=K8q.tick;T6V=q$b.dataSet;D9j=K8q.clientWidth;if(W4T != "none"){if(W4T == "bar" && Z$$.x){d4R="p";d4R+="x";if(Z$$.x < q$b.xaxis.length){T2F=q$b.xaxis[Z$$.x];if(T2F){f6c=T2F.data;}}c04.U6M(111);var Z4L=c04.Q7U(0,5,4,8,12);c04.U_P(17);var u6s=c04.Q7U(10,17,169);j40.style.left=Math.round(D5C.pixelFromBar(Z$$.x,q$b) - D9j / Z4L) + u6s + d4R;}else {if(!f3c && f3c !== 0){if(Z$$.future && q$b.scroll < q$b.maxTicks){D5C.futureTickIfDisplayed(K8q);f3c=K8q.tick;if(!f3c && f3c !== 0){z1V="-";z1V+="1";z1V+="0";z1V+="00px";j40.style.left=z1V;continue;}}else {l_7="-1";l_7+="0";l_7+="00";l_7+="px";j40.style.left=l_7;continue;}}if(f3c < T6V.length){f6c=T6V[f3c];}K8q.leftpx=Math.round(D5C.pixelFromTick(f3c,q$b) - q$b.left - D9j / 2);K8q.rightEdge=K8q.leftpx + D9j;j40.style.left=K8q.leftpx + "px";if(f3c < D30.firstTick && K8q.rightEdge < q$b.left - 50)continue;;}if(!f6c){c04.U_P(112);var w4Q=c04.Q7U(6,8,8,15,21);f6c=T6V[T6V.length - w4Q];};}else if(v$R.indexOf("candle") > -("1" * 1)){u2N=getComputedStyle(j40).left;if(u2N){w0x=D5C.barFromPixel(parseInt(u2N,+"10"),q$b);if(w0x >= 0){f6c=q$b.xaxis[w0x].data;if(!f6c){f6c=T6V[T6V.length - +"1"];};}}}I0V.efficientDOMUpdate(j40.style,b1H,W9$);Z6M=Z$$.y;q5x=K8q.clientHeight;R8G=0;if(v$R != E9a){O6r="bot";O6r+="t";O6r+="o";O6r+="m";B1w="top_";B1w+="l";B1w+="ane";s14="on_";s14+="candle";E$9="_";E$9+="lan";E$9+="e";c04.U_P(81);var V9c=c04.Q7U(5,5,9);H3Z=v$R.indexOf(E$9) > V9c;Q$$=D5C.markerHelper.placementMap;c04.U6M(23);var E$3=c04.Q7U(3627,451,19);c04.U6M(17);var v2a=c04.l$6(58080,5,284592);c04.U6M(10);var I97=c04.Q7U(42,10);c04.U6M(113);var k7m=c04.l$6(8,19,6,92320,86529);c04.U6M(114);var l2j=c04.l$6(1665,2,8,3326);c04.U_P(1);var U_d=c04.l$6(3,1994);c04.U_P(62);var b4w=c04.l$6(7902,7883,7902);c04.U6M(115);var e7F=c04.Q7U(5,4,470,119);m6e=v$R + ((E$3,v2a) === ("5490" << I97,k7m)?(l2j,U_d) != (988.16,41.16)?(+"7080",b4w) !== 549.01?e7F:!!"":"D":"|") + j7n.name;if(H3Z && typeof Q$$[m6e] == "undefined"){Q$$[m6e]=2;}e7S=m6e + "-" + (H3Z?K8q.params.label:j40.style.left);H5n=Z$$.chartContainer?D5C.height:j7n.yAxis.bottom;u35=0;if(typeof Q$$[e7S] == "undefined"){Q$$[e7S]=H3Z?Q$$[m6e]:0;c04.U_P(1);Q$$[m6e]+=c04.Q7U(2,q5x);}R8G=Q$$[e7S];if(!H3Z){Q$$[e7S]+=q5x;}if(f6c && B_Z){f6c=f6c[B_Z];}if(typeof f6c === "number"){f6c={Close:f6c};f6c[a6L]=f6c.Close;E_e=!"1";}if(v$R == "value" && (Z6M || Z6M === 0)){c04.U_P(10);var j$O=c04.l$6(26,24);u35=Math.round(H5n - D5C.pixelFromPrice(Z6M,j7n,f_q) - q5x / j$O) + "px";}else if((v$R == "below_candle" || v$R == "under_candle") && f6c){n9W="p";n9W+="x";E7$=f6c[a6L];if(E_e){E7$=D5C.getBarBounds(f6c,!!B_Z)[f_q.flipped?"high":"low"];}u35=Math.round(H5n - D5C.pixelFromPrice(E7$,j7n,f_q) - q5x - R8G) + n9W;}else if(v$R == s14 && f6c){L3a="p";L3a+="x";E7$=f6c[a6L];if(E_e){E7$=D5C.getBarBounds(f6c,!!B_Z);c04.U_P(74);var y80=c04.l$6(368,17,21,13);E7$=(E7$.high + E7$.low) / y80;}c04.U6M(35);var Q7j=c04.l$6(2882,20,12,4,12);u35=Math.round(H5n - D5C.pixelFromPrice(E7$,j7n,f_q) - q5x / Q7j - R8G) + L3a;}else if(v$R == "top" || v$R == B1w){L0D="p";L0D+="x";u35=Math.round(H5n - q5x - R8G - j7n.top) + L0D;}else if(v$R == O6r || v$R == "bottom_lane"){u35=Math.round(R8G) + "px";}else if(f6c){E7$=f6c[a6L];if(E_e){E7$=D5C.getBarBounds(f6c,!!B_Z)[f_q.flipped?"low":"high"];}u35=Math.round(H5n - D5C.pixelFromPrice(E7$,j7n,f_q) + R8G) + "px";}if(j40.style.bottom != u35){j40.style.bottom=u35;}}I0V.Marker.positionContentVerticalAndHorizontal(j40);}};I0V.Marker.NodeCreator=function(){};I0V.Marker.NodeCreator.toNode=function(){return this.node;};I0V.Marker.Simple=function(f8i){var g$u,H4c,p$j,x9p,K8G,z2m,G76,W2g,F8z,F5M,P8w;V5cdF.j0M();g$u="Si";g$u+="mple";H4c="ca";H4c+="llout";p$j="st";p$j+="x-vi";p$j+="su";p$j+="al";x9p="d";x9p+="i";x9p+="v";K8G=this.node=document.createElement("div");K8G.className="stx-marker";K8G.classList.add(f8i.type);if(f8i.category){K8G.classList.add(f8i.category);}z2m=I0V.newChild(K8G,x9p,p$j);I0V.newChild(K8G,"div","stx-stem");if(f8i.type == H4c){W2g="d";W2g+="i";W2g+="v";F8z="di";F8z+="v";F5M=I0V.newChild(z2m,F8z,"stx-marker-content");I0V.newChild(F5M,"h4",null,f8i.headline);G76=I0V.newChild(F5M,W2g,"stx-marker-expand");I0V.newChild(G76,"p",null,f8i.story);}else {P8w="stx-marker-exp";P8w+="and";G76=I0V.newChild(K8G,"div",P8w);I0V.newChild(G76,"h4",null,f8i.headline);I0V.newChild(G76,"p",null,f8i.story);I0V.safeClickTouch(G76,function(y_x){var r$0;r$0="hig";r$0+="h";r$0+="lig";r$0+="ht";K8G.classList.toggle(r$0);});}I0V.safeClickTouch(z2m,function(n1I){K8G.classList.toggle("highlight");V5cdF.U0D();I0V.Marker.positionContentVerticalAndHorizontal(K8G,!0);});this.nodeType=g$u;this.expand=G76;};I0V.inheritsFrom(I0V.Marker.Simple,I0V.Marker.NodeCreator,!({}));}};S=v$L=>{var E_y,f0u,n21,a7g,d7w,Q9b,V2N,a6u,k9N,j6y;E_y="u";E_y+="ndefi";E_y+="ned";f0u="un";f0u+="def";f0u+="in";f0u+="ed";n21=typeof _CIQ !== f0u?_CIQ:v$L.CIQ;a7g=typeof _timezoneJS !== E_y?_timezoneJS:v$L.timezoneJS;d7w=60000 * 60;Q9b=d7w * 24;V2N=!!1;a6u=n21.Market;n21.Market=function(a6v){V5cdF.U0D();var l$T;this.market_def=![];this.rules=!({});this.normalHours=[];this.extraHours=[];this.class_name="Market";if(!a7g.Date){this.tz_lib=Date;;}else {this.tz_lib=a7g.Date;}this.market_tz="";this.hour_aligned=!"1";this.convertOnDaily=!({});this.enabled_by_default=![];if(typeof a6v != "undefined" && a6v && !n21.isEmpty(a6v)){l$T="un";l$T+="define";l$T+="d";if(a6v.market_definition){a6v=a6v.market_definition;}if(a6v.rules){this.rules=a6v.rules;}if(a6v.market_tz){this.market_tz=a6v.market_tz;}if(a6v.convertOnDaily){this.convertOnDaily=a6v.convertOnDaily;}if(typeof a6v.hour_aligned){this.hour_aligned=a6v.hour_aligned;}if(typeof a6v.beginningDayOfWeek !== "undefined"){this.beginningDayOfWeek=a6v.beginningDayOfWeek;}if(typeof a6v.minimum_session_length !== l$T){this.minimumSessionLength=a6v.minimum_session_length;}if(typeof a6v.enabled_by_default !== "undefined"){if(a6v.enabled_by_default instanceof Array){this.enabled_by_default=a6v.enabled_by_default;}}this.market_def=a6v;if(this.market_def.name === undefined){this.market_def.name="no market name specified";}}else {this.hour_aligned=!!({});return;}n21.Market._createTimeSegments(this);this.getSessionNames();};n21.Market.Symbology=function(){};n21.Market.Symbology.isForeignSymbol=function(n3H){V5cdF.U0D();return !1;};n21.Market.Symbology.isFuturesSymbol=function(n$g){return ![];};n21.Market.Symbology.isRateSymbol=function(k9n){return ![];};n21.Market.Symbology.isForexSymbol=function(S0s){return !!"";};n21.Market.Symbology.isForexMetal=function(M94,R1K){V5cdF.U0D();return !({});};n21.Market.Symbology.isForexCrypto=function(I2z){V5cdF.j0M();return !({});};n21.Market.Symbology.isForexFuturesSymbol=function(U3u){V5cdF.j0M();if(n21.Market.Symbology.isForexSymbol(U3u))return !"";if(n21.Market.Symbology.isFuturesSymbol(U3u))return !0;return !"1";};n21.Market.Symbology.factory=function(X8P){V5cdF.U0D();return null;;};n21.Market.Symbology.encodeTermStructureInstrumentSymbol=function(c0C,z9w){V5cdF.U0D();console.warn("You are trying to call `CIQ.Market.Symbology.encodeTermStructureInstrumentSymbol` but have not implemented it.");};if(a6u)n21.extend(n21.Market,a6u);n21.Market.prototype.sessions=null;n21.Market.prototype.beginningDayOfWeek=0;n21.Market.prototype.minimumSessionLength=30;n21.Market.prototype.tradingDays=function(){var j5H;if(("_tradingDays" in this))return this._tradingDays;j5H=[];if(this.rules){for(var W0s of this.rules){if(W0s.dayofweek >= 0)j5H.push(W0s.dayofweek);}}else {j5H=[+"0",1,2,3,4,5,6];}this._tradingDays=[...new Set(j5H)];V5cdF.U0D();this._tradingDays.sort();return this._tradingDays;};n21.Market.prototype.getSessionNames=function(){V5cdF.U0D();var a6D,A6l;if(!this.rules){this.sessions=[];}else if(!this.sessions){a6D=[];A6l=[];this.rules.map(function(C5P){V5cdF.j0M();if(C5P.name && a6D.indexOf(C5P.name) === -1){a6D.push(C5P.name);A6l.push({name:C5P.name,enabled:C5P.enabled?C5P.enabled:!1});}});this.sessions=A6l;}return this.sessions.slice();};n21.Market.prototype._find_next_segment=function(P4u,W5q){V5cdF.j0M();var T74,w2f,m$K,e5e;if(!this.market_def)return null;if(!this.rules)return null;T74=new Date(+P4u);w2f=this.newIterator({begin:T74,interval:+"1",inZone:this.market_tz,outZone:this.market_tz});if(this._wasOpenIntraDay(T74)){m$K=this.zseg_match.close_parts.hours;e5e=this.zseg_match.close_parts.minutes;T74.setHours(m$K);T74.setMinutes(e5e);w2f=this.newIterator({begin:T74,interval:1,inZone:this.market_tz,outZone:this.market_tz});}return w2f.next();};n21.Market.prototype._find_prev_segment=function(y9I,X0P){var f5O,X0w,J$7,j2X,Q5Q;V5cdF.U0D();if(!this.market_def)return null;if(!this.rules)return null;f5O=new Date(+y9I);X0w=this.newIterator({begin:f5O,interval:1,inZone:this.market_tz,outZone:this.market_tz});J$7=this._wasOpenIntraDay(f5O);if(J$7 === null){f5O=new Date(f5O - 60000);J$7=this._wasOpenIntraDay(f5O);}else {if(X0P && f5O.getHours() === this.zseg_match.open_parts.hours && f5O.getMinutes() === this.zseg_match.open_parts.minutes || !X0P && f5O.getHours() === this.zseg_match.close_parts.hours && f5O.getMinutes() === this.zseg_match.close_parts.minutes){f5O=X0w.previous();}}if(J$7){j2X=this.zseg_match.open_parts.hours;Q5Q=this.zseg_match.open_parts.minutes;f5O.setHours(j2X);f5O.setMinutes(Q5Q);X0w=this.newIterator({begin:f5O,interval:1,inZone:this.market_tz,outZone:this.market_tz});f5O=X0w.previous();if(this.zseg_match.close_parts.hours === j2X){if(this.zseg_match.close_parts.minutes === Q5Q){if(X0P){return X0w.next();}return f5O;}}if(this.zseg_match.adjacent_child){return f5O;}if(X0P){return X0w.next();}return f5O;}return X0w.previous();};n21.Market.prototype.disableSession=function(A8X,N8a){var I$S;I$S=!"1";if(typeof N8a !== "undefined" && N8a){I$S=!!"1";}V5cdF.j0M();if(A8X){for(var k8c=0;k8c < this.normalHours.length;k8c++){delete this.normalHours[k8c]._refid;if(this.normalHours[k8c].name === A8X){this.normalHours[k8c].enabled=I$S;}}for(k8c=0;k8c < this.extraHours.length;k8c++){delete this.extraHours[k8c]._refid;if(this.extraHours[k8c].name === A8X){this.extraHours[k8c].enabled=I$S;}}}if(this._zseg_matches)this._zseg_matches.clear();};n21.Market.prototype.enableSession=function(C6g){this.disableSession(C6g,"enable_instead");};n21.Market.prototype.enableAllAvailableSessions=function(){var e8Z;e8Z=this.getSessionNames();for(var j6a=0;j6a < e8Z.length;j6a++){this.enableSession(e8Z[j6a].name);}};n21.Market.prototype.getClose=function(w2d,T2j,y27,h7R){var L6C,K7_;if(!this.market_def)return null;if(!this.rules)return null;L6C=w2d;if(!w2d){L6C=new Date();y27=null;;}L6C=this._convertToMarketTZ(L6C,y27);if(typeof T2j !== "undefined"){if(this._wasOpenIntraDay(L6C)){if(this.zseg_match.name === T2j){L6C.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,"0" - 0,+"0");L6C=this._convertFromMarketTZ(L6C,h7R);return L6C;}}}else {if(this._wasOpenDaily(L6C)){K7_=this.zseg_match;while(K7_.child_){K7_=K7_.child_;}while(!K7_.enabled){K7_=K7_.parent_;}L6C.setHours(K7_.close_parts.hours,K7_.close_parts.minutes,0,0);L6C=this._convertFromMarketTZ(L6C,h7R);return L6C;}}return null;};n21.Market.prototype.getNextClose=function(y_1,o8J,p7c){var B8N,P_n,y$A,X9f;if(!this.market_def)return null;if(!this.rules)return null;B8N=y_1;if(!y_1){B8N=new Date();o8J=null;;}B8N=this._convertToMarketTZ(B8N,o8J);if(!this._wasOpenIntraDay(B8N)){P_n=this.newIterator({begin:B8N,interval:1,inZone:this.market_tz,outZone:this.market_tz});B8N=P_n.next();}y$A=B8N.getDate();X9f=this.zseg_match;while(X9f.adjacent_child){X9f=X9f.adjacent_child;y$A+=+"1";}B8N.setDate(y$A);B8N.setHours(X9f.close_parts.hours,X9f.close_parts.minutes,+"0",0);B8N=this._convertFromMarketTZ(B8N,p7c);return B8N;};n21.Market.prototype.getNextOpen=function(j2t,u2D,X1W){var k_$;if(!this.market_def)return null;if(!this.rules)return null;k_$=j2t;if(!j2t){k_$=new Date();u2D=null;;}k_$=this._convertToMarketTZ(k_$,u2D);k_$=this._find_next_segment(k_$);if(this.zseg_match.adjacent_parent){k_$=this.getNextOpen(k_$,this.market_tz,this.market_tz);k_$=this._convertFromMarketTZ(k_$,X1W);return k_$;}k_$.setHours(this.zseg_match.open_parts.hours);k_$.setMinutes(this.zseg_match.open_parts.minutes);k_$=this._convertFromMarketTZ(k_$,X1W);return k_$;};n21.Market.prototype.getOpen=function(c2I,b6r,T7k,x0d){var J3k,O4K;if(!this.market_def)return null;if(!this.rules)return null;V5cdF.U0D();J3k=c2I;if(!c2I){J3k=new Date();T7k=null;;}J3k=this._convertToMarketTZ(J3k,T7k);if(typeof b6r !== "undefined"){if(this._wasOpenIntraDay(J3k)){if(this.zseg_match.name == b6r){J3k.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,0);J3k=this._convertFromMarketTZ(J3k,x0d);return J3k;}}}else {if(this._wasOpenDaily(J3k)){O4K=this.zseg_match;while(O4K.parent_){O4K=O4K.parent_;}while(!O4K.enabled){O4K=O4K.child_;}J3k.setHours(O4K.open_parts.hours,O4K.open_parts.minutes,0,+"0");J3k=this._convertFromMarketTZ(J3k,x0d);return J3k;}}return null;};n21.Market.prototype.getNormalOpen=function(){var {market_def:C0r, rules:y3B}=this;if(!(C0r && y3B))return "00:00";if(C0r.normal_daily_open)return C0r.normal_daily_open;if(C0r.name === "FOREX")return "17:00";V5cdF.U0D();return y3B.find(({name:X08})=>!X08 || X08 === "").open;};n21.Market.prototype.getNormalClose=function(){var C4t,X$O,v6a;C4t="1";C4t+="7:";C4t+="0";C4t+="0";X$O="FO";X$O+="REX";v6a="2";v6a+="4";v6a+=":";v6a+="00";var {market_def:R31, rules:a9E}=this;if(!(R31 && a9E))return v6a;if(R31.normal_daily_close)return R31.normal_daily_close;if(R31.name === X$O)return C4t;return a9E.filter(({dayofweek:T42, name:t4d})=>T42 && (!t4d || t4d === "")).pop().close;};n21.Market.prototype.getPreviousClose=function(x46,Q9B,t$C){var i7$;if(!this.market_def)return null;if(!this.rules)return null;i7$=x46;if(!x46){i7$=new Date();Q9B=null;;}i7$=this._convertToMarketTZ(i7$,Q9B);i7$=this._find_prev_segment(i7$,!!"");if(this.zseg_match.adjacent_child){return this.getPreviousClose(i7$,this.market_tz,this.market_tz);}i7$.setHours(this.zseg_match.close_parts.hours);i7$.setMinutes(this.zseg_match.close_parts.minutes);i7$=this._convertFromMarketTZ(i7$,t$C);return i7$;};n21.Market.prototype.getPreviousOpen=function(k_Q,Y0w,g99){var s_$;if(!this.market_def)return null;if(!this.rules)return null;s_$=k_Q;if(!k_Q){s_$=new Date();Y0w=null;;}s_$=this._convertToMarketTZ(s_$,Y0w);s_$=this._find_prev_segment(s_$,!!1);if(this.zseg_match.adjacent_parent){return this.getPreviousOpen(s_$,this.market_tz,this.market_tz);}s_$.setHours(this.zseg_match.open_parts.hours);s_$.setMinutes(this.zseg_match.open_parts.minutes);s_$=this._convertFromMarketTZ(s_$,g99);return s_$;};n21.Market.prototype.getSession=function(p42,P_T){p42=this._convertToMarketTZ(p42,P_T);if(this._wasOpenIntraDay(p42) && this.zseg_match){return this.zseg_match.name;}return null;};n21.Market.prototype.marketZoneNow=function(){return this._convertToMarketTZ(new Date());};n21.Market.prototype.isHourAligned=function(){return this.hour_aligned;};n21.Market.prototype.isOpen=function(){var o$k;o$k=new Date();if(this.market_tz){o$k=new this.tz_lib(o$k.getTime(),this.market_tz);}return this._wasOpenIntraDay(o$k);};n21.Market.prototype.isMarketDay=function(){var q0D;q0D=new Date();if(this.market_tz){q0D=new this.tz_lib(q0D.getTime(),this.market_tz);}V5cdF.j0M();return this._wasOpenDaily(q0D);};n21.Market.prototype.isMarketDate=function(T33){V5cdF.j0M();return this._wasOpenDaily(T33);};n21.Market.prototype.isFirstMarketDayOfMonth=function(B92){var B_L,u3v;if(!this.isMarketDate(B92))return !"1";B_L=new Date(+B92);u3v=B92.getDate();for(var E_f=+"1";E_f < u3v;E_f++){B_L.setDate(E_f);if(this.isMarketDate(B_L))return ![];}return !!({});};n21.Market.prototype.isFirstMarketDayOfWeek=function(r_S){var t7z,Z_a,T6k;if(!this.isMarketDate(r_S))return !"1";t7z=this.tradingDays();V5cdF.U0D();Z_a=Math.max(this.beginningDayOfWeek,t7z["0" | 0]) || 0;T6k=new Date(+r_S);while(T6k.getDay() !== Z_a){T6k.setDate(T6k.getDate() - 1);if(this.isMarketDate(T6k))return ![];}return !![];};n21.Market.prototype.newIterator=function(i6M){var C0k,h61,B0X,D2L,i_K,j7t,K7a,J_U;C0k=!!"";if(i6M.periodicity){C0k=i6M.periodicity;}else if(i6M.multiple){C0k=i6M.multiple;}h61=i6M.interval;V5cdF.U0D();if(!h61){h61="minute";}B0X=-+"216384011";D2L=-+"1383426816";i_K=+"2";for(var C3n=1;V5cdF.Y5G(C3n.toString(),C3n.toString().length,"7502" | 68) !== B0X;C3n++){j7t="h";j7t+="o";j7t+="u";j7t+="r";if(h61 == j7t)h61=60;i_K+=2;}if(V5cdF.Y5G(i_K.toString(),i_K.toString().length,6245) !== D2L){if(h61 !== "")h61=99;}if(!C0k){C0k=1;}if(!i6M.begin){i6M.begin=new Date();i6M.inZone=null;}if(h61 == parseInt(h61,10)){h61=parseInt(h61,10);if(i6M.periodicity < 1 / 60){C0k=C0k * h61 * 60000;h61="millisecond";}else if(i6M.periodicity < 1){C0k=C0k * h61 * 60;h61="second";}else {C0k=C0k * h61;h61="minute";}}if(i6M.timeUnit){K7a="t";K7a+="i";K7a+="c";K7a+="k";J_U="s";J_U+="eco";J_U+="nd";if(i6M.timeUnit === "millisecond"){h61=i6M.timeUnit;}else if(i6M.timeUnit === J_U){h61=i6M.timeUnit;}else if(i6M.timeUnit === K7a){h61="second";}}if(h61 == "tick")h61="second";i6M.interval=h61;i6M.multiple=C0k;i6M.market=this;return new n21.Market.Iterator(i6M);};n21.Market.prototype._wasOpenDaily=function(J_3){return this._was_open(J_3,!({}));};n21.Market.prototype._wasOpenIntraDay=function(C4P){V5cdF.j0M();return this._was_open(C4P,!!"1");};n21.Market.prototype._was_open=function(r8X,i2y){var G5h,F85,n4l,i4w,O6o,y0s,V8E,R$X,l57,m6M,m6x,a6N,z5H,u62,q9m,N3C;if(typeof i2y === "undefined"){i2y=!!"1";}G5h=this.zseg_match;this.zopen_hour=0;this.zopen_minute=0;this.zclose_hour="0" - 0;this.zclose_minute=0;this.zmatch_open=![];this.zseg_match=null;if(!this.market_def || !this.rules){this.zclose_hour=24;return !!"1";}if(this.tradingDays().indexOf(r8X.getDay()) < 0)return null;if(V2N){if(!this._zseg_matches)this._zseg_matches=new Map();F85=this._zseg_matches.get(+r8X * (i2y?1:-1));if(F85 === null)return null;if(F85){F85=this._zseg_matches.get(F85);Object.assign(this,F85);return this.zseg_match;}}n4l=!({});i4w=!!0;O6o=r8X.getFullYear();y0s=r8X.getMonth() + ("1" | 0);V8E=r8X.getDay();R$X=r8X.getDate();l57=r8X.getHours();m6M=r8X.getMinutes();m6x=r8X.getSeconds();u62=l57 * 60 * 60 + m6M * 60 + m6x;for(q9m=+"0";q9m < this.normalHours.length;q9m++){a6N=this.normalHours[q9m];if(!a6N.enabled){continue;}n4l=a6N.dayofweek === V8E;if(n4l && i2y){n4l=u62 >= a6N.open && u62 < a6N.close;}if(n4l){if(!i2y && this.zseg_match){if(a6N.open_parts.hours > this.zopen_hour || a6N.open_parts.hours == this.zopen_hour && a6N.open_parts.minutes > this.zopen_minute){continue;}}if(a6N !== G5h && !a6N.adjacent_parent && !a6N.adjacent_child){this.shouldResetToBeginningOfSegment=!!({});}z5H=q9m + 1;this.zopen_hour=a6N.open_parts.hours;this.zopen_minute=a6N.open_parts.minutes;this.zclose_hour=a6N.close_parts.hours;this.zclose_minute=a6N.close_parts.minutes;this.zmatch_open=u62 === a6N.open;this.zseg_match=a6N;if(i2y)break;}}V5cdF.U0D();for(q9m=0;q9m < this.extraHours.length;q9m++){a6N=this.extraHours[q9m];if(!a6N.enabled){continue;}if(("409.11" * 1 === 892.65?0x1beb:"*") === a6N.year || O6o === a6N.year){if(y0s === a6N.month && R$X === a6N.day){i4w=!i2y && a6N.open || u62 >= a6N.open && u62 < a6N.close;if(!i4w && this.zseg_match){n4l=![];this.zopen_hour=0;this.zopen_minute=0;this.zclose_hour="0" ^ 0;this.zclose_minute="0" << 64;this.zmatch_open=!!0;this.zseg_match=null;}if(i4w){if(!i2y && this.zseg_match){if(a6N.open_parts.hours > this.zopen_hour || a6N.open_parts.hours == this.zopen_hour && a6N.open_parts.minutes > this.zopen_minute){continue;}}z5H=-(q9m + +"1");this.zopen_hour=a6N.open_parts.hours;this.zopen_minute=a6N.open_parts.minutes;this.zclose_hour=a6N.close_parts.hours;this.zclose_minute=a6N.close_parts.minutes;this.zmatch_open=u62 === a6N.open;this.zseg_match=a6N;if(i2y)break;}}}}if(V2N){N3C=null;if(this.zseg_match){if(!this.zseg_match._refid){this.zseg_match._refid=z5H;this._zseg_matches.set(this.zseg_match._refid,{zopen_hour:this.zopen_hour,zopen_minute:this.zopen_minute,zclose_hour:this.zclose_hour,zclose_minute:this.zclose_minute,zmatch_open:this.zmatch_open,zseg_match:this.zseg_match});}N3C=this.zseg_match._refid;}this._zseg_matches.set(+r8X * (i2y?1:-1),N3C);}return this.zseg_match;};n21.Market.prototype._wasClosed=function(i7f){V5cdF.U0D();return !this._was_open(i7f,!!({}));};n21.Market.prototype._wasOpen=function(x1k){V5cdF.U0D();return this._was_open(x1k,!!"1");};n21.Market.prototype._tzDifferenceMillis=function(h$i,A8q,P67){var z2K,p9O,l47,d3S;z2K=0;p9O=h$i;l47=h$i;d3S=p9O.getTimezoneOffset() - l47.getTimezoneOffset();z2K=d3S * ("60" | 28) * 1000;return z2K;};n21.Market._createTimeSegments=function(O7J){V5cdF.U0D();var U3L,U1I,Y_4,S85,l6R,G3I,u6t,J51;U3L=function(N2q,L$8){if(N2q.close_parts.hours === "24" << 0 && L$8.open_parts.hours === "0" << 64){if(L$8.open_parts.minutes === 0){if(U1I.dayofweek === u6t.dayofweek - +"1"){return !!1;}if(U1I.dayofweek === 6 && u6t.dayofweek === 0){return !!"1";}}}V5cdF.j0M();return !({});};for(var V17=0;V17 < O7J.rules.length;V17++){Y_4="undefi";Y_4+="ned";S85=JSON.parse(JSON.stringify(O7J.rules[V17]));if(typeof S85.open === Y_4 && typeof S85.close === "undefined"){l6R="0";l6R+="0:";l6R+="00";S85.open="00:00";S85.close=l6R;}if(!S85.hasOwnProperty("name")){S85.name="";}try{G3I="undefi";G3I+="ned";if(typeof S85.dayofweek !== G3I){S85.year="*";u6t=k9N._createDayOfWeekSegment(O7J,S85);if(U1I){if(U1I.dayofweek === u6t.dayofweek){U1I.child_=u6t;u6t.parent_=U1I;}else {if(U3L(U1I,u6t)){U1I.adjacent_child=u6t;u6t.adjacent_parent=U1I;}}}U1I=u6t;}else if(typeof S85.date !== "undefined"){S85.isDayOfWeek=![];S85.dayofweek=-1;u6t=k9N._createDateTimeSegment(O7J,S85);}else {console.log("Error, unknown rule type " + S85);}if(O7J.enabled_by_default){for(var e3t=0;e3t < O7J.enabled_by_default.length;e3t++){J51=O7J.enabled_by_default[e3t];if(u6t.name === J51){u6t.enabled=!!"1";break;}}}else {;}}catch(I_o){console.log("Error, creating market rules " + I_o);}}};n21.Market._timeSegment={};k9N=n21.Market._timeSegment;k9N.re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/;k9N.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/;k9N.re_split_hours_minutes=/^(\d\d):(\d\d)$/;k9N.re_split_hour_minutes=/^(\d):(\d\d)$/;k9N._hashCode=function(z42){var V9p,i45,X0L,J$W;V5cdF.j0M();V9p=0;if(z42.length === 0)return V9p;for((i45=0,J$W=z42.length);i45 < J$W;i45++){X0L=z42.charCodeAt(i45);V9p=(V9p << 5) - V9p + X0L;V9p|=0;;}return V9p;};k9N._splitHoursMinutes=function(g69){var m5T,Z94;m5T=k9N.re_split_hour_minutes.exec(g69);Z94={hours:NaN,minutes:NaN};if(m5T === null){m5T=k9N.re_split_hours_minutes.exec(g69);if(m5T === null){return Z94;}}Z94.hours=parseInt(m5T[1],10);Z94.minutes=parseInt(m5T[2],10);return Z94;};k9N._createDayOfWeekSegment=function(Z_F,a2e){var S5r;S5r={name:a2e.name,isDayOfWeek:!!1,dayofweek:a2e.dayofweek,date_str:(+"55.49",4946) <= (2510,3462)?3020 == 2730?("4.55e+3" - 0,9.55e+3):547 >= 67.71?!({}):!!0:"*",open_parts:k9N._splitHoursMinutes(a2e.open),close_parts:k9N._splitHoursMinutes(a2e.close),open:k9N._secSinceMidnight(Z_F,a2e.open,!![]),close:k9N._secSinceMidnight(Z_F,a2e.close,![]),child_:!({}),parent_:!!"",adjacent_child:!!0,adjacent_parent:!({}),enabled:!!0};if(S5r.name === ""){S5r.enabled=!0;}S5r.hash_code=this._hashCode((S5r.open + S5r.close).toString());Z_F.normalHours.push(S5r);return S5r;};k9N._createDateTimeSegment=function(s6o,f5j){var g4F,Q_y,a_k;g4F=this.re_regular_iso.exec(f5j.date);if(g4F === null){g4F=this.re_wild_card_iso.exec(f5j.date);if(g4F === null){console.log("Warning: invalid date format on rule -> " + f5j.date);return;}Q_y="*";;}else {Q_y=parseInt(g4F[1],10);}a_k={name:f5j.name,isDayOfWeek:!"1",dayofweek:-1,year:Q_y,month:parseInt(g4F[2],10),day:parseInt(g4F["3" << 32],+"10"),date_str:f5j.date,open_parts:k9N._splitHoursMinutes(f5j.open),close_parts:k9N._splitHoursMinutes(f5j.close),open:k9N._secSinceMidnight(s6o,f5j.open,!!({})),close:k9N._secSinceMidnight(s6o,f5j.close,!({})),enabled:!({})};if(a_k.name === ""){a_k.enabled=!![];}V5cdF.U0D();a_k.hash_key=this._hashCode(a_k.date_str + a_k.open + a_k.close);s6o.extraHours.push(a_k);return a_k;};k9N._secSinceMidnight=function(v4G,J9l,z8m){var N_R,P86,h38,s$b;N_R=J9l.split((542.67,7289) == 3210?(0x1326,"N"):":");P86=parseInt(N_R[0],"10" | 0);V5cdF.j0M();h38=parseInt(N_R[1],10);s$b=P86 * 60 * 60 + h38 * 60;if(!z8m){if(P86 === "24" - 0){s$b=P86 * 60 * 60 + 1;}}return s$b;};n21.Market.prototype._convertToMarketTZ=function(m8L,d9D){var C0h;if(d9D){C0h=new this.tz_lib(m8L.getFullYear(),m8L.getMonth(),m8L.getDate(),m8L.getHours(),m8L.getMinutes(),m8L.getSeconds(),m8L.getMilliseconds(),d9D);}else {C0h=new this.tz_lib(m8L.getFullYear(),m8L.getMonth(),m8L.getDate(),m8L.getHours(),m8L.getMinutes(),m8L.getSeconds(),m8L.getMilliseconds());}if(C0h.setTimezone)C0h.setTimezone(this.market_tz);return new Date(C0h.getFullYear(),C0h.getMonth(),C0h.getDate(),C0h.getHours(),C0h.getMinutes(),C0h.getSeconds(),C0h.getMilliseconds());};n21.Market.prototype._convertFromMarketTZ=function(p0x,V2P){var F8e;F8e=new this.tz_lib(p0x.getFullYear(),p0x.getMonth(),p0x.getDate(),p0x.getHours(),p0x.getMinutes(),p0x.getSeconds(),p0x.getMilliseconds(),this.market_tz);if(V2P){if(F8e.setTimezone)F8e.setTimezone(V2P);}else {return new Date(F8e.getTime());}return new Date(F8e.getFullYear(),F8e.getMonth(),F8e.getDate(),F8e.getHours(),F8e.getMinutes(),F8e.getSeconds(),F8e.getMilliseconds());};n21.Market.Iterator=function(x45){this.market=x45.market;this.begin=x45.begin;this.interval=x45.interval;this.multiple=x45.multiple;this.inZone=x45.inZone;this.outZone=x45.outZone;this.clock=new n21.Market.Iterator._Clock(x45.market,x45.interval,x45.multiple);this.intraDay=this.clock.intra_day;if(this.intraDay)this.begin=this.market._convertToMarketTZ(this.begin,x45.inZone);this.clock._setStart(this.begin);this.clock.minutes_aligned=![];this.clock.minimumScanMS=x45.market.minimumSessionLength * +"60000";};n21.Market.Iterator.prototype.date=function(){return this.clock._date();};n21.Market.Iterator.prototype.futureTick=function(p3w){var y8t,n9T,B_Q,b2Q,P5W,h7g,P2r,l3v,Q0u;this.clock.skip=+"1";y8t=0;if(this.intraDay)n9T=this.market._convertToMarketTZ(p3w.end,this.inZone).getTime();else n9T=p3w.end.getTime();B_Q=this.clock.ctime;if(n9T === B_Q){return y8t;}b2Q=2;P5W="1000" ^ 0;h7g=0;if(p3w.sample_size){b2Q=p3w.sample_size;}P2r=new Date().getTime();if(n9T > B_Q){this.clock.forward=!!({});while(this.clock.ctime < n9T){y8t+=1;h7g+=1;this.clock._findNext();if(h7g === P5W){h7g=0;l3v=new Date().getTime();if(l3v - P2r >= b2Q){Q0u=(this.clock.ctime - B_Q) / y8t;y8t=Math.floor((n9T - B_Q) / Q0u);break;}}}if(this.clock.ctime > n9T){y8t--;}}else {this.clock.forward=!"1";while(this.clock.ctime > n9T){y8t+="1" - 0;h7g+=1;this.clock._findPrevious();if(h7g === P5W){h7g=0;l3v=new Date().getTime();if(l3v - P2r >= b2Q){Q0u=(B_Q - this.clock.ctime) / y8t;y8t=Math.floor((B_Q - n9T) / Q0u);break;}}}}return y8t;};n21.Market.Iterator.prototype.isHourAligned=function(){return !this.intraDay || this.market.isHourAligned();};n21.Market.Iterator.prototype.isOpen=function(){return this.market.isOpen();};n21.Market.Iterator.prototype.next=function(M31){this.clock.skip=1;if(M31){this.clock.skip=M31;}this.clock.forward=!!({});for(var x_K=0;x_K < this.clock.skip;x_K++){this.begin=this.clock._findNext();}if(this.intraDay || this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};n21.Market.Iterator.prototype.peek=function(){V5cdF.U0D();return this.clock._peek();};n21.Market.Iterator.prototype.previous=function(m29){this.clock.skip=1;if(m29){this.clock.skip=m29;}this.clock.forward=!1;for(var N9y=0;N9y < this.clock.skip;N9y++){this.begin=this.clock._findPrevious();}V5cdF.j0M();if(this.intraDay || this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};n21.Market.Iterator._Clock=function(x8G,t9y,u5h){var m3U,f3m,O_s,X8s,s_F;m3U="h";m3U+="o";m3U+="u";m3U+="r";f3m="mil";V5cdF.U0D();f3m+="lise";f3m+="cond";if(u5h % 60 === +"0" && t9y === "second"){t9y="minute";u5h=u5h / ("60" * 1);}this.market=x8G;this.interval=t9y;this.multiple=u5h;this.intra_day=!({});this.intervals=[];this.max_iters=10080;O_s=Q9b;X8s=this._dayImpl;if(t9y === f3m){X8s=this._millisImpl;O_s="1" >> 0;}else if(t9y === "second"){X8s=this._secondImpl;O_s=1000;}else if(t9y === "minute"){X8s=this._minuteImpl;O_s=60000;}else if(t9y === m3U){X8s=this._hourImpl;O_s=d7w;}else if(t9y === "day"){X8s=this._dayImpl;O_s=Q9b;}else if(t9y === "week"){X8s=this._weekImpl;O_s=Q9b * 7;}else if(t9y === "month"){X8s=this._monthImpl;O_s=Q9b * 30;}else {s_F="Pe";s_F+="riodicity ERR";s_F+="O";s_F+="R: \"";console.log(s_F + t9y + '" is not a valid interval. Please see setPeriodicity() for details.');}this.tick_time=O_s * u5h;this.intra_day=this.tick_time < Q9b;this._findPrevious=this._findNext=X8s;};j6y=n21.Market.Iterator._Clock.prototype;j6y._total_minutes=function(U5D,Q4t,a6m,o7C){V5cdF.j0M();return (a6m - U5D) * 60 - Q4t + o7C;};j6y._alignMinutes=function(){var Z7$,L1A,h9G,y2V,s6r,Z8L;Z7$=this.market.isHourAligned();if(!this.market.market_def && !Z7$ || this.market.zopen_minute === undefined){return [];}L1A=this.market.zopen_minute;h9G=this.market.zseg_match;if(h9G && h9G.adjacent_parent){L1A=h9G.adjacent_parent.open / 60 - 1440;}else {if(Z7$ && this.multiple % 60 === 0)L1A=0;}y2V=this._total_minutes(this.market.zopen_hour,L1A,this.market.zclose_hour,this.market.zclose_minute);s6r=[];Z8L=0;while(Z8L < y2V){s6r.push(L1A + Z8L);Z8L+=this.multiple;}return s6r;};j6y._alignBaseZero=function(O1l){var F5J,Y38,w7u,i5i,N4g;F5J=0;Y38=-787415968;w7u=1032762266;i5i=+"2";for(var C43=1;V5cdF.Y5G(C43.toString(),C43.toString().length,92585) !== Y38;C43++){N4g=[F5J];i5i+=2;}if(V5cdF.Y5G(i5i.toString(),i5i.toString().length,+"71438") !== w7u){N4g=[F5J];}while(!!({})){F5J+=this.multiple;if(F5J >= O1l){break;}N4g.push(F5J);}return N4g;};j6y._date=function(){V5cdF.j0M();var p8g,g9Z;p8g=Math.round(this.ctime);g9Z=new Date(p8g);if(this.intra_day){this.display_date=new Date(p8g + this.shift_millis);}else {this.display_date=g9Z;}return g9Z;};j6y._alignToBoundary=function(v0r,y1z){var a7V,m5i,w4k;a7V=0;m5i=0;w4k=y1z;for(var f9A=0;f9A < v0r.length - 1;f9A++){a7V=v0r[f9A];m5i=v0r[f9A + 1];if(y1z === a7V || y1z === m5i){break;;}if(y1z > a7V && y1z < m5i){w4k=a7V;break;}else if(f9A + 1 === v0r.length - 1){w4k=m5i;}}return w4k;};j6y._peek=function(){V5cdF.U0D();return this._date().toString();};j6y._seekHr=function(){if(this.forward){this.ctime-=d7w;}else {this.ctime+=d7w;}};j6y._setStart=function(y$_){var a5C,Z9C;V5cdF.j0M();a5C=this.market._tzDifferenceMillis(y$_);Z9C=new Date(y$_.getTime() + a5C);this.shift_millis=a5C;this.ctime=Z9C.getTime();this.shift_millis=0;this.ctime=y$_.getTime();};j6y._tickTock=function(){if(this.forward){this.ctime+=this.tick_time;}else {this.ctime-=this.tick_time;}};j6y._tockTick=function(){if(this.forward){this.ctime-=this.tick_time;}else {this.ctime+=this.tick_time;}};j6y._tickTock24=function(){var P5z,p95,j64;P5z=+"1983188030";p95=-340742975;j64=+"2";for(var X_D=1;V5cdF.Y5G(X_D.toString(),X_D.toString().length,41569) !== P5z;X_D++){this.ctime-=Q9b;j64+=2;}if(V5cdF.Y5G(j64.toString(),j64.toString().length,36909) !== p95){this.ctime-=Q9b;}V5cdF.U0D();this.ctime+=Q9b;};j6y._tockTick24=function(){V5cdF.j0M();this.ctime-=Q9b;};j6y._windMaybe=function(z4G,d5b){var p3N,r1T,a3a,q9H,p9r;p3N=0;r1T=new Date(this.ctime);a3a=!!"";while(!z4G.call(this.market,r1T)){d5b.call(this);a3a=!![];r1T=new Date(this.ctime);p3N+=1;if(p3N > this.max_iters){q9H=") reached";q9H+=" wit";q9H+="h no rule match.";p9r="Warning! max iterations (" + this.max_iters;p9r+=q9H;console.log(p9r);break;}}return a3a;};j6y._millisImpl=function(){var J39,y83,l7Q,j01,y5D,e7h,A2$,C6$,E2S,W0M;J39=!!0;if(!this.mperiods_aligned){y83=this._alignBaseZero(1000);l7Q=new Date(this.ctime);j01=l7Q.getMilliseconds();j01=this._alignToBoundary(y83,j01);l7Q.setMilliseconds(+"0");this.ctime=l7Q.getTime() + j01;this.mperiods_aligned=!!1;J39=!!({});}y5D=this._date().getMinutes();this._tickTock();e7h=this._date().getMinutes();if((J39 || y5D != e7h) && !this.market._wasOpenIntraDay(this._date())){A2$=this._date().getSeconds();C6$=this._date().getMilliseconds();E2S=this.tick_time;this.tick_time=60000;W0M=this.multiple;this.multiple=1;this._minuteImpl();this.tick_time=E2S;this.multiple=W0M;this.ctime+=1000 * A2$ + C6$;}return this._date();};j6y._secondImpl=function(){var R8Y,Y8M,y0N,q0s,x_0,Q5W,Q0S,f6D,A01;R8Y=![];if(!this.speriod_aligned){Y8M=this._alignBaseZero(+"60");y0N=new Date(this.ctime);q0s=y0N.getSeconds();q0s=this._alignToBoundary(Y8M,q0s);y0N.setSeconds(q0s);y0N.setMilliseconds(0);this.ctime=y0N.getTime();this.speriod_aligned=!!"1";R8Y=!![];}x_0=this._date().getMinutes();V5cdF.U0D();this._tickTock();Q5W=this._date().getMinutes();if((R8Y || x_0 != Q5W) && !this.market._wasOpenIntraDay(this._date())){Q0S=this._date().getSeconds();f6D=this.tick_time;this.tick_time=+"60000";A01=this.multiple;this.multiple=1;this._minuteImpl();this.tick_time=f6D;this.multiple=A01;this.ctime+=+"1000" * Q0S;}return this._date();};j6y._minuteImpl=function(){var D9t,V3B,J1z,k9C,Z6T,b_8,R40,x6u,K$1,s$F,R4G,s3l,X_e,l37;D9t=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);V3B=new Date(this.ctime);J1z=V3B.getTimezoneOffset();k9C=V3B.getMinutes();Z6T=V3B.getHours();b_8=this._alignMinutes();R40=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,Z6T,k9C) + this.market.zopen_minute;if(D9t){if(this.forward){R40=b_8[b_8.length - 1];}else {R40=b_8[0];}}else {R40=this._alignToBoundary(b_8,R40);}Z6T=Math.floor(R40 / 60) + this.market.zopen_hour;V3B.setHours(Z6T,R40 % 60,0,0);x6u=V3B.getTimezoneOffset() - J1z;if(this.forward && x6u < 0 || !this.forward && x6u > 0){V3B.setTime(V3B.getTime() - x6u * 60000);}this.ctime=V3B.getTime();K$1=this.market.zseg_match;this._tickTock();s$F=this.market.hour_aligned && this.multiple % 60 === 0;D9t=this._scanForNextSession();R4G=K$1 !== this.market.zseg_match;s3l=K$1 && K$1.adjacent_child;X_e=this.shouldResetToBeginningOfSegment || R4G && !s3l;if(D9t || X_e && !s$F){V3B=new Date(this.ctime);if(this.forward){V3B.setMinutes(this.market.zopen_minute);V3B.setHours(this.market.zopen_hour);}else {b_8=this._alignMinutes();l37=b_8[b_8.length - 1];V3B.setMinutes(l37 % ("60" << 32));V3B.setHours(Math.floor(l37 / ("60" << 64)) + this.market.zopen_hour);}this.ctime=V3B.getTime();}return this._date();};j6y._hourImpl=function(){var t1O,I2u,U$F,n_f,E77;this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);t1O=new Date(this.ctime);if(this.market.isHourAligned()){t1O.setMinutes(0);}else {t1O.setMinutes(this.market.zopen_minute);}t1O.setSeconds(0);t1O.setMilliseconds(0);this.ctime=t1O.getTime();this._tickTock();V5cdF.U0D();I2u=this.market.zseg_match;if(this._scanForNextSession() || !this.market.hour_aligned && I2u != this.market.zseg_match){U$F=new Date(this.ctime);if(this.forward){U$F.setMinutes(this.market.zopen_minute);U$F.setHours(this.market.zopen_hour);}else {n_f=this._alignMinutes();E77=n_f[n_f.length - +"1"];U$F.setMinutes(E77 % 60);U$F.setHours(Math.floor(E77 / 60) + this.market.zopen_hour);}this.ctime=U$F.getTime();}return this._date();};j6y._dayImpl=function(){var X6w,B3H;this._windMaybe(this.market._wasOpenDaily,this._seekHr);X6w=new Date(this.ctime);X6w.setHours(12,0,0,+"0");this.ctime=X6w.getTime();B3H=0;while(B3H < this.multiple){if(this.forward){this._tickTock24();}else {this._tockTick24();}if(!this.market._wasOpenDaily(this._date())){continue;}B3H+=1;}X6w=new Date(this.ctime);X6w.setHours(+"0");this.ctime=X6w.getTime();return this._date();};j6y._weekImpl=function(){var U5B,v$z;U5B=this.market;v$z=new Date(this.ctime);v$z.setHours(12);this.ctime=v$z.getTime();this._tickTock();v$z=new Date(this.ctime);while(v$z.getDay() !== U5B.beginningDayOfWeek){this._tockTick24();v$z=new Date(this.ctime);}this._windMaybe(U5B._wasOpenDaily,this._tickTock24);v$z=new Date(this.ctime);v$z.setHours(0,0,0,0);this.ctime=v$z.getTime();V5cdF.j0M();return this._date();};j6y._monthImpl=function(){var h9w;h9w=new Date(this.ctime);h9w.setDate(15);this.ctime=h9w.getTime();this._tickTock();h9w=new Date(this.ctime);h9w.setDate(1);h9w.setHours(12);this.ctime=h9w.getTime();this._windMaybe(this.market._wasOpenDaily,this._tickTock24);h9w=new Date(this.ctime);h9w.setHours(0,0,+"0",0);this.ctime=h9w.getTime();return this._date();};j6y._findNext=null;j6y._findPrevious=null;j6y._scanForNextSession=function(){V5cdF.j0M();return this._windMaybe(this.market._wasOpenIntraDay,(function(){V5cdF.j0M();this.ctime+=this.forward?this.minimumScanMS:-this.minimumScanMS;}).bind(this));};};N=h1E=>{var a0h=V5cdF;a0h.V08=function(w7F){a0h.j0M();if(a0h && w7F)return a0h.C78(w7F);};a0h.m4l=function(k7V){a0h.j0M();if(a0h && k7V)return a0h.C78(k7V);};a0h.o9N=function(p6U){a0h.U0D();if(a0h && p6U)return a0h.C78(p6U);};a0h.x22=function(b04){if(a0h && b04)return a0h.x1V(b04);};var N7m,q7d,M$Z;N7m=typeof _CIQ !== "undefined"?_CIQ:h1E.CIQ;q7d="v";q7d+="a";q7d+="lid";N7m.valid=0;N7m[a0h.l0F("31bc")?"ChartEngine":""][a0h.Y1V("ff31")?"":"prototype"][a0h.a3j("d85d")?"mousemoveinner":""]=function(L8l,l5X){a0h.z89=function(q7w){if(a0h)return a0h.C78(q7w);};a0h.j0M();a0h.c5W=function(A1G){a0h.j0M();if(a0h)return a0h.x1V(A1G);};a0h.P2B=function(p2u){if(a0h && p2u)return a0h.x1V(p2u);};a0h.E9p=function(s5a){if(a0h)return a0h.C78(s5a);};var F25=a0h.E9p("d8a6")?1935226400:8809401955,W1T=a0h.k_Y("2cd5")?245260874:833259919,O$q=a0h.X$c("7af1")?200482206:580011897,F5D=-(a0h.x22("8998")?4528612524:1496646448),s_Z=-2043879289;if(!(a0h.f3C(a0h.P2B("a52f")?4:0,a0h.o9N("bc1d")?false:true,654874) !== F25 && a0h.f3C(a0h.m4l("cc43")?0:6,false,a0h.V08("6e16")?741289:435299) !== W1T && a0h.Y6v(16,a0h.O7K("c1e2")?true:false,525886) !== O$q && a0h.Y6v(a0h.c5W("b76b")?17:75,true,a0h.f6v("5927")?713396:764310) !== F5D && a0h.Y6v(14,a0h.z89("c1f1")?true:false,610579) !== s_Z)){var l0y,M7y,N0E,p7i,R3I,l$r,x24,V7k,G_t,A4h,Q33,u$O,i21,t5s,s$a,q0u,F$g,b2x,F0X,U7b,y$W,W_f,f_8,n5$,r5y,q4j,P2K,c1Z,h$e,D4W;if(!this["chart"]["canvas"]){return;}if(!this["disableBackingStoreDuringTouch"]){if(this["chart"]["canvas"]["height"] != Math["floor"](this["devicePixelRatio"] * this["chart"]["container"]["clientHeight"]) || this["chart"]["canvas"]["width"] != Math["floor"](this["devicePixelRatio"] * this["chart"]["container"]["clientWidth"])){this["resizeChart"]();return;}}if(this["runPrepend"]("mousemoveinner",arguments)){return;}M7y=arguments;N0E=this["container"]["getBoundingClientRect"]();this["top"]=N0E["top"];this["left"]=N0E["left"];this["right"]=this["left"] + this["width"];this["bottom"]=this["top"] + this["height"];this["hasDragged"]=!!({});N7m["ChartEngine"]["crosshairX"]=L8l;N7m["ChartEngine"]["crosshairY"]=l5X;this["crosshairX"]=L8l;this["crosshairY"]=l5X;p7i=this["cy"]=this["crossYActualPos"]=this["backOutY"](N7m["ChartEngine"]["crosshairY"]);R3I=this["cx"]=this["crossXActualPos"]=this["backOutX"](N7m["ChartEngine"]["crosshairX"]);if(this["grabbingScreen"] && this["anyHighlighted"]){a0h["U6M"](10);var V7B=a0h["l$6"](5,3);a0h["U_P"](116);var q_W=a0h["l$6"](3,3,3);l$r=Math["pow"](this["grabStartX"] - L8l,V7B) + Math["pow"](this["grabStartY"] - l5X,q_W);if(l$r < 36){return;}}this["cancelLongHold"]=!0;x24=function(Z19,t8K){var D9v=981019805,a0w=-1417026789,t9q=747791637,I5T=9239564,K57=617604454;if(!(a0h.Y6v(0,false,637316) !== D9v && a0h.Y6v(0,false,553051) !== a0w && a0h.Y6v(16,true,749269) !== t9q && a0h.Y6v(17,true,780913) !== I5T && a0h.f3C(14,true,922920) !== K57)){if(N7m[q7d] === 0){return Z19["whichPanel"](t8K) || Z19["chart"]["panel"];}if(!Z19["draw"][q7d]){Z19["draw"]=function(){var o5X=-1417970574,M2B=526460827,h6c=2026315924,r99=836070296,w7o=1169721227;if(a0h.Y6v(0,false,684601) === o5X || a0h.f3C(0,false,412326) === M2B || a0h.Y6v(16,true,820801) === h6c || a0h.Y6v(17,true,345768) === r99 || a0h.Y6v(14,true,540294) === w7o){N7m["clearCanvas"](this["chart"]["canvas"],this);}};Z19["draw"][q7d]=!!"1";}}};this["currentPanel"]=x24(this,p7i);if(!this["currentPanel"]){return;}V7k=this["currentPanel"]["chart"];if(V7k["dataSet"]){this["crosshairTick"]=this["tickFromPixel"](R3I,V7k);l0y=this["valueFromPixel"](p7i,this["currentPanel"]);this["crosshairValue"]=this["adjustIfNecessary"](this["currentPanel"],this["crosshairTick"],l0y);G_t=this["currentPanel"]["name"] == "chart"?this["preferences"]["horizontalCrosshairField"]:this["currentPanel"]["horizontalCrosshairField"];if(G_t && this["crosshairTick"] < V7k["dataSet"]["length"] && this["crosshairTick"] > -1){l0y=V7k["dataSet"][this["crosshairTick"]][G_t];this["crossYActualPos"]=this["pixelFromPrice"](l0y,this["currentPanel"]);}}if(N7m["ChartEngine"]["crosshairX"] >= this["left"] && N7m["ChartEngine"]["crosshairX"] <= this["right"] && N7m["ChartEngine"]["crosshairY"] >= this["top"] && N7m["ChartEngine"]["crosshairY"] <= this["bottom"]){this["insideChart"]=!!({});}else {this["insideChart"]=!!"";}A4h=this["xAxisAsFooter"] === !!({})?this["chart"]["canvasHeight"]:this["chart"]["panel"]["bottom"];this["overXAxis"]=this["insideChart"] && this["cy"] <= A4h && this["cy"] > A4h - this["xaxisHeight"];this["overYAxis"]=(this["cx"] >= this["currentPanel"]["right"] || this["cx"] <= this["currentPanel"]["left"]) && this["insideChart"];if(this["overXAxis"] || this["overYAxis"] || !this["insideChart"] && !this["grabbingScreen"]){this["undisplayCrosshairs"]();if(!this["overXAxis"] && !this["overYAxis"]){return;};}if(!this["displayCrosshairs"] && !N7m["ChartEngine"]["resizingPanel"]){this["undisplayCrosshairs"]();return;}if(this["repositioningBaseline"]){this["setBaselineUserLevel"]();return d3b(this);}if(this["repositioningAnchorSelector"]){Q33=this["repositioningAnchorSelector"]["hoverTick"];u$O=this["tickFromPixel"](this["cx"],this["chart"]);if(u$O >= 0 && u$O < this["chart"]["dataSet"]["length"] && (!(Q33 && Q33 !== 0) || u$O !== Q33)){this["repositioningAnchorSelector"]["hoverTick"]=u$O;this["draw"]();}return d3b(this);}if(this["grabbingScreen"] && !N7m["ChartEngine"]["resizingPanel"] && !this["chart"]["draggingControls"]){if(this["highlightedDraggable"]){this["displayDragOK"](!![]);this["dragPlotOrAxis"](R3I,p7i);return d3b(this);}if(this["anyHighlighted"]){N7m["clearCanvas"](this["chart"]["tempCanvas"],this);this["anyHighlighted"]=!!0;for(i21 in this["overlays"]){this["overlays"][i21]["highlight"]=!1;}for(i21 in V7k["series"]){V7k["series"][i21]["highlight"]=![];}this["displaySticky"]();}if(this["grabStartX"] == -("1" >> 0)){this["grabStartX"]=N7m["ChartEngine"]["crosshairX"];this["grabStartScrollX"]=V7k["scroll"];}if(this["grabStartY"] == -1){this["grabStartY"]=N7m["ChartEngine"]["crosshairY"];this["grabStartScrollY"]=this["currentPanel"]["yAxis"]["scroll"];}t5s=this["lastMove"] === "horizontal"?N7m["ChartEngine"]["crosshairX"]:Math["max"](this["left"],Math["min"](this["right"],N7m["ChartEngine"]["crosshairX"]));s$a=this["lastMove"] === "vertical"?N7m["ChartEngine"]["crosshairY"]:Math["max"](this["top"],Math["min"](this["bottom"],N7m["ChartEngine"]["crosshairY"]));q0u=t5s - this["grabStartX"];F$g=s$a - this["grabStartY"];if(q0u === 0 && F$g === +"0"){return;}if(Math["abs"](q0u) + Math["abs"](F$g) > 5){this["grabOverrideClick"]=!![];}F0X=this["layout"]["candleWidth"];if(this["allowZoom"] && this["grabMode"] != "pan" && (this["grabMode"]["indexOf"]("zoom") === 0 || this["overXAxis"] || this["grabStartYAxis"])){if(this["grabMode"] === ""){U7b=-1479132324;y$W=-399399898;W_f=2;for(var D_r=1;a0h["Y5G"](D_r["toString"](),D_r["toString"]()["length"],79079) !== U7b;D_r++){if(this["overXAxis"]){this["grabMode"]="zoom-y";}else if(this["grabStartYAxis"]){this["grabMode"]="zoom-y";}W_f+=2;}if(a0h["Y5G"](W_f["toString"](),W_f["toString"]()["length"],82103) !== y$W){if(this["overXAxis"]){this["grabMode"]="zoom-x";}else if(this["grabStartYAxis"]){this["grabMode"]="zoom-y";}}}if(this["grabMode"] == "zoom-x"){F$g=0;}else if(this["grabMode"] == "zoom-y"){q0u=0;}if(q0u){this["grabStartX"]=N7m["ChartEngine"]["crosshairX"];f_8=F0X - q0u / this["chart"]["maxTicks"];this["zoomSet"](f_8,this["chart"]);}if(this["layout"]["setSpan"]){this["layout"]["setSpan"]=null;this["changeOccurred"]("layout");}b2x=this["grabStartYAxis"];if(b2x){if(b2x["flipped"]){F$g*=-+"1";}b2x["zoom"]=Math["round"](this["grabStartZoom"] + F$g);if(this["grabStartZoom"] < b2x["height"]){if(b2x["zoom"] >= b2x["height"]){a0h["U_P"](75);var c1P=a0h["Q7U"](10,9,20);b2x["zoom"]=b2x["height"] - c1P;}}else {if(b2x["zoom"] <= b2x["height"]){a0h["U_P"](117);var k_X=a0h["Q7U"](6,18,12,2,15);b2x["zoom"]=b2x["height"] + k_X;}}}}else if(!this["overYAxis"]){n5$="m";n5$+="ove";this["dispatch"](n5$,{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"],grab:!![]});if(this["allowScroll"]){r5y="sc";r5y+="roll";if(Math["abs"](F$g) < this["yTolerance"]){if(!this["yToleranceBroken"]){F$g=0;if(q0u === 0){return;}}}else {this["yToleranceBroken"]=!!({});}if(!this["grabStartMicropixels"]){this["grabStartMicropixels"]=0;}this["grabMode"]="pan";V7k["scroll"]=this["grabStartScrollX"];a0h["U6M"](26);var R_U=a0h["l$6"](7,0,14,2);this["micropixels"]=this["grabStartMicropixels"] + q0u * (this["shift"]?+"5":R_U);if(!this["lineTravelSpacing"]){while(this["micropixels"] > 0){this["micropixels"]-=F0X;V7k["scroll"]++;}while(this["micropixels"] < -F0X){this["micropixels"]+=F0X;V7k["scroll"]--;}}if(V7k["scroll"] >= V7k["maxTicks"]){this["preferences"]["whitespace"]=this["initialWhitespace"];}else {this["preferences"]["whitespace"]=(V7k["maxTicks"] - V7k["scroll"]) * F0X;}if(this["currentPanel"] == this["grabStartPanel"]){b2x=this["currentPanel"]["yAxis"];if(b2x["flipped"]){F$g*=-1;}b2x["scroll"]=this["grabStartScrollY"] + F$g;}this["dispatch"](r5y,{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"]});}}q4j=function(z5E){var F0W=1278697876,B9R=-1667599256,U0b=-303843415,T47=-1415017575,b8w=-809272977;if(!(a0h.Y6v(0,false,431894) !== F0W && a0h.Y6v(0,false,903751) !== B9R && a0h.f3C(16,true,765825) !== U0b && a0h.Y6v(17,true,350410) !== T47 && a0h.f3C(14,true,207756) !== b8w)){return function(){a0h.U0D();var Q3z=1409369528,k18=268394534,R4d=-209416255,o$q=1946406707,z3I=-1571613367;if(!(a0h.Y6v(0,false,546781) !== Q3z && a0h.Y6v(0,false,238463) !== k18 && a0h.f3C(16,true,782272) !== R4d && a0h.Y6v(17,true,131842) !== o$q && a0h.f3C(14,true,331677) !== z3I)){z5E["draw"]();z5E["updateChartAccessories"]();}};}};if(N7m["ChartEngine"]["useAnimation"]){this["ownerWindow"]["requestAnimationFrame"](q4j(this));}else {this["draw"]();this["updateChartAccessories"]();}if(this["activeDrawing"]){N7m["clearCanvas"](this["chart"]["tempCanvas"],this);this["activeDrawing"]["render"](this["chart"]["tempCanvas"]["context"]);this["activeDrawing"]["measure"]();}this["undisplayCrosshairs"]();return;}this["grabMode"]="";if(this["overXAxis"] || this["overYAxis"]){this["updateChartAccessories"]();if(!this["tapForHighlighting"] || !this["touching"] || this["anyHighlighted"]){this["findHighlights"]();}return d3b(this);;}if(this["controls"]["crossX"]){this["controls"]["crossX"]["style"]["left"]=this["pixelFromTick"](this["crosshairTick"],V7k) - 0.5 + "px";}if(this["controls"]["crossY"]){this["controls"]["crossY"]["style"]["top"]=this["crossYActualPos"] + "px";}if(this["insideChart"] && !N7m["ChartEngine"]["resizingPanel"]){P2K=this["currentVectorParameters"]["vectorType"];if(this["layout"]["studies"]){c1Z=this["layout"]["studies"][this["currentPanel"]["name"]];if(c1Z){if(!this["preferences"]["dragging"] || !this["preferences"]["dragging"]["study"]){delete this["overlays"][c1Z["name"]];}if(P2K){this["overlays"][c1Z["name"]]=c1Z;}}}if(!N7m["Drawing"] || !P2K || !N7m["Drawing"][P2K] || !new N7m["Drawing"][P2K]()["dragToDraw"]){this["doDisplayCrosshairs"]();}this["updateChartAccessories"]();}else {this["undisplayCrosshairs"]();}function d3b(V2d){a0h.U0D();var e9y=982644524,Y5N=-1019313093,w5K=1849671866,g7f=563021837,l9Z=-1703961855;if(a0h.f3C(0,false,907774) === e9y || a0h.f3C(0,false,580330) === Y5N || a0h.Y6v(16,true,895830) === w5K || a0h.Y6v(17,true,296978) === g7f || a0h.f3C(14,true,917907) === l9Z){var N5w;N5w="mousem";N5w+="oveinne";N5w+="r";V2d["currentBaseline"]=null;V2d["runAppend"](N5w,M7y);}}if(this["magnetize"]){this["magnetize"]();}if(this["repositioningDrawing"]){this["repositionDrawing"](this["repositioningDrawing"]);}else if(N7m["ChartEngine"]["drawingLine"]){if(this["activeDrawing"]){if(this["magnetizedPrice"] === null){h$e=this["panels"][this["activeDrawing"]["panelName"]];l0y=this["adjustIfNecessary"](h$e,this["crosshairTick"],this["activeDrawing"]["valueFromPixel"](this["backOutY"](N7m["ChartEngine"]["crosshairY"]),h$e,this["getYAxisByField"](h$e,this["activeDrawing"]["field"])));N7m["clearCanvas"](this["chart"]["tempCanvas"],this);this["activeDrawing"]["move"](this["chart"]["tempCanvas"]["context"],this["crosshairTick"],l0y);}if(this["activeDrawing"]["measure"]){this["activeDrawing"]["measure"]();}}}else if(N7m["ChartEngine"]["resizingPanel"]){this["resizePanels"]();}if(this["insideChart"]){D4W="m";D4W+="o";D4W+="v";D4W+="e";this["dispatch"](D4W,{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"],grab:!({})});if(!this["tapForHighlighting"] || !this["touching"] || this["anyHighlighted"]){this["findHighlights"]();}}return d3b(this);}};N7m.ChartEngine.prototype.swipeStart=function(k_z){var v72,H6E,m$X,e6F,Z2k;v72=this.swipe;if(v72 && v72.interval){clearInterval(v72.interval);}v72.velocity=0;v72.amplitude=0;v72.frame=k_z.scroll;v72.micropixels=this.micropixels;a0h.U6M(24);H6E=a0h.Q7U("176356687",77);a0h.U_P(10);m$X=-a0h.l$6("509206257",0);e6F=2;for(var T05=1;a0h.S0_(T05.toString(),T05.toString().length,91625) !== H6E;T05++){v72.timestamp=Date.now();v72.chart=k_z;v72.end=!!({});v72.timeConstant=735;v72.cb=+"1";e6F+=2;}if(a0h.Y5G(e6F.toString(),e6F.toString().length,72608) !== m$X){v72.timestamp=Date.now();v72.chart=k_z;v72.end=![];v72.timeConstant=325;v72.cb=null;}Z2k=this;this.ownerWindow.requestAnimationFrame(function(){Z2k.swipeSample();});};N7m.ChartEngine.prototype.swipeSample=function(){var M9k,J4q,j1I,a_K,j3s,M6H,S6V,x_L,E1P;M9k=this.swipe;if(M9k.end){return;}J4q=this;S6V=20;j1I=Date.now();a_K=j1I - M9k.timestamp;if(a_K < S6V){this.ownerWindow.requestAnimationFrame(function(){J4q.swipeSample();});return;}x_L=N7m.touchDevice?0.4:0.8;M9k.timestamp=j1I;j3s=(M9k.chart.scroll - M9k.frame) * this.layout.candleWidth + this.micropixels - M9k.micropixels;M9k.frame=M9k.chart.scroll;M9k.micropixels=this.micropixels;a0h.U6M(118);M6H=a0h.l$6(j3s,1,1000,a_K);E1P=x_L * M6H + 0.2 * M9k.velocity;if(Math.abs(E1P) > Math.abs(M9k.velocity)){M9k.velocity=E1P;}if(Math.abs(j3s) < 6){M9k.velocity=0;;}this.ownerWindow.requestAnimationFrame(function(){J4q.swipeSample();});};N7m.ChartEngine.prototype.swipeRelease=function(){var M12,n_V;M12=this.swipe;if(M12.velocity > 3000){M12.velocity=3000;}if(M12.velocity < -+"3000"){M12.velocity=-3000;}if(M12.velocity > 10 || M12.velocity < -("10" * 1)){M12.amplitude=0.8 * M12.velocity;M12.scroll=M12.chart.scroll;M12.target=M12.amplitude;M12.timestamp=Date.now();n_V=this;if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}this.ownerWindow.requestAnimationFrame(function(){n_V.autoscroll();});}};N7m.ChartEngine.prototype.allowDragControls=function(){var J_D;J_D={down:(function(w$d){return function(d8x){w$d.modalBegin();a0h.j0M();w$d.chart.draggingControls={bottom:w$d.chart.chartControls.style.bottom};};})(this),move:(function(t$a){a0h.U0D();return function(m_e){var p9L,q2R,s$y,G8Q,r_i,S0V;p9L=-1173049257;q2R=1457780245;a0h.U_P(40);s$y=a0h.Q7U("2",0);for(var T8M="1" | 1;a0h.S0_(T8M.toString(),T8M.toString().length,92844) !== p9L;T8M++){var {draggingControls:E2Z, chartControls:z6M, home:O1u}=t$a.chart;s$y+=2;}if(a0h.S0_(s$y.toString(),s$y.toString().length,98647) !== q2R){var {draggingControls:E2Z, chartControls:z6M, home:O1u}=t$a.chart;}if(E2Z){var {style:H7g, offsetHeight:k_v}=z6M;G8Q=t$a.height - k_v;a0h.U_P(10);r_i=a0h.Q7U("0",0);S0V=N7m.stripPX(E2Z.bottom) - m_e.displacementY;S0V=Math.min(Math.max(S0V,r_i),G8Q);a0h.U_P(1);H7g.bottom=a0h.l$6("px",S0V);O1u.style.bottom=H7g.bottom;}};})(this),up:(function(R$Z){return function(H8q){R$Z.chart.draggingControls=null;R$Z.modalEnd();};})(this)};a0h.U0D();if(this.chart.chartControls){N7m.safeDrag(this.chart.chartControls,J_D);}if(this.chart.home){N7m.safeDrag(this.chart.home,J_D);}};N7m.ChartEngine.prototype.dragPlotOrAxis=function(f1b,g1M){var d02,G0r,E9o,D35,A6O,i_R,h5p,X5D,D88,J6G,I_i,b1N,p27,f1_,Z2W,i8J,b4r,l81,G$L,D0H,H5I,Z_l,Y7L,I4i,L_G,g2u,K6B,G$$,P1k,v0i,i3p,L9P,j8k,D6R,J0X,A13,N49,W8Z,w8X,c7$,X2t,t67,Q$V,T3l,q4E,Q73,Z4Q,d3M,n_G,t2r,G8$,k87,z8K,p87,E08,v4u,J6U,N0I,o7A,G29,z3E,p8v;d02="l";d02+="ef";d02+="t";G0r="n";G0r+="on";G0r+="e";E9o=this;if(!H9u.call(this) && !this.grabbingScreen){return;}D35=null;A6O=this.whichPanel(g1M);i_R=this.highlightedDraggable;h5p=0;if(!A6O){return;}if(i_R.undraggable && i_R.undraggable(this)){return;}if(this.xAxisAsFooter && A6O == Object.values(this.panels).filter(function(f2y){a0h.U0D();return !f2y.hidden;}).pop()){h5p=this.xaxisHeight;if(D35){D35+=h5p;}}X5D=Math.min(20,(A6O.height - h5p) / 3);D88=Math.min(10,A6O.width / 3);J6G=this.whichYAxis(A6O,f1b,g1M);a0h.U6M(10);I_i=this.whichYAxis(A6O,a0h.Q7U(f1b,D88),g1M);a0h.U6M(1);b1N=this.whichYAxis(A6O,a0h.Q7U(D88,f1b),g1M);a0h.U6M(10);p27=this.whichPanel(a0h.Q7U(g1M,X5D));a0h.U6M(19);f1_=this.whichPanel(a0h.Q7U(h5p,X5D,g1M));Z2W=!1;i8J=!"1";b4r=!({});if(N7m.Renderer){Z2W=i_R instanceof N7m.Renderer;}if(N7m.Studies){i8J=i_R instanceof N7m.Studies.StudyDescriptor;}b4r=i_R instanceof N7m.ChartEngine.YAxis;l81=function(r3p){var i$F;if(!b4r){i$F="r";i$F+="i";i$F+="ght";if(r3p == i$F){a0h.U_P(10);var d1t=a0h.l$6(8,2);return A6O.right - A6O.width / d1t;}if(r3p == "left"){return A6O.left + A6O.width / +"6";}}a0h.U_P(119);var J0y=a0h.l$6(2,15,12,4,2);return (A6O.left + A6O.right) / J0y;};if(!b4r && !J6G){G$L="r";G$L+="i";G$L+="gh";G$L+="t";D0H="l";D0H+="ef";D0H+="t";if(f1b < l81(D0H)){I_i=this.whichYAxis(A6O,A6O.left - 1,g1M);}else if(f1b > l81(G$L)){b1N=this.whichYAxis(A6O,A6O.right + 1,g1M);}}H5I=[];if(i_R.getDependents){H5I=i_R.getDependents(this,!0);}Z_l=i_R.panel;Y7L=i_R.getYAxis(this);if(Z2W){Z_l=i_R.params.panel;}else if(b4r){Z_l=this.grabStartPanel.name;}I4i=this.panels[Z_l];for(L_G in this.panels){if(this.panels[L_G].soloing){g2u=!![];}}K6B=Y7L.isShared(this);G$$=!J6G && !b4r && !g2u && (I4i !== A6O && I4i != p27 && I4i != f1_ || !this.checkForEmptyPanel(I4i,!0,[i_R].concat(H5I)));P1k=Z_l == A6O.name && Y7L !== J6G && Y7L !== b1N && Y7L !== I_i || K6B;if(G$$ && (!p27 || A6O !== p27)){A6O.subholder.classList.add("dropzone");A6O.subholder.classList.add("top");f1_=A6O;}else if(G$$ && (!f1_ || A6O !== f1_)){L9P="bo";L9P+="tt";L9P+="o";L9P+="m";A6O.subholder.classList.add("dropzone");A6O.subholder.classList.add(L9P);}else if(A6O !== I4i){if(!b4r && !A6O.noDrag){A6O.subholder.classList.add("dropzone");A6O.subholder.classList.add("all");v0i=A6O.name;}}else if((!A6O.yaxisRHS.length || A6O.yaxisRHS.length == 1 && A6O.yaxisRHS[0] == Y7L && Y7L.position == "none") && !J6G && !b1N && f1b > l81("right")){j8k="r";j8k+="ight";D6R="dro";D6R+="p";D6R+="zone";A6O.subholder.classList.add(D6R);A6O.subholder.classList.add(j8k);i3p="right";}else if((!A6O.yaxisLHS.length || A6O.yaxisLHS.length == 1 && A6O.yaxisLHS[0] == Y7L && Y7L.position == G0r) && !J6G && !I_i && f1b < l81(d02)){J0X="le";J0X+="ft";A13="le";A13+="ft";N49="dr";N49+="op";N49+="zone";A6O.subholder.classList.add(N49);A6O.subholder.classList.add(A13);i3p=J0X;}else if(P1k){if(b4r && f1b > A6O.left && f1b < A6O.right){a0h.U6M(1);var K7h=a0h.l$6(1,0);W8Z=A6O.yaxisLHS[A6O.yaxisLHS.length - K7h];w8X=A6O.yaxisRHS[0];c7$=l81();if(f1b < c7$ && W8Z != Y7L){I_i=W8Z;}else if(f1b > c7$ && w8X != Y7L){b1N=w8X;}}if(!b4r || J6G !== Y7L){X2t=!b4r && K6B;if(b1N && (b1N !== Y7L || X2t) && (!J6G || J6G !== b1N)){t67="l";t67+="e";t67+="f";t67+="t";b1N.dropzone=t67;i3p=b1N.position || this.chart.panel.yAxis.position || "right";}else if(I_i && (I_i !== Y7L || X2t) && (!J6G || J6G !== I_i)){Q$V="r";Q$V+="igh";Q$V+="t";I_i.dropzone="right";i3p=I_i.position || this.chart.panel.yAxis.position || Q$V;}else if(J6G){if(!b1N && (J6G !== Y7L || X2t)){T3l="r";T3l+="i";T3l+="ght";J6G.dropzone=T3l;}else if(!I_i && (J6G !== Y7L || X2t)){J6G.dropzone="left";}else if(J6G !== Y7L){J6G.dropzone="all";}if(J6G.dropzone){i3p=J6G.position || this.chart.panel.yAxis.position || "right";}}}}if(this.grabbingScreen || !A6O.subholder.classList.contains("dropzone") && !i3p){this.draw();return;}Q73=-+"1";if(!v0i && !i3p && G$$){v0i=i8J?i_R.inputs.id:i_R.params.name || N7m.uniqueID();for(var F_A in this.panels){Q73++;if(this.panels[F_A] == f1_)break;}if(!f1_){Q73++;}if(this.panels[Z_l].yAxis.name == v0i){Z_l=this.electNewPanelOwner(Z_l);}Z4Q=i8J?i_R.inputs.display:null;if(Z_l){this.createPanel(Z4Q || v0i,v0i,D35,this.chart.name,new N7m.ChartEngine.YAxis({name:v0i}));}else {Z_l=v0i;}if(i8J){i_R.panel=Z_l;}else {i_R.params.panel=Z_l;}}if(v0i){if(i8J){if(!i_R.parameters){i_R.parameters={};}i_R.parameters.panelName=v0i;this.highlightedDraggable=N7m.getFn("Studies.replaceStudy")(this,i_R.inputs.id,i_R.type,i_R.inputs,i_R.outputs,i_R.parameters,null,i_R.study);}else if(Z2W){for(var j3W in i_R.seriesParams){d3M=i_R.seriesParams[j3W];n_G=null;if(i_R.params.yAxis){if(i_R.params.yAxis !== this.chart.panel.yAxis){n_G=i_R.params.yAxis;n_G.name=i_R.params.name;}}this.modifySeries(d3M.id,{panel:v0i,yAxis:n_G});}}if(Q73 > -+"1"){t2r={};G8$=0;for(L_G in this.panels){if(Q73 == G8$++){t2r[v0i]=this.panels[v0i];}if(L_G == v0i)continue;t2r[L_G]=this.panels[L_G];}if(!t2r[v0i]){t2r[v0i]=this.panels[v0i];}this.panels=t2r;}this.checkForEmptyPanel(Z_l);for(var q_c=0;q_c < H5I.length;q_c++){if(H5I[q_c].params){this.checkForEmptyPanel(H5I[q_c].params.name);}else {this.checkForEmptyPanel(H5I[q_c].name);}}this.adjustPanelPositions();}else if(i3p){k87=function(f4_,y9d,X03,f7i){var I3Q,P87,N4w;I3Q="r";I3Q+="e";a0h.j0M();I3Q+="n";I3Q+="derer";if(X03 == "study"){if(!y9d.parameters){y9d.parameters={};}if(f7i){y9d.parameters.yaxisDisplayValue=f7i.position;}else {delete y9d.parameters.yaxisDisplayValue;}P87=N7m.getFn("Studies.replaceStudy")(f4_,y9d.inputs.id,y9d.type,y9d.inputs,y9d.outputs,y9d.parameters,y9d.panel,y9d.study);}if(X03 == I3Q){for(var q7s in y9d.seriesParams){N4w=y9d.seriesParams[q7s];P87=f4_.modifySeries(N4w.id,{panel:v0i,yAxis:f7i});}}return P87;};z8K=J6G && J6G.dropzone == "all";if(!z8K){if(b4r){i_R.position=i3p;if(this.layout.studies){p87=this.layout.studies[i_R.name];if(p87){if(!p87.parameters){p87.parameters={};}p87.parameters.yaxisDisplayValue=i3p;}}}else if(i8J){this.highlightedDraggable=k87(this,i_R,"study",{position:i3p});}else if(Z2W){k87(this,i_R,"renderer",new N7m.ChartEngine.YAxis({name:i_R.params.name || N7m.uniqueID(),position:i3p}));}Y7L=this.highlightedDraggable.getYAxis(this);}if(!K6B || !z8K || b4r){E08=Y7L;if(z8K && Y7L == this.chart.panel.yAxis){E08=J6G;}for(q4E=0;q4E < A6O.yaxisLHS.length;q4E++){if(A6O.yaxisLHS[q4E] == E08){A6O.yaxisLHS.splice(q4E,+"1");break;}}for(q4E=+"0";q4E < A6O.yaxisRHS.length;q4E++){if(A6O.yaxisRHS[q4E] == E08){A6O.yaxisRHS.splice(q4E,1);break;}}}if(z8K){if(this.getYAxisByName(A6O,Y7L.name) == A6O.yAxis){this.electNewPanelOwner(A6O,J6G);}if(b4r){N0I=Y7L;o7A=J6G;if(Y7L == this.chart.panel.yAxis){N0I=J6G;o7A=Y7L;}for(J6U in N0I.studies){k87(this,this.layout.studies[N0I.studies[J6U]],"study",o7A === this.chart.panel.yAxis?null:{position:o7A.name});}for(J6U in N0I.renderers){G29="re";G29+="nderer";k87(this,this.chart.seriesRenderers[N0I.renderers[J6U]],G29,o7A);}this.highlightedDraggable=o7A;}else if(i8J){this.highlightedDraggable=k87(this,i_R,"study",{position:J6G.name});}else if(Z2W){k87(this,i_R,"renderer",J6G);}}else {if(Y7L.position == "none"){Y7L.width=N7m.ChartEngine.YAxis.prototype.width;}Y7L.position=i3p;v4u=i3p == "left"?A6O.yaxisLHS:A6O.yaxisRHS;for(q4E=0;q4E < v4u.length;q4E++){if(v4u[q4E] !== Y7L){if(v4u[q4E].dropzone == "left"){v4u.splice(q4E,0,Y7L);}else if(v4u[q4E].dropzone == "right"){a0h.U_P(1);v4u.splice(a0h.Q7U(1,q4E),0,Y7L);}else continue;}break;}if(q4E == v4u.length){v4u.push(Y7L);}}}for(var R23 in this.panels){z3E=this.panels[R23];p8v=z3E.yaxisLHS.concat(z3E.yaxisRHS);for(q4E="0" ^ 0;q4E < p8v.length;q4E++){p8v[q4E].height=z3E.yAxis.height;if(!p8v[q4E].lockScale){this.calculateYAxisMargins(p8v[q4E]);}}}this.displayDragOK();this.draw();this.calculateYAxisPositions();this.draw();function H9u(){var R_a,g0O;function C4a(f7o){a0h.U0D();return function(Y3G){a0h.j0M();if(f7o.subholder.classList.contains(Y3G)){f7o.subholder.classList.remove(Y3G);R_a=!!"1";}};}R_a=!({});for(var A1l in E9o.panels){["dropzone","all","left","right","top","bottom"].forEach(C4a(E9o.panels[A1l]));for(g0O="0" ^ 0;g0O < E9o.panels[A1l].yaxisLHS.length;g0O++){if(E9o.panels[A1l].yaxisLHS[g0O].dropzone){R_a=!!({});}E9o.panels[A1l].yaxisLHS[g0O].dropzone=null;}for(g0O=0;g0O < E9o.panels[A1l].yaxisRHS.length;g0O++){if(E9o.panels[A1l].yaxisRHS[g0O].dropzone){R_a=!0;}E9o.panels[A1l].yaxisRHS[g0O].dropzone=null;}}return R_a;}this.findHighlights(null,!!({}));this.savePanels();};M$Z=!1;N7m.ChartEngine.prototype.findHighlights=N7m.ChartEngine.prototype.findHighlights || (function(x0U,C8f){var W6e;W6e="movement ";a0h.U0D();W6e+="feature requires activ";W6e+="ating interaction ";W6e+="feature.";if(!M$Z){console.error(W6e);}M$Z=!![];});};B=x2N=>{var C0q;C0q=typeof _CIQ !== "undefined"?_CIQ:x2N.CIQ;C0q.NameValueStore=C0q.NameValueStore || (function(){});C0q.NameValueStore.prototype.toJSONIfNecessary=function(H7R){V5cdF.j0M();var k45;if(H7R.constructor == String){return H7R;}try{k45=JSON.stringify(H7R);return k45;}catch(H2N){V5cdF.U6M(1);console.log(V5cdF.l$6(H7R,"Cannot convert to JSON: "));return null;}};C0q.NameValueStore.prototype.fromJSONIfNecessary=function(A7z){var O48;try{O48=JSON.parse(A7z);return O48;}catch(a2n){return A7z;}};C0q.NameValueStore.prototype.get=function(j2P,B$A){var P68;P68=C0q.localStorage.getItem(j2P);B$A(null,this.fromJSONIfNecessary(P68));};C0q.NameValueStore.prototype.set=function(B45,B1x,A2B){V5cdF.U0D();C0q.localStorageSetItem(B45,this.toJSONIfNecessary(B1x));if(A2B){A2B(null);}};C0q.NameValueStore.prototype.remove=function(J3Y,x8m){C0q.localStorage.removeItem(J3Y);if(x8m){x8m(null);}};};D=E0j=>{var e0U;e0U=typeof _CIQ !== "undefined"?_CIQ:E0j.CIQ;if(!e0U.ChartEngine){e0U.ChartEngine=function(){};}B9i.fetchInitialData=function(x12,C3s,Q8Z,R0g,N_D){};function B9i(){}B9i.fetchUpdateData=function(l4S,c85,j_z,j24){};B9i.fetchPaginationData=function(W99,H0D,N1k,M86,n_o){};B9i.subscribe=function(U20){};B9i.unsubscribe=function(Z3y){};e0U.QuoteFeed=e0U.QuoteFeed || (function(){});e0U.QuoteFeed.prototype.fetch=function(j8s,Q2D){var O6b;if(!this.v2QuoteFeed){O6b="You must implement CIQ.QuoteFeed.[yourfe";O6b+="ednam";O6b+="e].prototype.fetch()";console.log(O6b);}};e0U.QuoteFeed.prototype.announceError=function(a_p,n3S){if(a_p.suppressErrors || n3S.suppressAlert){return;}if(a_p.startDate){;}else if(a_p.endDate){;}else if(n3S.error){e0U.alert("Error fetching quote:" + n3S.error);}else {;}};e0U.QuoteFeed.prototype.multiFetch=function(a2p,d_A){V5cdF.U0D();if(a2p.length === 0){d_A([]);}return a2p[0].stx.driver.multiFetch(a2p,d_A);};e0U.QuoteFeed.Subscriptions=function(){this.subscriptions=[];};e0U.inheritsFrom(e0U.QuoteFeed.Subscriptions,e0U.QuoteFeed);e0U.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(J05){var c4i,R_Q,P6G,B1C,d6f,g4p,o5F,X8R,L9v;P6G=J05.getSymbols({"breakout-equations":!!"1"});B1C=this;P6G=P6G.filter(function(j2U){var U5w;U5w=J05.quoteDriver.getQuoteFeed(j2U);V5cdF.U0D();return U5w && U5w.engine == B1C;});for(var h4g=0;h4g < this.subscriptions.length;h4g++){this.subscriptions[h4g].match=!({});}for(var y2L=0;y2L < P6G.length;y2L++){d6f="mont";d6f+="h";R_Q=P6G[y2L];g4p=R_Q.interval;if((g4p == d6f || g4p == "week") && !J05.dontRoll){g4p="day";}R_Q.interval=g4p;R_Q.period=1;R_Q.match=!({});if(!isNaN(R_Q.interval)){o5F="min";o5F+="ut";o5F+="e";R_Q.period=R_Q.interval;R_Q.interval=R_Q.timeUnit;if(!R_Q.interval){R_Q.interval=o5F;}}delete R_Q.periodicity;delete R_Q.timeUnit;delete R_Q.setSpan;for(h4g=0;h4g < this.subscriptions.length;h4g++){c4i=this.subscriptions[h4g];if(c4i.symbol == R_Q.symbol && c4i.period == R_Q.period && c4i.interval == R_Q.interval){R_Q.match=!!"1";c4i.match=!!({});break;}else if(c4i.symbol != R_Q.symbol){X8R="symbo";X8R+="l";if(R_Q.reason != "period"){R_Q.reason="symbol";}c4i.reason=X8R;}else {L9v="p";L9v+="e";L9v+="rio";L9v+="d";R_Q.reason="period";c4i.reason=L9v;}}}this.subscriptions=this.subscriptions.filter(function(L7C){if(!L7C.match){if(!L7C.stx){L7C.stx=J05;}B1C.unsubscribe(L7C);}return L7C.match;});P6G.forEach(function(o7i){V5cdF.j0M();if(!o7i.match){if(!o7i.stx){o7i.stx=J05;}if(!o7i.reason){o7i.reason="initialize";}if(o7i.symbol !== J05.chart.symbol){o7i.series=!!"1";}B1C.subscribe(o7i);B1C.subscriptions.push(o7i);}});};e0U.QuoteFeed.Subscriptions.prototype.fetch=function(l7k,S4l){var s5u;s5u=this;this.fetchFromSource(l7k,function(M13){if(!M13.error){s5u.checkSubscriptions(l7k.stx);}S4l(M13);});};e0U.QuoteFeed.Subscriptions.prototype.subscribe=function(h3B){V5cdF.U0D();console.log("subscribe",h3B);};e0U.QuoteFeed.Subscriptions.prototype.unsubscribe=function(y94){console.log("unsubscribe",y94);};e0U.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(W8C,u_b){V5cdF.j0M();console.log("Please provide implementation of fetchFromSource");};e0U.QuoteFeed.prototype.requiresImmediateRefresh=function(F5K){V5cdF.U0D();return !({});};e0U.ChartEngine.prototype.attachQuoteFeed=function(C_Y,i74,W0r){var G7r,e4u,j4Q,b$c,f26;if(!i74){i74={};}if(typeof C_Y.fetchInitialData === "function" || typeof C_Y.fetchUpdateData === "function" || typeof C_Y.fetchPaginationData === "function"){G7r="re";G7r+="quiresImmedia";G7r+="teRefresh";if(typeof C_Y.fetchPaginationData !== "function" && typeof C_Y.fetchUpdateData !== "function"){i74.noLoadMore=!!"1";}C_Y.v2QuoteFeed=!!1;["multiFetch","announceError",G7r].forEach(function(S37){V5cdF.U0D();if(!C_Y[S37] && C_Y[S37] !== !!0){C_Y[S37]=e0U.QuoteFeed.prototype[S37];};});if(typeof C_Y.subscribe === "function"){C_Y.checkSubscriptions=e0U.QuoteFeed.Subscriptions.prototype.checkSubscriptions;e4u=-1432699301;j4Q=-961632944;b$c=+"2";for(var Q9Q="1" ^ 0;V5cdF.Y5G(Q9Q.toString(),Q9Q.toString().length,99210) !== e4u;Q9Q++){C_Y.subscriptions=[];b$c+=2;}if(V5cdF.Y5G(b$c.toString(),b$c.toString().length,+"57682") !== j4Q){C_Y.subscriptions=[];}}}if(!i74.maximumTicks){i74.maximumTicks=C_Y.maxTicks?C_Y.maxTicks:20000;}if(!i74.bufferSize || i74.bufferSize < 0){i74.bufferSize=0;}i74.bufferSize=Math.round(i74.bufferSize);C_Y.intervalTimer=null;V5cdF.j0M();if(this.quoteDriver){if(!W0r && this.quoteDriver.hasUnfilteredQuoteFeed){this.detachQuoteFeed();}else {f26=this.quoteDriver.hasUnfilteredQuoteFeed && this.quoteDriver.quoteFeeds.pop();this.quoteDriver.quoteFeeds.push({engine:C_Y,behavior:i74,filter:W0r});if(f26){this.quoteDriver.quoteFeeds.push(f26);}this.quoteDriver.updateChartLoop(null,i74,C_Y);}}if(!this.quoteDriver){this.quoteDriver=new e0U.ChartEngine.Driver(this,C_Y,i74,W0r);}if(!W0r){this.quoteDriver.hasUnfilteredQuoteFeed=!!({});}};e0U.ChartEngine.prototype.detachQuoteFeed=function(Q$x){var U6z;U6z=this.quoteDriver;if(!U6z){return;}for(var N9n=U6z.quoteFeeds.length - +"1";N9n >= "0" * 1;N9n--){if(!Q$x || U6z.quoteFeeds[N9n].engine == Q$x){U6z.die(U6z.quoteFeeds[N9n]);U6z.quoteFeeds.splice(N9n,1);}}if(!U6z.quoteFeeds.length){U6z=this.quoteDriver=null;}else if(Q$x == U6z.quoteFeed){U6z.quoteFeed=U6z.quoteFeeds[0].quoteFeed;U6z.behavior=U6z.quoteFeeds[0].behavior;}};e0U.ChartEngine.Driver=function(M_e,M_O,C96,g_2){this.stx=M_e;if(!C96){C96={};}this.quoteFeeds=[{engine:M_O,behavior:C96,filter:g_2}];this.id=e0U.uniqueID(!!1);this.behavior=C96;this.quoteFeed=M_O;this.loadingNewChart=!!"";this.updatingChart=!({});if(!g_2){this.hasUnfilteredQuoteFeed=!!({});}this.updateChartLoop();};e0U.ChartEngine.Driver.prototype.die=function(v5o){V5cdF.U0D();var B7l;for(var b6Q="0" ^ 0;b6Q < this.quoteFeeds.length;b6Q++){if(!v5o || this.quoteFeeds[b6Q] == v5o){B7l=this.quoteFeeds[b6Q];clearInterval(B7l.intervalTimer);B7l.intervalTimer=-1;;}}};e0U.ChartEngine.Driver.prototype.getQuoteFeed=function(T3D){var X7B;if(!T3D.symbolObject){T3D.symbolObject={symbol:T3D.symbol};}for(var g5x=0;g5x < this.quoteFeeds.length;g5x++){X7B=this.quoteFeeds[g5x];if(X7B.behavior.generator != T3D.symbolObject.generator)continue;if(!X7B.filter || X7B.filter(T3D)){return X7B;}}return null;;};e0U.ChartEngine.Driver.prototype.multiFetch=function(W6w,M0o){var s_P,k8Q,O9n;if(W6w.length === 0){M0o([]);}s_P={counter:0,finished:W6w.length,results:[]};for(var i2t=0;i2t < W6w.length;i2t++){k8Q=W6w[i2t];if(k8Q.stx.isEquationChart(k8Q.symbol)){e0U.fetchEquationChart(k8Q,T3Y(k8Q,s_P,M0o));}else {O9n=this.getQuoteFeed(k8Q);if(O9n){e0U.ChartEngine.Driver.fetchData(e0U.QuoteFeed.SERIES,O9n.engine,k8Q,T3Y(k8Q,s_P,M0o));}}}function T3Y(Q8A,T_W,x_H){V5cdF.j0M();return function(P7K){var G3P;T_W.results.push({dataCallback:P7K,params:Q8A});T_W.counter++;if(T_W.counter >= T_W.finished){G3P=T_W.results;T_W.results=[];x_H(G3P);}};}};e0U.ChartEngine.Driver.prototype.updateSubscriptions=function(){V5cdF.U0D();for(var C55=0;C55 < this.quoteFeeds.length;C55++){if(this.quoteFeeds[C55].checkSubscriptions){this.quoteFeeds[C55].checkSubscriptions(this.stx);}}};e0U.ChartEngine.Driver.prototype.loadDependents=function(s$S,m0Z,T_d,r8N){var g_l,u4j,c_d,o8d,k3W,S4I,m1z,t4_,s8q,K7K,B4l,J9f,T0W,K7e,p85,w1p,j7H,C32,e0d,K8N,u7B,a$f,i4a,e6h,F5X,Z$v,e9W,t3r;g_l=this;if(!r8N){u4j=0;c_d=[];o8d=[];k3W=function(F3U){if(m0Z && ++u4j >= g_l.quoteFeeds.length){m0Z(null);}};S4I=function(Z6k){V5cdF.j0M();if(++u4j < c_d.length){return;}if(!o8d.length){k3W(Z6k);}o8d.forEach(function(B$j){V5cdF.j0M();g_l.loadDependents(s$S,k3W,T_d,B$j.behavior);});};g_l.quoteFeeds.forEach(function(q0O){V5cdF.U0D();if(q0O.behavior.generator){o8d.push(q0O);}else {c_d.push(q0O);}});c_d.forEach(function(X45){g_l.loadDependents(s$S,S4I,T_d,X45.behavior);});return;}t4_={};s8q=s$S.stx;K7K=s$S.chart;B4l=K7K.series;J9f=s8q.masterData;p85=-1128561044;w1p=1217253679;j7H=2;function j1M(v5Y){return function(y7m){var T8w,u$U,u$9,n62,U$G,O0h,r0a,P7E,i0Z,D69;T8w=null;for(var t8H=+"0";t8H < y7m.length;t8H++){u$U=y7m[t8H];u$9=u$U.dataCallback.error;if(!u$9 && u$9 !== 0){n62=u$U.params.symbolObject;U$G=u$U.dataCallback;O0h=U$G.quotes;r0a=U$G.moreAvailable;P7E=U$G.upToDate;i0Z=[];if(s8q.getSeries){i0Z=s8q.getSeries({symbolObject:n62});}D69=!1;for(var G5b=0;G5b < i0Z.length;G5b++){T0W=i0Z[G5b];if(!v5Y){if(!s$S.future){T0W.moreAvailable=r0a === !({})?!({}):r0a || O0h.length > (u$U.params.endDate?+"1":0);}else {T0W.upToDate=P7E === !!"1"?!!({}):P7E || O0h.length <= (u$U.params.startDate?+"1":0);if(s8q.isHistoricalModeSet && O0h.length < +"2"){T0W.mostRecentForwardAttempt=new Date();}}T0W.loading=!({});}D69=T0W.parameters.fillGaps || D69;}O0h=g_l.cleanup(s8q,T0W,O0h,T_d,s$S,D69);s8q.updateChartData(O0h,K7K,{secondarySeries:n62.symbol,noCreateDataSet:!"",noCleanupDates:!!"1",allowReplaceOHL:!!"1"});if(O0h && O0h.length && (!T8w || T8w > O0h[0].DT)){T8w=O0h[0].DT;}}}if(y7m.length){s8q.createDataSet(null,null,{appending:s$S.originalState.update || s$S.future,appendToDate:T8w});if(!s$S.nodraw){s8q.draw();}if(T_d == e0U.QuoteFeed.INITIAL){g_l.resetRefreshInterval(r8N.refreshInterval,r8N);}}if(m0Z){m0Z(null);}};}for(var E9B=1;V5cdF.Y5G(E9B.toString(),E9B.toString().length,20158) !== p85;E9B++){C32=[];e0d={};K8N=T_d == e0U.QuoteFeed.UPDATE;u7B=T_d == e0U.QuoteFeed.PAGINATION;j7H+=+"2";}if(V5cdF.S0_(j7H.toString(),j7H.toString().length,71486) !== w1p){C32=[];e0d={};K8N=T_d !== e0U.QuoteFeed.UPDATE;u7B=T_d === e0U.QuoteFeed.PAGINATION;}a$f=e0U.shallowClone(s$S);for(m1z in B4l){T0W=B4l[m1z];i4a=T0W.parameters;if(!K8N){if(!s$S.future && T0W.moreAvailable === !!0)continue;if(s$S.future && T0W.upToDate === !!({}))continue;;}if(T0W.loading)continue;if(i4a.loadData === !!"")continue;if(K8N || u7B){if(!T0W.endPoints || !Object.keys(T0W.endPoints).length)continue;;}if(i4a.data && !i4a.data.useDefaultQuoteFeed)continue;K7e=i4a.symbolObject;if(!K7e.symbol)continue;if(K7e.generator != r8N.generator)continue;a$f.symbolObject=K7e;a$f.symbol=K7e.symbol;e6h=this.getQuoteFeed(a$f);if(r8N != (e6h && e6h.behavior))continue;F5X=!![];if(!K8N){T0W.loading=!![];}for(var U$c=0;U$c < C32.length;U$c++){if(e0U.symbolEqual(C32[U$c],K7e)){F5X=!"1";}}if(F5X){C32.push(K7e);e0d[K7e.symbol]=T0W.endPoints;}}Z$v=[];V5cdF.U0D();for(var o5J="0" | 0;o5J < C32.length;o5J++){K7e=C32[o5J];e9W=e0U.shallowClone(s$S.originalState);e9W.symbol=K7e.symbol;e9W.symbolObject=K7e;if(e9W.update || e9W.future){if(!e9W.endDate){e9W.endDate=s$S.endDate;}e9W.startDate=e0d[K7e.symbol].end;}else {if(!e9W.startDate){e9W.startDate=s$S.startDate;}e9W.endDate=u7B && !s$S.future?e0d[K7e.symbol].begin:s$S.endDate;e9W.ticks=s$S.ticks;}Z$v.push(e9W);}if(!Z$v.length && K8N){t3r={appending:s$S.appending || s$S.originalState.update};if(t3r.appending){t3r.appendToDate=s$S.startDate;}s8q.createDataSet(null,null,t3r);if(!s$S.nodraw){s8q.draw();}if(m0Z){m0Z(null);}return;}this.multiFetch(Z$v,j1M(K8N));};e0U.ChartEngine.Driver.prototype.cleanup=function(V8P,a_x,B6R,K_p,L4C,D8s){var h2y,v7v,x0T,q$$,G1h;V8P.doCleanupDates(B6R,V8P.layout.interval);V5cdF.U0D();if(!L4C.missingBarsCreated && B6R && B6R.length && V8P.cleanupGaps && D8s !== !!""){x0T=L4C.chart;if(!a_x){v7v=x0T.defaultPlotField;}else {x0T=a_x;v7v=a_x.parameters.symbol || a_x.id;}if(K_p == e0U.QuoteFeed.PAGINATION && !L4C.loadMoreReplace){if(x0T.endPoints.begin && x0T.endPoints.begin > B6R[B6R.length - 1].DT){q$$=V8P.getFirstLastDataRecord(V8P.masterData,v7v,!({}));if(a_x){q$$=q$$[v7v];}B6R.push(q$$);h2y="pop";}}else if(K_p == e0U.QuoteFeed.UPDATE){if(x0T.endPoints.end && x0T.endPoints.end < B6R[0].DT){G1h=V8P.getFirstLastDataRecord(V8P.masterData,v7v,!![]);if(a_x){G1h=G1h[v7v];}B6R.unshift(G1h);h2y="shift";}}B6R=V8P.doCleanupGaps(B6R,L4C.chart,{cleanupGaps:D8s,noCleanupDates:!""});if(h2y){B6R[h2y]();}}return B6R;};e0U.ChartEngine.Driver.prototype.updateChart=function(s3n){var S4w=V5cdF;var K5K,S73,q99,H3a,Q18,Z50,K8V,J8m,g04;if(this.updatingChart){return;}if(this.loadingNewChart){return;}K5K=Object.keys(this.stx.charts).length;S4w.U6M(40);S73=S4w.l$6("0",0);S4w.U0D();q99=this.stx;H3a=q99.layout.interval;Q18=q99.layout.timeUnit;for(var I5d in q99.charts){Z50=q99.charts[I5d];if(!Z50.symbol)continue;K8V=this.makeParams(Z50.symbol,Z50.symbolObject,Z50);J8m=this.getQuoteFeed(K8V);if(Z50.masterData && Z50.masterData.length){K8V.startDate=Z50.endPoints.end;;}K8V.update=!![];K8V.originalState=e0U.shallowClone(K8V);if(s3n && s3n != K8V.behavior){this.loadDependents(K8V,null,e0U.QuoteFeed.UPDATE,s3n);continue;}this.updatingChart=!"";g04=q1u(this,K8V,Z50.symbol,J8m);if(q99.isEquationChart(K8V.symbol)){e0U.fetchEquationChart(K8V,g04);}else if(J8m){e0U.ChartEngine.Driver.fetchData(e0U.QuoteFeed.UPDATE,J8m.engine,K8V,g04);}}function q1u(E_I,E7N,W4E,K0A){if(E7N.behavior.prefetchAction){E7N.behavior.prefetchAction("updateChart");}S4w.j0M();return function(v6u){var u7U,L0y,d5B,l4_,n_U,t9B,L6A,n9r,X_y;S73++;u7U=E7N.chart;L0y=u7U.masterData;if(W4E == u7U.symbol && H3a == q99.layout.interval && Q18 == q99.layout.timeUnit && !q99.isHistoricalMode()){if(K0A === E_I.getQuoteFeed(E7N) && !v6u.error){d5B=v6u.quotes;d5B=E_I.cleanup(q99,null,d5B,e0U.QuoteFeed.UPDATE,E7N);q99.updateChartData(d5B,u7U,{noCreateDataSet:!0,noCleanupDates:!0});u7U.attribution=v6u.attribution;}else if(K0A){K0A.engine.announceError(E7N.originalState,v6u);}}else {E_I.updatingChart=!"1";return;}if(S73 == K5K){l4_=-2101465238;n_U=-234924868;t9B=2;for(var R0i=1;S4w.S0_(R0i.toString(),R0i.toString().length,58204) !== l4_;R0i++){E_I.updatingChart=!!({});t9B+=2;}if(S4w.S0_(t9B.toString(),t9B.toString().length,97221) !== n_U){E_I.updatingChart=!!0;}}if(E7N.behavior.callback){E7N.behavior.callback(E7N);}L6A=-222479656;n9r=1510830897;X_y=2;for(var g$0=1;S4w.S0_(g$0.toString(),g$0.toString().length,25158) !== L6A;g$0++){E_I.loadDependents(E7N,1,e0U.QuoteFeed.UPDATE,E7N.behavior);X_y+=+"2";}if(S4w.S0_(X_y.toString(),X_y.toString().length,79385) !== n9r){E_I.loadDependents(E7N,4,e0U.QuoteFeed.UPDATE,E7N.behavior);}E_I.loadDependents(E7N,null,e0U.QuoteFeed.UPDATE,E7N.behavior);;};}};e0U.ChartEngine.Driver.prototype.updateChartLoop=function(N$$,J0R,h0S){V5cdF.j0M();var o4G,s93;if(!J0R){J0R=this.behavior;}if(!h0S){this.quoteFeeds.forEach(function(o5t){if(o5t.behavior === J0R){h0S=o5t;}});if(!h0S){h0S=this.quoteFeed;}}if(h0S.intervalTimer === -1){return;}clearInterval(h0S.intervalTimer);h0S.intervalTimer=null;o4G=function(t4R,u42){return function(){V5cdF.U0D();if(u42.noUpdate){return;}t4R.updateChart(u42);};};for(var w0q=0;w0q < this.quoteFeeds.length;w0q++){s93=this.quoteFeeds[w0q].behavior;if(J0R == s93 && !s93.noUpdate){if(!N$$ && N$$ !== +"0"){N$$=s93.refreshInterval;}if(N$$){h0S.intervalTimer=setInterval(o4G(this,s93),N$$ * 1000);}}}};e0U.ChartEngine.Driver.prototype.resetRefreshInterval=function(e3H,G5g){V5cdF.j0M();(G5g || this.behavior).refreshInterval=e3H;this.updateChartLoop(null,G5g);;};e0U.ChartEngine.Driver.prototype.pause=function(l2Y){V5cdF.U0D();this.paused={symbol:l2Y,interval:this.behavior.refreshInterval};this.resetRefreshInterval(0);};e0U.ChartEngine.Driver.prototype.resume=function(){var {interval:X9k, symbol:E0z}=this.paused;if(e0U.symbolEqual(E0z,this.stx.chart.symbol)){return;}this.resetRefreshInterval(X9k);this.paused=null;};e0U.ChartEngine.Driver.prototype.loadAll=function(f4r,I_3){var B8H,A5v;V5cdF.j0M();function v20(){V5cdF.U0D();return function(D3W){if(D3W){I_3(D3W);}else if(B8H.stx.currentlyImporting || !f4r.moreAvailable && f4r.upToDate){I_3(null);}else if(++A5v > "20" * 1){console.warn("moreAvailable and upToDate not implemented correctly in quotefeed");I_3();}else {f4r.loadingMore=![];B8H.checkLoadMore(f4r,!!({}),!"",v20(),!!({}));}};}B8H=this;A5v=0;v20()();};e0U.ChartEngine.Driver.prototype.checkLoadMore=function(k9Z,J8N,T1I,E_1,y1s){var O8Y=V5cdF;var w4P,k0M,F1Z,w_k,u_S,p8L,L77,n4t,C94,h64,V2l,u4i,x0z,r9B,D2P,k3r,A4s,x0Q,v8e,s5P,Q_e,A_j;O8Y.j0M();function e$o(n81,T7i){var H6N;H6N="chec";H6N+="kLo";H6N+="adM";H6N+="ore";if(u_S.prefetchAction){u_S.prefetchAction(H6N);}return function(A78){var e2O,g84,W2P,Z6f,D7P,f2G,m6D,g_0,Z13;e2O=n81.stx;g84=T7i.chart;O8Y.j0M();if(T7i.symbol == g84.symbol && A4s == e2O.layout.interval && x0Q == e2O.layout.timeUnit){if(!T7i.loadMore){T7i.chart.loadingMore=!!0;}if(p8L === n81.getQuoteFeed(T7i) && !A78.error){if(!A78.quotes){A78.quotes=[];}W2P=A78.quotes;Z6f=g84.masterData;W2P=n81.cleanup(e2O,null,W2P,e0U.QuoteFeed.PAGINATION,T7i);if(W2P.length && g84.masterData && g84.masterData.length){if(T7i.future){D7P=W2P[0];if(D7P.DT && D7P.DT == g84.masterData[g84.masterData.length - +"1"].DT){Z6f.pop();}}else {O8Y.U_P(1);var y73=O8Y.l$6(1,0);f2G=W2P[W2P.length - y73];if(f2G.DT && +f2G.DT == +g84.masterData[0].DT){W2P.pop();}}}if(!T7i.future){if(A78.moreAvailable){g84.moreAvailable=!!({});}else if(A78.moreAvailable === !({}) || !W2P.length){g84.moreAvailable=!1;}else {g84.moreAvailable=!![];}}else {g84.maximumForwardPagination=null;if(A78.upToDate){g84.upToDate=!!({});}else if(A78.upToDate === ![] || W2P.length > 1){g84.upToDate=!"1";}else if(!W2P.length || W2P.length === 1 && +T7i.startDate === +A78.quotes[0].DT){if(T7i.fetchMaximumBars){g84.upToDate=!!1;}else {g84.maximumForwardPagination=!!"1";}}if(e2O.isHistoricalModeSet && W2P.length < 2){g84.mostRecentForwardAttempt=new Date();};}n81.tickMultiplier=W2P.length?2:n81.tickMultiplier * 2;m6D=W2P[0]?W2P[0].DT:T7i.startDate;g_0=W2P[0]?W2P[W2P.length - ("1" >> 0)].DT:T7i.endDate;if(!g84.endPoints.begin || g84.endPoints.begin > m6D){g84.endPoints.begin=m6D;}if(!g84.endPoints.end || g84.endPoints.end < g_0){g84.endPoints.end=g_0;}g84.loadingMore=![];if(T7i.loadMoreReplace){e2O.setMasterData(W2P,g84,{noCleanupDates:!!1});}else if(T7i.future){e2O.updateChartData(W2P,g84,{noCreateDataSet:!![],noCleanupDates:!""});}else {e0U.addMemberToMasterdata({stx:e2O,chart:g84,data:W2P,fields:[566.72 != 517.54?"*":0x186f],noCleanupDates:!!"1"});}if(T7i.future){Z13={appending:!!1,appendToDate:W2P[0] && W2P[0].DT};}e2O.createDataSet(undefined,undefined,Z13);if(!y1s){e2O.draw();}if(u_S.callback){u_S.callback(T7i);}n81.loadDependents(T7i,E_1,e0U.QuoteFeed.PAGINATION);}else {n81.quoteFeed.announceError(T7i.originalState,A78);T7i.chart.loadingMore=!!0;if(E_1){E_1(A78.error);}}}else {return;}};}w4P=this.stx;k0M=this;if(k9Z.loadingMore || this.loadingNewChart){k9Z.initialScroll=k9Z.scroll;if(E_1){E_1(null);}return;}F1Z=w4P.isHistoricalMode();function E3g(A8s){var A$t,W4n,R8j;k9Z.loadingMore=![];O8Y.U6M(24);A$t=-O8Y.l$6("372959856",80);W4n=-1211383181;R8j=2;for(var K6A=1;O8Y.S0_(K6A.toString(),K6A.toString().length,87131) !== A$t;K6A++){if(E_1){E_1(A8s);}R8j+=2;}if(O8Y.Y5G(R8j.toString(),R8j.toString().length,23361) !== W4n){if(E_1){E_1(A8s);}}}if(!F1Z){w4P.isHistoricalModeSet=!1;}w_k=this.makeParams(k9Z.symbol,k9Z.symbolObject,k9Z);if(w4P.currentlyImporting){if(E_1){E_1(null);}return;}u_S=w_k.behavior;function d82(I8Q){if(k0M.paused){return !({});}return !I8Q.endPoints.end || k9Z.scroll - k9Z.maxTicks + 1 < u_S.bufferSize || w4P.tickFromDate(I8Q.endPoints.end,k9Z,null,!![]) - L77.length + k9Z.scroll - k9Z.maxTicks + +"2" < u_S.bufferSize;}function O4Q(F$i){if(k0M.paused){return !!0;}return !F$i.endPoints.begin || L77.length - k9Z.scroll < u_S.bufferSize || L77.length - k9Z.scroll - w4P.tickFromDate(F$i.endPoints.begin,k9Z) < u_S.bufferSize;}L77=k9Z.dataSet;O8Y.U_P(108);var z5X=O8Y.Q7U(204428,12,1007,17,1);O8Y.U6M(17);var a7Q=O8Y.Q7U(20,15,295);C94=z5X * (u_S.forwardPaginationRetryInterval || a7Q);h64=!1;V2l=!!"";if(k9Z.dataSet.length){for(var a4t in k9Z.series){u4i=k9Z.series[a4t];if(u4i.loading)continue;if(u4i.parameters.loadData === !!0)continue;n4t=!u4i.mostRecentForwardAttempt || u4i.mostRecentForwardAttempt.getTime() + C94 < Date.now();if(u4i.parameters.symbol !== k9Z.symbol){if(u4i.moreAvailable !== !({}) && O4Q(u4i)){h64=!![];}if(n4t && !u4i.upToDate && d82(u4i)){V2l=!"";}}}}n4t=!k9Z.mostRecentForwardAttempt || k9Z.mostRecentForwardAttempt.getTime() + C94 < Date.now();x0z=(O4Q(k9Z) || J8N) && k9Z.moreAvailable !== !({});r9B=(d82(k9Z) || J8N) && !k9Z.upToDate && n4t;D2P=x0z || h64;k3r=(w4P.isHistoricalModeSet || !k9Z.upToDate) && !D2P && (r9B || V2l);A4s=w4P.layout.interval;x0Q=w4P.layout.timeUnit;v8e=!({});s5P=u_S.findHeadOfData || k9Z.masterData && k9Z.masterData.length;if(!u_S.noLoadMore && s5P){if(k3r || !w4P.maxDataSetSize || k9Z.dataSet.length < w4P.maxDataSetSize){if(D2P || k3r){k9Z.initialScroll=k9Z.scroll;k9Z.loadingMore=!!1;w_k=this.makeParams(k9Z.symbol,k9Z.symbolObject,k9Z);w_k.pagination=!0;w_k.future=k3r;if(k9Z.masterData && k9Z.masterData.length){if(k3r){w_k.startDate=k9Z.endPoints.end;}else {w_k.endDate=k9Z.endPoints.begin;}if(k3r && !w_k.startDate){Q_e=w4P.getFirstLastDataRecord(k9Z.masterData,"DT",!!({}));if(Q_e){w_k.startDate=Q_e.DT;}}else if(D2P && !w_k.endDate){Q_e=w4P.getFirstLastDataRecord(k9Z.masterData,"DT");if(Q_e){w_k.endDate=Q_e.DT;}}}else {w_k.endDate=new Date();}w_k.originalState=e0U.shallowClone(w_k);w_k.nodraw=y1s;if(!x0z && (h64 || !r9B && V2l)){this.loadingMore=!"";this.loadDependents(w_k,E3g,e0U.QuoteFeed.PAGINATION);if(E_1){E_1(null);}return;}if(k9Z.maximumForwardPagination || w4P.fetchMaximumBars[w4P.layout.aggregationType]){w_k.fetchMaximumBars=!![];if(!w4P.maxMasterDataSize || u_S.maximumTicks < w4P.maxMasterDataSize){w_k.ticks=u_S.maximumTicks;}else {w_k.ticks=w4P.maxMasterDataSize;}}A_j=e$o(this,w_k);p8L=k0M.getQuoteFeed(w_k);if(w4P.isEquationChart(w_k.symbol)){e0U.fetchEquationChart(w_k,A_j);}else {if(k3r){w_k.appending=!![];}if(p8L){e0U.ChartEngine.Driver.fetchData(e0U.QuoteFeed.PAGINATION,p8L.engine,w_k,A_j);}}v8e=!![];}}}if(!v8e && E_1){E_1(null);}};e0U.ChartEngine.Driver.prototype.extendHistoricalData=function({from:h8t},N36 = ()=>{}){var a8c,O8V;var {stx:V5q}=this;var {chart:P8T, layout:O78}=V5q;var {masterData:N3t, dataSet:M$A}=P8T;var {interval:J4X, timeUnit:H6i}=O78;a8c=this.makeParams(P8T.symbol,P8T.symbolObject,P8T);O8V=this.getQuoteFeed(a8c);if(P8T.loadingMore || this.loadingNewChart || V5q.currentlyImporting || !N3t.length || !O8V || V5q.maxDataSetSize && M$A.length > V5q.maxDataSetSize){return N36(null);}P8T.loadingMore=!"";a8c.originalState=Object.assign({},a8c);function q9C(e4D,f9$){V5cdF.U0D();return function({quotes:h$s, moreAvailable:U4n, error:H7C}){if(f9$.symbol !== P8T.symbol || J4X !== O78.interval || H6i !== O78.timeUnit){return;;}P8T.loadingMore=![];if(H7C){return N36(H7C);}h$s=e4D.cleanup(V5q,null,h$s,e0U.QuoteFeed.PAGINATION,f9$);if(typeof U4n === "boolean"){P8T.moreAvailable=U4n;}else {P8T.moreAvailable=!!h$s.length;}P8T.endPoints.begin=h8t;V5cdF.U0D();e0U.addMemberToMasterdata({stx:V5q,chart:P8T,data:h$s,fields:["*"],noCleanupDates:!!({})});V5q.createDataSet();V5q.draw();};}a8c.startDate=h8t;a8c.endDate=N3t[0].DT;e0U.ChartEngine.Driver.fetchData(e0U.QuoteFeed.PAGINATION,O8V.engine,a8c,q9C(this,a8c));};e0U.ChartEngine.Driver.prototype.barsToFetch=function(q43){var o1z,I4q,W_n,C2k;o1z="mon";o1z+="t";o1z+="h";if(!e0U.isValidNumber(this.tickMultiplier)){V5cdF.U6M(2);this.tickMultiplier=V5cdF.l$6(1,"2");}I4q=this.stx.layout.interval;W_n=q43.stx.layout.periodicity;if((I4q == o1z || I4q == "week") && !this.stx.dontRoll){W_n*=I4q == "week"?7:30;}V5cdF.U0D();C2k=q43.stx.chart.maxTicks * W_n;return C2k * this.tickMultiplier;};e0U.ChartEngine.Driver.determineStartDate=function(i8Z,U0r,e6w){return this.determineStartOrEndDate(i8Z,U0r,e6w,!!"1");};e0U.ChartEngine.Driver.determineStartOrEndDate=function(j8A,g8l,f$u,v5C){var o2S;if(v5C){o2S=j8A.startDate || g8l.previous(f$u);}else {o2S=j8A.future?g8l.next(f$u):new Date();}return o2S;};e0U.ChartEngine.Driver.prototype.makeParams=function(n57,A86,q3J){var u8u,A_C,v2P,q3X,P3Y,l_h,p7y,j1o,p62,C1p,W00;u8u=this.stx;A_C=u8u.layout.interval;v2P=this.barsToFetch({stx:u8u});if((A_C == "month" || A_C == "week") && !u8u.dontRoll){q3X=1286924074;P3Y=-2025692040;l_h=+"2";for(var w0d=+"1";V5cdF.Y5G(w0d.toString(),w0d.toString().length,"8254" >> 32) !== q3X;w0d++){A_C="";l_h+=2;}if(V5cdF.S0_(l_h.toString(),l_h.toString().length,98767) !== P3Y){A_C="day";}}p7y=this.getQuoteFeed({interval:A_C,symbol:n57,symbolObject:A86});j1o=p7y && p7y.behavior;p62=e0U.shallowClone(j1o) || ({});p62.behavior=j1o;C1p=!1;W00=[];if(q3J.market && q3J.market.getSessionNames){W00=q3J.market.getSessionNames();}if(u8u.extendedHours){if(u8u.extendedHours.filter){C1p=!!({});}else {C1p=u8u.layout.extended;W00=W00.filter(function(h00){return h00.enabled || u8u.layout.marketSessions[h00.name];});}}else {W00=W00.filter(function(W9R){V5cdF.j0M();return W9R.enabled;});}for(var N2$="0" ^ 0;N2$ < W00.length;N2$++){W00[N2$]=W00[N2$].name;;}e0U.extend(p62,{stx:u8u,symbol:n57,symbolObject:A86,chart:q3J,interval:A_C,extended:C1p,period:1,ticks:v2P,additionalSessions:W00,quoteDriverID:this.id},!!1);if(!p62.symbolObject){p62.symbolObject={symbol:n57};}if(!isNaN(p62.interval)){p62.period=parseInt(p62.interval,10);p62.interval=u8u.layout.timeUnit;if(!p62.interval){p62.interval="minute";}}return p62;};e0U.ChartEngine.Driver.prototype.newChart=function(n2p,y5b){var N8N,m7C,l7w,A5n,v2S,b4O,R9K,W_N,t6C;N8N=this.stx;function V4T(s_g,G1i){V5cdF.j0M();var G7I;G7I="newC";G7I+="har";G7I+="t";if(W_N.prefetchAction){W_N.prefetchAction(G7I);}return function(J1S){V5cdF.U0D();var w$G,Q9v,z2q,R9A,Z$R;w$G=G1i.chart;Q9v=J1S.quotes;z2q=!!0;if(m7C == w$G.symbol && l7w == N8N.layout.interval && A5n == N8N.layout.timeUnit){s_g.loadingNewChart=!1;if(R9K === s_g.getQuoteFeed(G1i) && !J1S.error){Q9v=s_g.cleanup(N8N,null,Q9v,e0U.QuoteFeed.INITIAL,G1i);N8N.setMasterData(Q9v,w$G,{noCleanupDates:!!1});w$G.endPoints={};w$G.endPoints.begin=Q9v[0]?Q9v[+"0"].DT:G1i.startDate;w$G.endPoints.end=Q9v[0]?Q9v[Q9v.length - ("1" << 0)].DT:G1i.endDate;if(!Q9v){w$G.moreAvailable=!({});w$G.upToDate=!![];}else {w$G.moreAvailable=J1S.moreAvailable === !1?!({}):!!"1";w$G.upToDate=J1S.hasOwnProperty("upToDate")?J1S.upToDate:!N8N.isHistoricalModeSet;}w$G.attribution=J1S.attribution;if(n2p.initializeChart){N8N.initializeChart();}N8N.createDataSet();z2q=!!({});}else {R9K.engine.announceError(G1i.originalState,J1S);}}else {R9A="or";R9A+="p";R9A+="han";R9A+="ed";if(y5b){y5b(R9A);}return;}for(var p9b in w$G.series){w$G.series[p9b].endPoints={};w$G.series[p9b].moreAvailable=null;w$G.series[p9b].upToDate=null;}Z$R=w$G.masterData;if(Z$R && Z$R.length){G1i.startDate=Z$R[0].DT;G1i.endDate=Z$R[Z$R.length - 1].DT;}if(W_N.callback){W_N.callback(G1i);}s_g.loadDependents(G1i,function(){var g3y;g3y="ne";g3y+="wChart";if(z2q && !G1i.nodraw){s_g.stx.home();}if(y5b){y5b(J1S.error);}s_g.stx.dispatch(g3y,{stx:s_g.stx,symbol:s_g.stx.chart.symbol,symbolObject:s_g.stx.chart.symbolObject,moreAvailable:s_g.stx.chart.moreAvailable,upToDate:s_g.stx.chart.upToDate,quoteDriver:s_g});s_g.resetRefreshInterval(W_N.refreshInterval,W_N);},e0U.QuoteFeed.INITIAL);};}m7C=n2p.symbol;l7w=N8N.layout.interval;A5n=N8N.layout.timeUnit;v2S=n2p.chart;v2S.moreAvailable=null;v2S.upToDate=null;V5cdF.U0D();v2S.loadingMore=!1;v2S.attribution=null;b4O=this.makeParams(m7C,n2p.symbolObject,v2S);e0U.extend(b4O,n2p,!"");R9K=this.getQuoteFeed(b4O);W_N=b4O.behavior;if(N8N.fetchMaximumBars[N8N.layout.aggregationType] || n2p.fetchMaximumBars){if(!N8N.maxMasterDataSize || W_N.maximumTicks < N8N.maxMasterDataSize){b4O.ticks=W_N.maximumTicks;}else {b4O.ticks=N8N.maxMasterDataSize;}b4O.fetchMaximumBars=!"";}this.loadingNewChart=!![];this.updatingChart=!"1";b4O.originalState=e0U.shallowClone(b4O);t6C=V4T(this,b4O);if(this.stx.isEquationChart(b4O.symbol)){e0U.fetchEquationChart(b4O,t6C);}else if(R9K){e0U.ChartEngine.Driver.fetchData(e0U.QuoteFeed.INITIAL,R9K.engine,b4O,t6C);}};e0U.QuoteFeed.INITIAL=+"1";e0U.QuoteFeed.UPDATE=2;e0U.QuoteFeed.PAGINATION=3;e0U.QuoteFeed.SERIES=4;e0U.ChartEngine.Driver.fetchData=function(t0u,H3Y,f5d,d4K){var J7i=V5cdF;J7i.U0D();if(!f5d.symbol){return d4K({quotes:[]});}if(H3Y.v2QuoteFeed){if(typeof H3Y.subscribe !== "function"){e0U.ChartEngine.Driver.fetchDataInContext(t0u,H3Y,f5d,d4K);}else {e0U.ChartEngine.Driver.fetchDataInContext(t0u,H3Y,f5d,(function(N87){var F2E,a6a,c1q;if(!N87.error){this.checkSubscriptions(f5d.stx);}F2E=-524946333;a6a=931829918;J7i.U_P(9);c1q=J7i.Q7U(32,"2");for(var C4Z=1;J7i.Y5G(C4Z.toString(),C4Z.toString().length,25564) !== F2E;C4Z++){d4K(N87);J7i.U6M(24);c1q+=J7i.Q7U("2",0);}if(J7i.S0_(c1q.toString(),c1q.toString().length,+"281") !== a6a){d4K(N87);}}).bind(H3Y));}}else {f5d.stx.convertToDataZone(f5d.startDate);f5d.stx.convertToDataZone(f5d.endDate);H3Y.fetch(f5d,d4K);}};e0U.ChartEngine.Driver.fetchDataInContext=function(f5$,K5d,D87,O3q){var g9a,W42,B7H,u7P,B51,p$a,M8h,h2Z,P5M,C$L,Y6O;g9a="f";g9a+="uncti";g9a+="o";g9a+="n";p$a=D87.stx;if(!p$a.chart.market.newIterator){console.error("quoteFeed feature requires first activating market feature.");return;}if(f5$ === e0U.QuoteFeed.SERIES){D87.series=!![];f5$=e0U.QuoteFeed.INITIAL;if(D87.endDate && !D87.startDate || D87.future){f5$=e0U.QuoteFeed.PAGINATION;}else if(D87.startDate && !D87.endDate){f5$=e0U.QuoteFeed.UPDATE;}}M8h=Math.min(D87.ticks,D87.maximumTicks);if(K5d.maxTicks){M8h=Math.min(M8h,K5d.maxTicks);}V5cdF.U0D();h2Z=D87.symbolObject.masterSymbol || D87.symbol;switch(f5$){case e0U.QuoteFeed.UPDATE:if(p$a.isHistoricalModeSet){p$a.quoteDriver.updatingChart=!"1";return;}if(D87.startDate){P5M=D87.startDate;}else {P5M=new Date();P5M.setHours(0,0,0,0);}if(typeof K5d.fetchUpdateData === "function"){K5d.fetchUpdateData(h2Z,p$a.convertToDataZone(P5M),D87,O3q);}break;case e0U.QuoteFeed.INITIAL:B51=D87.endDate || new Date();W42={begin:B51,interval:D87.interval,periodicity:D87.interval == "tick"?p$a.chart.xAxis.futureTicksInterval:D87.period,outZone:p$a.dataZone};B7H=p$a.chart.market.newIterator(W42);u7P=e0U.ChartEngine.Driver.determineStartDate(D87,B7H,M8h);if(D87.endDate){B51=D87.endDate;}if(typeof K5d.fetchInitialData === "function"){K5d.fetchInitialData(h2Z,u7P,p$a.convertToDataZone(B51),D87,O3q);}break;case e0U.QuoteFeed.PAGINATION:W42={begin:D87.endDate || D87.startDate,interval:D87.interval,periodicity:D87.interval == "tick"?p$a.chart.xAxis.futureTicksInterval:D87.period,outZone:p$a.dataZone};B7H=p$a.chart.market.newIterator(W42);C$L=e0U.ChartEngine.Driver.determineStartOrEndDate(D87,B7H,M8h,!D87.future);u7P=D87.startDate || C$L;B51=D87.endDate || C$L;if(!D87.startDate){D87.stx.convertToDataZone(B51);}else {D87.stx.convertToDataZone(u7P);}if(typeof K5d.fetchPaginationData === g9a){if(p$a.maxMasterDataSize && p$a.maxMasterDataSize <= p$a.masterData.length){return;}K5d.fetchPaginationData(h2Z,u7P,B51,D87,function(p2d){if(B51 >= Date.now()){p$a.isHistoricalModeSet=!({});}if(O3q){O3q(p2d);}});}break;default:Y6O="Il";Y6O+="lega";Y6O+="l fetchData ";Y6O+="constant";console.error(Y6O);}};};V=Z96=>{var I4U,y5t;I4U="unde";I4U+="fined";y5t=typeof _CIQ !== I4U?_CIQ:Z96.CIQ;y5t.ChartEngine.prototype.addSeries=function(X7O,y3l,R7I){var E_j,B$p,I52,Z2t,m9n,y5k,T0L,C5y,Y1$,D8d,W$8,Q07,q0a,z56,Z_N,b7q,t42,u87,u0X,p$b;E_j=this.runPrepend("addSeries",arguments);if(E_j){return E_j;}B$p=X7O?X7O:null;I52=X7O;if(!X7O){X7O=y5t.uniqueID();}if(y3l && y3l.panel === !![]){y3l.panel=X7O;}Z2t={parameters:y3l?y5t.clone(y3l):{},yValueCache:[],display:B$p,id:X7O,loading:y3l?y3l.loadData !== !!0:!!1};Z2t.parameters.yAxis=y3l && y3l.yAxis;y3l=Z2t.parameters;if(y3l.symbol){I52=y3l.symbol;}function J_X(E_s){return function(Y1M){var L2x,M8K,J1U;L2x="s";L2x+="ymbolI";L2x+="mp";L2x+="ort";if(!Y1M.error){M8K=Y1M.quotes;J1U=y3l.fillGaps;if(!W$8.cleanupGaps){J1U=![];}M8K=W$8.doCleanupGaps(M8K,W$8.chart,{cleanupGaps:J1U});W$8.updateChartData(M8K,W$8.chart,{secondarySeries:I52,noCreateDataSet:!!({}),noCleanupDates:!!"1",allowReplaceOHL:!!({})});Z2t.loading=!1;Z2t.moreAvailable=Y1M.moreAvailable;Z2t.upToDate=Y1M.upToDate;V9z(W$8,Z2t);}if(y3l.action !== null && !C5y.length){W$8.dispatch(Q07?L2x:"symbolChange",{stx:W$8,symbol:E_s.symbol,symbolObject:E_s.symbolObject,action:y3l.action,id:Z2t.id,parameters:y3l});}if(R7I){R7I.call(W$8,Y1M.error,Z2t);}};}if(y3l.isComparison){y3l.shareYAxis=!0;}if(y3l.yAxis && !(y3l.yAxis instanceof y5t.ChartEngine.YAxis)){y3l.yAxis=new y5t.ChartEngine.YAxis(y3l.yAxis);;}y5t.ensureDefaults(y3l,{chartName:this.chart.name,symbolObject:{symbol:I52},panel:this.chart.panel.name,fillGaps:![],action:"add-series"});if(("display" in y3l)){Z2t.display=y3l.display;}m9n=this.charts[y3l.chartName];y5k=y3l.symbolObject;I52=y3l.symbol=y5k.symbol;if(!Z2t.display){Z2t.display=I52 || y3l.field;}Z2t.endPoints={};if(!y3l.gapDisplayStyle && y3l.gapDisplayStyle !== !({})){y3l.gapDisplayStyle=y3l.gaps;}V5cdF.U0D();if(y3l.isComparison){T0L="tra";T0L+="nspare";T0L+="nt";if(y3l.gapDisplayStyle === undefined){y3l.gapDisplayStyle=T0L;}}C5y=this.getSeries({symbolObject:y5k,chart:m9n,includeMaster:!![]});Y1$=y3l.panel;if(!this.panels[Y1$]){D8d=y3l.yAxis || new y5t.ChartEngine.YAxis();D8d.name=X7O;this.createPanel(X7O,Y1$,null,null,D8d);if(!this.preferences.dragging || !this.preferences.dragging.series){y3l.highlightable=!"1";}}else {if(!y3l.yAxis && !y3l.shareYAxis){y3l.yAxis=new y5t.ChartEngine.YAxis({name:X7O,position:"none"});}}m9n.series[X7O]=Z2t;W$8=this;Q07=this.currentlyImporting;if(y3l.isComparison && m9n.forcePercentComparison && y3l.panel == m9n.panel.name && (!y3l.yAxis || y3l.yAxis == m9n.yAxis)){this.setChartScale("percent");}q0a=m9n.masterData;if(!q0a){q0a=m9n.masterData=this.masterData=[];}z56=q0a.length;if(y3l.data && !y3l.data.useDefaultQuoteFeed){Z_N={symbol:I52,symbolObject:y5k,action:y3l.action};J_X(Z_N)({quotes:y3l.data});}else if(C5y.length){Z2t.endPoints=C5y[+"0"].endPoints;Z2t.loading=C5y[0].loading;V9z(this,Z2t);if(R7I){setTimeout(function(){V5cdF.j0M();R7I.call(W$8,null,Z2t);},0);}}else if(this.quoteDriver && y3l.loadData !== !({})){b7q=this.quoteDriver;t42=b7q.makeParams(I52,y5k,m9n);if(z56){t42.startDate=q0a[0].DT;t42.endDate=this.isHistoricalMode()?q0a[q0a.length - 1].DT:new Date();}if(t42.stx.isEquationChart(t42.symbol)){y5t.fetchEquationChart(t42,J_X(t42));}else {u87=b7q.getQuoteFeed(t42);if(u87){y5t.ChartEngine.Driver.fetchData(4,u87.engine,t42,J_X(t42));}}}else {u0X="symbo";u0X+="lChange";p$b="s";p$b+="ymbol";p$b+="Impor";p$b+="t";V9z(this,Z2t);if(y3l.action !== null && !C5y.length){W$8.dispatch(Q07?p$b:u0X,{stx:W$8,symbol:I52,symbolObject:y5k,action:y3l.action,id:Z2t.id,parameters:y3l});}if(R7I){R7I.call(this,null,Z2t);}}function V9z(E1X,C$h){var I2l,f2v,l4n,Y67;I2l=y3l.renderer || "Lines";f2v=y3l.name || X7O;if(y3l.yAxis && !(y3l.yAxis instanceof y5t.ChartEngine.YAxis) && !Q07){y3l.yAxis.name=f2v;}if(!y3l.renderer && !y3l.name && !y3l.color && !y3l.chartType){return;}l4n=E1X.getSeriesRenderer(f2v);if(!l4n){Y67={name:f2v,overChart:y3l.overChart !== ![],useChartLegend:!!({})};if(y3l.chartType){l4n=y5t.Renderer.produce(y3l.chartType,y5t.extend({highlightable:y3l.highlightable,dependentOf:y3l.dependentOf,panel:y3l.panel,yAxis:y3l.yAxis,baseline:y3l.baseline},Y67));}else {y5t.ensureDefaults(y3l,Y67);l4n=new y5t.Renderer[I2l]({params:y3l});}if(!l4n){return;}E1X.setSeriesRenderer(l4n);}l4n.attachSeries(X7O,y3l);if(y3l.loadData !== !({})){l4n.ready();}E1X.layout.symbols=E1X.getSymbols({"include-parameters":!!({}),"exclude-studies":!!"1"});}this.runAppend("addSeries",arguments);return Z2t;};y5t.ChartEngine.prototype.getSeries=function(v0W){var L2W,V$Q,T1Z,P4M,O8w;L2W=v0W.chart?v0W.chart:this.chart;V$Q=L2W.series;T1Z=v0W.symbolObject;if(!T1Z){T1Z={symbol:v0W.symbol};}P4M=[];V5cdF.U0D();for(var Y3e in V$Q){O8w=V$Q[Y3e];if(y5t.symbolEqual(T1Z,O8w.parameters.symbolObject)){P4M.push(O8w);}}if(v0W.includeMaster){if(y5t.symbolEqual(T1Z,L2W.symbolObject)){P4M.push({});}}return P4M;};y5t.ChartEngine.prototype.modifySeries=function(F$p,S96,k9s){var i6c,v83,T7q,Z0y,q2l,c_j,O86,J3v,A7s,K6s,W9U,z9N,Q$q,S_8,Q20,e6Z,R5o;i6c="Dra";i6c+="wing.";i6c+="updateSource";v83="m";v83+="odifySer";v83+="ie";v83+="s";if(this.runPrepend(v83,arguments)){return;}if(!S96){return;}if(typeof F$p === "string"){q2l=S96.chartName?this.charts[S96.chartName]:this.chart;Z0y=F$p;T7q=q2l.series[Z0y];}else {T7q=F$p;Z0y=T7q.id;q2l=this.charts[T7q.parameters.chartName];}if(!T7q){return;}y5t.extend(T7q.parameters,S96,!0);this.getRendererFromSeries(Z0y).modifyRenderer(S96);c_j=T7q.parameters;for(var x_G in q2l.seriesRenderers){J3v=q2l.seriesRenderers[x_G];A7s=J3v.params;K6s=J3v.seriesParams;for(var e$N=0;e$N < K6s.length;++e$N){W9U=K6s[e$N];z9N=this.panels[W9U.panel];Q$q=z9N && z9N.yAxis.name;if(W9U.id === T7q.id){S_8="p";S_8+="er";S_8+="ce";S_8+="nt";if(c_j.panel === !!"1"){c_j.panel=c_j.dependentOf || c_j.name;}A7s.panel=c_j.panel;if(S96.yAxis){if(!(S96.yAxis instanceof y5t.ChartEngine.YAxis)){S96.yAxis=new y5t.ChartEngine.YAxis(S96.yAxis);;}A7s.yAxis=S96.yAxis;}if(c_j.panel != W9U.panel && A7s.name == Q$q){this.electNewPanelOwner(W9U.panel);;}else {Q20=this.getYAxisByName(c_j.panel,A7s.name);if(Q20 && c_j.yAxis && Q20.name !== c_j.yAxis.name){Q20.name=this.electNewYAxisOwner(Q20);}}if(!c_j.field){c_j.field=null;}J3v.attachSeries(Z0y,y5t.ensureDefaults(c_j,W9U));if(!c_j.field){c_j.field=c_j.subField;}delete c_j.subField;if(c_j.isComparison && q2l.forcePercentComparison && c_j.panel == q2l.panel.name && (!T7q.parameters.yAxis || c_j.yAxis.name == q2l.yAxis.name)){this.setChartScale(S_8);}O86=J3v;break;}}}y5t.getFn(i6c)(this,T7q.parameters.symbol || Z0y,null,T7q.parameters.panel);this.runAppend("modifySeries",arguments);if(k9s !== !""){e6Z=O86.getDependents(this);for(var O3X=0;O3X < e6Z.length;O3X++){this.modifySeries(e6Z[O3X].params.name,{panel:O86.params.panel,yAxis:T7q.parameters.yAxis},!!({}));}R5o=q2l.seriesRenderers[O86.params.dependentOf];if(R5o){if(R5o.params.yAxis != T7q.parameters.yAxis || R5o.params.panel != O86.params.panel){this.modifySeries(O86.params.dependentOf,{panel:O86.params.panel,yAxis:T7q.parameters.yAxis},!!1);}}}this.draw();return T7q;};y5t.ChartEngine.prototype.deleteSeries=function(e6k,a3r,q$m){var b09,h4f,H$m,p$t,s4n,K2U,e9v,W1b,B7g;b09="dele";V5cdF.j0M();b09+="te";b09+="S";b09+="eries";h4f="sy";h4f+="mbol";h4f+="C";h4f+="hange";if(this.runPrepend("deleteSeries",arguments)){return;}q$m=q$m?q$m:{};H$m=q$m.action?q$m.action:"remove-series";if(typeof e6k === "object"){p$t=e6k.id;a3r=a3r || this.charts[e6k.parameters.chartName];}else {p$t=e6k;a3r=a3r || this.chart;}s4n=a3r.series[p$t];if(!s4n){return;}K2U=s4n.parameters.loadData;e9v=s4n.parameters.symbolObject;delete a3r.series[p$t];this.layout.symbols=this.getSymbols({"include-parameters":!"","exclude-studies":!0});W1b=this.getSeries({symbolObject:e9v,includeMaster:!![]});if(K2U !== !"1" && !W1b.length){this.cleanMasterData(e9v,a3r);}B7g=this.panels[s4n.parameters.panel];if(B7g){this.checkForEmptyPanel(B7g);}this.createDataSet();if(!W1b.length){this.dispatch(this.currentlyImporting?"symbolImport":h4f,{stx:this,symbol:e9v.symbol,symbolObject:e9v,id:p$t,action:H$m});}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}this.runAppend(b09,arguments);};y5t.ChartEngine.prototype.removeSeries=function(w11,p6G){V5cdF.U0D();var o1q,K$j,X48,r28,A_a,k2v,X3K;if(this.runPrepend("removeSeries",arguments)){return;}K$j=!({});if(typeof w11 === "object"){o1q=w11.id;p6G=p6G || this.charts[w11.parameters.chartName];}else {o1q=w11;p6G=p6G || this.chart;}for(var j7h in p6G.seriesRenderers){X48=p6G.seriesRenderers[j7h];r28=this.panels[X48.params.panel];A_a=r28 && r28.yAxis.name;for(var p8q=X48.seriesParams.length - 1;p8q >= 0;p8q--){k2v=X48.seriesParams[p8q];if(k2v.id === o1q){X48.removeSeries(o1q);if(X48.seriesParams.length < 1){this.removeSeriesRenderer(X48);if(X48.params.name == A_a){this.electNewPanelOwner(X48.params.panel);}else {if(!this.checkForEmptyPanel(X48.params.panel)){X3K=this.getYAxisByName(r28,X48.params.name);if(X3K){X3K.name=X3K.studies["0" ^ 0] || X3K.renderers[1];}}}}K$j=!!"1";}}}if(!K$j){this.deleteSeries(o1q,p6G);}this.resetDynamicYAxis();this.draw();this.resizeChart();this.runAppend("removeSeries",arguments);};y5t.Comparison=y5t.Comparison || (function(){});y5t.Comparison.initialPrice=100;y5t.Comparison.getInitialPrice=function(W$7){var w7G,j6E,N_2;V5cdF.j0M();if(W$7.initialComparisonPrice){return W$7.initialComparisonPrice;}W$7.initialComparisonPrice=+"100";w7G=y5t.Comparison.initialPrice;if(typeof w7G == "number"){W$7.initialComparisonPrice=w7G;}if(typeof w7G == "string"){if(W$7.series[w7G] || w7G === ""){j6E="Close";if(W$7.defaultPlotField){if(!W$7.highLowBars){j6E=W$7.defaultPlotField;}}for(var P5x=W$7.dataSet.length - W$7.scroll - 1;P5x < W$7.dataSet.length;P5x++){N_2=W$7.dataSet[P5x];if(N_2){if(N_2[w7G] && N_2[w7G][j6E]){W$7.initialComparisonPrice=N_2[w7G][j6E];break;}else if(w7G === "" && N_2[j6E]){W$7.initialComparisonPrice=N_2[j6E];break;}}}}}return W$7.initialComparisonPrice;};y5t.Comparison.priceToPercent=function(k4r,J79,a8h,D$U,j$H){var N9x=V5cdF;var p7o;N9x.U0D();p7o=k4r.comparisonBaseline;if(p7o && (j$H in p7o)){p7o=p7o[j$H];}if(p7o && typeof p7o === "object"){p7o=p7o[J79.defaultPlotField || "Close"];}p7o=p7o || a8h;N9x.U6M(19);var q9p=N9x.Q7U(34,16,50);N9x.U_P(76);var c2D=N9x.Q7U(0,358,7,3,17);N9x.U_P(23);var z_g=N9x.l$6(22,9981,3);return Math.round((a8h - p7o) / p7o * q9p * ("10000" * c2D)) / z_g;};y5t.Comparison.percentToPrice=function(C$b,k6L,i_J,W8d,Y2S){var O2M,y2b,I_0;O2M="Cl";O2M+="ose";y2b="ob";y2b+="jec";y2b+="t";I_0=C$b.comparisonBaseline;if(I_0 && (Y2S in I_0)){I_0=I_0[Y2S];}if(I_0 && typeof I_0 === y2b){I_0=I_0[k6L.defaultPlotField || O2M];}I_0=I_0 || 1;V5cdF.U0D();V5cdF.U6M(120);return V5cdF.l$6(1,100,I_0,i_J);};y5t.Comparison.priceToRelative=function(U9H,B6q,a16,u5I,B_6){var D6u,R9g,z8D;D6u="obje";D6u+="c";D6u+="t";R9g=U9H.comparisonBaseline;z8D=y5t.Comparison.getInitialPrice(B6q);if(R9g && (B_6 in R9g)){R9g=R9g[B_6];}if(R9g && typeof R9g === D6u){R9g=R9g[B6q.defaultPlotField || "Close"];}V5cdF.U6M(21);return V5cdF.l$6(z8D,a16,R9g || a16);};y5t.Comparison.relativeToPrice=function(i0y,Y00,s9v,A44,e5P){var q8p,F4a,c7S;q8p="o";q8p+="bject";F4a=i0y.comparisonBaseline;c7S=y5t.Comparison.getInitialPrice(Y00);if(F4a && (e5P in F4a)){F4a=F4a[e5P];}if(F4a && typeof F4a === q8p){F4a=F4a[Y00.defaultPlotField || "Close"];}V5cdF.U6M(21);return V5cdF.Q7U(F4a || 1,s9v,c7S);};y5t.Comparison.createComparisonSegmentInner=function(p5Z,N1X){var h0M=V5cdF;var m_Q,I9_,R6m,d6N,U5o,M32,d06,n9a,L9Q,C6u,C3v,S2h,K6F,q3W,G8x,h7c,l3a,m3_,G3k,Z9T,c5r,n4W,E_x,e$r,G2f,F0o,i2T,K76,h3r;m_Q="H";m_Q+="i";m_Q+="gh";I9_="Op";I9_+="en";R6m=[];for(d6N in N1X.series){d06=N1X.series[d6N].parameters;if(!d06.yAxis && d06.shareYAxis || d06.yAxis === N1X.yAxis){R6m.push(d06.symbol);}}n9a=["Close",I9_,m_Q,"Low","iqPrevClose"];L9Q=p5Z.chart.highLowBars;if(N1X.defaultPlotField && !L9Q){n9a.unshift(N1X.defaultPlotField);}C6u=n9a[0];C3v=p5Z.layout.studies;for(var C9m in C3v){S2h=C3v[C9m];U5o=p5Z.panels[S2h.panel];M32=S2h.getYAxis(p5Z);if(!U5o || U5o.yAxis != M32)continue;for(d6N in S2h.outputMap){if(N1X.transformFunc && M32 == N1X.panel.yAxis && R6m.includes(S2h.inputs.Field)){n9a.push({comparison:S2h.inputs.Field,field:d6N});}else {n9a.push(d6N);}}for(var C7k=0;C7k <= 2;C7k++){n9a.push(S2h.name + "_hist" + (C7k?C7k:""));}if(S2h.referenceOutput){n9a.push(S2h.referenceOutput + " " + S2h.name);}}for(var J3U in p5Z.plugins){K6F=p5Z.plugins[J3U];if(!K6F.transformOutputs)continue;for(d6N in K6F.transformOutputs){n9a.push(d6N);}}N1X.initialComparisonPrice=null;N1X.dataSegment=[];q3W=null;h0M.U6M(1);var H6H=h0M.l$6(1,0);G8x=N1X.dataSet.length - N1X.scroll - H6H;if(p5Z.startComparisonsAtFirstVisibleBar){G8x+=1;}h0M.U6M(59);var f3L=h0M.Q7U(14,59,4);h7c=N1X.maxTicks + f3L;for(var S7L=0;S7L <= h7c;S7L++){if(S7L == h7c){S7L=-1;}h0M.U6M(1);l3a=h0M.Q7U(S7L,G8x);if(l3a < N1X.dataSet.length && l3a >= +"0"){m3_=N1X.dataSet[l3a];G3k=m3_[C6u];if(!q3W){if(G3k === 0 || G3k === null){if(S7L < "0" - 0)break;else continue;;}q3W=y5t.clone(m3_);}if(!m3_.transform){m3_.transform={cache:{},DT:m3_.DT,Date:m3_.Date};}if(!(q3W && q3W[C6u]) && G3k){q3W=y5t.clone(m3_);}p5Z.comparisonBaseline=q3W;for(Z9T=0;Z9T < n9a.length;Z9T++){d6N=n9a[Z9T];c5r=m3_[d6N];if(c5r || c5r === 0){m3_.transform[d6N]=N1X.transformFunc(p5Z,N1X,c5r);}}for(Z9T=0;Z9T < R6m.length;Z9T++){d6N=R6m[Z9T];n4W=N1X.series[d6N];if(S7L == -+"1" && n4W && n4W.parameters.isComparison){delete m3_.transform[d6N];continue;}E_x=m3_[d6N];if(!E_x)continue;for(var q6_="0" - 0;q6_ < n9a.length;q6_++){e$r=n9a[q6_];G2f=E_x[e$r];F0o=m3_.transform[d6N]=m3_.transform[d6N] || ({});if(typeof e$r == "object" && e$r.comparison == d6N){e$r=e$r.field;G2f=m3_[e$r];F0o=m3_.transform;}if(G2f || G2f === 0){i2T=q3W[d6N] && q3W[d6N][n9a[0]];if(!i2T && i2T !== 0){if(!q3W[d6N]){q3W[d6N]={};}q3W[d6N][e$r]=i2T=G2f * q3W[C6u] / m3_[C6u];}if(i2T !== 0){K76=q3W[C6u] || 1;h0M.U_P(121);h3r=h0M.l$6(i2T,G2f,K76);F0o[e$r]=N1X.transformFunc(p5Z,N1X,h3r);}}}}N1X.dataSegment.push(m3_);}else if(l3a < 0){N1X.dataSegment.push(null);}if(S7L < 0)break;;}};y5t.Comparison.priceFormat=function(R37,F6E,H6X){var Z8E=V5cdF;var X1l,p_D;if(H6X === null || typeof H6X == "undefined" || isNaN(H6X)){return "";}X1l=F6E.yAxis.priceTick;p_D=R37.internationalizer;if(p_D){if(X1l >= 5){Z8E.U6M(11);H6X=p_D.percent.format(Z8E.l$6(100,H6X));}else if(X1l >= 0.5){Z8E.U6M(11);H6X=p_D.percent1.format(Z8E.l$6(100,H6X));}else if(X1l >= 0.05){Z8E.U6M(11);H6X=p_D.percent2.format(Z8E.Q7U(100,H6X));}else if(X1l >= 0.005){Z8E.U_P(11);H6X=p_D.percent3.format(Z8E.Q7U(100,H6X));}else {Z8E.U_P(11);H6X=p_D.percent4.format(Z8E.l$6(100,H6X));}}else {if(X1l >= 5){H6X=H6X.toFixed(0) + "%";}else if(X1l >= +"0.5"){Z8E.U_P(122);var n0i=Z8E.l$6(10,8230,10,10);Z8E.U_P(123);var N$J=Z8E.l$6(76,6,18,13,49);Z8E.U_P(124);var z6C=Z8E.l$6(11878869,19,104280,6,19);Z8E.U6M(114);var i$p=Z8E.l$6(2694,451,4,2702);Z8E.U6M(125);var x_3=Z8E.Q7U(48,8201,432,1);Z8E.U6M(1);var o9p=Z8E.Q7U(5169,431);H6X=H6X.toFixed(+"1") + (n0i !== ("8150" << N$J,777)?+"545.99" == z6C?i$p !== x_3?634.77:(404.23,o9p):"%":"A");}else if(X1l >= 0.05){Z8E.U6M(126);var H5q=Z8E.Q7U(1,20,32,2,320);Z8E.U6M(62);var T88=Z8E.l$6(4607,4589,4607);Z8E.U6M(23);var B40=Z8E.l$6(19,5421,13);H6X=H6X.toFixed(H5q) + (T88 !== B40?"%":(!!1,!!""));}else if(X1l >= 0.005){Z8E.U_P(1);var h2A=Z8E.Q7U(9,3324);Z8E.U6M(74);var v$s=Z8E.l$6(563036,18,31720,6);Z8E.U6M(17);var H0v=Z8E.l$6(101940,15,1520605);Z8E.U_P(127);var y2j=Z8E.Q7U(16,8,4502,2400);H6X=H6X.toFixed(+"3") + ((+"9973",h2A) >= (v$s,H0v)?y2j:"%");}else {Z8E.U6M(10);var K9c=Z8E.l$6(32,28);Z8E.U_P(15);var A0T=Z8E.Q7U(5,959,6,4808,4);Z8E.U6M(125);var A08=Z8E.Q7U(23,3043,161,1);Z8E.U6M(70);var k38=Z8E.l$6(3056,764,9181,17);Z8E.U_P(10);var g$3=Z8E.l$6(1793,3);Z8E.U6M(1);var S18=Z8E.l$6(8817,551);H6X=H6X.toFixed(K9c) + (A0T > A08?839.73 == (953.17,k38)?(!1,g$3):("0x17b8" << 0,S18):"%");}}if(parseFloat(H6X) === 0 && H6X.charAt(+"0") == ((7660,6550) > (760.46,2810)?"-":("879.36" * 1,2969) == 5310?2.44e+3:4190 == 6480?(3.28e+3,588.23):(0x1fc,"m"))){H6X=H6X.substring(1);}return H6X;};y5t.ChartEngine.prototype.setComparison=function(y3T,V80,a9o){var B_0,P6_,N6V,p4q;if(!V80){V80=this.chart;}if(typeof V80 == "string"){V80=this.charts[V80];}if(a9o || a9o === ""){y5t.Comparison.initialPrice=a9o;}if(y3T === !!({})){if(V80.isComparison){return;}y3T="percent";}this.resetDynamicYAxis();B_0=V80.panel.yAxis;P6_=B_0.priceFormatter == y5t.Comparison.priceFormat;switch(y3T){case "relative":this.setTransform(V80,y5t.Comparison.priceToRelative,y5t.Comparison.relativeToPrice);if(P6_){B_0.priceFormatter=B_0.originalPriceFormatter?B_0.originalPriceFormatter.func:null;B_0.originalPriceFormatter=null;}B_0.whichSet="dataSegment";V80.isComparison=!![];break;case "percent":N6V="dat";N6V+="a";N6V+="Segment";this.setTransform(V80,y5t.Comparison.priceToPercent,y5t.Comparison.percentToPrice);if(!P6_){B_0.originalPriceFormatter={func:B_0.priceFormatter};B_0.priceFormatter=y5t.Comparison.priceFormat;}B_0.whichSet=N6V;V80.isComparison=!!({});break;default:p4q="d";p4q+="ataSet";this.unsetTransform(V80);if(P6_){B_0.priceFormatter=B_0.originalPriceFormatter?B_0.originalPriceFormatter.func:null;B_0.originalPriceFormatter=null;}B_0.whichSet=p4q;V80.isComparison=!1;break;}};y5t.ChartEngine.prototype.setChartScale=function(r3I){var Y6C,u3V,c6v,M$l;Y6C="l";Y6C+="in";Y6C+="ear";u3V=this.chart;c6v={percent:!!({}),relative:!!"1"};if(!r3I){r3I=Y6C;}if(c6v[r3I]){this.setComparison(r3I,u3V,y5t.Comparison.initialPrice);}else if(c6v[this.layout.chartScale]){this.setComparison(![],u3V);}M$l=this.layout.chartScale !== r3I;V5cdF.j0M();this.layout.chartScale=r3I;if(u3V.canvas){this.draw();}if(M$l){this.changeOccurred("layout");}};};W=j3i=>{var a8z,A9w;a8z=typeof _CIQ !== "undefined"?_CIQ:j3i.CIQ;function c7q(){var U$r,a$a,q_0;U$r="js/thirdpa";U$r+="rt";V5cdF.U0D();U$r+="y/";if(a8z.Share.html2canvasLocation){return a8z.Share.html2canvasLocation;}a$a=document.getElementsByTagName("script");for(var a2T=0;a2T < a$a.length;a2T++){q_0=a$a[a2T];if(q_0.src && q_0.src.indexOf("share.js") > -1){return q_0.src.replace(/standard\/share\.js/,"") + "thirdparty/";}}return U$r;}function Q0o(z59){var m2V,R5d;m2V="unde";m2V+="fi";V5cdF.U0D();m2V+="n";m2V+="ed";if(typeof html2canvas === m2V){R5d="html2canvas.m";R5d+="in.js";if(typeof requirejs !== "undefined"){try{return requirejs(["html2canvas.min.js"],function(D81){A9w=D81;return z59();});}catch(N6a){console.warn("Require loading has failed, attempting to load html2canvas manually.");}}a8z.loadScript(c7q() + R5d,function(){A9w=html2canvas;return z59();});}else {A9w=html2canvas;return z59();}}a8z.Share=a8z.Share || (function(){});a8z.Share.fullChart2PNG=function(o3e,h$X,c_R){var p04;p04="u";p04+="nde";p04+="fined";if(!o3e || !o3e.chart){return;}if(typeof html2canvas === p04){return Q0o(function(){V5cdF.j0M();return m0h(o3e,h$X,c_R);});}A9w=html2canvas;m0h(o3e,h$X,c_R);};a8z.Share.createImage=function(v9S,J0E,g_e){var p_8=V5cdF;var q1r,n6T,Q9C,M40,b5g,f_Y,C9n,F8m,e9P;q1r="im";q1r+="g";n6T=[].slice.call(arguments);g_e=n6T.pop();p_8.j0M();if(J0E === null || typeof J0E != "object"){J0E={widthPX:n6T[1],heightPX:n6T[2],imageType:n6T[3]};}Q9C=J0E.widthPX;M40=J0E.heightPX;b5g=J0E.imageType;f_Y=v9S.chart.canvas.height;C9n=v9S.chart.canvas.width;if(v9S.chart.canvas.style.height){f_Y=a8z.stripPX(v9S.chart.canvas.style.height);C9n=a8z.stripPX(v9S.chart.canvas.style.width);}if(Q9C && M40){f_Y=M40;C9n=Q9C;}else if(M40){C9n=v9S.chart.canvas.width * (f_Y / v9S.chart.canvas.height);}else if(Q9C){C9n=Q9C;f_Y=v9S.chart.canvas.height * (Q9C / v9S.chart.canvas.width);}F8m=b5g?"image/" + b5g:"image/png";e9P=document.createElement(q1r);e9P.onload=function(){p_8.j0M();a8z.Share.fullChart2PNG(v9S,{image:this,width:C9n,height:f_Y,hide:J0E.hide},function(I56,T7U){p_8.U0D();if(I56){p_8.U_P(1);console.warn(p_8.l$6(I56,"Error producing canvas snapshot: "));}else {try{g_e(T7U.toDataURL(F8m));;}catch(Q_k){var B9o;B9o="Safari devices do not handle CORS enabled images. Using the ch";B9o+="arts' canvas as a fallback.";console.warn(B9o);g_e(e9P.src);}}});};e9P.src=v9S.chart.canvas.toDataURL(F8m);};a8z.Share.uploadImage=function(O5r,n8M,T06,x06){var y9U;if(!T06){T06={};}T06.image=O5r;y9U=a8z.postAjax(n8M,JSON.stringify(T06),function(Z4C,K8K){if(Z4C != 200){x06(Z4C,null);return;}V5cdF.j0M();x06(null,K8K);});V5cdF.U0D();if(!y9U){x06(0,null);}};a8z.Share.shareChart=function(z$Y,d6e,d7t){var n9E=V5cdF;n9E.j0M();a8z.Share.createImage(z$Y,{},function(C$V){var o0Q,s6I,U6q,N3s,g3M,B6I;o0Q=a8z.uniqueID();s6I="ht";s6I+="tps://sh";n9E.U0D();s6I+="are.c";s6I+="hartiq.com";n9E.U_P(19);U6q=n9E.Q7U(o0Q,"/upload/",s6I);if(d6e){if(d6e.host){s6I=d6e.host;}if(d6e.path){n9E.U_P(16);var r2P=n9E.l$6(10,13540,12873);U6q=s6I + d6e.path + (+"1210" >= r2P?"/":114.01 === "4060" - 0?!!"1":("0x1e7b" - 0,!!1)) + o0Q;}}N3s=z$Y.getStartDateOffset();g3M={layout:z$Y.exportLayout(),drawings:z$Y.exportDrawings(),xOffset:N3s,startDate:z$Y.chart.dataSegment[N3s].Date,endDate:z$Y.chart.dataSegment[z$Y.chart.dataSegment.length - 1].Date,id:o0Q,symbol:z$Y.chart.symbol};B6I={id:o0Q,image:C$V,config:g3M};a8z.Share.uploadImage(C$V,U6q,B6I,function(U1r,W9G){n9E.U0D();if(U1r !== null){a8z.alert("error sharing chart: ",U1r);}else {n9E.U6M(1);d7t(n9E.Q7U(W9G,s6I));}});;});};function c8E(a9k){var p8e,z8v,Z8H,x8Q,b1L,M95;p8e="text";p8e+="-";p8e+="ancho";p8e+="r";z8v="t";z8v+="ext-align";Z8H="fon";Z8H+="t-si";Z8H+="ze";x8Q="fil";x8Q+="l";if(!a9k.style){return;}b1L=getComputedStyle(a9k);M95=["alignment-baseline","dominant-baseline",x8Q,"fill-opacity","font-family",Z8H,"font-variant","font-weight",z8v,p8e];M95.forEach(function(G_d){if(!a9k.style[G_d] && b1L[G_d]){a9k.style[G_d]=b1L[G_d];}});for(var G7E in a9k.children){c8E(a9k.children[G7E]);}}function m0h(X60,M3l,i4j){var C8T,l8g,F$r,u74,s0R,F4V,X3x,W8m,f7M,i5e,H63;C8T="sh";C8T+="a";C8T+="rin";C8T+="g";l8g="ciq-";l8g+="n";l8g+="o";l8g+="-share";if(!M3l){M3l={};}F$r=[];u74=l8g;s0R=X60.container.ownerDocument.querySelector("body");if(M3l.hide && M3l.hide instanceof Array){F4V=M3l.hide.join(", ");X3x=s0R.querySelectorAll(F4V);for(var a9w=0;a9w < X3x.length;a9w++){X3x[a9w].classList.add(u74);}}s0R.classList.add(C8T);X60.draw();W8m=X60.chart.container.getElementsByTagName("svg");f7M=[];i5e=0;for(;i5e < W8m.length;i5e++){H63=W8m[i5e];f7M.push(H63.innerHTML);c8E(H63);}A9w(X60.chart.container,{allowTaint:!!0,logging:!({}),width:M3l.width || null,height:M3l.height || null,backgroundColor:M3l.background || null,useCORS:!!1}).then(function(W1X){if(i4j){i4j(null,M3l.data?W1X.toDataURL("image/png"):W1X);}for(i5e=0;i5e < W8m.length;i5e++){W8m[i5e].innerHTML=f7M[i5e];}s0R.classList.remove("sharing");}).catch(function(R9L){var J_x;J_x="sharin";J_x+="g";if(i4j){i4j(R9L);}for(i5e=0;i5e < W8m.length;i5e++){W8m[i5e].innerHTML=f7M[i5e];}s0R.classList.remove(J_x);});}};g=r1B=>{var A49;A49=typeof _CIQ !== "undefined"?_CIQ:r1B.CIQ;A49.ChartEngine.prototype.setRange=function(M2N,i24){var j7C=V5cdF;var X8_,S1d,r3q,z9k,c__,G9Y,m9X,q1p,u6q,a7n,h6E,X6a,O4F,N52,m5J,P4f,E4H,U7g,C0_,Z8m,z4y,Y3q,x$F,F7v,O85,F3B,P9d,d5N,n2n,g1T,o5p,W$y,C2n;if(A49.isEmpty(M2N)){X8_=187400216;S1d=1647397724;r3q=2;for(var i71=1;j7C.S0_(i71.toString(),i71.toString().length,30932) !== X8_;i71++){M2N={dtLeft:arguments[2],dtRight:arguments[+"8"],padding:arguments[7],chart:arguments[7]};i24=arguments[1];r3q+=2;}if(j7C.S0_(r3q.toString(),r3q.toString().length,8737) !== S1d){M2N={dtLeft:arguments["0" >> 32],dtRight:arguments["1" >> 64],padding:arguments[+"2"],chart:arguments[3]};i24=arguments[4];}}if(this.staticRange){M2N.goIntoPast=M2N.goIntoFuture=!!({});}if(!M2N.chart){M2N.chart=this.chart;}if(typeof M2N.padding == "undefined"){M2N.padding=0;}z9k=![];function B2f(N5X){var y5O,r8Z,C_5,h7i,j8L,z0e,x75,B6a,i9j,Q52,B9$,E$U,Z5A,C6m,r$C,t3F,a3D,a9s,r5c,F39,S1h,N83,L3s,W4b,Z3L;y5O="layo";y5O+="u";y5O+="t";r8Z="to";j7C.U0D();r8Z+="da";r8Z+="y";if(typeof N5X == "undefined"){N5X=null;}C_5=0;h7i=0;j8L=new Date();z0e=M2N.base;x75=M2N.periodicity;B6a=u6q.layout;if(M2N.goIntoFuture && (!c__.masterData.length || G9Y > c__.masterData[c__.masterData.length - 1].DT)){i9j=c__.masterData.length?c__.masterData.pop():{DT:G9Y};Q52=u6q.doCleanupGaps([i9j,{DT:m9X}],c__,{cleanupGaps:"gap",noCleanupDates:!""});u6q.setMasterData(c__.masterData.concat(Q52),c__,{noCleanupDates:!!({})});u6q.createDataSet(null,null,{appending:!!({})});}B9$=c__.dataSet;E$U=-971976804;Z5A=-1909202810;C6m=2;for(var K1b=1;j7C.S0_(K1b.toString(),K1b.toString().length,38908) !== E$U;K1b++){r$C=B9$.length;C6m+=2;}if(j7C.S0_(C6m.toString(),C6m.toString().length,15338) !== Z5A){r$C=B9$.length;}if(!B9$ || r$C === 0){if(i24){i24(N5X);}return;}if(z0e === "day" && x75 && x75.interval === "day"){a3D=M2N.multiplier;C_5=r$C < a3D?0:r$C - a3D;j7C.U6M(10);h7i=j7C.l$6(r$C,1);}else if(z0e === r8Z && B9$[r$C - 1].DT.getDate() < j8L.getDate()){a9s=new Date(B9$[r$C - 1].DT.getTime());r5c=a9s.getTime();t3F=0;for(var z0p=r$C - 1;z0p >= 0;z0p--){if(B9$[z0p] && B9$[z0p].DT.getDate() != a9s.getDate()){a9s=new Date(+B9$[z0p + ("1" >> 32)].DT);j7C.U6M(1);t3F=j7C.l$6(1,z0p);break;}}C_5=t3F;j7C.U6M(10);h7i=j7C.l$6(r$C,1);}else {if(M2N.base != "all" && (G9Y.getTime() >= B9$[0].DT.getTime() || M2N.goIntoPast)){C_5=u6q.tickFromDate(G9Y,c__,null,!!"1");}else {C_5=0;}if(M2N.base != "all" && (m9X.getTime() <= B9$[r$C - "1" * 1].DT.getTime() || M2N.goIntoFuture)){h7i=u6q.tickFromDate(m9X,c__);F39=-76106954;S1h=1177983554;N83=+"2";for(var L9X=1;j7C.S0_(L9X.toString(),L9X.toString().length,34682) !== F39;L9X++){if(h7i > r$C - 1){h7i--;};N83+=2;}if(j7C.Y5G(N83.toString(),N83.toString().length,"31057" * 1) !== S1h){if(h7i < r$C + 0){h7i++;};}}else {j7C.U6M(10);h7i=j7C.Q7U(r$C,1);}}j7C.U_P(23);L3s=j7C.Q7U(1,h7i,C_5);if(L3s < 1){if(i24){i24(N5X);}return;}W4b=M2N.padding || 0;if(h7i < r$C - 1){W4b=0;}Z3L=(c__.width - W4b) / L3s;u6q.setCandleWidth(Z3L,c__);j7C.U6M(128);c__.scroll=j7C.l$6(r$C,h7i,1,L3s);u6q.micropixels=1;for(var q1F in u6q.panels){u6q.calculateYAxisMargins(u6q.panels[q1F].yAxis);}if(!M2N.dontSaveRangeToLayout){delete M2N.chart;delete B6a.setSpan;B6a.range=M2N;;}else {delete B6a.range;}u6q.draw();u6q.changeOccurred(y5O);if(!z9k){u6q.dispatch("periodicity",{stx:u6q,differentData:n2n,prevPeriodicity:{interval:F3B,periodicity:P9d,timeUnit:d5N}});}if(i24){i24(N5X);}}function Q1x(y7H){if(y7H && a7n === 0){c__.scroll=F7v;u6q.setCandleWidth(O85);u6q.layout.interval=F3B;u6q.layout.periodicity=P9d;u6q.layout.timeUnit=d5N;if(i24){i24(y7H);}return;}a7n++;if(a7n > 10){console.log("CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic.");B2f();return;}j7C.j0M();B2f();;}c__=M2N.chart;G9Y=typeof M2N.dtLeft === "string"?new Date(M2N.dtLeft):M2N.dtLeft;m9X=new Date();function B03(t$5,E5o,O7g,s6u,u5e,a0Q){var A$v,f3n;A$v=+"0";j7C.U_P(10);f3n=j7C.l$6(t$5,E5o);if(A49.ChartEngine.isDailyInterval(O7g)){if(O7g == "month"){A$v=f3n / A49.MONTH / s6u;}else if(O7g == "week"){A$v=f3n / A49.WEEK / s6u;}else {A$v=f3n / A49.DAY / s6u;}}else {if(!isNaN(O7g)){if(u5e == "millisecond"){j7C.U6M(129);A$v=j7C.l$6(s6u,O7g,f3n);}else if(u5e == "second"){A$v=f3n / A49.SECOND / (s6u * O7g);}else {A$v=f3n / A49.MINUTE / (s6u * O7g);}}}j7C.U0D();return Math.round(A$v);;}if(M2N.dtRight){m9X=typeof M2N.dtRight === "string"?new Date(M2N.dtRight):M2N.dtRight;}j7C.U0D();if(!G9Y){q1p=this.standardMarketIterator(m9X,null,c__);G9Y=q1p.previous(c__.maxTicks);if(!M2N.periodicity){z9k=!0;}}c__.inflectionPoint=G9Y;this.layout.range={dtLeft:G9Y,dtRight:m9X};u6q=this;a7n=0;if(this.quoteDriver){if(z9k){h6E=this.layout.interval;O4F=this.layout.timeUnit;X6a=this.layout.periodicity;}else if(M2N.periodicity){N52=A49.cleanPeriodicity(M2N.periodicity.period,M2N.periodicity.interval,M2N.periodicity.timeUnit);h6E=N52.interval;O4F=N52.timeUnit;X6a=N52.period;}else {m5J=m9X.getTime() - G9Y.getTime();if(!this.autoPickCandleWidth.turnOn){P4f=this.staticRangePeriodicityMap;E4H=null;for(var V34=0;V34 < P4f.length;V34++){U7g=P4f[V34];if(m5J / U7g.rangeInMS < +"1.001"){E4H=U7g;break;}}h6E=E4H.interval;X6a=E4H.periodicity;O4F=E4H.timeUnit;}else {C0_=0;if(this.autoPickCandleWidth.candleWidth){C0_=this.autoPickCandleWidth.candleWidth;}else {C0_=this.chart.barsHaveWidth?5:2;}Z8m=c__.width / C0_;z4y=this.dynamicRangePeriodicityMap;h6E=z4y[0].interval;X6a=1;for(var q4n=0;q4n < z4y.length;q4n++){x$F=m5J / z4y[q4n].rangeInMS;if(x$F < Z8m){if(z4y[q4n - 1]){h6E=z4y[q4n - ("1" >> 32)].interval;O4F=z4y[q4n - 1].timeUnit;j7C.U6M(11);X6a=Math.ceil(j7C.Q7U(Z8m,Y3q));}else {h6E=z4y[q4n].interval;O4F=z4y[q4n].timeUnit;X6a=1;}break;}Y3q=x$F;}}}F7v=this.chart.scroll;O85=this.layout.candleWidth;F3B=this.layout.interval;P9d=this.layout.periodicity;d5N=this.layout.timeUnit;this.chart.scroll=this.chart.maxTicks=B03(m9X.getTime(),G9Y.getTime(),h6E,X6a,O4F,this.dontRoll);this.layout.candleWidth=this.chart.width / this.chart.maxTicks;n2n=this.needDifferentData({period:X6a,interval:h6E,timeUnit:O4F});if(Object.keys(this.chart.endPoints).length && (this.chart.endPoints.begin > G9Y || this.chart.endPoints.end < m9X)){n2n=!![];}if(!this.chart.masterData || !this.chart.masterData.length || n2n || M2N.forceLoad){g1T="m";g1T+="on";g1T+="th";this.layout.interval=h6E;this.layout.periodicity=X6a;this.layout.timeUnit=O4F;if(!this.layout.timeUnit){if(A49.ChartEngine.isDailyInterval(this.layout.interval)){this.layout.timeUnit=null;}else if(this.layout.interval == "second"){this.layout.timeUnit="second";}else if(this.layout.interval != "tick"){this.layout.timeUnit="minute";}}o5p={symbol:c__.symbol,symbolObject:c__.symbolObject,chart:c__,nodraw:!!1};if(this.layout.interval == "tick"){o5p.startDate=G9Y;o5p.endDate=m9X;}if(!this.displayInitialized){o5p.initializeChart=!!({});}W$y={symbol:c__.symbol,symbolObject:c__.symbolObject,interval:this.layout.interval};if((W$y.interval == g1T || W$y.interval == "week") && !this.dontRoll){W$y.interval="day";}C2n=Math.max(this.quoteDriver.getQuoteFeed(W$y).behavior.bufferSize + 50,200);q1p=this.standardMarketIterator(G9Y,null,c__);o5p.startDate=new Date(q1p.previous(C2n).getTime());q1p=this.standardMarketIterator(m9X,null,c__);o5p.endDate=new Date(q1p.next(C2n).getTime());if(o5p.endDate < Date.now()){this.isHistoricalModeSet=!"";}this.clearCurrentMarketData(this.chart);clearTimeout(this.streamParameters.timeout);this.quoteDriver.newChart(o5p,Q1x);}else {if(this.layout.interval != h6E || this.layout.periodicity != X6a || this.layout.timeUnit != O4F || !this.chart.dataSegment || !this.chart.dataSegment[0] || this.chart.dataSegment[0].DT != c__.inflectionPoint){this.layout.interval=h6E;this.layout.periodicity=X6a;this.layout.timeUnit=O4F;this.createDataSet();}Q1x();}}else {B2f();}};A49.ChartEngine.prototype.setSpan=function(t6j,a1g){var J6D=V5cdF;var w5l,A05,S4G,b_r,b5P,v6X,o$a,S_m,A4X,w8z,W_7,D9I,e$C,u2R,h9q,Y3P,x63,c15,l3R,K6n,d6V;w5l="to";w5l+="day";function I4p(L_E,S4b){var L26;if(!Y3P){return L_E;}L26=7;J6D.U0D();if(S4b){L_E.setHours(L_E.getHours() + L26);}else {L_E.setHours(L_E.getHours() - L26);if(!A4X.isMarketDate(L_E)){L_E.setDate(L_E.getDate() - 2);};}return L_E;}A05="w";A05+="ee";A05+="k";S4G="y";S4G+="e";function Z9z(k3S){k3S.setHours(0);k3S.setMinutes(+"0");k3S.setSeconds(0);J6D.U6M(2);J6D.U0D();k3S.setMilliseconds(J6D.l$6(1,"0"));return k3S;}S4G+="a";S4G+="r";b_r="mon";b_r+="th";J6D.U6M(24);b5P=arguments[J6D.l$6("0",0)];v6X=arguments[1];o$a=arguments[2];S_m=arguments[3];if(typeof t6j == "object"){b5P=t6j.period?t6j.period:t6j.multiplier?t6j.multiplier:1;v6X=t6j.interval?t6j.interval:t6j.base?t6j.base:t6j.span?t6j.span:t6j.period;o$a=t6j.padding;S_m=t6j.chart;}else {t6j={period:b5P,interval:v6X,padding:o$a,chart:S_m};a1g=arguments[5];}if(!S_m){S_m=this.chart;}A4X=S_m.market;v6X=v6X.toLowerCase();if(v6X == "all"){t6j.dontSaveRangeToLayout=!!"1";this.displayAll(t6j,a1g);return;}W_7=v6X;D9I=1;if(v6X == "today"){W_7="day";}else if(v6X == "year"){W_7="month";D9I=12;}e$C=A49.shallowClone(t6j);u2R={begin:A4X.marketZoneNow(),interval:W_7,period:D9I};h9q=u2R.begin;Y3P=A49.Market.Symbology.isForexSymbol(S_m.symbol);if(v6X === "ytd"){h9q=Z9z(h9q);h9q.setMonth(0);h9q.setDate(1);}else if(v6X === b_r){h9q=Z9z(new Date());h9q.setMonth(h9q.getMonth() - b5P);}else if(v6X === S4G){h9q=Z9z(new Date());h9q.setFullYear(h9q.getFullYear() - b5P);}else if(v6X === A05){h9q=Z9z(new Date());h9q.setDate(h9q.getDate() - b5P * 7);}else if(v6X === "day" && b5P == 1 && A4X.isMarketDay()){x63=h9q.getHours();c15=h9q.getMinutes();l3R=h9q.getSeconds();K6n=h9q.getMilliseconds();w8z=A4X.newIterator(u2R);h9q=w8z.previous();h9q.setHours(x63,c15,l3R,K6n);h9q=A4X._convertFromMarketTZ(h9q);}else if(v6X === w5l){u2R.begin=I4p(h9q,!"");w8z=A4X.newIterator(u2R);if(A4X.isOpen() || A4X.getPreviousOpen().getDate() == h9q.getDate()){w8z.next();}h9q=w8z.previous();I4p(h9q);e$C.goIntoFuture=!!({});e$C.dtRight=new Date(+h9q);e$C.dtRight.setDate(h9q.getDate() + 1);e$C.dtRight=A4X._convertFromMarketTZ(e$C.dtRight);if(!Y3P){h9q.setHours(w8z.market.zopen_hour);h9q.setMinutes(w8z.market.zopen_minute);h9q.setSeconds(0);}h9q=A4X._convertFromMarketTZ(h9q);}else {if(v6X == "day"){u2R.begin=I4p(h9q,!!1);}w8z=A4X.newIterator(u2R);if(b5P == +"1"){b5P++;}J6D.U6M(10);h9q=w8z.previous(J6D.l$6(b5P,1));if(v6X == "day"){h9q=A4X._convertFromMarketTZ(I4p(h9q));}}e$C.dtLeft=h9q;if(e$C.maintainPeriodicity){e$C.periodicity={};e$C.periodicity.interval=this.layout.interval;e$C.periodicity.period=this.layout.periodicity;}S_m.spanLock=!!"";e$C.dontSaveRangeToLayout=!"";d6V=this;this.setRange(e$C,function(f1d){var J8n,R5D;J8n="t";J8n+="o";J8n+="d";J8n+="ay";R5D="la";R5D+="y";R5D+="out";d6V.layout.setSpan=t6j;d6V.changeOccurred(R5D);if(v6X == J8n){S_m.spanLock=!0;;}if(a1g){a1g(f1d);}});};A49.ChartEngine.prototype.getSpanCandleWidth=function(H60){var X02=V5cdF;var m1Q,o$6,n49,v7L,F81,H6j,P7g,W1f,D7U;m1Q="d";m1Q+="a";m1Q+="y";o$6="m";o$6+="o";o$6+="n";o$6+="th";n49="ye";n49+="ar";if(!H60 || !H60.base || !H60.multiplier){return;}v7L=parseFloat(H60.multiplier);F81=H60.base;H6j=new Date();P7g=new Date();if(F81 == n49){P7g.setFullYear(P7g.getFullYear() - v7L);}else if(F81 == o$6){P7g.setMonth(P7g.getMonth() - v7L);}else if(F81 == m1Q){P7g.setDate(P7g.getDate() - v7L);}else if(F81 == "week"){P7g.setDate(P7g.getDate() - 7 * v7L);}else if(F81 == "YTD"){P7g.setMonth(0);P7g.setDate(1);}X02.U_P(16);var L6r=X02.Q7U(13,1010,23);X02.U_P(17);var X7a=X02.Q7U(7,10,10);X02.U_P(26);var p1_=X02.Q7U(1080,3900,3,11);X02.U6M(130);var r9M=X02.Q7U(2056,16,14,144);W1f=(H6j.getTime() - P7g.getTime()) / L6r / X7a / p1_ / r9M;X02.U_P(21);W1f=X02.l$6(W1f,5,7);D7U=this.chart.width / W1f;return D7U;};V5cdF.j0M();A49.ChartEngine.prototype.displayAll=function(P_H,T0D){var X2c,p1d,J71,x9r,a7E;X2c="mont";X2c+="h";function K4S(m1p){if(!m1p){J71.quoteDriver.loadAll(G9s,X$A);}}var {chart:G9s, layout:S9a}=this;p1d=[];if(P_H && P_H.chart){G9s=P_H.chart;}J71=this;if(!this.quoteDriver){X$A();return;}x9r=P_H.maintainPeriodicity?{period:S9a.periodicity,interval:S9a.interval,timeUnit:S9a.timeUnit}:{period:1,interval:X2c,timeUnit:null};x9r=P_H.periodicity?P_H.periodicity:x9r;x9r=A49.cleanPeriodicity(x9r.period,x9r.interval,x9r.timeUnit);a7E=this.needDifferentData(x9r);this.layout.periodicity=x9r.period;function X$A(){var q4f;if(!G9s.masterData || !G9s.masterData.length){return;}q4f=A49.clone(P_H);q4f.dtLeft=G9s.endPoints.begin;q4f.dtRight=G9s.endPoints.end;q4f.periodicity={};q4f.periodicity.interval=S9a.interval;q4f.periodicity.period=S9a.periodicity;q4f.periodicity.timeUnit=S9a.timeUnit;V5cdF.j0M();J71.setRange(q4f,function(H_v){J71.layout.setSpan={base:P_H.base,multiplier:P_H.multiplier};J71.changeOccurred("layout");for(var V_m in J71.panels){J71.calculateYAxisMargins(J71.panels[V_m].yAxis);}if(p1d.length && !J71.drawingObjects.length){J71.importDrawings(p1d);}V5cdF.U0D();J71.draw();if(T0D){T0D(H_v);}});}this.layout.interval=x9r.interval;this.layout.timeUnit=x9r.timeUnit;if(P_H.forceLoad || a7E){p1d=this.drawingObjects.map(P2s=>{return P2s.serialize();});this.clearCurrentMarketData(this.chart);this.quoteDriver.newChart({nodraw:!!1,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!!({}),fetchMaximumBars:!!({})},K4S);}else {if(G9s.moreAvailable || !G9s.upToDate){K4S();}else {this.createDataSet();X$A();}}};};G=N_o=>{var x6d,z2J;x6d="undef";x6d+="ine";x6d+="d";z2J=typeof _CIQ !== x6d?_CIQ:N_o.CIQ;z2J.ChartEngine.prototype.importLayout=function(j7k,l$N){var j96=V5cdF;var g0U,k2H,d5i,I0U,V1z,D6v,n$w,I5W,T$8,p1b,W3X,p7h,k5q,t6t,R8h,n1b,u0o,C8C,t$V,Y9Y,U2k,U31,X8N,A0b,R8s,Z1z,g8x,d01,h_R,T7L,p$S,x8T,B0N,P48,g88;g0U="un";g0U+="defi";g0U+="n";g0U+="ed";if(!j7k){if(l$N.cb){l$N.cb();}return;}k2H=this;d5i=[];I0U=this.extendedHours && !this.extendedHours.filter && j7k.extended && !this.layout.extended;if(typeof l$N !== "object"){l$N={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]};}V1z=this.layout;D6v=z2J.shallowClone(V1z);n$w=l$N.managePeriodicity;j96.U0D();I5W=l$N.cb;T$8=l$N.seriesCB;p1b=l$N.noDataLoad;W3X=l$N.preserveTicksAndCandleWidth;p7h=null;if(this.exportDrawings){p7h=this.exportDrawings();this.abortDrawings();}this.currentlyImporting=!![];for(var c5e in V1z.studies){k5q=V1z.studies[c5e];z2J.getFn("Studies.removeStudy")(this,k5q);}this.overlays={};t6t=z2J.shallowClone(this.panels);this.panels={};R8h=z2J.clone(j7k);V1z.periodicity=D6v.periodicity;V1z.interval=D6v.interval;V1z.timeUnit=D6v.timeUnit;V1z.setSpan=D6v.setSpan;V1z.range=D6v.range;if(W3X){V1z.candleWidth=D6v.candleWidth;}else {if(!V1z.candleWidth){V1z.candleWidth=+"8";}}this.setCandleWidth(V1z.candleWidth);if(V1z.flipped){this.flipChart(V1z.flipped);}n1b=R8h.panels;Y9Y=function(c3O,i8y){return c3O.index < i8y.index?-("1" ^ 0):1;};for(u0o in n1b){U2k="in";U2k+="d";U2k+="ex";if(!((U2k in n1b[u0o]))){Y9Y=null;}C8C=n1b[u0o];C8C.name=u0o;d5i.push(C8C);}V1z.panels={};U31=null;if(d5i.length > 0){if(Y9Y){d5i.sort(Y9Y);}for(var i_U="0" ^ 0;i_U < d5i.length;++i_U){C8C=d5i[i_U];t$V=C8C.yAxis?new z2J.ChartEngine.YAxis(C8C.yAxis):null;this.stackPanel(C8C.display,C8C.name,C8C.percent,C8C.chartName,t$V);if(C8C.soloing){U31=this.panels[C8C.name];}}}if(z2J.isEmpty(n1b)){this.stackPanel("chart","chart",1,"chart");}this.resizeCanvas();for(var R9P in t6t){X8N=t6t[R9P];A0b=this.panels[R9P];if(A0b){this.container.removeChild(A0b.holder);if(X8N.handle){this.container.removeChild(X8N.handle);}R8s={holder:!!"1",subholder:!"",display:!![],icons:!!1};for(var m7f in R8s){A0b[m7f]=X8N[m7f];}this.configurePanelControls(A0b);if(X8N.chart.panel == X8N){X8N.chart.panel=A0b;};}else {this.privateDeletePanel(X8N);}}this.chart.panel=this.panels.chart;K2R(this.panels);z2J.extend(V1z,z2J.clone(R8h));V1z.headsUp=z2J.clone(V1z.headsUp);Z1z=z2J.clone(V1z.studies);delete V1z.studies;function f2r(){k2H.calculateYAxisPositions();j96.j0M();K2R(k2H.panels);if(T$8){T$8();}}for(var v5d in Z1z){g8x=Z1z[v5d];d01=z2J.getFn("Studies.addStudy")(this,g8x.type,g8x.inputs,g8x.outputs,g8x.parameters,g8x.panel);if(!d01)continue;if(g8x.disabled){d01.toggleDisabledState(this);}if(g8x.signalData){d01.signalData=g8x.signalData;h_R=this.panels[d01.panel];if(this.checkForEmptyPanel(h_R,!"",d01)){h_R.hidden=!![];h_R.percent=0;}}}if(this.extendedHours){this.extendedHours.prepare(V1z.extended,V1z.marketSessions);}if(typeof V1z.chartType == g0U){V1z.chartType="line";}this.setMainSeriesRenderer();function q2i(s6k){var y2w,x1U,p10,B1V;if(p7h){k2H.importDrawings(p7h);}k2H.currentlyImporting=!({});function H7v(){k2H.createDataSet();K2R(k2H.panels);k2H.calculateYAxisPositions();j96.j0M();k2H.draw();}if(s6k){return;}p10=[];for(var R8X in k2H.chart.series){B1V="s";B1V+="tud";B1V+="y";if(!k2H.removeSeries)break;x1U=k2H.chart.series[R8X];if(x1U.parameters.bucket == B1V){y2w=!!1;k2H.removeSeries(x1U);p10.push(x1U);}}for(var z_s=0;z_s < p10.length;z_s++){x1U=p10[z_s];k2H.addSeries(x1U.id,x1U.parameters,H7v);}if(!y2w){k2H.draw();}k2H.updateListeners("layout");k2H.changeOccurred("layout");;}if(U31){this.panelSolo(U31);}function K2R(k4S){var k1F,L5T;function D63(V4r,u5s){var Z10,v47,Z3$,H10;if(!V4r[u5s] || !V4r[u5s].length){return;}Z10=k4S[V4r.name];if(!Z10){return;}v47=Z10[u5s];Z3$=new Array(v47.length);for(var h2I=0;h2I < v47.length;h2I++){H10=V4r[u5s].indexOf(v47[h2I].name);if(H10 > -1){Z3$[H10]=v47[h2I];}else {Z3$.push(v47[h2I]);}}j96.U0D();if(Z3$.length){Z10[u5s]=Z3$.filter(j_Y);}}for(var Y24=0;Y24 < d5i.length;Y24++){k1F="yaxis";k1F+="RHS";L5T=d5i[Y24];D63(L5T,"yaxisLHS");D63(L5T,k1F);}function j_Y(Y6H){j96.U0D();return !!Y6H;}k2H.chart.yAxis=k2H.chart.panel.yAxis;}this.adjustPanelPositions();K2R(this.panels);this.storePanels();if(!p1b){if(R8h.symbols && R8h.symbols.length){T7L={chart:this.chart};if(!W3X && n$w && R8h.range && Object.keys(R8h.range).length){T7L.range=R8h.range;}else if(!W3X && n$w && R8h.setSpan && Object.keys(R8h.setSpan).length){T7L.span=R8h.setSpan;}else if(n$w && R8h.interval){T7L.periodicity={interval:R8h.interval,period:R8h.periodicity,timeUnit:R8h.timeUnit};}else {T7L.periodicity={interval:D6v.interval,period:D6v.periodicity,timeUnit:D6v.timeUnit};}p$S=R8h.symbols[0].symbolObject || R8h.symbols[0].symbol;this.loadChart(p$S,T7L,function(B2H){var b3R,Z26;if(!B2H){for(var R5k,l5k=1;l5k < R8h.symbols.length;++l5k){if(!k2H.addSeries)break;R5k=R8h.symbols[l5k];if(!R5k.parameters){R5k.parameters={};}b3R=z2J.clone(R5k.parameters);if(this.panels[b3R.panel]){k2H.addSeries(R5k.id,b3R,f2r);}else {Z26="Warning";Z26+=": Se";Z26+="rie";Z26+="s \"";console.warn(Z26 + R5k.id + '" could not be imported due to a missing corresponding panel "' + b3R.panel + (960.52 !== 9970?'"':738.87 >= 655.47?(+"5468",5440) !== 2050?(3.16e+3,2.19e+3):(!"1","G"):"X"));}}if(R8h.chartScale){k2H.setChartScale(R8h.chartScale);}}q2i(B2H);if(I5W){I5W.apply(null,arguments);}});return;}if(n$w){if(!W3X && this.setRange){x8T=R8h.range;if(x8T && Object.keys(x8T).length && this.chart.symbol){this.setRange(x8T,function(){q2i();if(I5W){I5W();}});return;}else if(R8h.setSpan && Object.keys(R8h.setSpan).length && this.chart.symbol){this.setSpan(R8h.setSpan,function(){q2i();if(I5W){I5W();}});return;}}B0N=R8h.interval;P48=R8h.periodicity;g88=R8h.timeUnit;if(isNaN(P48)){j96.U6M(14);P48=j96.Q7U("1",32);}if(!B0N){B0N="day";}this.setPeriodicity({period:P48,interval:B0N,timeUnit:g88,getDifferentData:I0U},function(){q2i();if(I5W){I5W();}});return;}}if(n$w){V1z.periodicity=R8h.periodicity;V1z.interval=R8h.interval;V1z.timeUnit=R8h.timeUnit;V1z.setSpan=R8h.setSpan;}this.createDataSet();if(!W3X){this.home();}q2i();if(I5W){I5W();}};z2J.ChartEngine.prototype.exportLayout=function(g8C){var A28,Q_V,Z46,m8j,s2c,X2R,k00,A5g;A28={};for(var p$T in this.layout){Q_V="p";Q_V+="ane";Q_V+="ls";Z46="s";Z46+="t";Z46+="udi";Z46+="es";if(p$T != Z46 && p$T != "panels" && p$T != "drawing"){A28[p$T]=z2J.clone(this.layout[p$T]);}else if(p$T == "studies"){A28.studies={};}else if(p$T == Q_V){A28.panels={};}}m8j=0;for(var i6t in this.panels){s2c=this.panels[i6t];if(s2c.exportable === !1)continue;X2R=A28.panels[i6t]={};X2R.percent=s2c.percent;X2R.display=s2c.display;X2R.chartName=s2c.chart.name;X2R.soloing=s2c.soloing;X2R.index=m8j++;X2R.yAxis={name:s2c.yAxis.name,position:s2c.yAxis.position};if(s2c.yaxisLHS){X2R.yaxisLHS=p_W(s2c.yaxisLHS);}if(s2c.yaxisRHS){X2R.yaxisRHS=p_W(s2c.yaxisRHS);}}for(var A6S in this.layout.studies){k00=A28.studies[A6S]={};A5g=this.layout.studies[A6S];k00.type=A5g.type;k00.inputs=z2J.clone(A5g.inputs);k00.outputs=z2J.clone(A5g.outputs);k00.panel=A5g.panel;k00.parameters=z2J.clone(A5g.parameters);k00.disabled=A5g.disabled;if(A5g.signalData){if(A5g.signalData.cloneForExport){k00.signalData=A5g.signalData.cloneForExport();}else {k00.signalData=z2J.clone(A5g.signalData);}}}function p_W(W8j){var T2l;V5cdF.j0M();T2l=[];for(var e9e=0;e9e < W8j.length;e9e++){T2l.push(W8j[e9e].name);}return T2l;}if(g8C){A28.symbols=this.getSymbols({"include-parameters":!!1,"exclude-studies":!!({}),"exclude-generated":!![]});if(A28.symbols.length && A28.symbols[0].symbolObject && A28.symbols[0].symbolObject.static){delete A28.symbols[0].symbolObject.static;}}else {delete A28.symbols;}return A28;};z2J.ChartEngine.prototype.importPreferences=function(r8P){z2J.extend(this.preferences,r8P);if(r8P.timeZone){this.setTimeZone(this.dataZone,r8P.timeZone);}if(r8P.language && z2J.I18N){z2J.I18N.localize(this,r8P.language);}this.changeOccurred("preferences");};z2J.ChartEngine.prototype.exportPreferences=function(){V5cdF.j0M();return this.preferences;};};V5cdF.j0M();T=p4I=>{var F1M,A2A,a29,r3B,Z6R,o0P,W6$,Z2T,i64,v7d,n8P,L5N,H9q,I2U;F1M="m";F1M+="a";A2A="fiel";A2A+="d";a29="Vo";a29+="lume Chart";r3B="True Ra";r3B+="nge";Z6R="W";Z6R+="eigh";Z6R+="t";Z6R+="ed";o0P="VI";o0P+="DYA";W6$="Exp";W6$+="onential";Z2T="We";Z2T+="lles Wil";Z2T+="de";Z2T+="r";i64="welles wilde";i64+="r";v7d="s";v7d+="m";v7d+="m";v7d+="a";n8P="wm";n8P+="a";L5N="m";L5N+="a";H9q=typeof _CIQ !== "undefined"?_CIQ:p4I.CIQ;I2U=typeof _timezoneJS !== "undefined"?_timezoneJS:p4I.timezoneJS;if(H9q.ChartEngine){H9q.ChartEngine.prototype.rightClickOverlay=function(H79,A0i){var H$g;if(this.runPrepend("rightClickOverlay",arguments)){return;}H$g=this.overlays[H79];if(H$g.editFunction){H$g.editFunction(A0i);}else {this.removeOverlay(H79);}this.runAppend("rightClickOverlay",arguments);};H9q.ChartEngine.prototype.addOverlay=function(l$R){if(this.runPrepend("addOverlay",arguments)){return;}this.overlays[l$R.name]=l$R;this.runAppend("addOverlay",arguments);};H9q.ChartEngine.prototype.removeOverlay=function(Y4X){var n$0,E0S,s9C,b0a,P5Q;n$0="removeOver";n$0+="lay";if(this.runPrepend(n$0,arguments)){return;}E0S=this.overlays[Y4X];if(E0S){for(var a_i in this.overlays){s9C=this.overlays[a_i];b0a=["Field"];if(H9q.Studies){b0a=H9q.Studies.getFieldInputs(s9C);}for(var a75=0;a75 < b0a.length;a75++){if(E0S.outputMap[s9C.inputs[b0a[a75]]]){this.removeOverlay(s9C.name);}}}this.cleanupRemovedStudy(E0S);P5Q=this.panels[E0S.panel];delete this.overlays[Y4X];this.checkForEmptyPanel(E0S.panel);}if(!this.currentlyImporting){this.displaySticky();this.createDataSet();this.changeOccurred("layout");}V5cdF.j0M();this.resetDynamicYAxis();this.runAppend("removeOverlay",arguments);};H9q.ChartEngine.prototype.cleanupRemovedStudy=function(U0p){if(!U0p){return;}if(U0p.study.removeFN){U0p.study.removeFN(this,U0p);}for(var Y4Z in this.plugins){if(Y4Z.indexOf("{" + U0p.id + "}") > -1){delete this.plugins[Y4Z];}}if(U0p.removeSignals){U0p.removeSignals();}if(this.layout.studies){delete this.layout.studies[U0p.name];}this.chart.state.studies.sorted=null;delete this.overlays[U0p.name];var {sd:k_u}=this.repositioningAnchorSelector || ({});if(k_u && k_u === U0p){this.repositioningAnchorSelector=null;var {anchorHandles:q2L}=this.controls;if(q2L && q2L[U0p.uniqueId]){q2L[U0p.uniqueId].highlighted=!({});H9q.Studies.displayAnchorHandleAndLine(this,U0p,this.chart.dataSegment);}}if(H9q.Studies){H9q.Studies.removeStudySymbols(U0p,this);}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}};}H9q.Studies=H9q.Studies || (function(){});H9q.Studies.DEFAULT_INPUTS={Period:14};H9q.Studies.DEFAULT_OUTPUTS={Result:"auto"};H9q.Studies.impliedVolatilityAvailable=!({});H9q.Studies.sortForProcessing=I9x=>{var O7a,G5P;O7a=[];G5P=I9x.layout.studies;function g_c(x7U,u3K){V5cdF.j0M();x7U.forEach(n7Z=>{var J5a;V5cdF.j0M();if(u3K.indexOf(n7Z) == -1){J5a=n7Z.getDependents(I9x);if(J5a.length){g_c(J5a,u3K);}u3K.unshift(n7Z);}});}if(G5P){g_c(Object.values(G5P),O7a);}return O7a;};H9q.Studies.getQuoteFieldValue=function(A2n,f0M,N4i = "Close"){var v_1,T5F;v_1="ob";v_1+="j";v_1+="e";v_1+="ct";if(!A2n || !f0M){return null;}T5F=null;if(typeof A2n[f0M] === "number"){T5F=A2n[f0M];}else if(A2n[f0M] && typeof A2n[f0M] === v_1){T5F=A2n[f0M][N4i];}if(!T5F && T5F !== 0){return null;}return T5F;};H9q.Studies.StudyDescriptor=function(n72,C8z,u88,D20,f06,f6C){var h41,K2P;h41="C";h41+="l";h41+="o";h41+="se";this.name=n72;this.disabled=!({});this.type=C8z;this.panel=u88;this.inputs=D20;this.outputs=f06;this.parameters=f6C;this.outputMap={};this.min=null;this.max=null;this.startFrom=0;this.subField=h41;K2P=H9q.Studies.studyLibrary[C8z];if(!K2P){K2P={};if(u88 == "chart" || !u88 && f6C && f6C.chartName == "chart"){this.overlay=!![];}}if(typeof K2P.inputs == "undefined"){K2P.inputs=H9q.clone(H9q.Studies.DEFAULT_INPUTS);}if(typeof K2P.outputs == "undefined"){K2P.outputs=H9q.clone(H9q.Studies.DEFAULT_OUTPUTS);}this.study=K2P;this.libraryEntry=K2P;;};H9q.Studies.StudyDescriptor.prototype.toggleDisabledState=function(b58){var p1w,z1K;p1w="l";p1w+="a";p1w+="yo";p1w+="ut";z1K="s";z1K+="h";z1K+="o";z1K+="w";var {disabled:A15, study:Q8s, signalData:G7W}=this;var {chart:j2y}=b58;this.disabled=A15=!A15;if(!A15){this.startFrom=0;this.error=null;if(Q8s && Q8s.calculateFN){Q8s.calculateFN(b58,this);}if(this.flagSignals){this.flagSignals();}}else if(j2y.customChart && j2y.customChart.owner === this.name){Q8s.calculateFN(b58,this);}if(G7W){G7W[A15?"hide":z1K]();}b58.changeOccurred(p1w);b58.draw();};H9q.Studies.StudyDescriptor.prototype.getYAxis=function(t5p){var B9e,F6$,U1B;B9e=this.yAxis;if(this.parameters){F6$=this.parameters.yAxis?this.parameters.yAxis.name:this.parameters.yaxisDisplayValue;}if(!B9e){U1B=t5p.panels[this.panel];if(U1B){B9e=t5p.getYAxisByName(U1B,F6$) || t5p.getYAxisByName(U1B,this.name) || U1B.yAxis;}}if(!B9e){B9e=t5p.getYAxisByName(t5p.chart.panel,F6$) || t5p.chart.panel.yAxis;}return B9e;};H9q.Studies.StudyDescriptor.prototype.getContext=function(M33){return M33.chart.context;};H9q.Studies.StudyDescriptor.prototype.getDependents=function(I6R,L7O){V5cdF.j0M();var r98,Z7O,O_m;r98=[];for(var b0Z in I6R.layout.studies){Z7O=I6R.layout.studies[b0Z];if(Z7O == this)continue;O_m=H9q.Studies.getFieldInputs(Z7O);for(var F8r=+"0";F8r < O_m.length;F8r++){if(Z7O.inputs[O_m[F8r]].includes(this.name)){if(L7O && Z7O.parameters && Z7O.parameters.panelName)continue;r98.push(Z7O);r98=r98.concat(Z7O.getDependents(I6R,L7O));break;}}}return r98;};H9q.Studies.StudyDescriptor.prototype.undraggable=function(U5y){var x6g;if(this.signalData){return !![];}V5cdF.j0M();x6g=this.study.attributes;if(x6g){if(x6g.panelName && x6g.panelName.hidden){return !![];}if(x6g.yaxisDisplayValue && x6g.yaxisDisplayValue.hidden){return !!({});}}return !({});};H9q.Studies.StudyDescriptor.prototype.appendFutureTicks=function(y9e,X63){V5cdF.j0M();var N4a,e2i,O2V,r7t;N4a=y9e.chart.scrubbed;if(!N4a.length){return;}e2i=y9e.standardMarketIterator(N4a[N4a.length - 1].DT);for(O2V=X63.length - 1;O2V >= 0;O2V--){r7t=X63[O2V];for(var V5D in r7t){if(r7t[V5D] || r7t[V5D] === 0){O2V=-1;break;}}if(O2V == -1)break;X63.pop();}for(O2V=0;O2V < X63.length;O2V++){r7t=X63[O2V];if(!r7t.DT){r7t.DT=e2i.next();}if(!r7t.displayDate){y9e.setDisplayDate(r7t);}r7t.futureTick=!!"1";N4a.push(r7t);}};H9q.Studies.generateID=function(G1g,g_M,X70,o6I,I4v){var K_i=V5cdF;var H8$,h2k,e2V,o2x,k1Z,k0C,D3O,w_3,o33;H8$=H9q.Studies.studyLibrary[g_M];K_i.U6M(19);K_i.U0D();h2k=K_i.l$6("\u200c",I4v || g_M,7017 != (956.53,948.74)?"\u200c":8441 !== 3087?("l","u"):"b");e2V=h2k;if(H8$){if(H8$.customRemoval){return e2V;}}if(!H9q.isEmpty(X70)){o2x=!"";for(var s5e in X70){k1Z="S";k1Z+="had";k1Z+="in";k1Z+="g";k0C="i";k0C+="d";if([k0C,"display",k1Z,"Anchor Selector"].includes(s5e)){continue;}D3O=X70[s5e];if(D3O == "field")continue;D3O=D3O.toString();if(H9q.Studies.prettify[D3O] !== undefined){D3O=H9q.Studies.prettify[D3O];}if(o2x){w_3=" ";w_3+="(";o2x=!({});e2V+=w_3;}else {if(D3O){e2V+=+"3082" === 157.11?(7.29e+3,"h"):557.2 <= (9070,+"310")?(!!({}),+"0xe01"):",";}}e2V+=D3O;}if(!o2x){e2V+=(4839,3520) > (3797,1850)?")":(0x1687,"M");}}if(o6I && o6I.indexOf(e2V) === 0){return o6I;}if(G1g.layout.studies && G1g.layout.studies[e2V]){for(var I7G=2;I7G < "50" * 1;I7G++){K_i.U_P(19);o33=K_i.Q7U(I7G,"-",e2V);if(!G1g.layout.studies[o33]){e2V=o33;break;}}}return e2V;};H9q.Studies.DialogHelper=function(L7L){var r7R=V5cdF;var h_S,H$0,Z58,n8n,r$Q,M5C,W7z,d6a,q$r,U7C,r6S,J7d,N3d,s9I,M6m,J5c,o4t,r7p,y9Z,D9d,s05,S_u,a_N,t_W,d1G,o3_,x$S,c8v,R$z,e3Q,W4q,s02,H0k,m8D,m_T,U$J,y2A,b8o,T25,g0e,X5f,c$H,u5v;h_S="un";h_S+="d";h_S+="efine";h_S+="d";H$0=this.stx=L7L.stx;Z58=this.sd=L7L.sd;this.name=Z58?Z58.type:L7L.name;this.signal=+"1";this.inputs=[];this.outputs=[];this.parameters=[];n8n=this.libraryEntry=Z58?Z58.study:H9q.Studies.studyLibrary[L7L.name];if(typeof n8n.inputs == "undefined"){n8n.inputs=H9q.clone(H9q.Studies.DEFAULT_INPUTS);}if(typeof n8n.outputs == h_S){n8n.outputs=H9q.clone(H9q.Studies.DEFAULT_OUTPUTS);}r$Q=Z58 && H$0.panels[Z58.panel]?H$0.panels[Z58.panel]:H$0.chart.panel;function k_N(I7O){var S9s,V8m;S9s="al";S9s+="ias";if(y2A == S9s){V8m=+"1";for(var X3R in H$0.panels){if(X3R == I7O){return a0N(X3R,V8m);}V8m++;}}function a0N(c8J,d$m){r7R.j0M();var o0C;o0C="P";o0C+="anel";o0C+=" ";return o0C + d$m.toString();}return I7O;}M5C=r$Q.chart;this.title=H$0.translateIf(n8n.name);this.attributes=H9q.clone(n8n.attributes);if(!this.attributes){this.attributes={};}for(var t8T in this.attributes){W7z=this.attributes[t8T];for(var J0a in W7z){if(typeof W7z[J0a] == "function"){W7z[J0a]=W7z[J0a].call(Z58);}}}r7R.j0M();d6a=[];q$r=H$0.layout.studies;function A6K(a8u,Q0g){var D8x;D8x=this;r7R.j0M();if(!D8x.attributes[a8u]){D8x.attributes[a8u]={};}if(Q0g){D8x.attributes[a8u].hidden=!!({});}}U7C=[];if(Z58){U7C=Array.prototype.concat(Z58,Z58.getDependents(H$0));}for(var l0g in q$r){if(q$r[l0g].signalData)continue;if(U7C.indexOf(q$r[l0g]) > -1)continue;for(var t6F in q$r[l0g].outputMap){d6a.push(t6F);}}for(var p1F in n8n.inputs){r6S={};this.inputs.push(r6S);r6S.name=p1F;r6S.heading=H$0.translateIf(p1F);J7d=n8n.inputs[p1F];if(Z58 && Z58.inputs && typeof Z58.inputs[p1F] != "undefined" && Z58.inputs[p1F] !== null){r6S.value=Z58.inputs[p1F];}else {r6S.value=n8n.inputs[p1F];}r6S.defaultInput=n8n.inputs[p1F];if(!this.attributes[p1F]){this.attributes[p1F]=H9q.Studies.inputAttributeDefaultGenerator(r6S.defaultInput);}if(J7d.constructor == Number){r6S.type="number";}else if(J7d.constructor == String){N3d=H9q.Studies.movingAverageHelper(H$0,r6S.defaultInput);if(N3d){r6S.type="select";r6S.defaultInput=N3d;s9I=H9q.Studies.movingAverageHelper(H$0,r6S.value);if(!s9I){s9I=r6S.value;}r6S.value=s9I;r6S.options=H9q.Studies.movingAverageHelper(H$0,"options");}else if(J7d == "field"){M6m="fiel";M6m+="d";J5c="h";J5c+="l";J5c+="/";J5c+="2";o4t=H$0.chart.series;r7p=[];for(var d7z in o4t){if(o4t[d7z].parameters && o4t[d7z].parameters.isComparison){r7p.push(d7z);}}r6S.type="select";r6S.options={};y9Z=["Open","High","Low","Close","Adj_Close",J5c,"hlc/3","hlcc/4","ohlc/4",M5C.defaultPlotField].concat(d6a,r7p);for(var C17=0;C17 < y9Z.length;C17++){D9d=y9Z[C17];r6S.options[D9d]=H$0.translateIf(D9d);}if(r6S.value == M6m){s05="C";s05+="lose";r6S.value=s05;}if(r6S.defaultInput == "field"){r6S.defaultInput="Close";}}else {S_u="h";S_u+="h:mm:s";S_u+="s";a_N="yyyy-m";a_N+="m";a_N+="-dd";r6S.type="text";if(this.attributes[p1F].placeholder == a_N){r6S.type="date";}else if(this.attributes[p1F].placeholder == S_u){r6S.type="time";}}}else if(J7d.constructor == Boolean){r6S.type="checkbox";if(r6S.value === !!"1" || r6S.value == "true" || r6S.value == "on"){r6S.value=!![];}}else if(J7d.constructor == Array){r6S.type="select";r6S.options={};for(var N6x="0" | 0;N6x < J7d.length;N6x++){r6S.options[J7d[N6x]]=H$0.translateIf(J7d[N6x]);}if(r6S.value.constructor == Array){r7R.U6M(2);r6S.value=r6S.value[r7R.Q7U(1,"0")];}if(this.attributes[p1F].defaultSelected){r6S.defaultInput=this.attributes[p1F].defaultSelected;}else {r6S.defaultInput=J7d[+"0"];}}}this.dateTimeInputs=[];for(var E_n=0;E_n < this.inputs.length;E_n++){t_W=this.inputs[E_n];if(t_W.type == "date"){d1G=t_W.name.substring(0,t_W.name.indexOf(" Date"));for(var w7I=0;w7I < this.inputs.length;w7I++){o3_=this.inputs[w7I];if(o3_.type == "time"){if(o3_.name == d1G + " Time"){this.dateTimeInputs.push(d1G);break;}}}}}this.adjustInputTimesForDisplayZone();for(p1F in n8n.outputs){x$S={name:p1F,heading:H$0.translateIf(p1F)};x$S.color=x$S.defaultOutput=n8n.outputs[p1F];if(Z58 && Z58.outputs && Z58.outputs[p1F]){x$S.color=Z58.outputs[p1F];}if(x$S.color == "auto"){x$S.color=H$0.defaultColor;}this.outputs.push(x$S);}c8v=Z58?Z58.parameters:null;function V3q(R61){var P07,I9y,h6$;P07={};I9y=R61.defaults;h6$={name:R61.name,heading:H$0.translateIf(R61.label),defaultValue:I9y[0],value:R61.value,options:P07,type:"select"};for(var B2c=0;B2c < I9y.length;B2c++){P07[I9y[B2c]]=H$0.translateIf(I9y[B2c]);}if(R61.color !== undefined){h6$.defaultColor=H$0.defaultColor;h6$.color=R61.color;}return h6$;}if(n8n.parameters){R$z=n8n.parameters.init;if(R$z){if(R$z.studyOverZonesEnabled !== undefined){W4q="chec";W4q+="kbox";s02="Sho";s02+="w Zones";H0k="study";H0k+="OverZo";H0k+="nes";e3Q={name:H0k,heading:H$0.translateIf(s02),defaultValue:R$z.studyOverZonesEnabled,value:R$z.studyOverZonesEnabled};if(c8v && (c8v.studyOverZonesEnabled || c8v.studyOverZonesEnabled === !({}))){e3Q.value=c8v.studyOverZonesEnabled;}e3Q.type=W4q;this.parameters.push(e3Q);}if(R$z.studyOverBoughtValue !== undefined){m8D="Ov";m8D+="erBo";m8D+="u";m8D+="ght";e3Q={name:"studyOverBought",heading:H$0.translateIf(m8D),defaultValue:R$z.studyOverBoughtValue,value:R$z.studyOverBoughtValue,defaultColor:R$z.studyOverBoughtColor,color:R$z.studyOverBoughtColor};if(c8v && c8v.studyOverBoughtValue){e3Q.value=c8v.studyOverBoughtValue;}if(c8v && c8v.studyOverBoughtColor){e3Q.color=c8v.studyOverBoughtColor;}if(e3Q.color == "auto"){e3Q.color=H$0.defaultColor;}e3Q.type="text";this.parameters.push(e3Q);}if(R$z.studyOverSoldValue !== undefined){m_T="au";m_T+="to";U$J="Ov";U$J+="erSold";e3Q={name:"studyOverSold",heading:H$0.translateIf(U$J),defaultValue:R$z.studyOverSoldValue,value:R$z.studyOverSoldValue,defaultColor:R$z.studyOverSoldColor,color:R$z.studyOverSoldColor};if(c8v && c8v.studyOverSoldValue){e3Q.value=c8v.studyOverSoldValue;}if(c8v && c8v.studyOverSoldColor){e3Q.color=c8v.studyOverSoldColor;}if(e3Q.color == m_T){e3Q.color=H$0.defaultColor;}e3Q.type="text";this.parameters.push(e3Q);}if(!this.attributes.studyOverBoughtValue){this.attributes.studyOverBoughtValue={};}if(!this.attributes.studyOverSoldValue){this.attributes.studyOverSoldValue={};}}}y2A=this.panelSelect=L7L.panelSelect;b8o=this.axisSelect=L7L.axisSelect;function h9M(f5h){var t$m;r7R.U0D();t$m={name:f5h.name,heading:H$0.translateIf(f5h.label),defaultValue:f5h.defaults,value:f5h.value,type:"checkbox"};return t$m;}if(L7L.addWhenDone){b8o=y2A=!({});}if(b8o || y2A){if(!Z58){Z58=H9q.Studies.addStudy(H$0,L7L.name,null,null,{calculateOnly:!!1});H9q.Studies.removeStudy(H$0,Z58);}if(y2A){T25="P";T25+="anel";this.parameters.push(V3q({label:T25,name:"panelName",defaults:(function(){var L57,I13;L57="A";L57+="u";L57+="t";L57+="o";r7R.U0D();I13=[];I13.push(L57);for(var U7r in H$0.panels){if(U7r != Z58.panel || !c8v || !c8v.panelName)if(!H$0.panels[U7r].noDrag){I13.push(k_N(U7r));}}if(!H$0.checkForEmptyPanel(Z58.panel,!0,Z58)){I13.push("New panel");}return I13;})(),value:c8v && c8v.panelName?k_N(c8v.panelName):"Auto"}),h9M({label:"Show as Underlay",name:"underlay",defaults:!1,value:Z58.underlay || Z58.parameters && Z58.parameters.underlayEnabled}));}g0e=H$0.getYAxisByName(r$Q,Z58.name);if(b8o){X5f="Invert Y-Axi";X5f+="s";c$H="shar";c$H+="ed";u5v="yaxisDisp";u5v+="lay";this.parameters.push(V3q({label:"Y-Axis",name:u5v,defaults:(function(){var F_6,g2f;F_6=r$Q.yaxisLHS.concat(r$Q.yaxisRHS);g2f=[];g2f.push("default","right","left","none","shared");for(var v6_=0;v6_ < F_6.length;v6_++){if(F_6[v6_] != g0e){g2f.push(F_6[v6_].name);}}return g2f;})(),value:c8v && c8v.yaxisDisplayValue || g0e && g0e.position || (!g0e?c$H:"default"),color:g0e && g0e.textStyle?g0e.textStyle:"auto"}),h9M({label:X5f,name:"flipped",defaults:!"1",value:c8v && c8v.flippedEnabled !== undefined?c8v.flippedEnabled:g0e?g0e.flipped:!({})}));}A6K.call(this,"flippedEnabled",!g0e && Z58.panel != Z58.name);A6K.call(this,"underlayEnabled",n8n.underlay);A6K.call(this,"panelName",n8n.seriesFN === null);A6K.call(this,"yaxisDisplayValue",n8n.seriesFN === null || n8n.yAxis && n8n.yAxis.noDraw);}};H9q.Studies.DialogHelper.prototype.updateStudy=function(M50){var M5j,b1T,D6k,p8s;M5j={};b1T=this.sd;D6k=this.libraryEntry;if(!D6k){D6k={};}if(!b1T){b1T=D6k;}M5j.inputs=H9q.clone(b1T.inputs);M5j.outputs=H9q.clone(b1T.outputs);M5j.parameters=H9q.clone(b1T.parameters);this.adjustInputTimesForDisplayZone(M50);if(M50.parameters && M50.parameters.panelName){M50.parameters.panelName=z6p.call(this,M50.parameters.panelName);}H9q.extend(M5j,M50);if(!M5j.parameters){M5j.parameters={};}if(M5j.inputs && M5j.inputs.id){b1T=H9q.Studies.replaceStudy(this.stx,M5j.inputs.id,this.name,M5j.inputs,M5j.outputs,M5j.parameters,null,b1T.study);}else {b1T=H9q.Studies.addStudy(this.stx,this.name,M5j.inputs,M5j.outputs,M5j.parameters,null,b1T.study);}function z6p(k2n){var u5j,h3X;u5j=this;if(u5j.panelSelect == "alias"){h3X=I2v(k2n);if(h3X){for(var c3B in u5j.stx.panels){if(!--h3X){return c3B;}}}}V5cdF.j0M();function I2v(t$6){var H12;H12=t$6.match(/.{0,50} (\d)/);return H12 && H12[1];}return k2n;}p8s=new H9q.Studies.DialogHelper({stx:this.stx,sd:b1T,axisSelect:this.axisSelect,panelSelect:this.panelSelect});for(var r_E in p8s){if(r_E != "signal"){this[r_E]=p8s[r_E];}}this.signal*=-1;;};H9q.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(J6o){var s1X=V5cdF;var M0E,n_e,O4L,U$R,p4o,z$X,Y9j,X04,X86,f3D,l1z;if(this.stx.displayZone){for(var G4a=+"0";G4a < this.dateTimeInputs.length;G4a++){M0E=this.dateTimeInputs[G4a];z$X="";if(J6o && J6o.inputs){Y9j=" Ti";Y9j+="m";Y9j+="e";X04=" ";X04+="D";X04+="a";X04+="te";s1X.U_P(1);O4L=J6o.inputs[s1X.l$6(X04,M0E)];s1X.U_P(1);U$R=J6o.inputs[s1X.l$6(Y9j,M0E)];if(O4L){z$X=O4L;}if(U$R){z$X+=U$R;}}for(n_e=0;n_e < this.inputs.length;n_e++){X86=" ";X86+="Da";X86+="te";p4o=this.inputs[n_e];if(!O4L && O4L !== "" && p4o.name == M0E + X86){z$X=p4o.value + z$X;}else if(!U$R && U$R !== "" && p4o.name == M0E + " Time"){z$X+=p4o.value;}}z$X=z$X.replace(/\D/g,"");if(z$X.length < 12){return;}f3D=H9q.strToDateTime(z$X);if(!isNaN(f3D.valueOf())){if(J6o){if(!J6o.inputs){J6o.inputs={};}l1z=H9q.convertTimeZone(f3D,this.stx.displayZone);s1X.U_P(1);J6o.inputs[s1X.Q7U(" Date",M0E)]=H9q.yyyymmdd(l1z);s1X.U6M(1);J6o.inputs[s1X.l$6(" Time",M0E)]=H9q.hhmmss(l1z);}else {l1z=H9q.convertTimeZone(f3D,null,this.stx.displayZone);for(n_e=0;n_e < this.inputs.length;n_e++){p4o=this.inputs[n_e];if(p4o.name == M0E + " Date"){p4o.value=H9q.yyyymmdd(l1z);}if(p4o.name == M0E + " Time"){p4o.value=H9q.hhmmss(l1z);}}}}}}};H9q.Studies.prepareStudy=function(d0k,k7T,k78){var L4s=V5cdF;L4s.U0D();if(typeof k7T.calculateFN == "undefined"){k7T.useRawValues=!!"1";}if(H9q.isEmpty(k78.outputMap)){for(var m1U in k78.outputs){if(k7T.useRawValues){k78.outputMap[m1U]=m1U;}else {L4s.U_P(62);var J_B=L4s.Q7U(857,846,857);L4s.U_P(70);var e6x=L4s.Q7U(9103,1,9,6);k78.outputMap[m1U + (55.78 >= (J_B,e6x)?(+"424.75",![]):" ") + k78.name]=m1U;}}}};H9q.Studies.rejiggerDerivedStudies=function(q2m,q0v,b0k){var t6D,J1e,L7l,L2j,R_M,H5r,c64,j5B,W0_;t6D=q0v.name;J1e=q0v.panel;L7l=q0v.getDependents(q2m);for(var q8H=0;q8H < L7l.length;q8H++){L2j=L7l[q8H];R_M=H9q.clone(L2j.inputs);H5r=R_M.id;if(!H5r)continue;c64=!"1";j5B=H9q.Studies.getFieldInputs(L2j);for(var M7X=0;M7X < j5B.length;M7X++){R_M[j5B[M7X]]=R_M[j5B[M7X]].replace(t6D,b0k);}W0_=H9q.Studies.replaceStudy(q2m,H5r,L2j.type,R_M,L2j.outputs,H9q.extend(L2j.parameters,{rejiggering:!!"1"}),null,L2j.study);delete W0_.parameters.rejiggering;}};H9q.Studies.removeStudySymbols=function(N9c,D1Q){if(N9c.series){for(var m0E in N9c.series){D1Q.deleteSeries(N9c.series[m0E],null,{action:"remove-study"});}};};H9q.Studies.replaceStudy=function(U3c,L1e,u4t,c42,d$o,B$S,N6K,V59){var V2e,i_T,F0a,a3K,h2T,T0G,e48,x4d;if(!B$S){B$S={};}if(L1e){B$S.replaceID=L1e;}L1e=B$S.replaceID;V2e=U3c.layout.studies[L1e];H9q.Studies.removeStudySymbols(V2e,U3c);if(V2e.attribution){U3c.removeFromHolder(V2e.attribution.marker);}if(U3c.quoteDriver){U3c.quoteDriver.updateSubscriptions();}if(c42){if(c42.id == c42.display){delete c42.display;}delete c42.id;}i_T=H9q.Studies.addStudy(U3c,u4t,c42,d$o,B$S,N6K,V59);i_T.highlight=V2e.highlight;i_T.uniqueId=V2e.uniqueId;if(V2e.signalData){i_T.signalData=V2e.signalData;if(i_T.signalData.updateConditions){i_T.signalData.updateConditions(L1e,i_T.inputs.id);}}a3K={};for(F0a in U3c.layout.studies){if(F0a == L1e){a3K[i_T.name]=i_T;}else {a3K[F0a]=U3c.layout.studies[F0a];}}U3c.layout.studies=a3K;a3K={};for(F0a in U3c.overlays){if(F0a == L1e){if(i_T.overlay || i_T.underlay){a3K[i_T.name]=i_T;}}else {a3K[F0a]=U3c.overlays[F0a];}}U3c.overlays=a3K;if(!U3c.overlays[i_T.name] && (i_T.overlay || i_T.underlay)){U3c.addOverlay(i_T);}U3c.checkForEmptyPanel(V2e.panel);if(!B$S.rejiggering){U3c.initializeDisplay(U3c.chart);H9q.Studies.rejiggerDerivedStudies(U3c,V2e,i_T.inputs.id,i_T.panel);}H9q.transferObject(V2e,i_T);U3c.layout.studies[i_T.name]=V2e;U3c.overlays[i_T.name]=V2e;U3c.chart.state.studies.sorted=null;if(!B$S.rejiggering){if(!V2e.currentlyImporting && !B$S.calculateOnly && V2e.chart.dataSet){U3c.createDataSet(null,V2e.chart);}h2T=-341468641;T0G=-1802145;e48=+"2";for(var o3H=+"1";V5cdF.Y5G(o3H.toString(),o3H.toString().length,"80580" * 1) !== h2T;o3H++){U3c.changeOccurred("");e48+=2;}if(V5cdF.S0_(e48.toString(),e48.toString().length,69881) !== T0G){x4d="lay";x4d+="o";x4d+="ut";U3c.changeOccurred(x4d);}U3c.draw();}return V2e;};H9q.Studies.addStudy=function(q3N,X06,r4n,b3K,K0m,l59,L_L){var r$_=V5cdF;var u3J,p4J,w_2,W0F,K1S,O$1,R5x,o9$,f2q,N0e,G1d,E7y,S4N;u3J="a";u3J+="b";u3J+="ort";p4J=L_L?L_L:H9q.Studies.studyLibrary[X06];if(!K0m){K0m={};}if(p4J){if(p4J.inputs){w_2=H9q.clone(p4J.inputs);for(var V9b in w_2){if(w_2[V9b] instanceof Array){if(p4J.attributes && p4J.attributes[V9b] && p4J.attributes[V9b].defaultSelected){w_2[V9b]=p4J.attributes[V9b].defaultSelected;}else {w_2[V9b]=w_2[V9b][0];}}}r4n=H9q.extend(w_2,r4n);}if(p4J.outputs){b3K=H9q.extend(H9q.clone(p4J.outputs),b3K);}W0F=p4J.parameters;if(W0F && W0F.init){K0m=H9q.extend(H9q.clone(W0F.init),K0m);}if(W0F && !K0m.display){K0m.display=W0F.display;}}if(!r4n){r4n=H9q.clone(H9q.Studies.DEFAULT_INPUTS);}if(!b3K){b3K=H9q.clone(H9q.Studies.DEFAULT_OUTPUTS);}if(!K0m.chartName){K0m.chartName="chart";}if(K0m.panelName == "Auto" || K0m.panelName == "Default panel"){K0m.panelName="";}r$_.U0D();if(r4n.Period < 1){r4n.Period=1;}K1S=null;if(!q3N.layout.studies){q3N.layout.studies={};}if(p4J && p4J.initializeFN){K1S=p4J.initializeFN(q3N,X06,r4n,b3K,K0m,l59,L_L);}else {K1S=H9q.Studies.initializeFN(q3N,X06,r4n,b3K,K0m,l59,L_L);}if(!K1S){r$_.U6M(1);console.log(r$_.Q7U(X06,"CIQ.Studies.addStudy: initializeFN() returned null for "));return;}else if(K1S === u3J){return;}L_L=K1S.study;K1S.chart=q3N.charts[K0m.chartName];K1S.type=X06;K1S.permanent=L_L.permanent;K1S.customLegend=L_L.customLegend;K1S.uniqueId=H9q.uniqueID();H9q.Studies.prepareStudy(q3N,L_L,K1S);O$1=q3N.chart.state.studies;if(!O$1){O$1=q3N.chart.state.studies={};}O$1.sorted=null;if(!K0m.replaceID){q3N.layout.studies[K1S.inputs.id]=K1S;if(K1S.overlay || K1S.underlay){q3N.addOverlay(K1S);}if(!q3N.currentlyImporting && !K0m.calculateOnly && K1S.chart.dataSet){q3N.createDataSet(null,K1S.chart);}}else {R5x=!!({});delete K0m.replaceID;}if(q3N.quoteDriver){q3N.quoteDriver.updateSubscriptions();}if(K0m.calculateOnly){q3N.changeOccurred("layout");return K1S;}o9$=q3N.panels[K1S.panel];f2q=!({});N0e=!(K1S.overlay || K1S.underlay);if(N0e && L_L.horizontalCrosshairFieldFN){o9$.horizontalCrosshairField=L_L.horizontalCrosshairFieldFN(q3N,K1S);}if(q3N.editCallback){f2q=!!({});}else if(N0e){if(q3N.callbackListeners.studyPanelEdit && q3N.callbackListeners.studyPanelEdit.length){f2q=!0;}}else {if(q3N.callbackListeners.studyOverlayEdit && q3N.callbackListeners.studyOverlayEdit.length){f2q=!!1;}}if(f2q){K0m.editMode=!![];G1d=!!"";for(var T2R in K1S.inputs){if(T2R == "id")continue;if(T2R == "display")continue;G1d=!!({});break;}if(!G1d){for(var L83 in K1S.outputs){G1d=!!({});break;}}if(G1d){if(typeof K1S.study.edit != "undefined"){if(K1S.study.edit){E7y=(function(P08,t77,y1_,i9d,u2V){return function(){H9q.clearCanvas(P08.chart.tempCanvas,P08);r$_.j0M();t77.study.edit(t77,{stx:P08,inputs:y1_,outputs:i9d,parameters:u2V});};})(q3N,K1S,r4n,b3K,K0m);q3N.setPanelEdit(o9$,E7y);K1S.editFunction=E7y;}}else if(!N0e){E7y=(function(q2z,S6l,Z0K,s8S,k6y){r$_.j0M();return function(X8n){H9q.clearCanvas(q2z.chart.tempCanvas,q2z);q2z.dispatch("studyOverlayEdit",{stx:q2z,sd:S6l,inputs:Z0K,outputs:s8S,parameters:k6y,forceEdit:X8n});};})(q3N,K1S,r4n,b3K,K0m);K1S.editFunction=E7y;}else {if(q3N.editCallback){S4N="c";S4N+="hart";E7y=(function(Y1a,u$a,E1A,R8k,i_x){return function(){var y7e;y7e=Y1a.editCallback(Y1a,u$a);H9q.clearCanvas(Y1a.chart.tempCanvas,Y1a);H9q.Studies.studyDialog(Y1a,X06,y7e,{inputs:E1A,outputs:R8k,parameters:i_x});};})(q3N,K1S,r4n,b3K,K0m);if(o9$.name != S4N){q3N.setPanelEdit(o9$,E7y);}}else {E7y=(function(o3p,w5P,r9g,n4X,X4r){return function(){H9q.clearCanvas(o3p.chart.tempCanvas,o3p);r$_.j0M();o3p.dispatch("studyPanelEdit",{stx:o3p,sd:w5P,inputs:r9g,outputs:n4X,parameters:X4r});};})(q3N,K1S,r4n,b3K,K0m);if(o9$.name != "chart"){q3N.setPanelEdit(o9$,E7y);K1S.editFunction=E7y;}}}}}q3N.changeOccurred("layout");if(!R5x){q3N.draw();}return K1S;};H9q.Studies.removeStudy=function(H9w,D51){var H7D,v9g,R7k,i4U;H7D=H9w.panels[D51.panel];v9g=H7D && H7D.yAxis.name;if(D51.overlay || D51.underlay){H9w.removeOverlay(D51.name);}R7k=H9w.panels[D51.panel];if(D51.attribution){H9w.removeFromHolder(D51.attribution.marker);}H9w.cleanupRemovedStudy(D51);if(R7k && !H9w.checkForEmptyPanel(R7k)){if(v9g == D51.name){H9w.electNewPanelOwner(R7k);}i4U=H9w.getYAxisByName(D51.panel,D51.name);if(i4U){i4U.name=i4U.studies[1] || i4U.renderers[0];}}H9w.draw();H9w.resizeChart();};H9q.Studies.getPanelFromFieldName=function(a5v,W8t){var A8h,M66,M5_,p3a,w$a;V5cdF.U0D();A8h=H9q.Studies.getFieldInputs(W8t);if(!A8h.length){return null;}M66=a5v.layout.studies;if(!M66){return null;}M5_={};for(var G6r in M66){for(var o4T in M66[G6r].outputMap){M5_[o4T]=M66[G6r].panel;}}for(var H4l=0;H4l < A8h.length;H4l++){p3a=W8t.inputs[A8h[H4l]];if(p3a){w$a=M5_[p3a];if(w$a){return w$a;}}}return null;};H9q.Studies.createLibraryHash=function(){V5cdF.j0M();return Object.keys(H9q.Studies.studyLibrary).join(("2450" << 32,6220) != (5835,"7020" | 68)?"|":+"5840" <= 2603?("i","R"):785.14 === (238.56,88.16)?172.76:("K",!1));;};H9q.Studies.displayStudies=function(t_o,r4F,c3t){var o6Q,X6C,g5a,a$4,c$Q,E_A,c6s,p7k,T0U,T7g,R5u,j5u,C_w,m6n,E5e,y_I;if(c3t){r4F.studyLibraryHash=H9q.Studies.createLibraryHash();}V5cdF.j0M();o6Q=t_o.layout.studies;if(!o6Q){return;}X6C={};X6C[r4F.name]=!"";for(var n4d in o6Q){g5a=o6Q[n4d];a$4=g5a.study;if(!a$4)continue;if(g5a.disabled || g5a.signalData && !g5a.signalData.reveal)continue;c$Q=g5a.underlay || g5a.parameters && g5a.parameters.underlayEnabled;if(c3t && !c$Q || !c3t && c$Q)continue;E_A=H9q.clone(a$4.renderer);if(E_A && !(E_A instanceof Array)){E_A=[E_A];}c6s=t_o.panels[g5a.panel];if(c6s){if(c6s.chart != r4F)continue;if(c6s.hidden)continue;if(!X6C[c6s.name]){p7k=g5a.permanent || !t_o.manageTouchAndMouse;if(c6s.closeX){T0U="no";T0U+="ne";if(p7k){c6s.closeX.style.display=T0U;}}else if(c6s.close){T7g="n";T7g+="one";if(p7k){c6s.close.style.display=T7g;}}if(c6s.edit){if(p7k){c6s.edit.style.display="none";}}X6C[c6s.name]=p7k;}}else {if(t_o.currentlyImporting){delete o6Q[n4d];}continue;}R5u=g5a.chart.dataSegment;if(g5a.panel == g5a.parameters.chartName && (!g5a.parameters || !g5a.parameters.panelName)){j5u=H9q.Studies.getPanelFromFieldName(t_o,g5a);if(j5u && g5a.panel != j5u){g5a.panel=j5u;}}if(typeof a$4.seriesFN == "undefined"){if(E_A){if(!g5a.overlay){H9q.Studies.createYAxis(t_o,g5a,R5u,c6s);}for(var q_P=0;q_P < E_A.length;q_P++){C_w=E_A[q_P];for(var M4J in g5a.outputMap){if(g5a.outputMap[M4J] == C_w.field){C_w.field=M4J;}}if(!C_w.field)continue;C_w.panel=g5a.panel;m6n=C_w.binding;if(m6n){for(var Y97 in m6n){E5e=H9q.Studies.determineColor(g5a.outputs[m6n[Y97]]);if(E5e && E5e != "auto"){C_w[Y97]=E5e;};}}C_w.yAxis=null;y_I=H9q.Renderer.produce(C_w.type,C_w);y_I.stx=t_o;y_I.attachSeries(null,C_w).draw();}}else {H9q.Studies.displaySeriesAsLine(t_o,g5a,R5u);}if(c6s){H9q.Studies.displayError(t_o,g5a);}}else {if(c6s){if(a$4.seriesFN){a$4.seriesFN(t_o,g5a,R5u);}H9q.Studies.displayError(t_o,g5a);}}}};H9q.Studies.displayError=function(C0n,S2I,c4t){var m$I,m6R,b3T;m$I="cen";m$I+="ter";if(!S2I.error){return;}m6R=c4t && c4t.panel?c4t.panel:S2I.panel;b3T=S2I.error === !![]?C0n.translateIf("Not enough data to compute ") + C0n.translateIf(S2I.study.name):C0n.translateIf(S2I.error);if(c4t && (c4t.h !== m$I || c4t.v !== "bottom")){C0n.watermark(m6R,c4t);return;}C0n.displayErrorAsWatermark(m6R,b3T);};H9q.Studies.calculateMinMaxForDataPoint=function(B1d,J1$,y$6){var m6v,D5X,C8R,y4n;m6v=Number.MAX_VALUE;V5cdF.U_P(131);var e5m=V5cdF.l$6(6803,9,7,6,18);D5X=Number.MAX_VALUE * e5m;for(var j5J=+"0";j5J < y$6.length;j5J++){C8R="undefi";C8R+="ned";y4n=y$6[j5J][J1$];if(y4n === null || typeof y4n == C8R)continue;if(isNaN(y4n))continue;m6v=Math.min(y4n,m6v);D5X=Math.max(y4n,D5X);}return {min:m6v,max:D5X};};H9q.Studies.getYAxisParameters=function(V6z,x_e){var H5e=V5cdF;var c$v,b85,T0g,L1n,I48,e8s;c$v={};b85=V6z.layout.studies && V6z.layout.studies[x_e.name];if(b85){T0g=-279467311;L1n=-178524629;I48=+"2";for(var i3M=+"1";H5e.S0_(i3M.toString(),i3M.toString().length,90269) !== T0g;i3M++){e8s=b85.study;I48+=2;}if(H5e.Y5G(I48.toString(),I48.toString().length,87153) !== L1n){e8s=b85.study;}if(e8s.yaxis || e8s.yAxisFN){c$v.noDraw=!![];}else {if(e8s.parameters && e8s.parameters.excludeYAxis){c$v.noDraw=!!1;}c$v.ground=e8s.yAxis && e8s.yAxis.ground;if(x_e){if(e8s.range != "bypass"){if(e8s.range == "0 to 100"){c$v.range=[0,100];}else if(e8s.range == "-1 to 1"){H5e.U6M(24);c$v.range=[-H5e.l$6("1",1),H5e.l$6("1",0,H5e.U6M(10))];}else {if(e8s.range == "0 to max"){c$v.range=[0,Math.max(0,x_e.high)];}else if(e8s.centerline || e8s.centerline === 0){c$v.range=[Math.min(e8s.centerline,x_e.low),Math.max(e8s.centerline,x_e.high)];}}}if(c$v.range){x_e.low=c$v.range[0];H5e.U_P(9);x_e.high=c$v.range[H5e.Q7U(32,"1")];}if(b85.min){x_e.min=b85.min;}if(b85.max){x_e.max=b85.max;}if(b85.parameters && b85.parameters.studyOverZonesEnabled){c$v.noDraw=!![];}}}}return c$v;};H9q.Studies.doPostDrawYAxis=function(n9U,A6I){var j5r,o8P,o3i,l6Y,o9o;V5cdF.j0M();for(var i6X in n9U.layout.studies){j5r=n9U.layout.studies[i6X];o8P=n9U.panels[j5r.panel];if(!o8P || o8P.hidden)continue;o3i=j5r.getYAxis(n9U);if(o3i != A6I)continue;l6Y=j5r.study;if(A6I.name == j5r.name){if(l6Y.yaxis){l6Y.yaxis(n9U,j5r);}if(l6Y.yAxisFN){l6Y.yAxisFN(n9U,j5r);};}H9q.Studies.drawZones(n9U,j5r);if(!j5r.error){o9o=l6Y.centerline;if(o9o || o9o === 0 || o9o !== null && A6I.highValue - 0.000000000001 > 0 && A6I.lowValue + 0.000000000001 < "0" >> 0){H9q.Studies.drawHorizontal(n9U,j5r,null,o9o || 0,A6I);}}}};H9q.Studies.displaySeriesAsLine=function(p2U,M9x,q$h){var H8u,n2A,z2f,z7V;V5cdF.U0D();H8u=2118959279;n2A=1713244952;z2f=2;for(var F6F=1;V5cdF.Y5G(F6F.toString(),F6F.toString().length,77345) !== H8u;F6F++){if(!q$h.length){return;}z2f+=2;}if(V5cdF.S0_(z2f.toString(),z2f.toString().length,"68369" * 1) !== n2A){if(+q$h.length){return;}}z7V=p2U.panels[M9x.panel];if(!z7V || z7V.hidden){return;}for(var N1W in M9x.outputMap){H9q.Studies.displayIndividualSeriesAsLine(p2U,M9x,z7V,N1W,q$h);}};H9q.Studies.displaySeriesAsHistogram=function(O06,L3g,P8Z){var o3f,C9_,e16,u3n,m8N,i$q,u_g,h8x,Y6V,S8N,A5d,J0A,w9E;o3f="ove";o3f+="rla";o3f+="i";o3f+="d";if(!P8Z.length){return;}C9_=O06.panels[L3g.panel];if(!C9_){return;}if(C9_.hidden){return;}e16=[];for(var F7B in L3g.outputMap){u3n="obj";u3n+="ect";m8N=L3g.outputs[L3g.outputMap[F7B]];if(!m8N)continue;i$q=0.3;if(typeof m8N == u3n){i$q=m8N.opacity;m8N=m8N.color;}u_g={field:F7B,fill_color_up:m8N,border_color_up:m8N,fill_color_down:m8N,border_color_down:m8N};if(L3g.underlay){u_g.opacity_up=u_g.opacity_down=i$q || 0.3;}e16.push(u_g);}h8x=L3g.getYAxis(O06);Y6V=L3g.inputs;S8N=Y6V.WidthFactor;if(L3g.study && L3g.study.parameters){A5d="u";A5d+="ndef";A5d+="i";A5d+="ned";J0A=L3g.study.parameters;if(typeof J0A.widthFactor !== A5d){S8N=J0A.widthFactor;}}w9E={name:L3g.name,type:Y6V.HistogramType?Y6V.HistogramType:o3f,panel:L3g.panel,yAxis:h8x,widthFactor:S8N || 0.5,bindToYAxis:!!1,highlight:L3g.highlight};O06.drawHistogram(w9E,e16);};H9q.Studies.displayIndividualSeriesAsLine=function(P9p,J9s,m0u,V3Z,C3u){var Q9E,P7c,M6L,F5P,e1e,w8F,q_b,w5s,I1Q,i7e,b$9,P5j,b9a,R9s,v0h,n3E,U5h,E7L;Q9E="tran";Q9E+="sparent";P7c="s";P7c+="t";P7c+="e";P7c+="p";if(!m0u.height){m0u.height=m0u.bottom - m0u.top;}V5cdF.j0M();M6L=J9s.getContext(P9p);F5P=J9s.outputs[J9s.outputMap[V3Z]];if(!F5P){return;}M6L.save();if(typeof F5P === "string"){F5P={color:F5P,width:1};}M6L.lineWidth=F5P.width || "1" >> 0;e1e=F5P.color;if(e1e == "auto"){e1e=P9p.defaultColor;}M6L.strokeStyle=e1e;w8F=F5P.pattern;M6L.setLineDash(H9q.borderPatternToArray(M6L.lineWidth,w8F));M6L.lineDashOffset=0;q_b=0;w5s=J9s.study;I1Q=J9s.getYAxis(P9p);q_b=P9p.decimalPlacesFromPriceTick(I1Q.priceTick,I1Q.idealTickSizePixels);if(J9s.overlay || J9s.underlay){q_b=null;}if(I1Q.decimalPlaces || I1Q.decimalPlaces === 0){q_b=I1Q.decimalPlaces;}i7e=null;if(J9s.parameters){i7e=J9s.parameters.label;}b$9=w5s.parameters;if(!b$9){b$9={};}P5j=b$9.plotType == P7c;if(J9s.series){for(var t4c in J9s.series){b9a="ste";b9a+="p";R9s=J9s.series[t4c].parameters.type;if(R9s){V5cdF.U6M(88);P5j=V5cdF.Q7U(R9s,b9a);}}}if(b$9.noLabels){i7e=!!0;}if(!J9s.noSlopes && J9s.noSlopes !== !1){J9s.noSlopes=b$9.noSlopes;}if(!J9s.extendToEnd && J9s.extendToEnd !== ![]){J9s.extendToEnd=b$9.extendToEnd;}v0h=i7e || P9p.preferences.labels && i7e !== ![];n3E=J9s.gaplines;if(n3E === !"1"){n3E=Q9E;}U5h=J9s.inputs.Symbol;E7L=n3E?P9p.getGapColorFunction(U5h,V3Z,F5P,n3E):null;P9p.plotDataSegmentAsLine(V3Z,m0u,{yAxis:I1Q,skipTransform:P9p.panels[J9s.panel].name != J9s.chart.name,label:v0h,labelDecimalPlaces:q_b,noSlopes:J9s.noSlopes,step:P5j,alignStepToSide:J9s.alignStepToSide,extendToEndOfLastBar:J9s.extendToEndOfLastBar,width:J9s.lineWidth,extendToEndOfDataSet:J9s.extendToEnd,gapDisplayStyle:n3E,highlight:J9s.highlight},E7L);if(w5s.appendDisplaySeriesAsLine){w5s.appendDisplaySeriesAsLine(P9p,J9s,C3u,V3Z,m0u);}M6L.restore();};H9q.Studies.drawHorizontal=function(H_K,C6F,H3T,l7P,M$m,U2p){var u6u,w4i,E8i;u6u=H_K.panels[C6F.panel];w4i=H_K.getBackgroundCanvas().context;V5cdF.j0M();if(!u6u){return;}if(!U2p){U2p=M$m.textStyle;}E8i=H_K.pixelFromPrice(l7P,u6u,M$m);if(E8i > M$m.top && E8i < M$m.bottom){H_K.plotLine(u6u.left,u6u.right,E8i,E8i,U2p,"segment",w4i,!({}),{opacity:U2p && U2p.opacity?U2p.opacity:"0.5" * 1});}};H9q.Studies.displayHistogramWithSeries=function(P5l,Y5Q,s5Z){V5cdF.j0M();var i0b,V4v;i0b=P5l.panels[Y5Q.panel];V4v=0.5;if(Y5Q.underlay){V4v=0.3;}H9q.Studies.createHistogram(P5l,Y5Q,s5Z,!1,V4v);H9q.Studies.displaySeriesAsLine(P5l,Y5Q,s5Z);};H9q.Studies.drawZones=function(v0P,l8w,K55){var s$$=V5cdF;var J9t,A3q,f8X,Y9F,x$8,H$J,c87,G4P,v1p,o6a,Y_5,j4n,R_i,t94,B0t,o23,d2k,C20,c6j,d_x,L0u,q0k,m_7,a3E,N5L,a9R,Y7k,I7S,m8J,o$_,P_4,c4F,G8l,I5g,V9O,Y0t;J9t="s";J9t+="tx_grid_b";J9t+="order";A3q="a";A3q+="ut";A3q+="o";if(!l8w.parameters || !l8w.parameters.studyOverZonesEnabled){return;}f8X=parseFloat(l8w.parameters.studyOverSoldValue);Y9F=parseFloat(l8w.parameters.studyOverBoughtValue);x$8=l8w.parameters.studyOverSoldColor;H$J=l8w.parameters.studyOverBoughtColor;c87=l8w.zoneOutput;if(!c87){c87="Result";}G4P=H9q.Studies.determineColor(l8w.outputs[c87]);if(!G4P || G4P == A3q || H9q.isTransparent(G4P)){G4P=v0P.defaultColor;}if(!x$8){x$8=G4P;}if(!x$8 || x$8 == "auto" || H9q.isTransparent(x$8)){x$8=v0P.defaultColor;}if(!H$J){H$J=G4P;}if(!H$J || H$J == "auto" || H9q.isTransparent(H$J)){H$J=v0P.defaultColor;}v1p=v0P.panels[l8w.panel];o6a=l8w.getYAxis(v0P);Y_5=o6a.displayBorder;if(v0P.axisBorders === ![]){Y_5=!"1";}if(v0P.axisBorders === !!1){Y_5=!!1;}if(o6a.width === 0){Y_5=!({});}j4n=v0P.getYAxisCurrentPosition(o6a,v1p);s$$.U_P(88);R_i=s$$.Q7U(j4n,"left");t94=o6a.justifyRight;if(!t94 && t94 !== !({})){if(v0P.chart.yAxis.justifyRight || v0P.chart.yAxis.justifyRight === ![]){t94=v0P.chart.yAxis.justifyRight;}else {t94=R_i;}}B0t=Math.round(o6a.left + (R_i?o6a.width:0)) + +"0.5";o23=Y_5?3:0;d2k=v0P.getBackgroundCanvas().context;C20=d2k.fillStyle;d2k.globalAlpha=0.2;v0P.startClip(v1p.name,!"");d2k.beginPath();c6j=Math.round(v0P.pixelFromPrice(Y9F,v1p,o6a)) - 0.5;d2k.strokeStyle=H$J;d2k.moveTo(v1p.left,c6j);d2k.lineTo(v1p.right,c6j);d2k.stroke();d2k.closePath();d2k.beginPath();d_x=Math.round(v0P.pixelFromPrice(f8X,v1p,o6a)) + ("0.5" - 0);d2k.strokeStyle=x$8;d2k.moveTo(v1p.left,d_x);d2k.lineTo(v1p.right,d_x);d2k.stroke();d2k.closePath();L0u=new H9q.Plotter();L0u.newSeries("border","stroke",v0P.canvasStyle(J9t));if(Y_5){q0k="b";q0k+="o";q0k+="rde";q0k+="r";m_7=R_i?B0t - o23:B0t - 0.5;a3E=R_i?B0t + 0.5:B0t + o23;L0u.moveTo("border",m_7,c6j);L0u.lineTo("border",a3E,c6j);N5L=1729359499;a9R=-618217124;Y7k=2;for(var N5v=1;s$$.S0_(N5v.toString(),N5v.toString().length,31010) !== N5L;N5v++){L0u.moveTo("",m_7,d_x);Y7k+=2;}if(s$$.S0_(Y7k.toString(),Y7k.toString().length,"4949" << 0) !== a9R){I7S="bo";I7S+="r";I7S+="de";I7S+="r";L0u.moveTo(I7S,m_7,d_x);}L0u.lineTo(q0k,a3E,d_x);}d2k.fillStyle=C20;m8J={skipTransform:v0P.panels[l8w.panel].name != l8w.chart.name,panelName:l8w.panel,band:c87 + ((880.77,424.1) != (37.28,179.51)?("9260" * 1,5847) > 798.21?" ":70.19 != 2181?192.84:(2.31e+3,711.52):(9.88e+3,173.73)) + l8w.name,yAxis:o6a,opacity:0.3};if(!l8w.highlight && v0P.highlightedDraggable){m8J.opacity*=0.3;}H9q.preparePeakValleyFill(v0P,H9q.extend(m8J,{threshold:Y9F,direction:o6a.flipped?-1:+"1",color:H$J}));H9q.preparePeakValleyFill(v0P,H9q.extend(m8J,{threshold:f8X,direction:o6a.flipped?1:-1,color:x$8}));d2k.globalAlpha=1;if(!l8w.study || !l8w.study.yaxis){if(Y_5){o$_="bor";o$_+="d";o$_+="e";o$_+="r";P_4=Math.round(o6a.bottom) + 0.5;L0u.moveTo(o$_,B0t,o6a.top);L0u.lineTo("border",B0t,P_4);L0u.draw(d2k,"border");}if(o6a.width !== 0){c4F="stx_ya";c4F+="xis";G8l="le";G8l+="ft";I5g="stx_";I5g+="y";I5g+="axis";v0P.canvasFont(I5g,d2k);v0P.canvasColor("stx_yaxis",d2k);d2k.textAlign=t94?"right":G8l;V9O=v0P.getCanvasFontSize(c4F) / ("2" - 0);if(R_i){Y0t=o6a.left + ("3" ^ 0);if(t94){s$$.U6M(31);var j0g=s$$.l$6(10,10,54,12,45);Y0t=o6a.left + o6a.width - o23 - j0g;}}else {s$$.U6M(132);var a2g=s$$.l$6(7,6,9,1,11);Y0t=o6a.left + o23 + a2g;if(t94){Y0t=o6a.left + o6a.width;}}if(c6j > o6a.top + V9O){d2k.fillStyle=H$J;d2k.fillText(Y9F,Y0t,c6j);}if(d_x < o6a.bottom - V9O){d2k.fillStyle=x$8;d2k.fillText(f8X,Y0t,d_x);}d2k.fillStyle=C20;}}v0P.endClip();s$$.U6M(40);d2k.globalAlpha=s$$.Q7U("1",0);if(o6a.name == l8w.name){o6a.yAxisPlotter=new H9q.Plotter();}};H9q.Studies.createHistogram=function(D4L,i40,n55,z1w,h$H){var r6h=V5cdF;var e7r,K4z,x3M,V0H,H5R,Q4j,a24,b5k,I0G,G7R,h7Q,i1O,G8T,d$S,f_G,j3j,c9R,c0z,g4b,E_N,k_H,F4m,H1C;e7r=D4L.panels[i40.panel];K4z=i40.getContext(D4L);x3M=i40.getYAxis(D4L);D4L.startClip(e7r.name);r6h.U6M(66);var B9g=r6h.Q7U(11,3,66,12);V0H=D4L.layout.candleWidth - "2" * B9g;r6h.j0M();if(V0H < +"2"){V0H=+"1";}H5R=D4L.pixelFromPrice(+"0",e7r,x3M);if(x3M.min > 0){H5R=D4L.pixelFromPrice(x3M.min,e7r,x3M);}if(z1w){H5R=Math.floor(e7r.top + e7r.height / 2);}Q4j=i40.name + "_hist";D4L.canvasColor("stx_histogram");a24=K4z.fillStyle;if(h$H || h$H === 0){K4z.globalAlpha=h$H;}if(!i40.highlight && D4L.highlightedDraggable){K4z.globalAlpha*=+"0.3";}b5k=null;I0G=null;G7R=i40.outputs;for(var v31=+"0";v31 < n55.length;v31++){h7Q="Negative";h7Q+=" ";h7Q+="B";h7Q+="ar";i1O="Dec";i1O+="reasin";i1O+="g Bar";G8T=0;d$S=n55[v31];if(!d$S)continue;if(D4L.cleanupGaps === "stretch"){while(n55[v31 + +"1"]){r6h.U6M(46);f_G=n55[r6h.l$6(v31,"1")][Q4j];if(f_G || f_G === 0 || n55[v31 + "1" * 1].futureTick)break;G8T++;v31++;}}if(d$S.candleWidth){V0H=Math.floor(Math.max(1,d$S.candleWidth - 2));}j3j=Math.floor(D4L.pixelFromBar(v31 - G8T,e7r.chart) - V0H / 2);c9R=Math.floor(V0H + G8T * D4L.layout.candleWidth);if(b5k === null){r6h.U_P(23);var p98=r6h.l$6(21,0,20);c0z=D4L.tickFromPixel(j3j,e7r.chart) - p98;if(c0z < 0){b5k=I0G;}else {b5k=D4L.pixelFromPrice(D4L.chart.dataSet[c0z][Q4j],e7r,x3M) - H5R;}}else {b5k=I0G;}I0G=D4L.pixelFromPrice(d$S[Q4j],e7r,x3M) - H5R;g4b=H9q.Studies.determineColor(G7R[i1O]);E_N=H9q.Studies.determineColor(G7R["Increasing Bar"]);k_H=H9q.Studies.determineColor(G7R["Positive Bar"]);F4m=H9q.Studies.determineColor(G7R[h7Q]);H1C=x3M.flipped;K4z.fillStyle=a24;if(g4b && (H1C?I0G < b5k:I0G > b5k)){K4z.fillStyle=g4b;}else if(E_N && (H1C?I0G > b5k:I0G < b5k)){K4z.fillStyle=E_N;}else if(k_H && (H1C?I0G > 0:I0G < 0)){K4z.fillStyle=k_H;}else if(F4m && (H1C?I0G < 0:I0G > "0" << 0)){K4z.fillStyle=F4m;}K4z.fillRect(j3j,H5R,c9R,Math.floor(I0G));}r6h.U6M(2);K4z.globalAlpha=r6h.Q7U(1,"1");D4L.endClip();};H9q.Studies.prettify={Close:(5290,478.39) == 4440?563.22 < (78.61,7527)?3200 !== ("5968" ^ 0)?184.15:(!"1",!!1):!({}):"C",Open:"O",High:(966.16,5090) > 870.02?"H":(0x1a5,6.07e+3),Low:"L",simple:L5N,exponential:"ema",triangular:"tma",VIDYA:"vdma",weighted:n8P,"welles wilder":v7d,true:7650 !== 5400?"y":6.44e+3,false:2990 >= (8582,836.18)?(1010,7072) > 4085?"n":(277.44,2.34e+3):0xd1e};H9q.Studies.prettyRE=/^.{0,50}\((.{0,50})\).{0,50}$/;H9q.Studies.prettyDisplay=function(f6y){var x3R,P2V;x3R=H9q.Studies.prettyRE.exec(f6y);if(!x3R){return f6y;}V5cdF.U_P(10);P2V=x3R[V5cdF.l$6("1",0)];if(P2V){for(var w$6 in H9q.Studies.prettify){P2V=P2V.replace(w$6,H9q.Studies.prettify[w$6]);}f6y=f6y.replace(x3R[+"1"],P2V);}return f6y;};H9q.Studies.getFieldInputs=function(H5N){var E2B,W0h;E2B=[];V5cdF.U0D();W0h=H5N.study.inputs;for(var d3F in W0h){if(W0h[d3F] == "field"){E2B.push(d3F);}}return E2B;};H9q.Studies.initializeFN=function(U_n,l2C,d_4,d$y,F$$,u_x,d8T){var U70=V5cdF;var s7p,W8x,Y0m,i3i,v68,A_k,x8N,m41,Y5I,u4$,P0Z,i7o,b_4,M99,F9m,E6I,d8d,J74,x58,T0C,F1x,M74,V_X,I9o;if(!d_4){d_4={};}if(!F$$){F$$={};}if(!d_4.id){d_4.id=H9q.Studies.generateID(U_n,l2C,d_4,F$$.replaceID,F$$.display);}if(!d_4.display){d_4.display=d_4.id;}s7p=new H9q.Studies.StudyDescriptor(d_4.id,l2C,d_4.id,d_4,d$y,F$$);if(d_4.Period){s7p.days=Math.max(1,parseInt(s7p.inputs.Period,10));}if(d8T){if(!d8T.inputs){d8T.inputs=s7p.study.inputs;}if(!d8T.outputs){d8T.outputs=s7p.study.outputs;}s7p.study=d8T;}else {d8T=s7p.study;}if(d8T.display){d_4.display=d8T.display;}if(typeof F$$.panelName == "string"){u_x=F$$.panelName;}if(u_x == d_4.id || u_x && !U_n.panelExists(u_x)){s7p.underlay=s7p.overlay=!({});}if(u_x == "Own panel" || u_x == "New panel"){u_x=null;}W8x=s7p.overlay || d_4.Overlay || s7p.overlay !== !!0 && d8T.overlay;U70.U0D();Y0m=s7p.underlay || d_4.Underlay || s7p.underlay !== !!0 && d8T.underlay;if(W8x && F$$.underlayEnabled){Y0m=!!({});}if(Y0m){s7p.underlay=!![];}if(!Y0m && U_n.chart.panel && u_x == U_n.chart.panel.name){W8x=!!({});}if(W8x){s7p.overlay=!![];}i3i=U_n.preferences.dragging;if(i3i === !0 || i3i && i3i.study){s7p.overlay=!![];}if(u_x){F$$.panelName=u_x;}else if(!W8x && !Y0m){u_x=d_4.id;}if(F$$.calculateOnly){if(W8x || Y0m){if(U_n.panels[F$$.panelName]){s7p.panel=F$$.panelName;}else {s7p.panel=H9q.Studies.getPanelFromFieldName(U_n,s7p) || F$$.chartName;}}return s7p;}v68={};A_k=U_n.layout.studies[F$$.replaceID];if(A_k){v68={outputMap:H9q.clone(A_k.outputMap),panel:A_k.panel};}s7p.panel="";if(u_x){x8N=-2042611268;m41=1225607921;Y5I=2;for(var f3U=1;U70.S0_(f3U.toString(),f3U.toString().length,6040) !== x8N;f3U++){u4$="N";u4$+="ew panel";P0Z=H9q.Studies.smartMovePanel(U_n,s7p.inputs,u_x,F$$.replaceID,F$$.panelName == u4$);if(P0Z){s7p.panel=P0Z.name;}U70.U_P(9);Y5I+=U70.l$6(0,"2");}if(U70.Y5G(Y5I.toString(),Y5I.toString().length,12799) !== m41){P0Z=H9q.Studies.smartMovePanel(U_n,s7p.inputs,u_x,F$$.replaceID,F$$.panelName !== "");if(P0Z){s7p.panel=P0Z.name;}}if(F$$.yaxisDisplayValue && !["left","right","none","shared","default"].includes(F$$.yaxisDisplayValue) && !U_n.getYAxisByName(P0Z,F$$.yaxisDisplayValue)){F$$.yaxisDisplayValue="default";}}else if(W8x || Y0m){s7p.panel=H9q.Studies.getPanelFromFieldName(U_n,s7p) || F$$.chartName;}if(!s7p.panel){i7o=d8T.panelHeight || null;b_4=F$$.yAxis || d8T.yAxis || ({});M99=-1533240467;F9m=-778495437;E6I=2;for(var J0t=1;U70.S0_(J0t.toString(),J0t.toString().length,44045) !== M99;J0t++){b_4.name=s7p.inputs.id;s7p.panel=s7p.inputs.id;U_n.createPanel(s7p.inputs.display,s7p.panel,i7o,F$$.chartName,new H9q.ChartEngine.YAxis(b_4));E6I+=2;}if(U70.S0_(E6I.toString(),E6I.toString().length,58855) !== F9m){b_4.name=s7p.inputs.id;s7p.panel=s7p.inputs.id;U_n.createPanel(s7p.inputs.display,s7p.panel,i7o,F$$.chartName,new H9q.ChartEngine.YAxis(b_4));}b_4.name=s7p.inputs.id;s7p.panel=s7p.inputs.id;U_n.createPanel(s7p.inputs.display,s7p.panel,i7o,F$$.chartName,new H9q.ChartEngine.YAxis(b_4));}if(s7p.parameters && s7p.parameters.panelName){s7p.parameters.panelName=s7p.panel;}d8d=U_n.panels[s7p.panel];J74=d8T?H9q.clone(d8T.yAxis):null;x58=F$$.yAxis || J74;if((x58 || ({})).ground){x58["initialMargin" + (x58.flipped?"Top":"Bottom")]=0;}T0C=H9q.Studies.smartCreateYAxis(U_n,d8d,s7p.inputs.id,F$$.yaxisDisplayValue,x58);if(T0C){F1x="n";F1x+="o";F1x+="ne";if(T0C.name == F$$.replaceID){T0C.name=s7p.inputs.id;}if(!F$$.replaceID && T0C.name === s7p.name){U_n.calculateYAxisMargins(T0C);}T0C.allowSharing=!F$$.yAxis && !d8T.yAxis;T0C.width=T0C.position == F1x?"0" >> 0:H9q.ChartEngine.YAxis.prototype.width;if(F$$.yaxisDisplayValue == "shared" || F$$.yaxisDisplayValue == "default"){delete F$$.yaxisDisplayValue;}else {if(J74){H9q.ensureDefaults(T0C,J74);}if(T0C.name == s7p.name){if(!(J74 || ({})).textStyle && !F$$.yaxisDisplayColor || F$$.yaxisDisplayColor == "auto"){delete T0C.textStyle;}else if(F$$.yaxisDisplayColor){T0C.textStyle=H9q.colorToHex(F$$.yaxisDisplayColor);}if((J74 || ({})).justifyRight === undefined){T0C.justifyRight=null;}if(F$$.flippedEnabled !== undefined){T0C.flipped=F$$.flippedEnabled;}}}if(T0C != d8d.yAxis){T0C.displayGridLines=!!0;}else if(T0C != U_n.chart.yAxis){T0C.displayGridLines=U_n.displayGridLinesInStudies;}}U_n.calculateYAxisPositions();if(A_k){M74="v";M74+="ec";M74+="to";M74+="r";V_X=![];for(var U5l in U_n.drawingObjects){I9o=U_n.drawingObjects[U5l];if(v68.outputMap && v68.outputMap.hasOwnProperty(I9o.field)){I9o.field=I9o.field.replace(F$$.replaceID,s7p.inputs.id);if(s7p.parameters && s7p.parameters.panelName){I9o.panelName=s7p.parameters.panelName;}else {I9o.panelName=s7p.panel;}V_X=!!({});}else if(v68.panel && v68.panel == I9o.panelName){I9o.panelName=I9o.panelName.replace(F$$.replaceID,s7p.inputs.id);V_X=!"";}}if(V_X){U_n.changeOccurred(M74);}}return s7p;};H9q.Studies.smartMovePanel=function(G2x,c5V,Z2n,d49,W$_){var q03,x8Z,m_w,f$h,M4q,c9h,W4S;x8Z=c5V.id;if(d49){q03=G2x.layout.studies[d49];}if(q03){m_w=+"1308465259";f$h=+"194122218";M4q=2;for(var r_Z=1;V5cdF.Y5G(r_Z.toString(),r_Z.toString().length,9155) !== m_w;r_Z++){c9h=G2x.panels[q03.panel];M4q+=2;}if(V5cdF.S0_(M4q.toString(),M4q.toString().length,55143) !== f$h){c9h=G2x.panels[q03.panel];}if(c9h){if(c9h.yAxis.name == d49){if((W$_ || Z2n != d49 && Z2n != x8Z) && !G2x.checkForEmptyPanel(c9h.name,!!1,q03)){G2x.electNewPanelOwner(c9h);W4S=q03.getYAxis(G2x);if(W4S.name == d49){G2x.electNewYAxisOwner(W4S);};}else if(Z2n == d49 || !G2x.panels[Z2n]){if(x8Z != c9h.name){G2x.modifyPanel(c9h,{name:x8Z,display:c5V.display});}Z2n=x8Z;}}}}return G2x.panels[Z2n];};H9q.Studies.smartCreateYAxis=function(c8_,T2x,h1j,f4X,K22){var n1D,j5s,T49,T_E,R_n,k11,L0g,J1i,P0T;n1D="le";n1D+="f";n1D+="t";j5s=K22 || ({});T49=c8_.getYAxisByName(T2x,h1j);if(!f4X && K22){f4X=K22.position;}if([n1D,"right","none"].indexOf(f4X) > -("1" - 0) || f4X === undefined && K22){if(!T49 || T49.isShared(c8_)){if(K22 instanceof H9q.ChartEngine.YAxis){h1j=K22.name;}H9q.extend(j5s,{name:h1j,position:f4X});if(!T49 && !c8_.currentlyImporting && T2x != T2x.chart.panel && !T2x.yAxis.studies.length && !T2x.yAxis.renderers.length){T49=T2x.yAxis;H9q.extend(T49,j5s);}else {T_E=T49 == T2x.yAxis;if(T49){T49.name=c8_.electNewYAxisOwner(T49);}R_n=T49 || T2x.yAxis;if(R_n.lockScale){H9q.extend(j5s,{zoom:R_n.zoom,scroll:R_n.scroll,lockScale:!!({})});}T49=c8_.addYAxis(T2x,new H9q.ChartEngine.YAxis(j5s));if(T_E){T2x.yAxis=T49;}}}else {if(K22){H9q.extend(T49,K22);}T49.position=f4X;T49.name=h1j;}return T49;}if(f4X && f4X !== "default" && f4X !== "shared" && f4X !== T2x.yAxis.name){k11=c8_.getYAxisByName(T2x,f4X);if(k11 && T49 == T2x.yAxis && !T49.isShared(c8_)){T2x.yAxis=k11;}if(T49 && T49.isShared(c8_)){T49.name=c8_.electNewYAxisOwner(T49);}else {if(T49 !== T2x.yAxis){c8_.deleteYAxisIfUnused(T2x,T49);}}return k11;}if(f4X == "shared" || f4X == T2x.yAxis.name || T2x.yAxis.allowSharing && (!T49 || T49.allowSharing)){if(T49){if(T49 !== T2x.yAxis && T49.isShared(c8_)){T49.name=c8_.electNewYAxisOwner(T49);}else {delete T49.position;c8_.deleteYAxisIfUnused(T2x,T49);}}c8_.resizeChart();return T2x.yAxis;}H9q.extend(j5s,{name:h1j});if(T49){T49.name=c8_.electNewYAxisOwner(T49);}if(!T49 || T49.name){T49=c8_.addYAxis(T2x,new H9q.ChartEngine.YAxis(j5s));}else {L0g=1825763699;J1i=2089767851;P0T=2;for(var q5B=1;V5cdF.S0_(q5B.toString(),q5B.toString().length,22787) !== L0g;q5B++){H9q.extend(T49,j5s);P0T+=2;}if(V5cdF.S0_(P0T.toString(),P0T.toString().length,21307) !== J1i){H9q.extend(T49,j5s);}H9q.extend(T49,j5s);delete T49.position;}return T49;};H9q.Studies.calculateVolume=function(m$j,y7o){V5cdF.j0M();var q5u,d2b,D0J;if(y7o.type == "vol undr"){if(!m$j || !m$j.chart.dataSet){return;}q5u=m$j.layout;d2b=y7o.parameters.removeStudy;D0J=q5u.volumeUnderlay;q5u.volumeUnderlay=!d2b;if(D0J != q5u.volumeUnderlay){m$j.changeOccurred("layout");}if(d2b){H9q.Studies.removeStudy(m$j,y7o);}}y7o.outputMap={};y7o.outputMap.Volume="";};H9q.Studies.MA=function(O7_,p3H,b$6,f3S,V5H,I5z,f2C,t1X){var U_u=V5cdF;var z_$;U_u.U6M(74);var s5M=U_u.Q7U(736780,15,49392,16);U_u.U6M(133);var x_Y=U_u.l$6(9085,20,1,27260,5);U_u.U_P(62);var f30=U_u.l$6(4814,4809,4814);U_u.U6M(10);var r63=U_u.Q7U(45050,42400);U_u.U6M(62);U_u.j0M();var V6o=U_u.l$6(238,9510,2380);z_$=new H9q.Studies.StudyDescriptor(V5H + ((3830,238.34) != +"3940"?" ":(s5M,x_Y) != f30?r63 === 965.32?+"1.08e+3":V6o:("v",850.68)) + f2C.name,"ma",f2C.panel);z_$.chart=f2C.chart;z_$.days=parseInt(p3H,10);z_$.startFrom=f2C.startFrom;if(t1X){z_$.subField=t1X;}z_$.inputs={};if(O7_){z_$.inputs.Type=O7_;}if(b$6){z_$.inputs.Field=b$6;}if(f3S){z_$.inputs.Offset=parseInt(f3S,10);}H9q.Studies.calculateMovingAverage(I5z,z_$);};H9q.Studies.movingAverage={conversions:{ma:"simple",sma:"simple",ema:"exponential",tma:"triangular",vdma:"vidya",wma:"weighted",smma:i64},translations:{simple:"Simple",exponential:"Exponential",triangular:"Triangular",vidya:"VIDYA",weighted:"Weighted","welles wilder":Z2T},typeMap:{ema:W6$,exponential:"Exponential",tma:"Triangular",triangular:"Triangular",vdma:o0P,vidya:"VIDYA",wma:Z6R,weighted:"Weighted",smma:"Exponential","welles wilder":"Exponential"}};H9q.Studies.movingAverageHelper=function(H6G,G$M){var s0E;V5cdF.j0M();if(G$M == "options"){s0E={};for(var c3X in H9q.Studies.movingAverage.translations){s0E[c3X]=H6G.translateIf(H9q.Studies.movingAverage.translations[c3X]);}return s0E;}return H9q.Studies.movingAverage.conversions[G$M];};H9q.Studies.createVolumeChart=function(W8J,a$$,W7f){var Y3a=V5cdF;var G$j,Q4c,n00,W$4,T5q,H_b,B5M,e5t,O7Y,l7v,X25,H7j,D_K,J1o,B6u,d58,l4V,j0N,g$S,z__;G$j="Volum";G$j+="e";Q4c="_";Q4c+="d";Q4c+="o";Q4c+="wn";n00="_";n00+="d";n00+="own";W$4="_do";W$4+="wn";T5q="_";T5q+="up";H_b="c";H_b+="o";H_b+="l";H_b+="or";B5M="c";B5M+="olo";B5M+="r";e5t="Up ";e5t+="Vo";e5t+="lu";e5t+="me";O7Y=a$$.panel;l7v=a$$.inputs;X25=a$$.underlay;H7j=a$$.overlay;D_K=X25 || H7j;J1o=H9q.Studies.determineColor(a$$.outputs[e5t]);B6u=H9q.Studies.determineColor(a$$.outputs["Down Volume"]);d58=X25?"stx_volume_underlay":"stx_volume";Y3a.U6M(1);W8J.setStyle(Y3a.Q7U("_up",d58),B5M,J1o);Y3a.U6M(1);W8J.setStyle(Y3a.l$6("_down",d58),H_b,B6u);l4V=[{field:a$$.volumeField || "Volume",fill_color_up:W8J.canvasStyle(d58 + "_up").color,border_color_up:W8J.canvasStyle(d58 + T5q).borderLeftColor,opacity_up:W8J.canvasStyle(d58 + "_up").opacity,fill_color_down:W8J.canvasStyle(d58 + W$4).color,border_color_down:W8J.canvasStyle(d58 + n00).borderLeftColor,opacity_down:W8J.canvasStyle(d58 + Q4c).opacity,color_function:a$$.colorFunction}];j0N=l4V[0];g$S=a$$.getYAxis(W8J);z__={name:G$j,panel:O7Y,yAxis:g$S,widthFactor:1,bindToYAxis:!!"1",highlight:a$$.highlight};H9q.extend(z__,a$$.study.parameters);H9q.extend(z__,a$$.parameters);if(W8J.colorByCandleDirection && !a$$.colorFunction){j0N.color_function=function(k1d){var j2o,U2g;j2o=k1d.Open;U2g=k1d.Close;return {fill_color:j2o > U2g?j0N.fill_color_down:j0N.fill_color_up,border_color:j2o > U2g?j0N.border_color_down:j0N.border_color_up,opacity:j2o > U2g?j0N.opacity_down:j0N.opacity_up};};}W8J.drawHistogram(z__,l4V);};H9q.Studies.calculateStandardDeviation=function(A6m,Q98){var K6P=V5cdF;var v_C,A2C,I8K,F8J,Q9T,l0R,d9n,L_e,n2O,F2p,G4i,n$8,e5b,u36;v_C="Standar";v_C+="d Deviatio";v_C+="ns";A2C=Q98.chart.scrubbed;if(A2C.length < Q98.days + 1){Q98.error=!![];return;}I8K=Q98.inputs.Field;if(!I8K || I8K == "field"){I8K="Close";}F8J=Q98.inputs["Moving Average Type"];if(!F8J){F8J=Q98.inputs.Type;}H9q.Studies.MA(F8J,Q98.days,I8K,Q98.inputs.Offset,"_MA",A6m,Q98);Q9T=0;l0R=0;K6P.j0M();d9n=0;L_e=Number(Q98.inputs[v_C]);if(L_e < +"0"){K6P.U_P(2);L_e=K6P.Q7U(1,"2");}n2O=Q98.name;for(var A4b in Q98.outputs){K6P.U_P(19);n2O=K6P.Q7U(n2O,1420 > 7556?("I",44.66):(447,2120) === (8241,496.7)?(0x1371,0x6e):(7580,4477) == 837.18?"0x1522" << 0:" ",A4b);}for((F2p=Q98.startFrom - 1,n$8=0);F2p >= 0 && n$8 < Q98.days;(F2p--,n$8++)){G4i=H9q.Studies.getQuoteFieldValue(A2C[F2p],I8K,Q98.subField);if(G4i === null){G4i=0;}K6P.U_P(40);Q9T+=Math.pow(G4i,K6P.l$6("2",0));l0R+=G4i;}for(F2p=Q98.startFrom;F2p < A2C.length;F2p++){e5b=A2C[F2p];G4i=H9q.Studies.getQuoteFieldValue(e5b,I8K,Q98.subField);if(G4i === null){G4i=0;}Q9T+=Math.pow(G4i,2);l0R+=G4i;if(F2p < Q98.days - 1)continue;if(F2p >= Q98.days){u36=H9q.Studies.getQuoteFieldValue(A2C[F2p - Q98.days],I8K,Q98.subField);if(u36 === null){K6P.U6M(2);u36=K6P.Q7U(1,"0");}Q9T-=Math.pow(u36,2);l0R-=u36;}d9n=e5b["_MA " + Q98.name];if(d9n || d9n === 0){K6P.U_P(17);var A8L=K6P.Q7U(7,20,138);K6P.U6M(134);var r9S=K6P.Q7U(19,15,9,1,12);e5b[n2O]=Math.sqrt((Q9T + Q98.days * Math.pow(d9n,A8L) - r9S * d9n * l0R) / Q98.days) * L_e;}}};H9q.Studies.calculateMovingAverage=function(l26,r08){var A$1,A4A,X_F,l6N,Q_T,S8l,d4_,o$X,A9i,H_q,y34,h5g,h06,N$O,H6T,E0C,J$A,j9N;if(!r08.chart.scrubbed){return;}A$1=r08.inputs.Type;if(A$1 == "ma" || A$1 == "sma" || !A$1){A$1="simple";}A4A=H9q.Studies.movingAverage.typeMap;if((A$1 in A4A)){return H9q.Studies["calculateMovingAverage" + A4A[A$1]](l26,r08);}else if(A$1 !== "simple"){return;}V5cdF.U0D();X_F=r08.chart.scrubbed;l6N=0;Q_T=[];S8l=r08.name;for(var B9I in r08.outputs){V5cdF.U6M(19);S8l=V5cdF.l$6(S8l,5780 <= (123.17,513.2)?+"0x1f9e":6299 <= 6733?" ":757.38,B9I);}d4_=r08.inputs.Field;if(!d4_ || d4_ == "field"){d4_="Close";}o$X=parseInt(r08.inputs.Offset,10);if(isNaN(o$X)){o$X=0;}h5g=r08.startFrom;h06=o$X;for(A9i=r08.startFrom - +"1";A9i >= 0;A9i--){H_q=H9q.Studies.getQuoteFieldValue(X_F[A9i],d4_,r08.subField);if(H_q === null)continue;if(h06 > 0){h06--;h5g=A9i;continue;}if(Q_T.length == r08.days - 1)break;l6N+=H_q;Q_T.unshift(H_q);}if(Q_T.length < r08.days - 1){Q_T=[];h5g=0;;}N$O=[];for(A9i=h5g;A9i < X_F.length;A9i++){H6T=X_F[A9i];H_q=H9q.Studies.getQuoteFieldValue(H6T,d4_,r08.subField);E0C=A9i + o$X >= 0 && A9i + o$X < X_F.length;J$A=E0C?X_F[A9i + o$X]:null;if(H_q === null){if(J$A){J$A[S8l]=null;}else if(A9i + o$X >= X_F.length){y34={};y34[S8l]=null;N$O.push(y34);}continue;}l6N+=H_q;Q_T.push(H_q);if(Q_T.length > r08.days){l6N-=Q_T.shift();}j9N=Q_T.length == r08.days?l6N / r08.days:null;if(J$A){J$A[S8l]=j9N;}else if(A9i + o$X >= X_F.length){y34={};y34[S8l]=j9N;N$O.push(y34);}}r08.appendFutureTicks(l26,N$O);};H9q.Studies.calculateMovingAverageExponential=function(g$q,K4r){var N46=V5cdF;var F3q,r$B,M_q,P1Z,L5e,F6M,P1v,H1V,W2R,s3N,W3a,e5v,T$A,z2x,p0K,I3t,C4i,s8j,x0H,C2e,q0m,K0N;F3q="Cl";F3q+="o";F3q+="s";F3q+="e";r$B="we";r$B+="lles wi";r$B+="lder";M_q=K4r.inputs.Type;P1Z=K4r.chart.scrubbed;L5e=0;F6M=0;P1v=0;N46.U6M(10);var u95=N46.l$6(11,9);N46.U_P(1);var l3Z=N46.l$6(1,0);H1V=u95 / (K4r.days + l3Z);if(M_q === r$B || M_q === "smma"){H1V=+"1" / K4r.days;}W2R=null;N46.j0M();s3N=K4r.name;for(var Q$T in K4r.outputs){N46.U6M(19);s3N=N46.l$6(s3N,(8450,7560) == (4340,+"4490")?0xdc4:(730.41,3130) > 739.8?(9046,"9420" - 0) !== 2310?" ":(3.99e+3,6.40e+2):(!"1",3.50e+3),Q$T);}W3a=K4r.inputs.Field;if(!W3a || W3a == "field"){W3a=F3q;}e5v=parseInt(K4r.inputs.Offset,10);if(isNaN(e5v)){e5v=0;}p0K=K4r.startFrom;I3t=e5v;for(T$A=K4r.startFrom - 1;T$A >= 0;T$A--){z2x=P1Z[T$A][s3N];if(!z2x && z2x !== 0)continue;if(W2R === null){W2R=z2x;}P1v=K4r.days;if(I3t <= 0)break;I3t--;p0K=T$A;}if(W2R === null){W2R=p0K=0;}C4i=[];for(T$A=p0K;T$A < P1Z.length;T$A++){s8j=P1Z[T$A];z2x=H9q.Studies.getQuoteFieldValue(s8j,W3a,K4r.subField);x0H=T$A + e5v >= 0 && T$A + e5v < P1Z.length;C2e=x0H?P1Z[T$A + e5v]:null;if(z2x === null){q0m=null;}else {if(P1v == K4r.days - ("1" << 64)){L5e+=z2x;F6M=L5e / K4r.days;q0m=F6M;}else if(P1v < K4r.days - 1){L5e+=z2x;N46.U6M(135);F6M=N46.l$6(1,P1v,L5e);q0m=null;}else if(P1v === "0" * 1){L5e+=z2x;F6M=L5e;q0m=null;}else if(W2R || W2R === "0" >> 64){N46.U_P(84);F6M=N46.Q7U(H1V,z2x,W2R,W2R);q0m=F6M;}W2R=F6M;P1v++;}if(C2e){C2e[s3N]=q0m;}else if(T$A + e5v >= P1Z.length){K0N={};K0N[s3N]=q0m;C4i.push(K0N);}}K4r.appendFutureTicks(g$q,C4i);};H9q.Studies.calculateMovingAverageVIDYA=function(Z0n,F8I){var a$s=V5cdF;var W4f,Q4U,y0P,Q$R,A54,l3m,a1t,H8h,P_3,r1N,d14,E$z,h8I,Z2q,H0u,a2r,F2V,Q5r;W4f=F8I.inputs.Type;Q4U=F8I.chart.scrubbed;a$s.U_P(75);var o2_=a$s.Q7U(17,18,37);a$s.U6M(10);var U0B=a$s.Q7U(3,2);y0P=o2_ / (F8I.days + U0B);Q$R=null;A54=F8I.name;for(var O7v in F8I.outputs){a$s.U6M(19);A54=a$s.l$6(A54," ",O7v);}l3m=F8I.inputs.Field;if(!l3m || l3m == "field"){l3m="Close";}F8I.std=new H9q.Studies.StudyDescriptor(F8I.name,"sdev",F8I.panel);F8I.std.chart=F8I.chart;F8I.std.days=+"5";F8I.std.startFrom=F8I.startFrom;F8I.std.inputs={Field:l3m,"Standard Deviations":1,Type:"ma"};F8I.std.outputs={_STD:null};H9q.Studies.calculateStandardDeviation(Z0n,F8I.std);H9q.Studies.MA("ma",+"20","_STD " + F8I.name,0,"_MASTD",Z0n,F8I);a1t=parseInt(F8I.inputs.Offset,10);if(isNaN(a1t)){a1t=+"0";}d14=F8I.startFrom;E$z=a1t;for(H8h=F8I.startFrom - 1;H8h >= 0;H8h--){P_3=Q4U[H8h][A54];if(!P_3 && P_3 !== 0)continue;if(Q$R === null){Q$R=P_3;}if(E$z <= 0)break;E$z--;d14=H8h;}if(Q$R === null){Q$R=d14=0;}h8I=[];for(H8h=d14;H8h < Q4U.length;H8h++){Z2q=Q4U[H8h];P_3=H9q.Studies.getQuoteFieldValue(Z2q,l3m,F8I.subField);H0u=H8h + a1t >= 0 && H8h + a1t < Q4U.length;a2r=H0u?Q4U[H8h + a1t]:null;if(P_3 === null){if(a2r){a2r[A54]=null;}else if(H8h + a1t >= Q4U.length){r1N={};r1N[A54]=null;h8I.push(r1N);}continue;}if(!Z2q["_MASTD " + F8I.name] && Z2q["_MASTD " + F8I.name] !== +"0")continue;F2V=Z2q["_STD " + F8I.name] / Z2q["_MASTD " + F8I.name];a$s.U6M(136);Q5r=a$s.Q7U(Q$R,P_3,1,F2V,F2V,y0P,y0P);Q$R=Q5r;if(H8h < F8I.days){Q5r=null;}if(a2r){a2r[A54]=Q5r;}else if(H8h + a1t >= Q4U.length){r1N={};r1N[A54]=Q5r;h8I.push(r1N);}}F8I.appendFutureTicks(Z0n,h8I);};H9q.Studies.calculateMovingAverageTriangular=function(A53,M7v){var p01=V5cdF;var R$b,B7f,x6j,U6d,x6C,J07,s0J,M$R,I1i,A6r,i2q;R$b="si";R$b+="mp";R$b+="l";R$b+="e";B7f="Clo";B7f+="s";B7f+="e";x6j=M7v.chart.scrubbed;U6d=M7v.inputs.Field;if(!U6d || U6d == "field"){U6d=B7f;}x6C=Math.ceil(M7v.days / 2);H9q.Studies.MA(R$b,x6C,U6d,0,"TRI1",A53,M7v);if(M7v.days % 2 === 0){x6C++;}H9q.Studies.MA("simple",x6C,"TRI1 " + M7v.name,0,"TRI2",A53,M7v);J07=M7v.name;for(var h$Y in M7v.outputs){p01.U_P(19);J07=p01.l$6(J07,(2454,8440) == +"650.45"?(0xb88,"H"):" ",h$Y);}s0J=parseInt(M7v.inputs.Offset,10);if(isNaN(s0J)){s0J=0;}p01.j0M();M$R=s0J;for(var k_y=M7v.startFrom - 1;k_y >= 0;k_y--){I1i=H9q.Studies.getQuoteFieldValue(x6j[k_y],J07);if(I1i === null)continue;if(M$R > 0){M$R--;continue;}break;}A6r=[];for(k_y++;k_y < x6j.length;k_y++){if(k_y + s0J >= 0){if(k_y + s0J < x6j.length){p01.U6M(1);x6j[p01.Q7U(s0J,k_y)][J07]=x6j[k_y]["TRI2 " + M7v.name];}else {i2q={};i2q[J07]=x6j[k_y]["TRI2 " + M7v.name];A6r.push(i2q);}}}M7v.appendFutureTicks(A53,A6r);};H9q.Studies.calculateMovingAverageWeighted=function(F2O,X3p){var f4o=V5cdF;var n7E,h_M,k3w,w1H,F1u,x52,i6S,L38,D2V,t5M,z_A,y$I,P7V,J56,s4T,T5I,z_p,X$z;n7E=X3p.chart.scrubbed;h_M=0;k3w=0;w1H=X3p.inputs.Field;if(!w1H || w1H == "field"){w1H="Close";}f4o.U_P(10);var i6B=f4o.l$6(18,16);F1u=X3p.days * (X3p.days + ("1" - 0)) / i6B;x52=X3p.name;for(var G6T in X3p.outputs){f4o.U_P(19);x52=f4o.Q7U(x52,(7400,184) !== (6743,3200)?" ":("3049" | 8) >= 1448?277.94 < (3980,120.27)?(288.62,2.79e+3):0x1efa:318.79,G6T);}i6S=parseInt(X3p.inputs.Offset,10);if(isNaN(i6S)){i6S=0;}z_A=[];y$I=X3p.startFrom;P7V=i6S;for(L38=X3p.startFrom - 1;L38 >= 0;L38--){D2V=H9q.Studies.getQuoteFieldValue(n7E[L38],w1H,X3p.subField);if(D2V === null)continue;if(P7V > 0){P7V--;y$I=L38;continue;}if(z_A.length == X3p.days - 1)break;z_A.unshift(D2V);}if(z_A.length < X3p.days - 1){z_A=[];y$I=0;;}for(L38=0;L38 < z_A.length;L38++){f4o.U6M(137);var H9x=f4o.l$6(14,8,17,3,7);h_M+=(L38 + H9x) * z_A[L38];k3w+=z_A[L38];}f4o.U0D();J56=[];for(L38=y$I;L38 < n7E.length;L38++){s4T=n7E[L38];D2V=H9q.Studies.getQuoteFieldValue(s4T,w1H,X3p.subField);T5I=L38 + i6S >= 0 && L38 + i6S < n7E.length;z_p=T5I?n7E[L38 + i6S]:null;if(D2V === null){if(z_p){z_p[x52]=null;}else if(L38 + i6S >= n7E.length){t5M={};t5M[x52]=null;J56.push(t5M);}continue;}z_A.push(D2V);if(z_A.length > X3p.days){h_M-=k3w;k3w-=z_A.shift();}h_M+=z_A.length * D2V;k3w+=D2V;X$z=L38 < X3p.days - 1?null:h_M / F1u;if(z_p){z_p[x52]=X$z;}else if(L38 + i6S >= n7E.length){t5M={};t5M[x52]=X$z;J56.push(t5M);}}X3p.appendFutureTicks(F2O,J56);};H9q.Studies.calculateMultMA=function(Q50,z15){var c6M,j6U,X9y,x3c,t9$,F4R;c6M="fi";c6M+="e";c6M+="l";c6M+="d";j6U=z15.chart.scrubbed;X9y=[Number.MAX_VALUE];Object.keys(z15.inputs).filter(C1v=>{V5cdF.U_P(37);var f0g=V5cdF.Q7U(2,0,11,11);return C1v.indexOf("Period") > f0g;}).forEach((c_W,B39)=>{V5cdF.U6M(1);X9y[V5cdF.Q7U(1,B39)]=z15.inputs[c_W];});if(j6U.length < Math.min(...X9y) + 1){z15.error=!!"1";return;}x3c=z15.inputs.Field;if(!x3c || x3c == c6M){x3c="Close";}t9$=z15.inputs["Moving Average Type"];if(!t9$){t9$="simple";}F4R=z15.inputs.Offset || 0;for(var m7E=1;m7E < X9y.length;m7E++){H9q.Studies.MA(t9$,X9y[m7E],x3c,F4R,"MA " + m7E,Q50,z15);}};H9q.Studies.calculateStudyATR=function(H9B,C_E){var S4q=V5cdF;var J9n,o2w,m7y,L2G,c39,c9g,f62,n7I,V2R,l8q;J9n=C_E.chart.scrubbed;o2w=C_E.days;if(J9n.length < o2w + 1){C_E.error=!!({});return;}m7y=0;L2G=C_E.name;for(var T5j=Math.max(C_E.startFrom,1);T5j < J9n.length;T5j++){c39="Tru";c39+="e Range ";c9g="True R";c9g+="ang";c9g+="e ";f62="S";f62+="u";f62+="m True Ra";f62+="nge ";n7I=J9n[T5j];S4q.U_P(10);V2R=J9n[S4q.l$6(T5j,1)];l8q=n7I.trueRange;if(V2R["Sum True Range " + L2G]){S4q.U_P(1);m7y=V2R[S4q.l$6(L2G,f62)];}m7y+=l8q;if(T5j > o2w){S4q.U6M(10);m7y-=J9n[S4q.Q7U(T5j,o2w)][S4q.Q7U(L2G,c9g,S4q.U6M(1))];}S4q.U6M(1);n7I[S4q.l$6(L2G,c39)]=l8q;S4q.U6M(1);n7I[S4q.l$6(L2G,"Sum True Range ")]=m7y;if(T5j == o2w){S4q.U6M(1);n7I[S4q.l$6(L2G,"ATR ")]=S4q.l$6(o2w,m7y,S4q.U_P(11));}else if(T5j > o2w){S4q.U_P(127);var j9C=S4q.Q7U(4,1,5,0);S4q.U6M(1);n7I[S4q.Q7U(L2G,"ATR ")]=(V2R["ATR " + L2G] * (o2w - ("1" | j9C)) + l8q) / o2w;}}};H9q.Studies.displayPSAR2=function(R1i,E2A,Q4b){var v4r=V5cdF;v4r.j0M();var P58,q_F,k5o,g1f,J8o,w2b,G_B,M4X,o7u,v6g,p0k,U89,S7v;P58=R1i.panels[E2A.panel];q_F=E2A.getYAxis(R1i);k5o=q_F == R1i.chart.panel.yAxis;R1i.startClip(P58.name);g1f=E2A.getContext(R1i);J8o=E2A.inputs["Plot Type"] == "squarewave";for(var i4C in E2A.outputs){v4r.U_P(1);var S8Q=v4r.Q7U(12,6272);v4r.U6M(17);var y6y=v4r.Q7U(3945,14,51295);v4r.U_P(138);var l4N=v4r.Q7U(10,4,1,83,13);v4r.U6M(10);var Z12=v4r.Q7U(1,0);v4r.U_P(139);var y8n=v4r.Q7U(649,18,3,7185,4);v4r.U_P(74);var N_s=v4r.l$6(526888,4,133950,18);w2b=i4C + (+"1317" === +"5548"?(858.05,872.61) < (+"3863",S8Q)?(y6y,"6540" >> l4N) != ("3529" ^ 0,"658.55" * Z12)?"a":(919.40,+"355.70"):(y8n,N_s):" ") + E2A.name;g1f.beginPath();G_B=R1i.layout.candleWidth;M4X=Math.max(3,Math.floor(R1i.chart.tmpWidth / 2));for(var A_M=0;A_M < Q4b.length;A_M++){o7u=Q4b[A_M];if(!o7u || H9q.Studies.getQuoteFieldValue(o7u,w2b) === null)continue;if(o7u.candleWidth){G_B=o7u.candleWidth;}if(k5o && o7u.transform){o7u=o7u.transform;}v6g=R1i.pixelFromBar(A_M,P58.chart);if(J8o){v4r.U_P(11);v6g-=v4r.l$6(2,G_B);}p0k=R1i.pixelFromTransformedValue(o7u[E2A.referenceOutput?E2A.referenceOutput + ((2190,6110) != 1520?" ":(7006,+"518.35") != (+"917.83",881.78)?(54.56,3.52e+3):7.69e+3) + E2A.name:w2b],P58,q_F);if(A_M === 0 || !Q4b[A_M - +"1"] || H9q.Studies.getQuoteFieldValue(Q4b[A_M - 1],w2b) === null){g1f.moveTo(v6g,p0k);}if(J8o){g1f.lineTo(v6g,p0k);v4r.U6M(1);g1f.lineTo(v4r.Q7U(G_B,v6g),p0k);if(Q4b[A_M + 1]){v4r.U6M(1);U89=Q4b[v4r.l$6(1,A_M)];if(k5o && U89.transform){U89=U89.transform;}if(H9q.Studies.getQuoteFieldValue(U89,w2b) === null){v4r.U_P(1);g1f.lineTo(v4r.l$6(G_B,v6g),R1i.pixelFromTransformedValue(U89[E2A.referenceOutput?E2A.referenceOutput + ((7176,431) != +"1894"?" ":679.22) + E2A.name:w2b],R1i.panels[E2A.panel],q_F));}}}else {v4r.U6M(57);g1f.moveTo(v4r.l$6(v6g,M4X,2),p0k);v4r.U6M(54);g1f.lineTo(v4r.l$6(M4X,2,v6g),p0k);}}g1f.lineWidth=1;if(E2A.highlight){g1f.lineWidth=3;}S7v=H9q.Studies.determineColor(E2A.outputs[i4C]);if(S7v == "auto"){S7v=R1i.defaultColor;}g1f.strokeStyle=S7v;if(!E2A.highlight && R1i.highlightedDraggable){g1f.globalAlpha*=+"0.3";}g1f.stroke();g1f.closePath();g1f.lineWidth=1;}R1i.endClip();};H9q.Studies.inputAttributeDefaultGenerator=function(v_M){if(!v_M && v_M !== 0){return {};}if(v_M.constructor == Number){if(Math.floor(v_M) == v_M){if(v_M > 0){return {min:+"1",step:1};}return {step:1};;}if(v_M > ("0" ^ 0)){return {min:"0" | 0,step:0.01};}return {step:"0.01" - 0};;}return {};};H9q.Studies.getMarketOffset=function({stx:R$d, localQuoteDate:I6Q, shiftToDateBoundary:F$j}){var x_Q=V5cdF;var W_F,Y9b,C85,O$G,P1t,a6w,c_e,J$J;W_F="UT";W_F+="C";Y9b="Ame";Y9b+="rica";Y9b+="/New_York";if(arguments.length > +"1"){R$d=arguments[0];x_Q.U_P(10);I6Q=arguments[x_Q.Q7U("1",0)];C85=arguments[2];}var {symbol:f2D}=R$d.chart;O$G=H9q.getFn("Market.Symbology.isForexMetal")(f2D);if(C85 === undefined){P1t="Mark";P1t+="et.Symbology.isForexSymbol";C85=H9q.getFn(P1t)(f2D);}if(!R$d.chart.market){a6w=null;}else {a6w=C85?Y9b:R$d.chart.market.market_tz;}x_Q.U_P(10);var n8G=x_Q.l$6(1200000,1140000);c_e=new Date(I6Q.getTime() + I6Q.getTimezoneOffset() * n8G);x_Q.j0M();if(!a6w || a6w.indexOf("UTC") == -1){c_e=H9q.convertTimeZone(c_e,W_F,a6w);}J$J=new Date(c_e.getFullYear(),c_e.getMonth(),c_e.getDate(),c_e.getHours(),c_e.getMinutes(),c_e.getSeconds(),c_e.getMilliseconds()).getTime() - I6Q.getTime();if(F$j && C85){x_Q.U6M(140);J$J+=x_Q.l$6(60,"60",1000,O$G?"6" * 1:7);}return J$J;};H9q.Studies.getStudyList=function(A9p){var j7J,s$f;j7J={};s$f={};V5cdF.U0D();H9q.extend(s$f,A9p);for(var A8I in H9q.Studies.studyLibrary){if(!s$f[A8I]){j7J[H9q.Studies.studyLibrary[A8I].name]=A8I;}}return j7J;};H9q.Studies.determineColor=function(Y4F){if(!Y4F){return null;}else if(typeof Y4F === "object"){return Y4F.color;}return Y4F;};H9q.Studies.calculateGenericEnvelope=function(x2h,I2x,s1$,M1J,d_E,i7z){var H7s=V5cdF;var U8D,M8o,E3_,b0M,j4q,x2w,x_X,y9o,q5I,u$e,E80;U8D="f";U8D+="i";U8D+="eld";if(!s1$){s1$=0;}if(!i7z){i7z=0;}if(!M1J || M1J == U8D){M1J="Close";}if(!d_E){d_E=M1J;}M8o=I2x.chart.scrubbed;if(!M8o){return;}E3_=I2x.inputs.Field;for(var T0t=I2x.startFrom;T0t < M8o.length;T0t++){b0M=" Me";b0M+="dia";b0M+="n";b0M+=" ";j4q=" T";j4q+="o";j4q+="p";j4q+=" ";x2w=M8o[T0t];if(!x2w)continue;x_X=H9q.Studies.getQuoteFieldValue(x2w,E3_);y9o=x_X !== null && x_X !== undefined?x_X:H9q.Studies.getQuoteFieldValue(x2w,"Close");q5I=H9q.Studies.getQuoteFieldValue(x2w,d_E,I2x.subField);u$e=H9q.Studies.getQuoteFieldValue(x2w,M1J);if(u$e === null)continue;H7s.U6M(141);E80=H7s.Q7U(q5I,i7z,s1$);H7s.U_P(1);x2w[I2x.type + j4q + I2x.name]=H7s.Q7U(E80,u$e);H7s.U_P(10);x2w[I2x.type + " Bottom " + I2x.name]=H7s.l$6(u$e,E80);x2w[I2x.type + b0M + I2x.name]=u$e;x2w["Bandwidth " + I2x.name]=u$e?200 * E80 / u$e:0;H7s.U6M(142);x2w["%b " + I2x.name]=H7s.l$6(0,"1",u$e,y9o,50,E80);}};H9q.Studies.displayChannel=function(i3H,t5X,G1v){var G5S=V5cdF;var J6s,I4B,F8u,y$Y,I5m,k9m;J6s="Chann";J6s+="el Fill";if(t5X.inputs[J6s]){I4B={panelName:t5X.panel};for(var j9c in t5X.outputs){F8u="C";F8u+="h";F8u+="an";F8u+="nel";y$Y="Hi";y$Y+="gh";I5m=j9c.split(" ").pop();if(I5m == "Top" || I5m == y$Y){G5S.U_P(85);var L19=G5S.Q7U(1407,26,12,20);G5S.U6M(108);var G4p=G5S.Q7U(231158,14,4203,4,1);G5S.U_P(143);var A5y=G5S.Q7U(2121,18,507180,16,15);G5S.U6M(15);var w1U=G5S.Q7U(8,210,11,2158,18);G5S.U6M(17);var e4G=G5S.l$6(7249,3,14505);G5S.U_P(10);var O_Z=G5S.l$6(6359,3);I4B.topBand=j9c + ((691.46,313.17) !== (L19,G4p)?A5y === (w1U,e4G)?!!1:" ":O_Z) + t5X.name;}else if(I5m == "Bottom" || I5m == "Low"){I4B.bottomBand=j9c + " " + t5X.name;}else if(I5m == "Median" || I5m == F8u){I4B.color=H9q.Studies.determineColor(t5X.outputs[j9c]);}}if(t5X.parameters && t5X.parameters.opacity){I4B.opacity=t5X.parameters.opacity;}else {I4B.opacity=0.2;}k9m=i3H.panels[t5X.panel];I4B.skipTransform=k9m.name != t5X.chart.name;I4B.yAxis=t5X.getYAxis(i3H);if(!t5X.highlight && i3H.highlightedDraggable){I4B.opacity*=0.3;}H9q.prepareChannelFill(i3H,I4B);}G5S.U0D();H9q.Studies.displaySeriesAsLine(i3H,t5X,G1v);};H9q.Studies.initAnchorHandle=function(z4c,x1w){var i8U;var {handle:p0u}=x1w;if(p0u){return;}if(!z4c.controls.anchorHandles){z4c.controls.anchorHandles={};}var {anchorHandles:N_z, chartControls:C$C}=z4c.controls;if(N_z[x1w.uniqueId]){({handle:p0u}=N_z[x1w.uniqueId]);}else {i8U="d";i8U+="i";i8U+="v";p0u=document.createElement(i8U);p0u.classList.add("stx_anchor_handle");p0u.setAttribute(x1w.uniqueId,"");N_z[x1w.uniqueId]={handle:p0u,sd:x1w};if(C$C){C$C.parentElement.appendChild(p0u);}}x1w.anchorHandle=p0u;};H9q.Studies.removeAnchorHandle=function(N1A,E16){var H3W,W$k,A$b;var {handle:A_m}=(N1A.controls.anchorHandles || ({}))[E16.uniqueId] || ({});if(A_m){delete N1A.controls.anchorHandles[E16.uniqueId];H3W=-214416553;W$k=-537827287;A$b=2;for(var g$8=1;V5cdF.S0_(g$8.toString(),g$8.toString().length,744) !== H3W;g$8++){A_m.remove();A$b+=2;}if(V5cdF.S0_(A$b.toString(),A$b.toString().length,33080) !== W$k){A_m.remove();}A_m.remove();}};H9q.Studies.repositionAnchor=function(Y7r,v1S){var r_c,T1X,h1W,Z_0,B_2,q$M,m3q,x$u,C_x,i1M,X16;var {currentAnchorTime:Q$u, uniqueId:h$2}=v1S;var {hoverTick:R0c}=Y7r.repositioningAnchorSelector || ({});var {dataSet:e9J, market:e39}=Y7r.chart;if(!Y7r.controls.anchorHandles){Y7r.controls.anchorHandles={};}var {anchorHandles:Y8x}=Y7r.controls;r_c={};if(R0c || R0c === 0){T1X="YY";T1X+="YY-";T1X+="MM-dd";if(R0c >= e9J.length){return;}h1W=!v1S.inputs.hasOwnProperty("Anchor Date");Z_0=e9J[R0c].DT;B_2=2056207087;q$M=-1442903389;m3q=2;for(var T3N=+"1";V5cdF.Y5G(T3N.toString(),T3N.toString().length,"75599" | 1) !== B_2;T3N++){x$u=H9q.Studies.getMarketOffset({stx:Y7r,localQuoteDate:Z_0,shiftToDateBoundary:!!0});m3q+=2;}if(V5cdF.S0_(m3q.toString(),m3q.toString().length,63750) !== q$M){x$u=H9q.Studies.getMarketOffset({stx:Y7r,localQuoteDate:Z_0,shiftToDateBoundary:!!({})});}if(Q$u && h1W && new Date(Z_0.getTime() + x$u).getDate() !== new Date(Q$u.getTime() + x$u).getDate()){return;}if(e39.market_def && e39.market_def.market_tz){Z_0=new I2U.Date(Z_0,e39.market_def.market_tz);}C_x=!h1W && H9q.dateToStr(Z_0,T1X);i1M=H9q.dateToStr(Z_0,"HH:mm:ss");r_c={"Anchor Time":i1M};if(C_x){r_c["Anchor Date"]=C_x;}}else {return;}X16=H9q.Studies.replaceStudy(Y7r,v1S.inputs.id,v1S.type,Object.assign(v1S.inputs,r_c),v1S.outputs,v1S.parameters,v1S.panel);if(Y8x[h$2]){Y8x[h$2].sd=X16;}Y7r.draw();};H9q.Studies.cancelRepositionAnchor=function(k$8){var {sd:U48, tapToAdd:N38}=k$8.repositioningAnchorSelector || ({});if(!U48){return;}if(N38){H9q.Studies.removeStudy(k$8,U48);}k$8.repositioningAnchorSelector=null;var {anchorHandles:n9D}=k$8.controls;if(n9D && n9D[U48.uniqueId]){n9D[U48.uniqueId].highlighted=!!"";H9q.Studies.displayAnchorHandleAndLine(k$8,U48,k$8.chart.dataSegment);}V5cdF.U0D();k$8.draw();};H9q.Studies.displayAnchorHandleAndLine=function(K9V,r7E,U$M){var t$x=V5cdF;var B1R,n0S,t3n,j0C,t3Y,l88,t90,c9p,R_0,h6Z,Y7C,z_G,M5U,w8N,h_L,u4A,Q7d,F4q,a2t;if(r7E.signalData && !r7E.signalData.reveal){return;}B1R=(K9V.repositioningAnchorSelector || ({})).sd === r7E;var {hoverTick:n1c}=B1R && K9V.repositioningAnchorSelector;var {chart:h4J, panels:I4$, cy:a23}=K9V;var {market:k_F = {}, symbol:p7x}=h4J;n0S=I4$[r7E.panel];var {top:p7I, right:a0g, left:N2_, height:r4S, subholder:w90}=n0S;var {bottom:V8F}=n0S.yAxis;var {inputs:k2l, anchorHandle:h5K, currentAnchorTime:x1I, lineWidth:M5v = 1}=r7E;var {backgroundColor:v0K, borderLeftColor:B_T}=K9V.canvasStyle("stx_anchor_handle");t3n=!k2l["Anchor Date"];j0C=H9q.getFn("Market.Symbology.isForexSymbol")(p7x);t3Y=(n1c || n1c === +"0") && (K9V.chart.dataSet[n1c] || ({})).DT;l88=H9q.Studies.getMarketOffset({stx:K9V,localQuoteDate:U$M[U$M.length - 1].DT,shiftToDateBoundary:!![]});t90=x1I && t3Y && t3n && new Date(t3Y.getTime() + l88).getDate() !== new Date(x1I.getTime() + l88).getDate();var {floatDate:D97, anchorHandles:P$B = {}}=K9V.controls;c9p=P$B[r7E.uniqueId] || ({});var {highlighted:V1l}=c9p;var [E7c,f7a]=k_F.getNormalOpen().split((1535,812.44) > 6480?"u":7980 >= 1401?":":(!!"",9.93e+3)).map(M3x=>{t$x.U0D();return parseInt(M3x);});R_0=W$b=>{var X5r;t$x.j0M();X5r=W$b?K9V.tickFromDate(W$b,null,null,!!"1"):n1c;return [K9V.pixelFromTick(X5r,h4J),X5r];};h6Z={y0:p7I,y1:V8F,type:"line",confineToPanel:n0S};var [B5A]=R_0();if(B5A){B5A-=0.5;K9V.plotLine(Object.assign(h6Z,{x0:B5A,x1:B5A,color:t90?B_T:v0K,pattern:[6,+"6"],lineWidth:1,opacity:t90?0.5:1}));H9q.efficientDOMUpdate(D97.style,"visibility","");K9V.updateChartAccessories();}if(h5K){Y7C=t3n?new Date(U$M[U$M.length - 1].DT):H9q.strToDate(k2l["Anchor Date"]);if(k_F.market_def && k_F.market_def.market_tz){Y7C=new I2U.Date(Y7C,k_F.market_def.market_tz);}if(!t3n){var [E$k,o18,R0S]=(k2l["Anchor Date"] || "").split("-");if(!R0S){[,E$k,o18,R0S]=E$k.match(/([0-9]{4})([0-9]{2})([0-9]{2})/);}t$x.U6M(144);Y7C.setFullYear(E$k,t$x.l$6(o18,"1",0),R0S);}var [e7G,l2z,n2t = 0]=(k2l["Anchor Time"] || "").split(":");if(!l2z && l2z !== 0){[,e7G,l2z,n2t]=e7G.match(/([0-9]{2})([0-9]{2})([0-9]{2})/);}Y7C.setHours(e7G,l2z,n2t);z_G=j0C && (Y7C.getHours() > E7c || Y7C.getHours() === E7c && Y7C.getMinutes() >= f7a);if(z_G){Y7C.setDate(Y7C.getDate() - ("1" ^ 0));}var [S8P,G6P]=R_0(Y7C);M5U=new Date(Y7C);M5U.setHours(...k_F.getNormalClose().split(("8452" << 32,9240) < 9070?(+"3.76e+3",0x1ce9):":"));if(z_G){M5U.setDate(M5U.getDate() + 1);}var [Q4h]=M5U && R_0(M5U) || [];if(t3n && (S8P > a0g || Q4h > a0g)){w8N=new Date(Y7C);if(k_F){do {w8N.setDate(w8N.getDate() - ("1" >> 96));}while(!k_F.isMarketDate(w8N));}var [l2X,c8y]=R_0(w8N);if(l2X > N2_){Y7C=w8N;S8P=l2X;G6P=c8y;}}S8P-=0.5;K9V.plotLine(Object.assign(h6Z,{x0:S8P,x1:S8P,color:v0K,pattern:"solid",lineWidth:M5v,opacity:V1l || r7E.highlight?1:0.5}));c9p.currentPixel=S8P;if(V1l){h_L="e";h_L+="w-";h_L+="resiz";h_L+="e";u4A="p";u4A+="x";Q7d="p";Q7d+="x";h5K.style.display="";t$x.U_P(10);var W0t=t$x.Q7U(48,44);t$x.U6M(10);var m0j=t$x.l$6(16,8);h5K.style.height=Math.max(Math.min(+"25",r4S / W0t),m0j) + Q7d;F4q=h5K.getBoundingClientRect();a2t=Math.max(Math.min(a23 - F4q.height / 2,V8F - ("3" ^ 0) - F4q.height),p7I + +"3");t$x.U6M(1);h5K.style.top=t$x.l$6(u4A,a2t);t$x.U_P(126);var a0p=t$x.Q7U(1,17,10,2,85);h5K.style.left=(n1c || n1c === 0?B5A:S8P) - F4q.width / a0p + "px";w90.style.cursor=h_L;}else {h5K.style.display="none";w90.style.cursor="auto";}r7E.currentAnchorTime=Y7C;r7E.currentAnchorTick=G6P;}};H9q.Studies.studyScriptLibrary={};H9q.Studies.studyLibrary=H9q.Studies.studyLibrary || ({});H9q.extend(H9q.Studies.studyLibrary,{ma:{name:"Moving Average",overlay:!"",calculateFN:H9q.Studies.calculateMovingAverage,inputs:{Period:+"50",Field:"field",Type:"ma",Offset:0},outputs:{MA:"#FF0000"}},"STD Dev":{name:"Standard Deviation",calculateFN:H9q.Studies.calculateStandardDeviation,inputs:{Period:+"14",Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},attributes:{"Standard Deviations":{min:"0.1" - 0,step:0.1}}},"True Range":{name:r3B,calculateFN:H9q.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":"auto"}},volume:{name:a29,range:"0 to max",yAxis:{ground:!!"1"},seriesFN:H9q.Studies.createVolumeChart,calculateFN:H9q.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"}},MACross:{name:"Moving Average Cross",overlay:!!({}),calculateFN:H9q.Studies.calculateMultMA,inputs:{"MA 1 Period":20,"MA 2 Period":50,"MA 3 Period":200,Field:A2A,"Moving Average Type":F1M,Offset:0},outputs:{"MA 1":"#e9088c","MA 2":"#00afed","MA 3":"#f4932f"}}});};s6=R0w=>{V5cdF.j0M();var B8Z;B8Z=typeof _CIQ !== "undefined"?_CIQ:R0w.CIQ;if(!B8Z.ChartEngine.Driver){console.error("symbolLookupBase feature requires first activating quoteFeed feature.");}else {B8Z.ChartEngine.Driver.Lookup=function(X5w){};B8Z.ChartEngine.Driver.Lookup.prototype.acceptText=function(D1B,p7V,a8j,f6u){V5cdF.j0M();if(!this.cb){return;}};}};Y6=x4s=>{var E3N;V5cdF.U0D();E3N=typeof _CIQ !== "undefined"?_CIQ:x4s.CIQ;E3N.ThemeHelper=E3N.ThemeHelper || (function(l1w){var l5N,S0k,E6w,R53,x$Q,u$0,t6c,n26,z6_;l5N="stx_mountain_ch";l5N+="art";S0k="C";S0k+="andle/Ba";S0k+="r";E6w="Candl";E6w+="e/";E6w+="Bar";R53="Cand";R53+="le/Bar";x$Q="Ca";x$Q+="ndl";x$Q+="e/";x$Q+="Bar";u$0="stx_g";u$0+="rid_dar";u$0+="k";t6c="G";t6c+="rid Dividers";this.params=l1w;n26=l1w.stx;z6_="#FFFF";z6_+="FF";if(n26.chart.container){z6_=getComputedStyle(n26.chart.container).backgroundColor;if(E3N.isTransparent(z6_)){z6_=n26.containerColor;}}this.settings.chart.Background.color=E3N.hexToRgba(z6_);this.settings.chart["Grid Lines"].color=E3N.hexToRgba(n26.canvasStyle("stx_grid").color);this.settings.chart[t6c].color=E3N.hexToRgba(n26.canvasStyle(u$0).color);this.settings.chart["Axis Text"].color=E3N.hexToRgba(n26.canvasStyle("stx_xaxis").color);this.settings.chartTypes["Candle/Bar"].up.color=E3N.hexToRgba(n26.canvasStyle("stx_candle_up").color);this.settings.chartTypes["Candle/Bar"].down.color=E3N.hexToRgba(n26.canvasStyle("stx_candle_down").color);this.settings.chartTypes[x$Q].up.wick=E3N.hexToRgba(n26.canvasStyle("stx_candle_shadow_up").color);this.settings.chartTypes[R53].down.wick=E3N.hexToRgba(n26.canvasStyle("stx_candle_shadow_down").color);this.settings.chartTypes["Candle/Bar"].even.wick=E3N.hexToRgba(n26.canvasStyle("stx_candle_shadow_even").color);this.settings.chartTypes["Candle/Bar"].up.border=E3N.hexToRgba(n26.canvasStyle("stx_candle_up").borderLeftColor);this.settings.chartTypes[E6w].down.border=E3N.hexToRgba(n26.canvasStyle("stx_candle_down").borderLeftColor);if(E3N.isTransparent(n26.canvasStyle("stx_candle_up").borderLeftColor)){this.settings.chartTypes[S0k].up.border=null;}if(E3N.isTransparent(n26.canvasStyle("stx_candle_down").borderLeftColor)){this.settings.chartTypes["Candle/Bar"].down.border=null;}this.settings.chartTypes.Line.color=E3N.hexToRgba(n26.canvasStyle("stx_line_chart").color);this.settings.chartTypes.Mountain.color=E3N.hexToRgba(n26.canvasStyle("stx_mountain_chart").backgroundColor);this.settings.chartTypes.Mountain.basecolor=E3N.hexToRgba(n26.canvasStyle(l5N).color);});E3N.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}};E3N.ThemeHelper.prototype.update=function(j9l){var R4J,q8m,F3z,C9E,g71,T60,f$p,X78;R4J="c";R4J+="olor";q8m="stx_";q8m+="can";q8m+="dle_down";F3z="s";F3z+="t";F3z+="x_candle_down";C9E="c";C9E+="o";function B5k(C0g,L_D,p3m){V5cdF.U0D();var P8l;P8l=f$p[C0g];for(var V4e in P8l){j9l.setStyle(V4e,L_D,p3m);}}C9E+="l";C9E+="or";g71="Candl";g71+="e";g71+="/Bar";T60="c";T60+="o";T60+="l";T60+="or";if(!j9l){j9l=this.params.stx;}f$p={stx_candle_up:{stx_candle_up:!!({}),stx_bar_up:!!({}),stx_hollow_candle_up:!!"1",stx_line_up:!0,stx_baseline_up:!![]},stx_candle_down:{stx_candle_down:!!({}),stx_bar_down:!![],stx_hollow_candle_down:!"",stx_line_down:!![],stx_baseline_down:!0},stx_candle_even:{stx_hollow_candle_even:!!"1",stx_bar_even:!![]},stx_shadow_up:{stx_candle_shadow_up:!!({})},stx_shadow_down:{stx_candle_shadow_down:!0},stx_shadow_even:{stx_candle_shadow_even:!!({})},stx_line_chart:{stx_bar_chart:!![],stx_line_chart:!!({})},stx_grid:{stx_grid:!!"1"},stx_grid_dark:{stx_grid_dark:!!1},stx_xaxis:{stx_xaxis_dark:!"",stx_xaxis:!!"1",stx_yaxis:!![],stx_yaxis_dark:!!({}),stx_grid_border:!!({})},stx_mountain_chart:{stx_mountain_chart:!0},stx_market_session:{stx_market_session:!0}};j9l.chart.container.style.backgroundColor=this.settings.chart.Background.color;j9l.defaultColor="";B5k("stx_grid","color",this.settings.chart["Grid Lines"].color);B5k("stx_grid_dark",T60,this.settings.chart["Grid Dividers"].color);B5k("stx_xaxis","color",this.settings.chart["Axis Text"].color);V5cdF.U0D();X78=this.settings.chartTypes[g71];if(!X78.even){X78.even={color:null,wick:E3N.hexToRgba(j9l.canvasStyle("stx_candle_shadow_even").color),border:null};}B5k("stx_candle_up",C9E,X78.up.color);B5k(F3z,"color",X78.down.color);B5k("stx_candle_even","color",X78.even.color);B5k("stx_shadow_up","color",X78.up.wick);B5k("stx_shadow_down","color",X78.down.wick);B5k("stx_shadow_even","color",X78.even.wick);j9l.setStyle("stx_candle_up","borderLeftColor",X78.up.border);j9l.setStyle(q8m,"borderLeftColor",X78.down.border);B5k("stx_line_chart","color",this.settings.chartTypes.Line.color);j9l.setStyle("stx_mountain_chart","borderTopColor",E3N.hexToRgba(this.settings.chartTypes.Mountain.color,1));j9l.setStyle("stx_mountain_chart","backgroundColor",E3N.hexToRgba(this.settings.chartTypes.Mountain.color,0.5));j9l.setStyle("stx_mountain_chart",R4J,E3N.hexToRgba(this.settings.chartTypes.Mountain.basecolor,0.01));j9l.draw();};E3N.ChartEngine.prototype.setThemeSettings=function(K7N){var q7Z,n0w,c4L,m1b,j1r;q7Z="the";q7Z+="me";n0w="uiContext.topNode.mul";n0w+="tiChartContainer";c4L=E3N.getFromNS(this,n0w);var {breakpoint:f_2}=this.chart;if(c4L){this.styles=c4L.styles[f_2] || ({});c4L.styles[f_2]=this.styles;}else {this.styles={};}this.chart.container.style.backgroundColor="";this.defaultColor="";if(K7N){m1b=new E3N.ThemeHelper({stx:this});m1b.settings=K7N;m1b.update();}this.updateListeners("theme");this.changeOccurred(q7Z);if(this.displayInitialized){j1r="them";j1r+="e";this.headsUpHR();this.clearPixelCache();this.updateListeners(j1r);this.draw();}};};V5=a2L=>{var r0F=V5cdF;var D1f,M8k,Z5v,U1F,R1w,X0H,G45,W2w,f1e,g33,w_G,K5s,h$U,l2F,S0g,k$y,q28,C2j,S1u,T3x,u69,M4j,O5F,f08,V2T,Q58,q46,r6s,b4b,O_h,X5g,X19,R5K,t_v,R4X,l4k,Q3t,k6b,b0Q,t_f,k3D,R0x,c3v,S7s,r67,d$f,j_8,t8I,e7a,w9i,X$R,m7e,S_E,q6A,s2j,G6z,q0F,s0z,m7U,m8H,C9s,j_p,e_W,S1x,x7A,s1V,v4D,j0e,T83,S7V,G5I,D79,o_b,n6I,q7X,X21,e1S,u5R,R_O,Q4D,P_A,e4s,Y27,e3z,b23,i7t,I8A,w1z,F_g,K94,x7E,g$d,y4K,Z_M,z65,N9T,F7N,l$y,E2v,j7d,h_m,B37,r92,q$j,s2v,l8C,D14,f8l,g57,V_T,M5H,M5h,c4W,h4q,B3N,w_o,T8g,i5U,W7r,k2T,F5R,n$L,k86,w84,J2p,U3I,n9l,W5_,N5j,Z4b,M1g,I2r,Q4v,U1l;D1f="M";D1f+="a";D1f+="r";M8k="Su";M8k+="n>=1";Z5v="ma";Z5v+="x";U1F="S";U1F+="e";U1F+="p";R1w="S";R1w+="un>=9";X0H="Sun>=";X0H+="2";G45="A";G45+="pr";W2w="M";W2w+="a";W2w+="y";f1e="N";f1e+="o";f1e+="v";g33="Fe";g33+="b";w_G="S";w_G+="u";w_G+="n>";w_G+="=1";K5s="S";K5s+="u";K5s+="n>=";K5s+="8";h$U="M";h$U+="a";h$U+="r";l2F="Sun>";l2F+="=8";S0g="Sun>";S0g+="=1";k$y="O";k$y+="ct";q28="A";q28+="p";q28+="r";C2j="m";C2j+="ax";S1u="S";S1u+="un";S1u+=">";S1u+="=8";T3x="m";T3x+="a";T3x+="x";u69="N";u69+="o";u69+="v";M4j="la";M4j+="stSun";O5F="ma";O5F+="x";f08="M";f08+="a";f08+="r";V2T="m";V2T+="a";V2T+="x";Q58="S";Q58+="e";Q58+="p";q46="S";q46+="un";q46+=">=1";r6s="A";r6s+="p";r6s+="r";b4b="S";b4b+="e";b4b+="p";O_h="m";O_h+="a";O_h+="x";X5g="Sun>=";X5g+="1";X19="m";X19+="ax";R5K="De";R5K+="c";t_v="on";t_v+="l";t_v+="y";R4X="o";R4X+="nl";R4X+="y";l4k="Ja";l4k+="n";Q3t="N";Q3t+="o";Q3t+="v";k6b="O";k6b+="ct";b0Q="lastF";b0Q+="ri";t_f="m";t_f+="a";t_f+="x";k3D="m";k3D+="a";k3D+="x";R0x="O";R0x+="c";R0x+="t";c3v="M";c3v+="a";c3v+="r";S7s="2";S7s+="0";r67="S";r67+="e";r67+="p";d$f="2";d$f+="1";j_8="m";j_8+="ax";t8I="last";t8I+="Sun";e7a="o";e7a+="n";e7a+="l";e7a+="y";w9i="o";w9i+="n";w9i+="l";w9i+="y";X$R="M";X$R+="a";X$R+="r";m7e="3";m7e+="0";S_E="o";S_E+="nl";S_E+="y";q6A="M";q6A+="ar";s2j="2";s2j+="7";G6z="3";G6z+="1";q0F="A";q0F+="p";q0F+="r";s0z="o";s0z+="nly";m7U="o";m7U+="n";m7U+="l";m7U+="y";m8H="Ma";m8H+="y";C9s="onl";C9s+="y";j_p="M";j_p+="a";j_p+="r";e_W="E";e_W+="tc/U";e_W+="T";e_W+="C";S1x="-";S1x+="0";S1x+="4";x7A="-0";x7A+="3";s1V="E";s1V+="%";s1V+="sT";v4D="M%s";v4D+="T";j0e="U";j0e+="S";T83="C";T83+="ana";T83+="d";T83+="a";S7V="Ca";S7V+="nad";S7V+="a";G5I="U";G5I+="S";D79="U";D79+="S";o_b="P%";o_b+="sT";n6I="M%";n6I+="sT";q7X="U";q7X+="S";X21="C%s";X21+="T";e1S="U";e1S+="S";u5R="CE%";u5R+="s";u5R+="T";R_O="+";R_O+="1";R_O+="1";Q4D="+";Q4D+="0";Q4D+="8";P_A="+";P_A+="0";P_A+="7";e4s="+";e4s+="0";e4s+="7";Y27="E";Y27+="U";e3z="-01/";e3z+="+0";e3z+="0";b23="E";b23+="U";i7t="C";i7t+="E";i7t+="%s";i7t+="T";I8A="E";I8A+="i";I8A+="r";I8A+="e";w1z="U";w1z+="T";w1z+="C";F_g="+13/";F_g+="+14";K94="W";K94+="S";x7E="S";x7E+="S";x7E+="T";g$d="+";g$d+="1";g$d+="1/+12";y4K="F";y4K+="i";y4K+="j";y4K+="i";Z_M="AC%s";Z_M+="T";z65="A";z65+="S";N9T="AE%";N9T+="sT";F7N="+";F7N+="0";F7N+="3";l$y="I";l$y+="%";l$y+="sT";E2v="Z";E2v+="i";E2v+="on";j7d="I";j7d+="S";j7d+="T";h_m="+0";h_m+="430";B37="C";B37+="E%";B37+="s";B37+="T";r92="Pacific/Ki";r92+="ritimat";r92+="i";q$j="Pac";q$j+="ific/Chatham";s2v="Pacific/";s2v+="Auc";s2v+="klan";s2v+="d";l8C="Asia";l8C+="/Kamchat";l8C+="k";l8C+="a";D14="Asia/Sr";D14+="ednekolymsk";f8l="Australia/S";f8l+="y";f8l+="dney";g57="Asi";g57+="a/Py";g57+="ongyang";V_T="Asi";V_T+="a/";V_T+="Ulaanbaatar";M5H="Asia/Yekaterinbur";M5H+="g";M5h="Asia/K";M5h+="ab";M5h+="ul";c4W="Europ";c4W+="e/Mo";c4W+="scow";h4q="Asia/Jerusal";h4q+="em";B3N="E";B3N+="urope/He";B3N+="lsin";B3N+="ki";w_o="Africa";w_o+="/Johannesb";w_o+="urg";T8g="Eur";T8g+="o";T8g+="pe/Berlin";i5U="U";i5U+="T";i5U+="C";W7r="America/Argenti";W7r+="na/Buenos_Ai";W7r+="res";k2T="America/Asunc";k2T+="io";k2T+="n";F5R="America/San";F5R+="tiago";n$L="America/";n$L+="Caracas";k86="A";k86+="me";k86+="rica/Port-au-Prince";w84="Am";w84+="erica/New_York";J2p="A";J2p+="mer";J2p+="ica/Regina";U3I="Ame";U3I+="rica/";U3I+="Denver";n9l="Pacif";n9l+="ic/Pago_";n9l+="Pago";r0F.U_P(10);W5_=-r0F.l$6("967192249",0);N5j=-890733371;Z4b=2;for(var W6l=1;r0F.S0_(W6l.toString(),W6l.toString().length,86588) !== W5_;W6l++){M1g="undefine";M1g+="d";I2r=typeof _CIQ !== M1g?_CIQ:a2L.CIQ;Q4v=typeof _timezoneJS !== "undefined"?_timezoneJS:a2L.timezoneJS;Z4b+=2;}if(r0F.Y5G(Z4b.toString(),Z4b.toString().length,91974) !== N5j){U1l="u";U1l+="ndefined";I2r=~_CIQ != U1l?_CIQ:a2L.CIQ;Q4v=!_timezoneJS === "undefined"?_timezoneJS:a2L.timezoneJS;}I2r.timeZoneMap={"(UTC-11:00) American Samoa, Midway Island":n9l,"(UTC-10:00) Hawaii":"Pacific/Honolulu","(UTC-10:00) Alaska Aleutian Islands":"America/Adak","(UTC-09:00) Alaska":"America/Juneau","(UTC-08:00) Pacific Time (US and Canada), Tijuana":"America/Los_Angeles","(UTC-07:00) Arizona":"America/Phoenix","(UTC-07:00) Mazatlan":"America/Mazatlan","(UTC-07:00) Mountain Time (US and Canada)":U3I,"(UTC-06:00) Saskatchewan":J2p,"(UTC-06:00) Central America":"America/Costa_Rica","(UTC-06:00) Central Time (US and Canada)":"America/Chicago","(UTC-06:00) Chihuahua":"America/Chihuahua","(UTC-06:00) Guadalajara, Mexico City, Monterrey":"America/Mexico_City","(UTC-05:00) Bogota, Lima, Quito, Rio Branco":"America/Bogota","(UTC-05:00) Eastern Time (US and Canada)":w84,"(UTC-05:00) Havana":"America/Havana","(UTC-05:00) Port-au-Prince":k86,"(UTC-04:00) Caracas":n$L,"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan":"America/Puerto_Rico","(UTC-04:00) Santiago":F5R,"(UTC-04:00) Asuncion":k2T,"(UTC-04:00) Atlantic Time (Canada)":"America/Halifax","(UTC-03:30) Newfoundland and Labrador":"America/St_Johns","(UTC-03:00) Buenos Aires, Montevideo":W7r,"(UTC-03:00) Punta Arenas":"America/Punta_Arenas","(UTC-03:00) Sao Paulo":"America/Sao_Paulo","(UTC-02:00) Mid-Atlantic":"Atlantic/South_Georgia","(UTC-01:00) Cape Verde Islands":"Atlantic/Cape_Verde","(UTC-01:00) Azores":"Atlantic/Azores","(UTC) Greenwich Mean Time, Reykjavik":i5U,"(UTC) Dublin":"Europe/Dublin","(UTC) Lisbon, London":"Europe/London","(UTC) Casablanca":"Africa/Casablanca","(UTC+01:00) Algiers, Tunis":"Africa/Tunis","(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":T8g,"(UTC+01:00) Belgrade, Budapest, Prague, Sarajevo, Warsaw":"Europe/Belgrade","(UTC+01:00) Brussels, Copenhagen, Madrid, Paris":"Europe/Brussels","(UTC+02:00) Cairo":"Africa/Cairo","(UTC+02:00) Harare, Johannesburg":w_o,"(UTC+02:00) Kaliningrad":"Europe/Kaliningrad","(UTC+02:00) Athens, Bucharest":"Europe/Bucharest","(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius":B3N,"(UTC+02:00) Cyprus":"Asia/Nicosia","(UTC+02:00) Beirut":"Asia/Beirut","(UTC+02:00) Jerusalem":h4q,"(UTC+03:00) Istanbul":"Europe/Istanbul","(UTC+03:00) Damascus":"Asia/Damascus","(UTC+03:00) Amman":"Asia/Amman","(UTC+03:00) Baghdad, Kuwait, Qatar, Riyadh":"Asia/Riyadh","(UTC+03:00) Minsk, Moscow, Kirov, Simferopol":c4W,"(UTC+03:00) Volgograd":"Europe/Volgograd","(UTC+03:00) Nairobi":"Africa/Nairobi","(UTC+03:30) Tehran":"Asia/Tehran","(UTC+04:00) Baku":"Asia/Baku","(UTC+04:00) Dubai, Muscat":"Asia/Dubai","(UTC+04:00) Astrakhan, Samara, Saratov, Ulyanovsk":"Europe/Samara","(UTC+04:30) Kabul":M5h,"(UTC+05:00) Karachi, Tashkent":"Asia/Karachi","(UTC+05:00) Yekaterinburg":M5H,"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi":"Asia/Kolkata","(UTC+05:45) Kathmandu":"Asia/Kathmandu","(UTC+06:00) Almaty":"Asia/Almaty","(UTC+06:00) Omsk":"Asia/Omsk","(UTC+06:00) Astana, Dhaka":"Asia/Dhaka","(UTC+06:30) Yangon":"Asia/Yangon","(UTC+07:00) Bangkok, Jakarta, Vietnam":"Asia/Bangkok","(UTC+07:00) Hovd":"Asia/Hovd","(UTC+07:00) Krasnoyarsk":"Asia/Krasnoyarsk","(UTC+07:00) Novokuznetsk":"Asia/Novokuznetsk","(UTC+07:00) Barnaul, Novosibirsk, Tomsk":"Asia/Novosibirsk","(UTC+08:00) Beijing, Chongqing, Hong Kong SAR":"Asia/Hong_Kong","(UTC+08:00) Brunei, Kuala Lumpur, Singapore":"Asia/Singapore","(UTC+08:00) Irkutsk":"Asia/Irkutsk","(UTC+08:00) Choibalsan, Ulaanbaatar":V_T,"(UTC+08:00) Manila, Taipei":"Asia/Taipei","(UTC+08:00) Perth":"Australia/Perth","(UTC+08:45) Eucla":"Australia/Eucla","(UTC+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo","(UTC+09:00) Pyongyang":g57,"(UTC+09:00) Seoul":"Asia/Seoul","(UTC+09:00) Chita, Khandyga, Yakutsk":"Asia/Yakutsk","(UTC+09:30) Adelaide":"Australia/Adelaide","(UTC+09:30) Darwin":"Australia/Darwin","(UTC+10:00) Brisbane":"Australia/Brisbane","(UTC+10:00) Canberra, Melbourne, Sydney":f8l,"(UTC+10:00) Guam, Port Moresby":"Pacific/Guam","(UTC+10:00) Ust-Nera, Vladivostok":"Asia/Vladivostok","(UTC+11:00) Noumea, Solomon Islands":"Pacific/Noumea","(UTC+11:00) Magadan":"Asia/Magadan","(UTC+11:00) Sakhalin, Srednekolymsk":D14,"(UTC+12:00) Anadyr, Kamchatka":l8C,"(UTC+12:00) Auckland, Wellington":s2v,"(UTC+12:00) Fiji":"Pacific/Fiji","(UTC+12:45) Chatham":q$j,"(UTC+13:00) Tonga":"Pacific/Tongatapu","(UTC+13:00) Samoa":"Pacific/Apia","(UTC+14:00) Kiritimati":r92};(function(){var N4J,L03,Q7p,L$U,a6$,t4p,I8T,L8H,h8A,s5S,q4e,f0p,o8T,k4W,h1k,k0Y,G2z,k3g;N4J="Dec";N4J+="emb";N4J+="er";L03="Nov";L03+="e";L03+="mber";Q7p="M";Q7p+="a";Q7p+="y";L$U="Tu";L$U+="e";L$U+="sd";L$U+="ay";a6$="M";a6$+="on";a6$+="d";a6$+="ay";t4p="und";t4p+="e";t4p+="fined";"use strict";I8T=typeof window !== "undefined"?window:null;L8H=I8T || (typeof global !== t4p?global:{});Q4v.VERSION="0.4.11";h8A=L8H.$ || L8H.jQuery || L8H.Zepto;s5S=L8H.fleegix;q4e=Q4v.Days=["Sunday",a6$,L$U,"Wednesday","Thursday","Friday","Saturday"];r0F.U0D();f0p=Q4v.Months=["January","February","March","April",Q7p,"June","July","August","September","October",L03,N4J];o8T={};k4W={};h1k={};for(var n5r=0;n5r < f0p.length;n5r++){o8T[f0p[n5r].substr(+"0",3)]=n5r;}for(n5r=0;n5r < q4e.length;n5r++){k4W[q4e[n5r].substr(0,3)]=n5r;}k0Y=Array.prototype.indexOf || (function(k7i){var u03,x3E,R05,G7M;if(this === null){throw new TypeError();}u03=Object(this);x3E=u03.length >>> +"0";if(x3E === 0){return -1;}R05=0;if(arguments.length > 1){R05=Number(arguments[1]);if(R05 != R05){R05=0;}else if(R05 !== 0 && R05 !== Infinity && R05 !== -Infinity){r0F.U_P(10);var u09=r0F.Q7U(46,14);r0F.U6M(59);var n1y=r0F.l$6(5,99,20);R05=(R05 > "0" << u09 || n1y) * Math.floor(Math.abs(R05));}}if(R05 >= x3E){return -1;}r0F.U0D();G7M=R05 >= 0?R05:Math.max(x3E - Math.abs(R05),0);for(;G7M < x3E;G7M++){if((G7M in u03) && u03[G7M] === k7i){return G7M;}}return -1;});G2z=function(d5K,S7D){var l1A,f4C,d07;if(typeof d5K !== "number"){r0F.U_P(1);throw r0F.Q7U(d5K,"not a number: ");}r0F.U6M(98);l1A=r0F.l$6(d5K,1000);f4C=d5K.toString();d07=f4C.length;if(l1A && d07 > S7D){r0F.U6M(10);return f4C.substr(r0F.l$6(d07,S7D),d07);}f4C=[f4C];r0F.j0M();while(d07 < S7D){f4C.unshift(505 != 382.3?(136.6,5380) == "694" - 0?+"448.38":"0":2.19e+3);d07++;}return f4C.join("");};k3g=function(K_m){var H09;H09="unde";H09+="f";H09+="ine";H09+="d";if(!K_m){return;}if(!K_m.url){throw new Error("URL must be specified");}if(!(("async" in K_m))){K_m.async=!"";}if((!s5S || typeof s5S.xhr === "undefined") && (!h8A || typeof h8A.ajax === H09)){throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");}if(!K_m.async){return s5S && s5S.xhr?s5S.xhr.doReq({url:K_m.url,async:![]}):h8A.ajax({url:K_m.url,async:![],dataType:"text"}).responseText;}return s5S && s5S.xhr?s5S.xhr.send({url:K_m.url,method:"get",handleSuccess:K_m.success,handleErr:K_m.error}):h8A.ajax({url:K_m.url,dataType:"text",method:"GET",error:K_m.error,success:K_m.success});};Q4v.ruleCache={};Q4v.Date=function(){var G2w,h59,p6I,f11,r5T,R15,D4w;G2w="[object A";G2w+="rr";G2w+="ay]";if(this === Q4v){throw "timezoneJS.Date object must be constructed with 'new'";}h59=Array.prototype.slice.apply(arguments);p6I=null;f11=null;r5T=[];R15=![];if(Object.prototype.toString.call(h59[0]) === G2w){h59=h59[0];}if(typeof h59[h59.length - 1] === "string"){R15=Date.parse(h59[h59.length - 1].replace(/GMT[+-]\d+/,""));if(isNaN(R15) || R15 === null){f11=h59.pop();}}D4w=!1;switch(h59.length){case "0" >> 0:p6I=new Date();break;case 1:p6I=new Date(h59[0]);if(typeof h59[0] == "string" && h59[0].search(/[+-][0-9]{4}/) == -1 && h59[0].search(/Z/) == -1 && h59[0].search(/T/) == -1){D4w=!![];}break;case 2:p6I=new Date(h59[0],h59[1]);D4w=!0;break;default:for(var Q5O=0;Q5O < 7;Q5O++){r5T[Q5O]=h59[Q5O] || 0;}r0F.U6M(14);p6I=new Date(r5T[0],r5T[1],r5T[2],r5T[r0F.l$6("3",64)],r5T[+"4"],r5T[5],r5T[6]);D4w=!![];break;}if(isNaN(p6I.getTime())){throw new Error("Invalid date");}this._useCache=!({});this._tzInfo={};r0F.U0D();this._day=0;this.year=0;this.month=0;r0F.U_P(9);this.date=r0F.Q7U(32,"0");this.hours=0;this.minutes=0;this.seconds=+"0";this.milliseconds=0;this.timezone=f11 || null;if(D4w){this.setFromDateObjProxy(p6I);}else {this.setFromTimeProxy(p6I.getTime(),f11);}};I2r.extend(Q4v.Date.prototype,{getDate:function(){return this.date;},getDay:function(){return this._day;},getFullYear:function(){return this.year;},getMonth:function(){return this.month;},getYear:function(){return this.year - +"1900";},getHours:function(){r0F.j0M();return this.hours;},getMilliseconds:function(){r0F.j0M();return this.milliseconds;},getMinutes:function(){r0F.U0D();return this.minutes;},getSeconds:function(){r0F.U0D();return this.seconds;},getUTCDate:function(){return this.getUTCDateProxy().getUTCDate();},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay();},getUTCFullYear:function(){r0F.U0D();return this.getUTCDateProxy().getUTCFullYear();},getUTCHours:function(){r0F.U0D();return this.getUTCDateProxy().getUTCHours();},getUTCMilliseconds:function(){return this.getUTCDateProxy().getUTCMilliseconds();},getUTCMinutes:function(){r0F.j0M();return this.getUTCDateProxy().getUTCMinutes();},getUTCMonth:function(){r0F.U0D();return this.getUTCDateProxy().getUTCMonth();},getUTCSeconds:function(){r0F.U0D();return this.getUTCDateProxy().getUTCSeconds();},getTime:function(){r0F.U6M(17);r0F.j0M();var b71=r0F.Q7U(990,10,8900);return this._timeProxy + this.getTimezoneOffset() * ("60" ^ 0) * b71;},getTimezone:function(){return this.timezone;},getTimezoneOffset:function(){r0F.U0D();return this.getTimezoneInfo().tzOffset;},getTimezoneAbbreviation:function(){return this.getTimezoneInfo().tzAbbr;},getTimezoneInfo:function(){var I04;if(this._useCache){return this._tzInfo;}if(this.timezone){I04=this.timezone === "Etc/UTC" || this.timezone === "Etc/GMT"?{tzOffset:0,tzAbbr:"UTC"}:Q4v.timezone.getTzInfo(this._timeProxy,this.timezone);}else {I04={tzOffset:this.getLocalOffset(),tzAbbr:null};}this._tzInfo=I04;this._useCache=!!"1";return I04;},getUTCDateProxy:function(){var z2P;z2P=new Date(this._timeProxy);z2P.setUTCMinutes(z2P.getUTCMinutes() + this.getTimezoneOffset());return z2P;},setDate:function(B5h){var V8K;V8K="d";V8K+="a";V8K+="t";V8K+="e";this.setAttribute(V8K,B5h);return this.getTime();},setFullYear:function(R07,v1s,J3e){if(J3e !== undefined){this.setAttribute("date",1);}this.setAttribute("year",R07);if(v1s !== undefined){this.setAttribute("month",v1s);}r0F.j0M();if(J3e !== undefined){this.setAttribute("date",J3e);}return this.getTime();},setMonth:function(X8y,h0p){this.setAttribute("month",X8y);r0F.j0M();if(h0p !== undefined){this.setAttribute("date",h0p);}return this.getTime();},setYear:function(B22){B22=Number(B22);if(0 <= B22 && B22 <= 99){B22+=1900;}this.setUTCAttribute("year",B22);return this.getTime();},setHours:function(a9Z,h7t,C4r,Q93){var i1E,D7d;i1E="h";i1E+="our";i1E+="s";this.setAttribute(i1E,a9Z);if(h7t !== undefined){this.setAttribute("minutes",h7t);}if(C4r !== undefined){D7d="sec";D7d+="onds";this.setAttribute(D7d,C4r);}if(Q93 !== undefined){this.setAttribute("milliseconds",Q93);}return this.getTime();},setMinutes:function(R4u,b1_,N6h){this.setAttribute("minutes",R4u);r0F.j0M();if(b1_ !== undefined){this.setAttribute("seconds",b1_);}if(N6h !== undefined){this.setAttribute("milliseconds",N6h);}return this.getTime();},setSeconds:function(Z8h,N3h){this.setAttribute("seconds",Z8h);if(N3h !== undefined){this.setAttribute("milliseconds",N3h);}return this.getTime();},setMilliseconds:function(K$Y){r0F.j0M();this.setAttribute("milliseconds",K$Y);return this.getTime();},setTime:function(P2h){if(isNaN(P2h)){throw new Error("Units must be a number.");}this.setFromTimeProxy(P2h,this.timezone);return this.getTime();},setUTCFullYear:function(O1G,x8q,U1b){var w1S,y6D;if(U1b !== undefined){this.setUTCAttribute("date",1);}this.setUTCAttribute("year",O1G);if(x8q !== undefined){w1S="m";w1S+="o";w1S+="nt";w1S+="h";this.setUTCAttribute(w1S,x8q);}if(U1b !== undefined){y6D="d";y6D+="at";y6D+="e";this.setUTCAttribute(y6D,U1b);}return this.getTime();},setUTCMonth:function(F1S,v$D){var w82;this.setUTCAttribute("month",F1S);if(v$D !== undefined){w82="d";w82+="at";w82+="e";this.setUTCAttribute(w82,v$D);}r0F.U0D();return this.getTime();},setUTCDate:function(v85){this.setUTCAttribute("date",v85);return this.getTime();},setUTCHours:function(k7Y,Y4d,O1x,K6E){var p3W;this.setUTCAttribute("hours",k7Y);if(Y4d !== undefined){this.setUTCAttribute("minutes",Y4d);}if(O1x !== undefined){p3W="s";p3W+="e";p3W+="conds";this.setUTCAttribute(p3W,O1x);}if(K6E !== undefined){this.setUTCAttribute("milliseconds",K6E);}return this.getTime();},setUTCMinutes:function(N1p,D3E,j7O){var M4P;this.setUTCAttribute("minutes",N1p);r0F.j0M();if(D3E !== undefined){this.setUTCAttribute("seconds",D3E);}if(j7O !== undefined){M4P="m";M4P+="illiseco";M4P+="n";M4P+="ds";this.setUTCAttribute(M4P,j7O);}return this.getTime();},setUTCSeconds:function(N0K,N$P){this.setUTCAttribute("seconds",N0K);if(N$P !== undefined){this.setUTCAttribute("milliseconds",N$P);}return this.getTime();},setUTCMilliseconds:function(r3V){r0F.U0D();this.setUTCAttribute("milliseconds",r3V);return this.getTime();},setFromDateObjProxy:function(F1b){this.year=F1b.getFullYear();this.month=F1b.getMonth();this.date=F1b.getDate();this.hours=F1b.getHours();this.minutes=F1b.getMinutes();this.seconds=F1b.getSeconds();this.milliseconds=F1b.getMilliseconds();this._day=F1b.getDay();this._dateProxy=F1b;this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds);this._useCache=!({});},setFromTimeProxy:function(j$_,V9T){var N02,T2P;N02=new Date(j$_);T2P=V9T?Q4v.timezone.getTzInfo(j$_,V9T,!!({})).tzOffset:N02.getTimezoneOffset();N02.setTime(j$_ + (N02.getTimezoneOffset() - T2P) * 60000);this.setFromDateObjProxy(N02);},setAttribute:function(a0l,W8U){var b7c,O0U;if(isNaN(W8U)){throw new Error("Units must be a number.");}b7c=this._dateProxy;O0U=a0l === "year"?"FullYear":a0l.substr(0,1).toUpperCase() + a0l.substr(1);r0F.j0M();b7c["set" + O0U](W8U);this.setFromDateObjProxy(b7c);},setUTCAttribute:function(g0I,u84){r0F.j0M();var N_i,W7w,Z9D;if(isNaN(u84)){N_i="Units m";N_i+="ust";N_i+=" be a numb";N_i+="er.";throw new Error(N_i);}W7w=g0I === "year"?"FullYear":g0I.substr(0,1).toUpperCase() + g0I.substr(1);Z9D=this.getUTCDateProxy();Z9D["setUTC" + W7w](u84);Z9D.setUTCMinutes(Z9D.getUTCMinutes() - this.getTimezoneOffset());this.setFromTimeProxy(Z9D.getTime() + this.getTimezoneOffset() * 60000,this.timezone);},setTimezone:function(B2M){var l5T,O62,D9b,E4_;l5T=this.getTimezoneInfo().tzOffset;this.timezone=B2M;O62=-1325070454;D9b=1008714351;E4_=+"2";for(var s1N=1;r0F.S0_(s1N.toString(),s1N.toString().length,66663) !== O62;s1N++){this._useCache=!"1";this.setUTCMinutes(this.getUTCMinutes() - this.getTimezoneInfo().tzOffset + l5T);E4_+=2;}if(r0F.Y5G(E4_.toString(),E4_.toString().length,+"21892") !== D9b){this._useCache=!![];this.setUTCMinutes(this.getUTCMinutes() % this.getTimezoneInfo().tzOffset * l5T);}},removeTimezone:function(){r0F.j0M();this.timezone=null;this._useCache=!"1";},valueOf:function(){r0F.U0D();return this.getTime();},clone:function(){r0F.j0M();return this.timezone?new Q4v.Date(this.getTime(),this.timezone):new Q4v.Date(this.getTime());},toGMTString:function(){return this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT");},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){r0F.U6M(16);var c_l=r0F.Q7U(3,3123,16);r0F.U_P(10);var Y35=r0F.Q7U(9,8);r0F.U6M(145);var h98=r0F.l$6(7,1337,20,1105,4);r0F.U6M(23);var F6D=r0F.Q7U(16,1523,9);r0F.U_P(62);var w0B=r0F.Q7U(9755,9769,9755);r0F.j0M();return this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC") + (c_l != "375.25" * Y35?"Z":(h98,629.93) > F6D?w0B:!({}));},toJSON:function(){r0F.U0D();return this.toISOString();},toDateString:function(){return this.toString("EEE MMM dd yyyy");},toTimeString:function(){return this.toString("H:mm k");},toString:function(r0K,G6E){var k6w,x95,Z5M,v0L;if(!r0K){r0K="yyyy-MM-ddTHH:mm:ss.SSS";}k6w=r0K;x95=G6E?Q4v.timezone.getTzInfo(this.getTime(),G6E):this.getTimezoneInfo();Z5M=this;r0F.j0M();if(G6E){Z5M=this.clone();Z5M.setTimezone(G6E);}v0L=Z5M.getHours();return k6w.replace(/a+/g,function(){r0F.U0D();return (281,62.76) == 12?![]:7298 != (6763,923)?6168 > (+"245.64",+"7989")?("E",8.05e+3):"k":![];}).replace(/y+/g,function(J6S){r0F.j0M();return G2z(Z5M.getFullYear(),J6S.length);}).replace(/d+/g,function(Z$E){r0F.j0M();return G2z(Z5M.getDate(),Z$E.length);}).replace(/m+/g,function(G7D){r0F.j0M();return G2z(Z5M.getMinutes(),G7D.length);}).replace(/s+/g,function(h$L){return G2z(Z5M.getSeconds(),h$L.length);}).replace(/S+/g,function(D56){r0F.j0M();return G2z(Z5M.getMilliseconds(),D56.length);}).replace(/h+/g,function(F5G){return G2z(v0L % 12 === 0?12:v0L % ("12" | 0),F5G.length);}).replace(/M+/g,function(s7m){var H8I,C2a;r0F.U0D();H8I=Z5M.getMonth();C2a=s7m.length;if(C2a > 3){return Q4v.Months[H8I];}else if(C2a > 2){return Q4v.Months[H8I].substring(0,C2a);}r0F.U_P(1);return G2z(r0F.l$6(1,H8I),C2a);}).replace(/k+/g,function(){if(v0L >= +"12"){if(v0L > ("12" | 4)){r0F.U6M(40);v0L-=r0F.l$6("12",0);}return "PM";}return "AM";}).replace(/H+/g,function(b4A){r0F.j0M();return G2z(v0L,b4A.length);}).replace(/E+/g,function(Q5p){return q4e[Z5M.getDay()].substring(0,Q5p.length);}).replace(/Z+/gi,function(){return x95.tzAbbr;});},toUTCString:function(){return this.toGMTString();},civilToJulianDayNumber:function(r3O,B1z,r$z){var i8L,n4w,n46,Z0j,O8q,N89;B1z++;if(B1z > 12){r0F.U6M(11);i8L=parseInt(r0F.l$6(12,B1z),10);r0F.U_P(146);B1z=r0F.l$6(12,"12",B1z);r3O+=i8L;}if(B1z <= 2){r3O-=1;n4w=811719155;r0F.U_P(9);n46=-r0F.l$6(64,"96885500");Z0j=2;for(var Q1K=1;r0F.S0_(Q1K.toString(),Q1K.toString().length,84068) !== n4w;Q1K++){B1z-=70;Z0j+=2;}if(r0F.S0_(Z0j.toString(),Z0j.toString().length,47154) !== n46){B1z%=+"92";}r0F.U6M(2);B1z+=r0F.l$6(1,"12");}r0F.U_P(33);i8L=Math.floor(r0F.Q7U("100",r3O));r0F.U6M(43);var i4L=r0F.Q7U(2,12,16);r0F.U6M(34);var r8g=r0F.l$6(7,0,11,73);r0F.j0M();O8q=i4L - i8L + Math.floor(i8L / r8g);r0F.U_P(147);var X_j=r0F.Q7U(11,11,2,4,55);r0F.U6M(17);var J3g=r0F.Q7U(1521,11,15207);N89=Math.floor(365.25 * (r3O + +"4716")) + Math.floor(30.6001 * (B1z + X_j)) + r$z + O8q - J3g;return N89;},getLocalOffset:function(){r0F.j0M();return this._dateProxy.getTimezoneOffset();}},!!({}));Q4v.timezone=new (function(){var n6k,Q4f,H9G,f1R,U_S,z$d,z_f,d2x,L7U,S6t,Y4y,k$6,h$P,c16,b_0,H$8,Y58,X6o,P8z,s7j;n6k="laz";n6k+="y";n6k+="Lo";n6k+="ad";Q4f="bac";Q4f+="kw";Q4f+="ard";H9G="a";function c3e(l_B,J5C,F7r,R1Q){var s__,X23,p9Y,w2G,r6l,T8e,B1s,D3R,T3c,r4a,j5O,Y0u,H9U,x2J;s__=typeof l_B === "number"?new Date(l_B):l_B;X23=J5C[1];p9Y=J5C[0];w2G=X23.match(/^([0-9]):([0-9][0-9])$/);if(w2G){r6l="m";r6l+="a";r6l+="x";r0F.U6M(10);var M1v=r0F.l$6(8,7);r0F.U_P(19);var U7M=r0F.Q7U(50,5,9);r0F.U_P(145);var o4h=r0F.Q7U(51,51,19,36,4);r0F.U_P(6);var a4J=r0F.l$6(12,2);r0F.U_P(24);return [-+"1000000",r6l,9200 < 5.02?9930 == (7110,9870)?"p":(+"685.94","9162" << 32) === 3785?0x205e:777.36:"-","Jan",1,[0,r0F.l$6("0",0),0],parseInt(w2G[M1v],"10" >> U7M) * o4h + parseInt(w2G[+"2"],a4J),(4238,+"476.72") < 8701?"-":!!0];}T8e=function(g0p,M7c,O9P){var C_6;C_6=+"0";if(M7c === "u" || M7c === ((3070,9800) < 603?(!({}),2.61e+3):911.54 > (416.34,4940)?"k":"g") || M7c === "z"){C_6=0;}else if(M7c === (56.58 < 4773?(2467,771.32) <= 43.28?"r":124 !== 7157?"s":("j",!!""):("e","R"))){C_6=p9Y;}else if(M7c === ((7464,3719) == 1958?"a":"w") || !M7c){C_6=h1H(p9Y,O9P[6]);}else {r0F.U6M(1);throw new Error(r0F.l$6(M7c,"unknown type "));}r0F.U6M(2);C_6*=r0F.l$6(1000,60);return new Date(g0p.getTime() + C_6);};B1s=function(e6W,Y0k){var X2H,S2U,d0u,P27,A8$,D7k,i6P,w$Z,d8c;X2H=e6W[0];r0F.U_P(24);S2U=e6W[r0F.l$6("1",1)];d0u=S2U[5];if(!h1k[X2H]){h1k[X2H]={};}if(h1k[X2H][S2U]){P27=h1k[X2H][S2U];}else {if(!isNaN(S2U[4])){P27=new Date(Date.UTC(X2H,o8T[S2U["3" << 0]],S2U[4],d0u[0],d0u[1],d0u[2],0));}else {A8$="l";A8$+="a";A8$+="st";if(S2U[4].substr(0,"4" << 64) === A8$){w$Z="<";w$Z+="=";P27=new Date(Date.UTC(X2H,o8T[S2U[3]] + 1,+"1",d0u[+"0"] - 24,d0u[+"1"],d0u[2],"0" | 0));D7k=k4W[S2U[4].substr(+"4",3)];i6P=w$Z;}else {P27=new Date(Date.UTC(X2H,o8T[S2U[3]],S2U[4].substr(5),d0u[0],d0u["1" * 1],d0u[2],0));D7k=k4W[S2U[4].substr(0,3)];i6P=S2U[+"4"].substr(3,2);}d8c=P27.getUTCDay();if(i6P === ">="){P27.setUTCDate(P27.getUTCDate() + (D7k - d8c + (D7k < d8c?"7" >> 64:"0" << 0)));}else {P27.setUTCDate(P27.getUTCDate() + (D7k - d8c - (D7k > d8c?7:0)));}}h1k[X2H][S2U]=P27;}if(Y0k){P27=T8e(P27,d0u[3],Y0k);}return P27;};D3R=function(g6x,s62){var B3m,s9N;r0F.j0M();B3m=[];if(s62){for(var V7t=0;V7t < s62.length;V7t++){s9N="o";s9N+="nly";if(s62[V7t][0] <= g6x && (s62[V7t][1] >= g6x || s62[V7t][0] === g6x && s62[V7t][1] === s9N || s62[V7t][1] === "max")){B3m.push([g6x,s62[V7t]]);}}}return B3m;};r0F.U0D();T3c=function(K0Y,I2y,u$7){var y3W,b_u;if(!(K0Y instanceof Date)){y3W=K0Y[0];b_u=K0Y[1];K0Y=!u$7 && h1k[y3W] && h1k[y3W][b_u]?h1k[y3W][b_u]:B1s(K0Y,u$7);}else if(u$7){K0Y=T8e(K0Y,F7r?"u":4960 != +"9739"?"w":(!!0,"j"),u$7);}if(!(I2y instanceof Date)){y3W=I2y[0];r0F.U_P(40);b_u=I2y[r0F.Q7U("1",0)];I2y=!u$7 && h1k[y3W] && h1k[y3W][b_u]?h1k[y3W][b_u]:B1s(I2y,u$7);}else if(u$7){I2y=T8e(I2y,F7r?"u":(9309,6310) !== (7450,6428)?"w":711.13 == 3580?(8.13e+3,446.94):(!({}),3.19e+3),u$7);}K0Y=Number(K0Y);I2y=Number(I2y);r0F.U6M(10);return r0F.Q7U(K0Y,I2y);};r4a=s__.getUTCFullYear();Y0u=Q4v.ruleCache[R1Q];if(!Y0u){Y0u=Q4v.ruleCache[R1Q]={};}j5O=Y0u[r4a];if(!j5O){r0F.U6M(10);j5O=D3R(r0F.Q7U(r4a,1),X6o.rules[X23]);j5O=j5O.concat(D3R(r4a,X6o.rules[X23]));j5O.sort(T3c);Y0u[r4a]=j5O;}if(!j5O || !j5O.length){return null;}for(var G37=j5O.length - 1;G37 >= 0;G37--){if(G37 > 0){r0F.U_P(10);H9U=j5O[r0F.l$6(G37,1)][1];}else {H9U=null;}x2J=j5O[G37];if(!x2J[2]){x2J[2]=B1s(x2J,H9U);;}if(T3c(s__,x2J,H9U) >= 0){return x2J[1];}}return null;;}H9G+="si";H9G+="a";function h1H(Z29,N1$){var V4F,y7G,L$x;V4F=1060943680;r0F.j0M();y7G=-562842103;L$x=2;for(var U0o=+"1";r0F.S0_(U0o.toString(),U0o.toString().length,58788) !== V4F;U0o++){r0F.U6M(2);return ~Math.ceil(r0F.l$6(Z29,N1$));}if(r0F.Y5G(L$x.toString(),L$x.toString().length,48036) !== y7G){r0F.U6M(10);return -Math.ceil(r0F.Q7U(N1$,Z29));}}f1R="et";f1R+="c";f1R+="e";f1R+="tera";U_S="eu";U_S+="rop";U_S+="e";z$d="eu";z$d+="ro";z$d+="p";function e6Q(A$$,Z44){var a0u,t_4,h_I,c2k,t$j;a0u="n";a0u+="umb";a0u+="er";t_4=typeof A$$ === a0u?A$$:new Date(+A$$).getTime();h_I=Z44;c2k=X6o.zones[h_I];r0F.U0D();while(typeof c2k === "string"){h_I=c2k;c2k=X6o.zones[h_I];}if(!c2k){if(!X6o.loadedZones.backward){X6o.loadZoneFile("backward");return e6Q(A$$,Z44);}else if(h_I && h_I !== Z44){X6o.lazyLoadZoneFiles(h_I);return e6Q(A$$,h_I);}W0i(h_I);}if(c2k.length === 0){r0F.U_P(0);throw new Error(r0F.l$6("' on ",Z44,"No Zone found for '",A$$));}for(var r1F=c2k.length - 1;r1F >= 0;r1F--){t$j=c2k[r1F];if(t$j[3] && t_4 > t$j[3])break;}r0F.U6M(1);return c2k[r0F.Q7U(1,r1F)];}z$d+="e";z_f="eu";z_f+="ro";z_f+="p";z_f+="e";function h60(V7A){var G2$,Q0r,R1D,O7s,f4M;G2$="s";G2$+="tr";G2$+="i";G2$+="ng";Q0r=s7j[V7A];if(Q0r){return Q0r;}R1D=V7A.split((828.96,"1280" ^ 0) != +"9113"?1045 > 4835?(330.78,145.17):"/":"654" ^ 0)[0];O7s=P8z[R1D];r0F.j0M();if(O7s){return O7s;}f4M=X6o.zones[V7A];if(typeof f4M === G2$){return h60(f4M);}if(!X6o.loadedZones.backward){X6o.loadZoneFile("backward");return h60(V7A);}W0i(V7A);}function f92(C0L,U9Q){var b0S,g8J;b0S=C0L[2];r0F.U0D();if(b0S.indexOf("%s") > -1){if(U9Q){g8J=U9Q[7] === "-"?"":U9Q["7" >> 64];}else {g8J=(2960,746.83) < (418,938.39)?"S":("905" ^ 0,78.63);}return b0S.replace("%s",g8J);}else if(b0S.indexOf(("8171" * 1,9146) != +"127.15"?"/":(+"8.01e+3",!0)) > -1){return b0S.split(507.78 == (9430,"8490" * 1)?(0x557,"d"):(2074,8350) >= 696.11?"/":1732 == (865.42,3910)?869.58:(!!"1",0x10ee),2)[U9Q?U9Q[6]?+"1":0:0];}return b0S;}d2x="e";d2x+="u";function y9R(W3p){var M89,j2j;M89=X9U(W3p);j2j=W3p.charAt(+"0") === ((112.11,+"7850") == (251,9660)?!1:"-")?-1:1;r0F.U_P(148);var c_k=r0F.l$6(48,8,20,240,3);r0F.U_P(132);r0F.U0D();var t0d=r0F.Q7U(6,13,10,1,18);r0F.U_P(116);var n5c=r0F.l$6(1,3,1);M89=j2j * (((M89[0] * c_k + M89[t0d]) * +"60" + M89[n5c]) * +"1000");r0F.U_P(149);return r0F.Q7U("1000",M89,60);}d2x+="ro";d2x+="pe";L7U="eu";L7U+="rop";L7U+="e";S6t="australas";S6t+="i";S6t+="a";Y4y="a";Y4y+="ustrala";Y4y+="sia";k$6="a";k$6+="s";k$6+="i";k$6+="a";h$P="euro";function X9U(o4k){var B9W,H0V;B9W=/(\d{1,2})(?::0*(\d{1,2}))?(?::0*(\d{1,2}))?([wsugz])?$/;H0V=o4k.match(B9W);r0F.U_P(24);H0V[r0F.l$6("1",1)]=parseInt(H0V[1],10);H0V[2]=H0V[+"2"]?parseInt(H0V["2" ^ 0],10):0;r0F.U6M(24);H0V[r0F.Q7U("3",2)]=H0V["3" ^ 0]?parseInt(H0V["3" * 1],10):0;return H0V.slice(1,5);}h$P+="p";h$P+="e";function k2g(c3k){var G9E,X71,e_a,v9F;if(!c3k[3]){return;}G9E=parseInt(c3k[3],10);X71=11;e_a=31;if(c3k["4" | 4]){X71=o8T[c3k[4].substr(+"0",3)];e_a=parseInt(c3k[5],10) || 1;}v9F=c3k[6]?X9U(c3k[6]):[0,"0" - 0,0];r0F.U0D();r0F.U6M(9);return [G9E,X71,e_a,v9F[r0F.l$6(64,"0")],v9F[1],v9F[2]];}c16="europ";c16+="e";b_0="an";b_0+="tar";b_0+="ctica";H$8="afr";H$8+="ica";Y58="etc";Y58+="etera";X6o=this;P8z={Etc:Y58,EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:["northamerica","southamerica"],Pacific:"australasia",Atlantic:"europe",Africa:H$8,Indian:"africa",Antarctica:b_0,Asia:"asia",Australia:"australasia",Europe:c16,WET:"europe",CET:"europe",MET:h$P,EET:"europe"};s7j={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":k$6,"Indian/Christmas":Y4y,"Indian/Cocos":S6t,"America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":L7U,"Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":d2x,"Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":z_f,"Asia/Magadan":z$d,"Asia/Kamchatka":U_S,"Asia/Anadyr":"europe","Africa/Ceuta":"europe",GMT:f1R,"Europe/Nicosia":H9G};this.zoneFileBasePath=null;this.zoneFiles=["africa","antarctica","asia","australasia",Q4f,"etcetera","europe","northamerica","pacificnew","southamerica"];this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:n6k,MANUAL_LOAD:"manualLoad"};this.getRegionForTimezone=h60;function r2Q(D41,u9$){var C0b;C0b=X6o.zoneFileBasePath + "/" + D41;return !u9$ || !u9$.async?X6o.parseZones(X6o.transport({url:C0b,async:!!""})):X6o.transport({async:!!1,url:C0b,success:function(E9u){return X6o.parseZones(E9u) && typeof u9$.callback === "function" && u9$.callback();},error:function(){r0F.U_P(19);throw new Error(r0F.l$6("' zoneinfo files",C0b,"Error retrieving '"));}});}this.loadingScheme=this.loadingSchemes.LAZY_LOAD;this.loadedZones={};function W0i(c5g){r0F.U_P(19);throw new Error(r0F.l$6("' is either incorrect, or not loaded in the timezone registry.",c5g,"Timezone '"));}this.zones={};this.rules={};this.init=function(z5Y){var l_f,x0Y;r0F.U0D();l_f={async:!!1};x0Y=this.loadingScheme === this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile || "northamerica";for(var N8e in z5Y){l_f[N8e]=z5Y[N8e];}return this.loadZoneFiles(x0Y,l_f);};this.loadZoneFiles=function(Q_Q,Y0S){var c$8,l32;l32=0;if(typeof Q_Q === "string"){return this.loadZoneFile(Q_Q,Y0S);}Y0S=Y0S || ({});c$8=Y0S.callback;Y0S.callback=function(){l32++;r0F.U0D();l32 === Q_Q.length && typeof c$8 === "function" && c$8();};for(var w1y=+"0";w1y < Q_Q.length;w1y++){this.loadZoneFile(Q_Q[w1y],Y0S);}};this.loadZoneFile=function(D0r,q3R){if(typeof this.zoneFileBasePath === "undefined"){throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");}if(this.loadedZones[D0r]){return;}this.loadedZones[D0r]=!!({});r0F.U0D();return r2Q(D0r,q3R);};this.loadZoneJSONData=function(i$k,k75){r0F.j0M();var s9J;s9J=function(r17){r17=JSON.parse(r17);for(var f0H in r17.zones){X6o.zones[f0H]=r17.zones[f0H];}for(var i5l in r17.rules){X6o.rules[i5l]=r17.rules[i5l];}};return k75?s9J(X6o.transport({url:i$k,async:!1})):X6o.transport({url:i$k,success:s9J});};this.loadZoneDataFromObject=function(b9I){if(!b9I){return;}for(var e3i in b9I.zones){X6o.zones[e3i]=b9I.zones[e3i];}for(var X_K in b9I.rules){X6o.rules[X_K]=b9I.rules[X_K];}};this.getAllZones=function(){r0F.j0M();var y9f;y9f=[];for(var V28 in this.zones){y9f.push(V28);}return y9f.sort();};this.parseZones=function(j2I){var w5r,F$O,s7J,g4A,V8a,U4p,S2n,Y7e,H$C;if(!j2I){return !({});}w5r=j2I.split(4700 != (208.9,7482)?(+"3310",511.64) == (1540,4290)?(944.55,2550) < (5237,+"529.57")?(150,9.76):(3.73e+3,3.54e+3):"\n":570.59);F$O=[];s7J="";V8a=null;U4p=null;for(var j3S=0;j3S < w5r.length;j3S++){g4A=w5r[j3S];if(g4A.match(/^\s/)){S2n="Zo";S2n+="ne";S2n+=" ";r0F.U_P(19);g4A=r0F.l$6(g4A,V8a,S2n);}g4A=g4A.split((6726,6215) < 4500?(0x80b,912.49):"#")[0];if(g4A.length > 3){Y7e="L";Y7e+="i";Y7e+="nk";H$C="R";H$C+="ul";H$C+="e";F$O=g4A.split(/\s+/);s7J=F$O.shift();switch(s7J){case "Zone":V8a=F$O.shift();if(!X6o.zones[V8a]){X6o.zones[V8a]=[];}if(F$O.length < 3)break;F$O.splice(3,F$O.length,k2g(F$O));if(F$O[3]){r0F.U6M(2);F$O[r0F.Q7U(1,"3")]=Date.UTC.apply(null,F$O[3]);}F$O[0]=-y9R(F$O[0]);X6o.zones[V8a].push(F$O);break;case H$C:U4p=F$O.shift();if(!X6o.rules[U4p]){X6o.rules[U4p]=[];}F$O[+"0"]=parseInt(F$O[0],10);F$O[1]=parseInt(F$O[1],10) || F$O[1];F$O[5]=X9U(F$O[5]);F$O[6]=y9R(F$O[6]);X6o.rules[U4p].push(F$O);break;case Y7e:if(X6o.zones[F$O[1]]){r0F.U_P(10);var D6Z=r0F.Q7U(6,5);throw new Error("Error with Link " + F$O[D6Z] + ". Cannot create link of a preexisted zone.");}if(isNaN(F$O[+"0"])){X6o.zones[F$O[1]]=F$O[0];}else {X6o.zones[F$O[1]]=parseInt(F$O[0],10);}break;}}}return !!({});};this.transport=k3g;this.getTzInfo=function(a77,L$p,E8O){var S3$,G64,i9v,z7C;this.lazyLoadZoneFiles(L$p);S3$=e6Q(a77,L$p);G64=+S3$[0];i9v=c3e(a77,S3$,E8O,L$p);if(i9v){G64=h1H(G64,i9v[6]);}z7C=f92(S3$,i9v);return {tzOffset:G64,tzAbbr:z7C};};this.lazyLoadZoneFiles=function(R$w){var E$6;if(this.loadingScheme === this.loadingSchemes.LAZY_LOAD){E$6=h60(R$w);if(!E$6){throw new Error("Not a valid timezone ID.");}this.loadZoneFiles(E$6);}};})();}).call(typeof window !== "undefined"?window:this);Q4v.timezone.loadingScheme=Q4v.timezone.loadingSchemes.MANUAL_LOAD;Q4v.timezone.loadZoneDataFromObject({zones:{"Atlantic/Cape_Verde":[[60,"-","-01",null]],"Africa/Cairo":[[-120,"","EE%sT",null]],"Africa/Nairobi":[[-180,(510.09,2964) < (15.85,458)?(+"5.35e+3",!!""):2790 >= (6810,+"3237")?(0xcf6,0x1cb0):"-","EAT",null]],"Africa/Casablanca":[[-60,"Morocco","+01/+00",null]],"Africa/Johannesburg":[[-120,"","SAST",null]],"Africa/Tunis":[[-60,"",B37,null]],"Asia/Kabul":[[-+"270",311.91 >= 4599?!!1:7680 === 2141?("b",!({})):"-",h_m,null]],"Asia/Baku":[[-("240" << 64),"","+04/+05",null]],"Asia/Dhaka":[[-360,"","+06/+07",null]],"Asia/Yangon":[[-390,795.72 < ("2026" - 0,9190)?475.69 === 2510?"7302" >> 32 == (7750,972.56)?0x14ee:("867.97" - 0,"r"):"-":!![],"+0630",null]],"Asia/Hong_Kong":[[-480,"","HK%sT",null]],"Asia/Taipei":[[-480,"","C%sT",null]],"Asia/Nicosia":[[-120,"EUAsia","EE%sT",null]],"Asia/Kolkata":[[-330,839.97 > ("8890" * 1,96.11)?(44,5581) > (644.01,+"329.64")?"-":1.75e+3:"T",j7d,null]],"Asia/Tehran":[[-+"210","Iran","+0330/+0430",null]],"Asia/Jerusalem":[[-("120" * 1),E2v,l$y,null]],"Asia/Tokyo":[[-540,"","J%sT",null]],"Asia/Amman":[[-120,"Jordan","EE%sT",1666915200000],[-180,("2990" << 0,3360) !== (8853,3250)?"-":(64,6399) != 23.61?!![]:9.54e+3,F7N,null]],"Asia/Almaty":[[-360,(+"2302",710.17) !== +"296.72"?487 !== +"278.49"?(2230,524.35) === 134.54?(!!({}),0xbe6):"-":("161.50" * 1,"1.56e+3" ^ 0):(+"0x1466","e"),"ALMT",null]],"Asia/Seoul":[[-540,"","K%sT",null]],"Asia/Pyongyang":[[-+"540","-","KST",null]],"Asia/Beirut":[[-120,"Lebanon","EE%sT",null]],"Asia/Hovd":[[-420,"","+07/+08",null]],"Asia/Ulaanbaatar":[[-480,"","+08/+09",null]],"Asia/Kathmandu":[[-345,"4240" * 1 >= 5605?(538.37,0x2ca):"-","+0545",null]],"Asia/Karachi":[[-300,"","PK%sT",null]],"Asia/Riyadh":[[-180,"-","+03",null]],"Asia/Singapore":[[-("480" - 0),"-","+08",null]],"Asia/Damascus":[[-120,"Syria","EE%sT",1666915200000],[-180,(822.82,"5710" << 0) <= (3360,7276)?3443 == 8190?(0x7ed,5.89e+3):"-":"x","+03",null]],"Asia/Bangkok":[[-("420" ^ 0),81.36 < 369?"-":0xdef,"+07",null]],"Asia/Dubai":[[-240,(8026,17) === (4720,7590)?(7.89e+3,"V"):6950 >= 7100?384.53:(6300,7870) >= (+"522.77",5710)?"-":("R",!![]),"+04",null]],"Australia/Darwin":[[-570,"","AC%sT",null]],"Australia/Perth":[[-480,"","AW%sT",null]],"Australia/Eucla":[[-("525" * 1),"","+0845/+0945",null]],"Australia/Brisbane":[[-600,"",N9T,null]],"Australia/Adelaide":[[-570,z65,Z_M,null]],"Australia/Sydney":[[-600,"AN","AE%sT",null]],"Pacific/Fiji":[[-720,y4K,"+12/+13",null]],"Pacific/Guam":[[-600,"-","ChST",null]],"Pacific/Kiritimati":[[-+"840","-","+14",null]],"Pacific/Noumea":[[-660,"",g$d,null]],"Pacific/Auckland":[[-720,"NZ","NZ%sT",null]],"Pacific/Chatham":[[-765,"Chatham","+1245/+1345",null]],"Pacific/Pago_Pago":[[660,(9750,4920) <= 3140?(6096,4986) < (792,7670)?0x294:(5.62e+3,28.16):"-",x7E,null]],"Pacific/Apia":[[-780,K94,"+13/+14",null]],"Pacific/Tongatapu":[[-780,"",F_g,null]],"Etc/UTC":[[0,(3890,34.67) == (325.4,5490)?(6.62e+3,"z"):"-",w1z,null]],"Europe/London":[[0,"EU","GMT/BST",null]],"Europe/Dublin":[[0,I8A,"IST/GMT",null]],"Europe/Brussels":[[-60,"EU","CE%sT",null]],"Europe/Helsinki":[[-120,"EU","EE%sT",null]],"Europe/Berlin":[[-60,"EU",i7t,null]],"Atlantic/Azores":[[60,b23,e3z,null]],"Europe/Bucharest":[[-120,Y27,"EE%sT",null]],"Europe/Kaliningrad":[[-("120" ^ 0),"-","EET",null]],"Europe/Moscow":[[-180,("3034" >> 32,3385) !== +"251"?"-":(0x138c,"H"),"MSK",null]],"Europe/Volgograd":[[-240,+"2353" !== 2306?"-":(382,9580) == 1520?5.98e+3:!0,"+04",1609034400000],[-180,"-","+03",null]],"Europe/Samara":[[-240,560 === "1460" - 0?!!"":(2112,3360) === 9383?(229.35,1.42e+3):(979.99,3630) > 5140?("239.05" - 0,!![]):"-","+04",null]],"Asia/Yekaterinburg":[[-+"300","-","+05",null]],"Asia/Omsk":[[-360,"-","+06",null]],"Asia/Novosibirsk":[[-420,(6440,4835) != 455.63?"-":353.38 != 7762?(1.39e+3,280.66):113.20,e4s,null]],"Asia/Novokuznetsk":[[-420,"-","+07",null]],"Asia/Krasnoyarsk":[[-420,("7518" << 0,8978) > 1107?(+"7901",+"681.81") === 3956?(+"871.21","0x463" | 34):7100 === (49,306.62)?596:"-":244.04,P_A,null]],"Asia/Irkutsk":[[-480,"19.33" * 1 === (4880,710.49)?("G",63.44):"-",Q4D,null]],"Asia/Yakutsk":[[-+"540","-","+09",null]],"Asia/Vladivostok":[[-600,"-","+10",null]],"Asia/Magadan":[[-660,"-",R_O,null]],"Asia/Srednekolymsk":[[-660,(133.11,+"4607") > 768.8?(365.81,7347) <= 860.12?"B":"-":!"","+11",null]],"Asia/Kamchatka":[[-720,812.64 <= 5950?"-":"k","+12",null]],"Europe/Belgrade":[[-60,"EU",u5R,null]],"Europe/Istanbul":[[-180,(274.57,2957) !== 4611?"-":"611.00" * 1,"+03",null]],"America/New_York":[["300" | 8,"US","E%sT",null]],"America/Chicago":[[360,e1S,X21,null]],"America/Denver":[[420,q7X,n6I,null]],"America/Los_Angeles":[[480,"US",o_b,null]],"America/Juneau":[[540,D79,"AK%sT",null]],"America/Adak":[[600,G5I,"HA%sT",null]],"Pacific/Honolulu":[[600,"-","HST",null]],"America/Phoenix":[[420,(461.38,5930) <= (966.23,6965)?"-":("Z",!![]),"MST",null]],"America/St_Johns":[["210" | 18,S7V,"N%sT",null]],"America/Halifax":[[240,T83,"A%sT",null]],"America/Regina":[[360,"-","CST",null]],"America/Mexico_City":[[360,"Mexico","C%sT",null]],"America/Chihuahua":[[420,"Mexico","M%sT",1667095200000],[360,j0e,"CST",null]],"America/Mazatlan":[[420,"Mexico",v4D,null]],"America/Costa_Rica":[[+"360","","C%sT",null]],"America/Havana":[["300" * 1,"Cuba","C%sT",null]],"America/Port-au-Prince":[[300,"Haiti",s1V,null]],"America/Puerto_Rico":[[240,"-","AST",null]],"America/Argentina/Buenos_Aires":[[180,"","-03/-02",null]],"America/Sao_Paulo":[[+"180","Brazil","-03/-02",null]],"America/Santiago":[[240,"Chile","-04/-03",null]],"America/Punta_Arenas":[[180,+"8130" === (70,1490)?2150 <= 8850?(!"1",+"1.65e+3"):3.98e+2:"-",x7A,null]],"America/Bogota":[[300,"","-05/-04",null]],"America/Asuncion":[[240,"Para","-04/-03",null]],"Atlantic/South_Georgia":[[120,("666.27" * 1,8660) < (5444,1390)?(694.89,+"0xba6"):(602.11,478.48) === (8780,754.94)?"D":"-","-02",null]],"America/Caracas":[[240,2100 <= "3359" << 32?"-":"221.78" * 1,S1x,null]],UTC:e_W,WET:"Europe/London",CET:"Europe/Brussels",EET:"Europe/Moscow","America/Toronto":"America/New_York","Europe/Amsterdam":"Europe/Brussels","Europe/Athens":"Europe/Bucharest","Europe/Copenhagen":"Europe/Brussels","Europe/Madrid":"Europe/Brussels","Europe/Paris":"Europe/Brussels","Europe/Sarajevo":"Europe/Belgrade","Europe/Stockholm":"Europe/Brussels","Europe/Zurich":"Europe/Berlin","Asia/Kuala_Lumpur":"Asia/Singapore","Asia/Shanghai":"Asia/Hong_Kong"},rules:{Morocco:[[2013,2018,(+"745",345) <= (3630,7933)?(5800,512.94) < 9014?"-":"Q":(+"0xba4",859.12),"Oct","lastSun",[3,"0" >> 64,0,null],0,"-"],[2014,2018,(5080,"7500" * 1) !== 441?"-":367 < (8670,612.79)?5240 < ("5720" ^ 0,992.28)?!0:685.92:"M",j_p,"lastSun",[2,0,0,null],60,(6030,2471) > (8215,+"447.34")?"-":(+"9.11e+3",5.81e+3)],[2018,C9s,3134 != (8239,883.37)?"-":(0x140a,7.75e+3),"May","13",[3,0,0,null],0,"-"],[2018,"only","-","Jun","17",[2,0,"0" >> 64,null],"60" ^ 0,"-"],[2019,"only",(1540,264.04) <= ("2290" * 1,852)?"-":(1001,331.27) !== (362.1,768.58)?140.82:(277,0x156f),m8H,(490.13,77) >= (1040,308.85)?"v":3022 == 589?("3858" - 0,"9320" >> 64) <= 9720?(863.33,!""):("0x440" >> 0,0x2396):"5",[3,0,0,null],-60,"-"],[2019,m7U,8560 !== (418,673.25)?"-":145.6 > 4990?(!"",+"9.86e+3"):6220 >= (+"1600",3138)?(0xf6e,"s"):("s",+"7.47e+3"),"Jun",2038 === 224.92?(+"974.3",5800) === 264?(916.38,!1):(1.43e+2,791.48):"9",["2" ^ 0,0,0,null],0,(9370,1322) >= (8817,"9340" << 32)?(273.13,0x155b):65.78 >= "155.11" - 0?!!"1":"-"],[2020,s0z,3560 <= (+"166.13",7426)?"-":(8608,"564.77" - 0) <= 6170?!![]:"z",q0F,"19",[3,"0" << 64,0,null],-60,6970 >= "51.5" * 1?425.93 != (3270,6070)?6953 == 665.39?!![]:"-":("Z",!![]):3.19e+3],[2020,"only",(604.34,9370) > 5970?(5919,17.57) < (857.55,194)?943.16 >= 1543?!!"":"-":(!!({}),"b"):5.01e+3,"May",G6z,["2" >> 64,0,0,null],0,"-"],[2021,"only",270 >= (8358,"8780" ^ 0)?8.27e+3:"-","Apr","11",[+"3",0,0,null],-("60" * 1),523.8 === (1480,8070)?9.58e+3:"-"],[2021,"only",2144 < 5070?521 > 9340?(4.67e+3,"d"):"-":0x1d1f,"May","16",[+"2",0,0,null],0,115.61 === 5687?!({}):"-"],[2022,"only",(39,7400) != "782.25" * 1?(9270,748.85) <= ("5845" | 4)?"-":70.06:"p","Mar",s2j,[3,0,0,null],-60,"-"],[2022,"only",(3426,2850) != 729.69?"-":(6429,6660) <= 8947?0x14ec:(5.34e+2,"X"),"May",(738.16,5490) >= 9880?!!({}):9830 <= 8249?(9.11e+3,"F"):+"8184" == (290,625.15)?(0x242e,4.39e+3):"8",[2,0,0,null],0,"-"],[2023,"only",(1160,"436" * 1) > 5946?1.04e+2:(9360,2324) >= 6840?(946.57,!!0):"-",q6A,"19",[3,0,"0" << 64,null],-("60" << 96),9200 <= "5770" >> 32?"r":(2121,"8740" ^ 0) == (5400,1361)?75.99 != 2317?"0x1de3" >> 64:(+"731.88",+"0x373"):"-"],[2023,S_E,"-","Apr",m7e,[2,0,0,null],0,("597" ^ 0) != 313.74?(1080,3065) === 138.79?3460 < (4091,932.18)?7.64e+3:0xb3c:"-":2.20e+3],[2024,"only",622.03 === (5230,789.77)?7.22e+3:4647 != ("4910" << 64,331)?3460 != (544,6689)?"-":(3.10e+1,0x2698):(0x1d6b,3.27e+3),X$R,"10",[3,"0" - 0,0,null],-60,"-"],[2024,"only",965.21 === 4113?("278.23" * 1,1850) <= (509.17,6973)?(!!1,"n"):"k":"-","Apr","14",[2,"0" ^ 0,0,null],0,661 !== ("393.43" * 1,6682)?(4320,7290) === 3435?(0xa0,"6.67e+3" ^ 0):"-":"A"],[2025,w9i,+"2920" !== (4290,8416)?"-":"340.72" * 1 < 1070?(831.58,63.37):"K","Feb","23",[3,0,0,null],-60,(5711,137) >= (975.33,7260)?6.03e+3:"-"],[2025,"only","-","Apr",(269.83,640.21) >= 908.24?"H":"6",[2,0,0,null],0,(594.21,4245) != 9996?1871 !== 5340?"-":(281.26,8526) !== (2640,+"5594")?!0:!![]:("L",854.44)],[2026,e7a,377 === (2840,4272)?(!!"",360.45):(6879,"4580" * 1) == (+"1005",1072)?(928.34,112.65) !== 2070?!!"":8.03e+3:"-","Feb","15",["3" ^ 0,0,"0" * 1,null],-+"60",95.93 != (9480,4810)?(108.85,386.35) > ("9200" | 16,4717)?141 < (334.12,6451)?("924.28" * 1,977.89):(680.81,941.45):"-":("t",!!1)],[2026,"only",+"7130" == (2320,6604)?(746.92,"242.85" * 1):"-","Mar","22",[2,0,0,null],0,"-"]],EUAsia:[[1981,"max","-","Mar",t8I,[1,0,0,4270 > (8037,+"8840")?("u",291.44):"u"],60,(6357,+"516.01") !== (2350,204)?"S":0x159a],[1996,j_8,"-","Oct","lastSun",[1,0,0,61.01 == (12.7,868)?347.27:(9780,8280) !== 1030?"u":(111.44,"9.05e+2" | 9)],0,(193.83,1750) < +"5088"?"-":!!""]],Iran:[[2017,2019,"-","Mar",d$f,[24,0,0,null],60,"-"],[2017,2019,"-","Sep","21",[24,+"0",0,null],0,(3459,2560) >= 850.83?"-":+"2474" >= "2183" * 1?(+"0x190f",!!({})):(673.98,6.18e+3)],[2020,"only",(7130,6630) < 2720?![]:(+"66.26",116.97) <= (7390,261.05)?"-":(2600,9971) < 6920?(!"",0x267d):"a","Mar","20",[24,0,0,null],60,"-"],[2020,"only",(3930,8920) === (2630,7280)?!1:(388.79,2490) > (285.58,157)?"-":(!!({}),6.08e+3),r67,S7s,[24,0,0,null],"0" | 0,4340 === (118.09,5631)?(!1,791.07):"-"],[2021,2022,("4110" | 6,9356) <= (4340,6868)?(!0,0x133c):(606,5081) < 930.75?+"4.68e+3":"-",c3v,"21",[24,+"0",0,null],60,("7730" | 16,+"424.01") != (+"9140",824.59)?"-":("9624" | 8) == (+"2450",4510)?(0x14a6,576.24):0x1680],[2021,2022,(625.75,7981) == 8320?("H","J"):"-","Sep","21",[24,0,0,null],0,(669.28,4390) !== ("2050" | 2,8367)?"-":("k",468.41)]],Zion:[[2013,"max",(458,804) !== 6722?"-":(775.56,+"11.71"),"Mar","Fri>=23",[2,0,0,null],60,"D"],[2013,"max","-",R0x,"lastSun",[2,0,"0" | 0,null],0,(387.5,"621.92" * 1) === 3700?(0x242a,0xca6):6932 !== (+"8130",5806)?"S":(505.66,"L")]],Jordan:[[2014,2021,(383.56,45) > 3160?(0x97,"P"):(515,185) > (8580,235)?6800 == ("6432" | 32)?(7.21e+3,"J"):!!1:"-","Mar","lastThu",[24,0,0,null],+"60",(923.16,739) === (6010,6710)?"3890" - 0 > +"1617"?"I":(932.54,!!1):"S"],[2014,2022,923.54 < +"586.59"?(9480,+"682.93") === (360.49,6890)?"0x12b3" << 0:(7310,25.38) != (+"14.59",762)?767.76:(+"9.81e+3","D"):"-","Oct","lastFri",[0,0,0,"s"],0,"-"],[2022,"only",1400 != 9870?(8942,7436) !== (+"3250",4150)?"-":3.41e+3:(!!"1",573.13),"Feb","lastThu",[+"24",0,0,null],60,(5160,8043) < +"9920"?(191.66,5434) !== 8421?"S":+"0x46f":3.88e+3]],Lebanon:[[1993,k3D,(1720,2993) >= ("6614" << 64,79.91)?"-":(!({}),!"1"),"Mar","lastSun",[0,0,0,null],60,"S"],[1999,t_f,"3220" << 64 == (1147,+"966")?(692.76,"m"):3210 == (+"5660",5070)?(127.55,0x41d):"-","Oct","lastSun",[+"0",0,0,null],0,"-"]],Syria:[[2012,2022,7785 !== (1379,250)?"-":(503.56,+"948.95") !== +"550.33"?+"7.13e+3":!"","Mar","lastFri",[0,0,0,null],+"60",409.33 === (+"595.4","5715" | 67)?"0x25b2" * 1:(2300,7749) < (+"956.05",3360)?439.93:"S"],[2009,2022,(96.77,5450) == (+"656.02",7652)?(5.66e+2,7.69e+3):"3677" * 1 > (5480,858.71)?"-":(7410,"1220" >> 0) < 600?225.84:(+"2.70e+3",!1),"Oct",b0Q,[0,+"0",0,null],0,2400 === 8600?!({}):(218.48,489.66) == (+"1109",1810)?"984.93" * 1 === 4950?(0x19c8,0x12e5):(0x24db,"b"):"-"]],AS:[[2008,"max",(345.11,104.56) === 7960?162:"-","Apr","Sun>=1",[2,0,0,"s"],0,"S"],[2008,"max",("3066" | 90) === (9322,5506)?"6.97e+3" | 16:"-",k6b,"Sun>=1",[2,0,0,(2853,"833.25" - 0) !== ("2561" ^ 0)?"s":+"89.06" >= (112.12,986.59)?("F",0x1c7d):("z",+"8.44e+3")],60,(4309,366.98) !== ("150.58" - 0,"5780" >> 0)?("7890" | 2,2033) !== (7990,384)?"D":3.57e+3:("A",0x1cc9)]],AN:[["2008" << 32,"max",(707.17,+"317") >= (8016,"8072" ^ 0)?1370 > 802.13?(0x794,"X"):("l","d"):"-","Apr","Sun>=1",["2" ^ 0,"0" * 1,0,"s"],0,"S"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,(820,1370) >= (9951,6411)?("0x8e3" << 32,!"1"):4892 >= ("1160" * 1,86.12)?"D":(+"5771",58) == 6764?!1:9.36e+3]],Fiji:[[+"2014",2018,(768,+"6960") == ("2816" ^ 0,410.23)?(0x2365,"b"):"-",Q3t,"Sun>=1",[2,0,0,null],60,631.65 > (463.44,761.94)?+"7960" !== (6190,664.14)?("P",2.98e+2):0xad1:"-"],[2015,2021,(6420,"1452" | 12) === (+"6710","315.25" * 1)?(806.04,0x1343):"-",l4k,"Sun>=12",[3,0,0,null],0,"-"],[2019,R4X,(4690,377) > (+"2610",7380)?(5.17e+3,![]):(1280,570.92) != (5790,4490)?2290 >= +"5336"?3.04e+3:"-":!!1,"Nov","Sun>=8",[2,0,0,null],60,"-"],[2020,t_v,"-",R5K,"20",[2,0,+"0",null],"60" | 8,"-"]],NZ:[[2007,"max","-","Sep","lastSun",[2,+"0",0,(2570,"3869" ^ 0) > (725,412.14)?(1003,+"416.11") < (5385,5304)?"s":"0x22c3" - 0:990.53],60,(9430,906.07) <= 1968?"D":(511.55,868.17) === (949.35,+"240")?802.60:168 <= 285.92?9.09e+3:4.30e+3],[+"2008",X19,4970 >= (469,1154)?"-":"8991" << 32 == "800.65" - 0?0x21d3:(!!({}),!1),"Apr",X5g,[2,0,0,(+"8458",8920) <= 4900?603.57 != 2340?(445.63,+"1500") === (9622,6791)?1.78:(0x25ac,0x236c):("Z",!({})):"s"],0,(651.45,619.71) >= (9740,4817)?0x4d3:"S"]],Chatham:[[2007,O_h,"-",b4b,"lastSun",[2,"45" - 0,"0" | 0,"s"],+"60","904.82" - 0 === "108.7" - 0?("1.85e+3" >> 32,+"0x1f"):(9890,+"7790") < (347.83,160)?7.47e+3:"-"],[2008,"max",("1043" * 1,762) !== 1740?8560 <= (112.65,7710)?(0xbf1,![]):"-":(!0,9.86e+3),r6s,"Sun>=1",[2,45,0,"s"],0,+"363.47" == 2471?!({}):890 >= +"8657"?(587.84,"6770" | 82) > 831.77?!"1":0xb49:"-"]],WS:[["2012" >> 0,2021,759 > 8502?(+"7.84e+3",2.32e+3):(7050,784) != 1040?(7690,+"429.32") !== (77,1780)?"-":(1.05e+3,"x"):0x1b1d,"Apr",q46,[+"4",0,0,null],0,(9070,6950) !== (5388,1880)?"-":8.58e+3],[2012,"2020" * 1,"-",Q58,"lastSun",["3" >> 64,0,0,null],60,"-"]],Eire:[[1981,"max","-","Mar","lastSun",[1,0,0,9499 === 773?!!1:"u"],0,"-"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],-+"60","-"]],EU:[[1981,V2T,"-",f08,"lastSun",[1,0,0,46.47 === (757,"8533" ^ 0)?"6040" * 1 <= "5990" * 1?7.65e+3:!!({}):"u"],60,("4825" ^ 0,652.3) !== 2880?("9890" ^ 0) !== 6669?"S":(0x1657,1.80e+3):258.69],[1996,O5F,(2230,"1871" - 0) == 965.55?(647.06,1576) > 729.04?"9.38e+3" | 32:!"":"-","Oct",M4j,[1,0,0,4371 >= 673.32?"u":(2450,168) != (5318,1969)?("a",+"972.63"):+"1.61e+3"],0,656.23 < (8750,6876)?"-":178.76 <= 144?(3.67e+3,"U"):(4337,5798) === (9134,215.11)?"a":(!!({}),0x21f9)]],US:[[2007,"max",964 < 5226?6070 === (9360,380.22)?"P":7710 >= (950.66,195.57)?"-":(21.20,+"459.55"):0x178b,"Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-",u69,"Sun>=1",[2,0,0,null],0,"S"]],Canada:[[2007,T3x,(116.34,7820) !== (4210,1460)?"-":691,"Mar",S1u,["2" * 1,0,0,null],60,"D"],[2007,C2j,"-","Nov","Sun>=1",[2,0,0,null],0,(+"5640",5564) !== +"8448"?"S":(0x1661,"l")]],Mexico:[[2002,2022,"-",q28,"Sun>=1",[2,0,0,null],60,("6619" << 0,2230) <= ("9540" >> 0,3410)?"D":!!({})],[2002,2022,(5880,1479) >= 2582?"R":"-",k$y,"lastSun",[+"2",0,0,null],"0" >> 32,+"982.43" > "465.76" * 1?"S":7210 > (1840,+"6220")?("k",!""):(608.08,!"")]],Cuba:[[2012,"max",4537 === 561.3?(0x114d,0x58):"-","Nov",S0g,[0,0,"0" << 64,"s"],0,132.3 == 1776?("189.91" * 1,0x270c):593.64 < (9460,5450)?"S":(1950,8539) >= (9340,395.16)?(9.53e+3,9.20e+1):3.21e+3],[2013,"max","8600" * 1 != +"983.92"?"-":"k","Mar",l2F,[0,0,0,(3664,2930) <= (110.27,7379)?"s":(337.07,4110) === (1740,12)?864.44:(7.88e+3,!!({}))],60,(53.08,6140) >= (692.26,546)?4910 != 7925?"D":("0x2458" * 1,0x19a0):"0x3cd" ^ 0]],Haiti:[[2017,"max",3380 === 412.44?9720 <= ("5940" ^ 0)?"k":(549.52,59.16) > 510.24?0x1e2d:!!"1":"-",h$U,K5s,[2,0,+"0",null],60,"D"],[2017,"max",6000 == (5730,5410)?(1.28e+3,1.06e+3):+"4300" >= (5330,5476)?916.71:(9233,6500) === ("6370" | 2)?(!"",+"8.91e+3"):"-","Nov",w_G,[2,0,0,null],0,(3010,919) === 11.4?"381.53" * 1 <= (547,293.5)?(+"78.69",0x154e):(9398,5730) > "642" << 64?(6.59e+3,0x14b5):("O","z"):"S"]],Brazil:[[+"2016",2019,291 == 680.55?349 < (7026,+"487")?7880 == (311.46,825.94)?("l",9.99e+2):(!1,+"1.27e+3"):("G",512.62):"-",g33,"Sun>=15",[0,0,0,null],"0" << 64,(3860,9514) <= 3867?(6545,2350) == (6480,+"901.55")?124.21:0xf22:"-"],[2018,"only",(7346,+"6920") === (617.03,+"443.58")?130.85:"-",f1e,"Sun>=1",[0,"0" - 0,0,null],+"60","-"]],Chile:[[2016,2018,"-",W2w,"Sun>=9",[+"3",0,+"0",102.78 <= (+"883.26",221)?"u":3180 < 7230?208.70:(!({}),"o")],0,"-"],[2016,2018,("201" >> 0,5943) > (+"8507",+"925.74")?"-":(1.45e+2,614.68),"Aug","Sun>=9",[+"4",0,+"0",7140 <= (647.27,245)?(0x977,"G"):1629 <= 352.88?3.96e+3:7470 === 3357?139.49:"u"],60,(1872,1350) === (4460,715)?(883.55,+"583.09"):"-"],[+"2019","max",(197.53,+"803.48") > (976.29,726.85)?"-":90.83,G45,X0H,[3,0,"0" << 96,+"103.49" >= (2230,343.4)?(296.63,+"977.53") !== 5730?189.62:(!"1",!"1"):"u"],0,(5907,+"9960") !== +"438.59"?"-":(+"3119",1500) > (+"771.26",8444)?("Q",!!"1"):(2620,936.51) >= (869.99,4980)?("0x22ff" | 56,"V"):(!!"1","O")],["2019" | 1,2021,"-","Sep","Sun>=2",["4" * 1,0,0,+"7757" === 8700?9714 !== (1100,1170)?7.60e+3:(!"1",+"1.64e+3"):"u"],60,"-"],[2022,"only",3760 > 8140?(774.09,!![]):"-","Sep",R1w,[4,0,0,"u"],60,491.06 <= "4663" >> 96?"-":"h"],[2023,"max",(580,0.47) <= "6570" - 0?9202 == ("715.45" * 1,2169)?"6580" * 1 === 50?("f",0x958):(!!0,554.61):"-":("t","2.85e+3" * 1),U1F,"Sun>=2",[4,0,0,"u"],60,(+"838.35",7316) >= (9707,99.82)?"-":(+"7850",6811) <= (+"938.06",+"5327")?0x1410:(9.42e+3,4.40e+3)]],Para:[[2010,Z5v,609.23 <= (9693,2234)?8590 != (4570,217.42)?"-":(4.38e+3,!({})):7.27e+3,"Oct",M8k,[0,0,0,null],"60" | 12,(927.42,7232) !== (36.07,9645)?254.01 > 7730?"101.10" - 0:(5686,5680) === 5560?(0x232a,5.81e+3):"-":!![]],[2013,"max","-",D1f,"Sun>=22",[0,0,0,null],0,"-"]]}});};c$=w4w=>{var c0s,A7k,u4C;c0s="undefine";c0s+="d";A7k=typeof _CIQ !== c0s?_CIQ:w4w.CIQ;A7k.ChartEngine.prototype.touchSingleClick=function(S7d,g6F,R1U){var C9y,R9p;C9y=this;V5cdF.U0D();R9p=arguments;return function(){(function(){var i_p,o5B,C9L,o$Y,p$8;if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",R9p)){return;}if(this.editingAnnotation){return;}this.clicks={};if(!this.displayCrosshairs){return;}if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(g6F < this.left || g6F > this.right || R1U < this.top || R1U > this.bottom){return;}i_p=this.crossYActualPos;o5B=this.crossXActualPos;this.currentPanel=this.whichPanel(i_p);C9L=this.currentVectorParameters.vectorType;if(!A7k.Drawing || !C9L || !A7k.Drawing[C9L] || !new A7k.Drawing[C9L]().dragToDraw){if(!this.drawingClick(this.currentPanel,o5B,i_p)){Z9U(this,g6F,R1U);}if(!this.currentVectorParameters.vectorType){o$Y="t";o$Y+="a";o$Y+="p";p$8=this.activeMarker && this.activeMarker.click({cx:o5B,cy:i_p,panel:this.currentPanel});if(!p$8){this.dispatch(o$Y,{stx:this,panel:this.currentPanel,x:o5B,y:i_p});}}}}this.runAppend("touchSingleClick",R9p);}).apply(C9y,R9p);};};A7k.ChartEngine.prototype.touchDoubleClick=function(f_J,i_M,c$M){var V_n,x7d,y$C,J$k;if(this.runPrepend("touchDoubleClick",arguments)){return;}V5cdF.U0D();if(this.editingAnnotation){return;}if(A7k.ChartEngine.drawingLine){V_n="c";V_n+="ontinuous";if(this.currentVectorParameters.vectorType === V_n){x7d=this.crossYActualPos;y$C=this.crossXActualPos;this.currentPanel=this.whichPanel(x7d);this.drawingClick(this.currentPanel,y$C,x7d);A7k.ChartEngine.completeDrawing(this);}return this.undo();}if(this.activeDrawing){return;}Z9U(this,i_M,c$M);J$k=this.activeMarker && this.activeMarker.doubleClick({cx:i_M,cy:c$M,panel:this.currentPanel});if(!J$k){this.dispatch("doubleTap",{stx:this,finger:f_J,x:i_M,y:c$M});}this.runAppend("touchDoubleClick",arguments);};A7k.ChartEngine.prototype.startProxy=function(S1f){this.touchPointerType=S1f.pointerType;if(this.touchPointerType != "touch"){this.mouseMode=!!"1";return;}this.mouseMode=!!"";this.touches[this.touches.length]={pointerId:S1f.pointerId,pageX:S1f.clientX,pageY:S1f.clientY,clientX:S1f.clientX,clientY:S1f.clientY};this.changedTouches=[{pointerId:S1f.pointerId,pageX:S1f.clientX,pageY:S1f.clientY,clientX:S1f.clientX,clientY:S1f.clientY}];if(this.touches.length == 1){this.gesturePointerId=S1f.pointerId;}this.touchstart(S1f);};A7k.ChartEngine.prototype.moveProxy=function(l6n){if(l6n.pointerType && l6n.pointerType != "touch"){this.mouseMode=!!1;return;}this.mouseMode=!"1";this.touchmove(l6n);};A7k.ChartEngine.prototype.endProxy=function(D0O){var w0o;if(this.touchPointerType != "touch"){this.mouseMode=!![];return;}this.mouseMode=!({});w0o=this.touches.length;for(var V2W=0;V2W < this.touches.length;V2W++){if(this.touches[V2W].pointerId == D0O.pointerId){this.touches.splice(V2W,1);break;}}if(V2W == w0o){this.touches=[];this.grabbingScreen=!({});this.touching=!!0;return;}V5cdF.U0D();this.changedTouches=[{pointerId:D0O.pointerId,pageX:D0O.clientX,pageY:D0O.clientY,clientX:D0O.clientX,clientY:D0O.clientY}];this.touchend(D0O);};A7k.ChartEngine.prototype.msMouseMoveProxy=function(c_r){if(this.touches.length || !this.mouseMode){return;}this.mousemove(c_r);};A7k.ChartEngine.prototype.msMouseDownProxy=function(P9a){if(!this.mouseMode){return;}this.mousedown(P9a);};A7k.ChartEngine.prototype.msMouseUpProxy=function(D07){if(!this.mouseMode){return;}this.mouseup(D07);};function Z9U(W8F,Y7u,S1V){var n$j;if(!W8F.layout.crosshair){A7k.ChartEngine.crosshairY=0;A7k.ChartEngine.crosshairX=0;V5cdF.U_P(10);W8F.cx=W8F.backOutX(V5cdF.l$6("0",0));W8F.cy=W8F.backOutY(0);W8F.findHighlights(null,!!({}));A7k.ChartEngine.crosshairY=S1V;A7k.ChartEngine.crosshairX=Y7u;n$j=W8F.container.getBoundingClientRect();W8F.top=n$j.top;W8F.left=n$j.left;W8F.right=W8F.left + W8F.width;W8F.bottom=W8F.top + W8F.height;W8F.cx=W8F.backOutX(Y7u);W8F.cy=W8F.backOutY(S1V);if(W8F.currentPanel && W8F.currentPanel.chart.dataSet){W8F.crosshairTick=W8F.tickFromPixel(W8F.cx,W8F.currentPanel.chart);W8F.crosshairValue=W8F.adjustIfNecessary(W8F.currentPanel,W8F.crosshairTick,W8F.valueFromPixel(W8F.cy,W8F.currentPanel));}W8F.headsUpHR();}W8F.findHighlights(!"");W8F.draw();}A7k.ChartEngine.prototype.iosMouseMoveProxy=function(z5i){if(this.touching){return;}this.mousemove(z5i);};A7k.ChartEngine.prototype.iosMouseDownProxy=function(k3R){if(this.touching){this.mouseMode=!({});return;}V5cdF.U0D();this.mouseMode=!!"1";this.mousedown(k3R);};A7k.ChartEngine.prototype.iosMouseUpProxy=function(s41){if(this.touching){return;}this.mouseup(s41);};A7k.ChartEngine.prototype.touchmove=function(N5r){var Q2b=V5cdF;var v$n,x9b,O6v,y_a,H_d,s6K,F8w,I4W,A_H,A4Z,i$U,P3v,b1a,g5t,S2F,m14,Y_s,O1p,r1a,L37,B81,w_Y,E_G,B29,D8u,l0$,R5g,c0g,z1N,P28,H4k,h_X,E3u,A1Y,o1x,W8H,H1l;if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(A7k.ChartEngine.ignoreTouch === !""){return;}v$n=[];if(!this.overYAxis || this.controls && this.controls.crossX && this.controls.crossX.style.display != "none"){if(N5r && N5r.preventDefault && N5r.cancelable && this.captureTouchEvents){N5r.preventDefault();}if(N5r){N5r.stopPropagation();}}x9b=new Date().getTime();var {down:[U4J]}=this.pointerEvents;if(x9b - U4J.time < 25){return;}if(!N5r.pointerType){N5r.pointerType=this.touchPointerType;}if(A7k.isSurface){if(this.mouseMode){return;}if(!N5r.pointerId){N5r.pointerId=this.gesturePointerId;}for(var B3j=0;B3j < this.touches.length;B3j++){if(this.touches[B3j].pointerId == N5r.pointerId){O6v=Math.abs(this.touches[B3j].pageX - N5r.clientX);y_a=Math.abs(this.touches[B3j].pageY - N5r.clientY);Q2b.U_P(53);H_d=Math.sqrt(Q2b.l$6(O6v,y_a,y_a,O6v));if(!H_d){return;}if(x9b - U4J.time < 50){return;}if(this.touches[B3j].pageX == N5r.clientX && this.touches[B3j].pageY == N5r.clientY){return;}this.touches[B3j].pageX=this.touches[B3j].clientX=N5r.clientX;this.touches[B3j].pageY=this.touches[B3j].clientY=N5r.clientY;break;}}if(B3j === 0){this.movedPrimary=!!"1";}else {this.movedSecondary=!!({});}if(B3j == this.touches.length){return;}this.changedTouches=[{pointerId:N5r.pointerId,pageX:N5r.clientX,pageY:N5r.clientY,clientX:N5r.clientX,clientY:N5r.clientY}];v$n=this.touches.length?this.touches:this.changedTouches;}else {v$n=N5r.touches;this.changedTouches=N5r.changedTouches;}if(v$n.length == 1 && A7k.withinRadius(this.clicks,{x:v$n[0].clientX,y:v$n[+"0"].clientY},"4" | 4)){return;}s6K=this.crosshairXOffset;F8w=this.crosshairYOffset;I4W=this.currentVectorParameters.vectorType && this.currentVectorParameters.vectorType !== "";A_H=!this.layout.crosshair && !I4W && !this.touchNoPan;if(N5r.pointerType == "pen" || A_H || this.activeDrawing && this.activeDrawing.name == "freeform"){s6K=F8w=0;}if(this.runPrepend("touchmove",arguments)){return;}if(A7k.ChartEngine.resizingPanel){Q2b.U_P(40);P3v=v$n[Q2b.l$6("0",0)];A4Z=P3v.clientX;i$U=P3v.clientY;Q2b.U_P(1);this.mousemoveinner(Q2b.l$6(s6K,A4Z),Q2b.l$6(F8w,i$U));return;}if(this.moveB != -1){this.touchMoveTime=new Date();}this.moveA=this.moveB;this.moveB=v$n["0" - 0].pageX;if(v$n.length == 1 && !this.twoFingerStart){g5t=v$n[0];A4Z=g5t.clientX;i$U=g5t.clientY;this.pinchingScreen=0;Q2b.U6M(1);this.mousemoveinner(Q2b.Q7U(s6K,A4Z),Q2b.Q7U(F8w,i$U));S2F=this.whichPanel(i$U);m14=this.xAxisAsFooter === !!"1"?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=i$U <= this.top + m14 && i$U >= m14 - this.xaxisHeight + this.top && this.insideChart;if(!S2F){this.overYAxis=![];}else {this.overYAxis=(A4Z >= S2F.right || A4Z <= S2F.left) && this.insideChart;}}else if(v$n.length == 2){if(!this.allowZoom || this.activeDrawing && !this.allowDrawingZoom){return;}if(!this.displayCrosshairs){return;}Y_s=v$n[0];O1p=Y_s.clientX;r1a=Y_s.clientY;Q2b.U_P(10);L37=v$n[Q2b.Q7U("1",0)];B81=L37.clientX;w_Y=L37.clientY;Q2b.U_P(150);b1a=Math.sqrt(Q2b.Q7U(B81,r1a,w_Y,O1p,O1p,w_Y,B81,r1a));this.pinchingCenter=(Math.min(O1p,B81) - Math.max(O1p,B81)) / ("2" ^ 0);E_G=Math.round(this.gestureStartDistance - b1a);if(A_H){this.pinchingScreen=5;}this.clearPixelCache();if(this.pinchingScreen < 2){if(A7k.isSurface && (!this.movedPrimary || !this.movedSecondary)){return;}if(O1p < this.pt.x1 && B81 < this.pt.x2 || O1p > this.pt.x1 && B81 > this.pt.x2 || r1a < this.pt.y1 && w_Y < this.pt.y2 || r1a > this.pt.y1 && w_Y > this.pt.y2){this.pinchingScreen=0;}else {this.pinchingScreen++;if(this.pinchingScreen < 2){return;}}}this.pt={x1:O1p,x2:B81,y1:r1a,y2:w_Y};if(this.pinchingScreen === 0){this.grabMode="pan";Q2b.U_P(1);this.mousemoveinner(Q2b.l$6(s6K,O1p),Q2b.Q7U(F8w,r1a));this.gestureStartDistance=b1a;}else if(this.grabStartValues){B29=Math.asin((Math.max(w_Y,r1a) - Math.min(w_Y,r1a)) / b1a);if(Math.abs(E_G) < 12 && !A_H){this.moveCount++;if(this.moveCount == 4){this.pinchingScreen=0;this.moveCount=0;return;}}else {this.moveCount=0;}if(B29 < 1 || !this.goneVertical && B29 < 1.37){if(!this.currentPanel){return;}D8u=this.currentPanel.chart;this.goneVertical=!!"";b1a=this.pt.x2 - this.pt.x1;l0$=this.grabStartValues.t2 - this.grabStartValues.t1 || 1;Q2b.U_P(16);var p5E=Q2b.l$6(18,12,28);R5g=this.grabStartValues.t1 + l0$ / p5E;Q2b.U_P(11);c0g=Math.abs(Q2b.Q7U(l0$,b1a));if(D8u.allowScrollFuture === ![] && D8u.allowScrollPast === !({})){c0g=Math.max(c0g,D8u.width / D8u.dataSet.length);}z1N=this.layout.candleWidth;this.setCandleWidth(c0g,D8u);if(D8u.maxTicks < this.minimumZoomTicks){this.setCandleWidth(z1N,D8u);return;}this.micropixels=0;P28=this.pixelFromTick(Math.round(R5g),D8u);Q2b.U6M(6);var z6y=Q2b.l$6(20,18);H4k=this.pt.x1 - this.left + Math.round(b1a / z6y);Q2b.U6M(10);h_X=Q2b.l$6(P28,H4k);Q2b.U6M(11);E3u=Q2b.l$6(c0g,h_X);A1Y=Math.round(E3u);D8u.scroll-=A1Y;Q2b.U6M(10);this.microscroll=Q2b.Q7U(A1Y,E3u);this.micropixels=c0g * this.microscroll;this.draw();}else {o1x=this.grabStartYAxis;this.goneVertical=!![];if(o1x){o1x.zoom=this.grabStartZoom + (this.gestureStartDistance - b1a);if(this.grabStartZoom < o1x.height){if(o1x.zoom >= o1x.height){Q2b.U6M(151);var a4e=Q2b.Q7U(232,9,16,0,15);o1x.zoom=o1x.height - a4e;}}else {if(o1x.zoom <= o1x.height){Q2b.U_P(79);var e3o=Q2b.Q7U(6,13,0,6,12);o1x.zoom=o1x.height + e3o;}}this.draw();;}}this.updateChartAccessories();}}else if(v$n.length == 3 && A7k.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs){return;}Q2b.U_P(10);W8H=v$n[Q2b.l$6("0",0)];H1l=W8H.clientX;b1a=this.grabStartX - H1l;Q2b.U6M(6);var G7X=Q2b.Q7U(19,9);this.grabEndPeriodicity=this.grabStartPeriodicity + Math.round(b1a / G7X);if(this.grabEndPeriodicity < 1){this.grabEndPeriodicity=1;}}this.runAppend("touchmove",arguments);};A7k.ChartEngine.prototype.touchstart=function(h0k){var Q5q=V5cdF;var K6i,J7S,g1O,o8U,w_l,e72,s9t,s7S,S6K,q6D,d88,L4X,p9_,b6K,v6p,W65,f$s,M90,L6v,h8E,x2W,c$R,C7S,M1a,l1B,P$2,g3r,r6n,t4M,t$8,O6x,I19;K6i="t";K6i+="ouchst";K6i+="a";K6i+="rt";if(A7k.ChartEngine.ignoreTouch){return;}if(A7k.isSurface){this.movedPrimary=!!0;this.movedSecondary=![];}else {if(this.touchingEvent){clearTimeout(this.touchingEvent);}this.touching=!"";this.touches=h0k.touches;this.changedTouches=h0k.changedTouches;}J7S=this.crosshairXOffset;g1O=this.crosshairYOffset;if(this.touchPointerType == "pen"){J7S=g1O=+"0";}if(this.runPrepend("touchstart",arguments)){return;}var {layout:y3o}=this;var {vectorType:P4h}=this.currentVectorParameters;o8U=y3o.crosshair && P4h !== "" || P4h;if(this.manageTouchAndMouse && h0k && h0k.preventDefault && h0k.cancelable && this.captureTouchEvents){h0k.preventDefault();}this.hasDragged=![];this.doubleFingerMoves=+"0";this.moveCount=0;this.twoFingerStart=!!0;if(this.touches.length == 1 || this.touches.length == 2){this.touchMoveTime=Date.now();q6D=this.touches[0];s9t=q6D.clientX;s7S=q6D.clientY;this.moveA=s9t;this.moveB=-+"1";if(this.openDialog === ""){this.registerPointerEvent({x:s9t,y:s7S,time:this.touchMoveTime},"down");if(this.changedTouches.length == 1){this.clicks={x:this.changedTouches["0" >> 32].pageX,y:this.changedTouches[0].pageY};}}d88=this.container.getBoundingClientRect();this.top=d88.top;this.left=d88.left;this.right=this.left + this.width;this.bottom=this.top + this.height;if(this.touches.length == 1){this.crossXActualPos=this.backOutX(s9t);this.crossYActualPos=this.backOutY(s7S);this.currentPanel=this.whichPanel(this.crossYActualPos);}if(!this.currentPanel){this.currentPanel=this.chart.panel;}S6K=this.currentPanel;if(s9t >= this.left && s9t <= this.right && s7S >= this.top && s7S <= this.bottom){this.insideChart=!"";L4X=this.xAxisAsFooter === !0?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=s7S <= this.top + L4X && s7S >= this.top + L4X - this.xaxisHeight;this.overYAxis=s9t >= this.left + S6K.right || s9t <= this.left + S6K.left;p9_=-1;this.cy=this.backOutY(s7S);this.cx=this.backOutX(s9t);this.crosshairTick=this.tickFromPixel(this.cx,S6K.chart);this.crosshairValue=this.adjustIfNecessary(S6K,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var r1R=0;r1R < this.drawingObjects.length;r1R++){b6K=this.drawingObjects[r1R];if(b6K.highlighted){if(p9_ < 0){p9_=r1R;}v6p=b6K.highlighted;this.findHighlights(!!({}));if(r1R == p9_ && b6K.highlighted && !b6K.permanent){this.activateRepositioning(b6K);return;}this.anyHighlighted=!"";b6K.highlighted=v6p;}}}else {this.insideChart=!({});}if(this.insideChart && !o8U && y3o.headsUp !== "floating" && !(y3o.headsUp && y3o.headsUp.floating) && !P4h && !this.touchNoPan){J7S=g1O=+"0";var {baselineHelper:U$K}=this;if(U$K.size){W65=+"71366664";f$s=-526649605;M90=2;for(var u7v=+"1";Q5q.Y5G(u7v.toString(),u7v.toString().length,57773) !== W65;u7v++){if(this.findBaselineHandle(h0k,!({}))){return;}M90+=2;}if(Q5q.S0_(M90.toString(),M90.toString().length,48130) !== f$s){if(this.findBaselineHandle(h0k,!0)){return;}}}if(this.controls.anchorHandles){L6v=Object.values(this.controls.anchorHandles);h8E=!({});for(var h_q=0;h_q < L6v.length;h_q++){x2W=L6v[h_q];var {handle:k$F, sd:A6i}=x2W;c$R=this.resolveX(this.cx);C7S=this.resolveY(this.cy);var {left:m2R, top:U7o, right:P0G, bottom:S52}=k$F.getBoundingClientRect();M1a=this.preferences.highlightsTapRadius;Q5q.U_P(10);l1B=A7k.boxIntersects(Q5q.l$6(m2R,M1a),U7o,Q5q.Q7U(M1a,P0G,Q5q.U_P(1)),S52,c$R,C7S,c$R,C7S);if(l1B){P$2="stx";P$2+="-grab";this.repositioningAnchorSelector={sd:A6i};k$F.classList.add(P$2);h8E=!!({});}x2W.highlighted=l1B;}if(h8E){return;}}for(w_l in this.panels){e72=this.panels[w_l];if(e72.highlighted){this.grabHandle(e72);return;}}this.grabbingScreen=!"";if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}S6K.chart.spanLock=!1;this.yToleranceBroken=!!"";Q5q.U6M(1);this.grabStartX=Q5q.Q7U(J7S,s9t);Q5q.U_P(1);this.grabStartY=Q5q.l$6(g1O,s7S);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=S6K.chart.scroll;this.grabStartScrollY=S6K.yAxis.scroll;this.grabStartPanel=this.currentPanel;if(this.swipeStart){this.swipeStart(S6K.chart);}this.grabStartYAxis=this.whichYAxis(S6K,this.backOutX(s9t));this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:+"0";setTimeout((function(c6c){Q5q.U0D();return function(){c6c.grabbingHand();};})(this),100);}else {this.grabbingScreen=![];if(this.insideChart && S6K.subholder === h0k.target){g3r=this.currentVectorParameters.vectorType;if(A7k.Drawing && g3r && A7k.Drawing[g3r] && new A7k.Drawing[g3r]().dragToDraw){this.userPointerDown=!!({});A7k.ChartEngine.crosshairX=s9t;A7k.ChartEngine.crosshairY=s7S;if(S6K && S6K.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.backOutX(A7k.ChartEngine.crosshairX),this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(S6K,this.crosshairTick,this.valueFromPixel(this.backOutY(A7k.ChartEngine.crosshairY),this.currentPanel));}this.drawingClick(S6K,this.backOutX(s9t),this.backOutY(s7S));this.headsUpHR();return;}}}if(this.touches.length == 1){if(!o8U){this.mouseTimer=Date.now();this.longHoldTookEffect=!({});if(this.longHoldTime || this.longHoldTime === 0){this.startLongHoldTimer((s5z=>{return ()=>{return Z9U(s5z,s9t,s7S);};})(this));}}else if(!P4h && S6K.subholder === h0k.target){Q5q.U6M(1);this.mousemoveinner(Q5q.Q7U(J7S,s9t),Q5q.l$6(g1O,s7S));}}}if(this.touches.length == +"2"){this.cancelLongHold=!!"1";this.swipe.end=!![];if(!this.displayCrosshairs && !this.touchNoPan || !this.insideChart){return;}r6n=this.touches[1];t4M=r6n.clientX;t$8=r6n.clientY;for(w_l in this.panels){e72=this.panels[w_l];if(e72.highlighted){this.grabHandle(e72);return;}}S6K=this.currentPanel;Q5q.U_P(150);this.gestureStartDistance=Math.sqrt(Q5q.l$6(t4M,s7S,t$8,s9t,s9t,t$8,t4M,s7S));this.pt={x1:s9t,x2:t4M,y1:s7S,y2:t$8};this.grabbingScreen=!!({});if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}S6K.chart.spanLock=![];Q5q.U6M(1);this.grabStartX=Q5q.Q7U(J7S,s9t);Q5q.U_P(1);this.grabStartY=Q5q.Q7U(g1O,s7S);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=S6K.chart.scroll;this.grabStartScrollY=S6K.yAxis.scroll;this.grabStartPanel=S6K;if(this.swipeStart){this.swipeStart(S6K.chart);}this.grabStartCandleWidth=y3o.candleWidth;this.grabStartYAxis=this.whichYAxis(S6K,this.backOutX((s9t + t4M) / 2)) || S6K.yAxis;this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;this.grabStartPt=this.pt;this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1 - this.top,S6K),y2:this.valueFromPixel(this.pt.y2 - this.top,S6K),t1:this.tickFromPixel(this.pt.x1 - this.left,S6K.chart),t2:this.tickFromPixel(this.pt.x2 - this.left,S6K.chart)};this.twoFingerStart=!!1;setTimeout((function(Z6E){return function(){Z6E.grabbingHand();};})(this),100);}else if(this.touches.length == 3){if(!this.displayCrosshairs){return;}O6x=this.touches[0];I19=O6x.clientX;this.grabStartX=I19;this.grabStartPeriodicity=y3o.periodicity;}this.runAppend(K6i,arguments);};A7k.ChartEngine.prototype.touchend=function(k1o){var H28=V5cdF;var R3b,u7_,m6B,A$h,D5D,g8y,B8A,q_f,w6p,A2a,S_x,Q9u,j9P,e_1,f0R,V1m,z6k;R3b="t";R3b+="ou";R3b+="chen";R3b+="d";u7_="t";u7_+="ou";u7_+="c";u7_+="hend";if(A7k.ChartEngine.ignoreTouch){return;}this.swipe.end=!![];if(A7k.isSurface){}else {this.touches=k1o.touches;this.changedTouches=k1o.changedTouches;}if(this.runPrepend(u7_,arguments)){return;}var {touches:H2k, layout:Z__}=this;var {vectorType:T_$}=this.currentVectorParameters;m6B=Z__.crosshair && T_$ !== "" || T_$;this.cancelLongHold=!0;if(H2k.length <= 1){if(m6B){if(!H2k.length || !this.twoFingerStart){this.grabbingScreen=!!0;}}}if(H2k.length){this.grabStartX=-1;this.grabStartY=-1;}A$h=this.pinchingScreen;if(this.disableBackingStoreDuringTouch){this.reconstituteBackingStore();}if(!H2k.length){this.touchingEvent=setTimeout((function(z6s){return function(){z6s.touching=!!"";};})(this),500);if(A7k.ChartEngine.resizingPanel){this.releaseHandle();if(this.changedTouches.length !== 1 || this.grabStartY !== this.changedTouches[+"0"].clientY){return;}}this.pinchingScreen=null;this.pinchingCenter=null;this.goneVertical=!!0;this.grabbingScreen=!!0;this.grabMode="";if(this.highlightedDraggable){if(this.dragPlotOrAxis){this.dragPlotOrAxis(this.cx,this.cy);}this.currentPanel=this.whichPanel(this.cy);}this.grabStartYAxis=null;this.displayDragOK();this.doDisplayCrosshairs();this.updateChartAccessories();}else {if(A7k.ChartEngine.resizingPanel){return;}}H28.U6M(115);var U3r=H28.Q7U(3,10,239,8);D5D=H2k.length + U3r;if(this.changedTouches.length === 1){g8y=Date.now();B8A=this.changedTouches[0];q_f=this.backOutY(B8A.pageY) + this.crosshairYOffset;w6p=this.backOutX(B8A.pageX) + this.crosshairXOffset;A2a=this.currentPanel;S_x=A2a && A2a.subholder === k1o.target;if(this.repositioningDrawing){this.changeOccurred("vector");A7k.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.draw();if(!m6B){this.findHighlights(!({}),!"");}return;}if(this.repositioningBaseline){Q9u="stx-gr";Q9u+="a";Q9u+="b";this.repositioningBaseline=null;this.controls.baselineHandle.classList.remove(Q9u);j9P=this.mainSeriesRenderer;if(j9P.params.baseline && j9P.params.type != "mountain"){;}this.draw();return;}if(this.repositioningAnchorSelector){if(!this.repositioningAnchorSelector.hoverTick){this.repositioningAnchorSelector.hoverTick=this.tickFromPixel(w6p - this.crosshairXOffset,this.chart);}e_1=this.repositioningAnchorSelector.sd;A7k.Studies.repositionAnchor(this,e_1);this.repositioningAnchorSelector=null;this.controls.anchorHandles[e_1.uniqueId].highlighted=!!"";A7k.Studies.displayAnchorHandleAndLine(this,e_1,this.chart.dataSegment);Object.values(this.controls.anchorHandles).forEach(({handle:R5n})=>{H28.j0M();return R5n.classList.remove("stx-grab");});return;}if(this.openDialog === ""){H28.U_P(9);f0R=-H28.Q7U(32,"358121389");V1m=1804522848;z6k=+"2";for(var s2d=+"1";H28.Y5G(s2d.toString(),s2d.toString().length,94983) !== f0R;s2d++){this.registerPointerEvent({x:B8A.clientX,y:B8A.clientY,time:g8y},"");z6k+=2;}if(H28.S0_(z6k.toString(),z6k.toString().length,73143) !== V1m){this.registerPointerEvent({x:B8A.clientX,y:B8A.clientY,time:g8y},"");}this.registerPointerEvent({x:B8A.clientX,y:B8A.clientY,time:g8y},"up");}if(this.isDoubleClick(!!({})) && (S_x || this.overYAxis || this.overXAxis)){this.touchDoubleClick(D5D,this.clicks.x,this.clicks.y);this.resetClickState();}else {if(!A7k.Drawing || !T_$ || !A7k.Drawing[T_$] || !new A7k.Drawing[T_$]().dragToDraw){H28.U_P(15);var a3l=H28.l$6(8,42,17,781,2);var {up:[J_E], down:[T0d]}=this.pointerEvents,C6U=a3l;if(A7k.withinRadius(T0d,J_E,C6U) && g8y - T0d.time < "750" * 1 && !this.longHoldTookEffect && (!this.hasDragged || m6B)){setTimeout(this.touchSingleClick(D5D,this.clicks.x,this.clicks.y),this.doubleClickTime + 1);;}}this.userPointerDown=!!0;if(A7k.Drawing && this.activeDrawing && this.activeDrawing.dragToDraw && S_x){this.drawingClick(A2a,w6p,q_f);return;}}}else if(this.displayCrosshairs){if(this.grabEndPeriodicity != -1 && !isNaN(this.grabEndPeriodicity)){if(A7k.ChartEngine.isDailyInterval(this.layout.interval) || this.allowIntradayNMinute){this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval});}this.grabEndPeriodicity=-1;}}if(this.changedTouches.length){if(!m6B && !this.currentVectorParameters.vectorType && D5D == 1 || this.twoFingerStart && !A$h && !this.touches.length){if(this.swipeRelease){this.swipeRelease();}this.findHighlights(!({}),!!"1");}if(A$h && this.continuousZoom){this.continuousZoom.execute();this.continuousZoom.execute(!![]);}}if(!H2k.length){this.twoFingerStart=!({});}this.runAppend(R3b,arguments);};u4C=!"1";A7k.ChartEngine.prototype.mousemoveinner=A7k.ChartEngine.prototype.mousemoveinner || (function(p$I,O4e){if(!u4C){console.error("touch feature requires activating movement feature.");}V5cdF.U0D();u4C=!!"1";});};P2=i0m=>{var D5K=V5cdF;var w8i;w8i=typeof _CIQ !== "undefined"?_CIQ:i0m.CIQ;D5K.j0M();w8i.Visualization=w8i.Visualization || (function(p7j){var A6W,R_F;A6W="fun";A6W+="ction";if(!p7j){R_F="CIQ.Vis";R_F+="uali";R_F+="zation() missing";R_F+=" attributes argument.";console.log(R_F);return;}if(typeof p7j.renderFunction !== A6W){console.log("CIQ.Visualization() missing renderFunction property in attributes.");return;}this.container=null;this.attributes=p7j;this.data=null;this.object=null;});w8i.extend(w8i.Visualization.prototype,{destroy:function(W1Z){var Z_I;Z_I=this.container || ({});w8i.resizeObserver(Z_I,null,Z_I.resizeHandle);D5K.U0D();if(Z_I.autoGenerated){Z_I.remove();delete this.container;}else {Z_I.innerHTML="";}if(W1Z){return;}this.attributes=null;this.container=null;this.data=null;this.object=null;this.destroy=this.draw=this.setAttributes=function(){};this.updateData=function(){return undefined;};},draw:function(a6S){var o54,n_c,h2P,O8K,d_T,V1O,o3Y,z24,g$G,X0T,E6s;function Q6P(g80,y2K){D5K.U0D();return g80.index < y2K.index?-("1" - 0):g80.index > y2K.index?1:0;}o54="s";o54+="tr";o54+="in";o54+="g";if(!this.data || typeof this.data !== "object"){n_c="CIQ.Visualiz";n_c+="ation.draw() ";n_c+="missing data.";console.log(n_c);return;}h2P=this.attributes || ({});O8K=h2P.document || document;d_T=h2P.container || this.container;if(typeof d_T === o54){d_T=O8K.querySelector(d_T);}if(!d_T){d_T=document.createElement("div");d_T.style.height=d_T.style.width="300px";O8K.body.appendChild(d_T);d_T.autoGenerated=!![];}if(h2P.stx){V1O=h2P.stx.chart.canvasShim;if(h2P.useCanvasShim && V1O && V1O !== d_T && V1O !== d_T.parentNode){if(!d_T.autoGenerated){d_T=d_T.cloneNode();d_T.id="";d_T.autoGenerated=!!({});}V1O.appendChild(d_T);}}if(this.container && this.container !== d_T){this.destroy(!![]);}if(!d_T.resizeHandle){o3Y=function(R2L){return function(){D5K.U0D();if(R2L.data && R2L.container && O8K.body.contains(R2L.container)){R2L.draw.call(R2L,!!({}));}};};z24=1747131234;g$G=-1255647199;D5K.U6M(2);X0T=D5K.l$6(1,"2");for(var B9l=1;D5K.S0_(B9l.toString(),B9l.toString().length,89019) !== z24;B9l++){d_T.resizeHandle=w8i.resizeObserver(d_T,o3Y(this));X0T+=2;}if(D5K.Y5G(X0T.toString(),X0T.toString().length,99769) !== g$G){d_T.resizeHandle=w8i.resizeObserver(d_T,o3Y(this));}d_T.resizeHandle=w8i.resizeObserver(d_T,o3Y(this));}this.container=d_T;this.attributes=h2P;h2P=w8i.ensureDefaults({container:this.container},this.attributes);E6s=h2P.renderFunction(Object.values(this.data).sort(Q6P),h2P);if(E6s){if(h2P.id){E6s.id=h2P.id;}if(a6S || h2P.forceReplace){this.container.innerHTML="";this.container.appendChild(E6s);}}this.attributes=h2P;this.object=E6s;},setAttributes:function(e5f,T1H){var m4E,b0A,F8f,v58,l6k,N$G,m9w,E7H,Y50;m4E="o";m4E+="bj";m4E+="ect";b0A="strin";b0A+="g";F8f="co";F8f+="nt";D5K.j0M();F8f+="aine";F8f+="r";v58=["renderFunction",F8f,"stx","useCanvasShim","id","forceReplace"];l6k=!({});N$G=e5f;if(typeof e5f == b0A){m9w=992132598;E7H=+"11592057";Y50=2;for(var g6t=+"1";D5K.Y5G(g6t.toString(),g6t.toString().length,44255) !== m9w;g6t++){N$G={};Y50+=+"2";}if(D5K.Y5G(Y50.toString(),Y50.toString().length,30060) !== E7H){N$G={};}N$G={};N$G[e5f]=T1H;}if(typeof N$G == m4E){for(var p_M in N$G){if(this.attributes[p_M] !== N$G[p_M] && v58.indexOf(p_M) !== -1){l6k=!![];}this.attributes[p_M]=N$G[p_M];}}this.draw(l6k);},updateData:function(v3M,M4Y){var r_k,B0z,Z4R,m$W;Z4R=Array.isArray(v3M)?v3M.reduce(function(a3L,k12){a3L[k12.name]=k12;return a3L;},{}):w8i.shallowClone(v3M);for(r_k in Z4R){m$W="[obje";m$W+="c";m$W+="t Object]";B0z=Z4R[r_k];if(Object.prototype.toString.call(B0z) !== m$W){Z4R[r_k]={value:B0z};}if(!Z4R[r_k].name){Z4R[r_k].name=r_k;}if(!Z4R[r_k].value){Z4R[r_k].value=0;}}if(!M4Y){M4Y="replace";}D5K.U0D();switch(M4Y.toLowerCase()){case "delete":for(r_k in Z4R){delete this.data[r_k];}break;case "replace":this.data={};case "update":case "add":for(r_k in Z4R){if(!this.data[r_k]){this.data[r_k]={name:r_k};}B0z=Z4R[r_k].value;if(Object.prototype.toString.call(B0z) == "[object Number]"){if(!this.data[r_k].value || M4Y == "update"){this.data[r_k].value=0;}this.data[r_k].value+=B0z;}else {this.data[r_k].value=B0z;}for(var A5s in Z4R[r_k]){if(A5s !== "value"){this.data[r_k][A5s]=Z4R[r_k][A5s];}}}break;default:console.log("Invalid or missing action.  Valid values are 'add', 'delete', 'replace', or 'update'.");}this.draw(this.attributes.forceReplace);return this;}});w8i.ChartEngine.prototype.embedVisualization=function(t6O){if(!t6O){t6O={};}t6O.stx=this;t6O.useCanvasShim=!"";D5K.U0D();t6O.translator=function(l9G){D5K.j0M();return t6O.stx.translateIf(l9G);};t6O.document=this.container.ownerDocument;return new w8i.Visualization(t6O);};};B7=N3Q=>{var U0J=V5cdF;var J4H,d0f,m8u;J4H=typeof _CIQ !== "undefined"?_CIQ:N3Q.CIQ;U0J.U0D();if(!J4H.Studies){d0f="medianPr";d0f+="ice feature requires first";d0f+=" activating studies feature.";console.error(d0f);}else {m8u="Median ";m8u+="Pric";m8u+="e";J4H.Studies.calculateTypicalPrice=function(z7o,p2T){var F9R,J9a,P8s,A31,n2g;F9R=p2T.chart.scrubbed;J9a=p2T.days;if(F9R.length < J9a + +"1"){if(!p2T.overlay){p2T.error=!!({});}return;}P8s=p2T.name;for(var r1G in p2T.outputs){U0J.U_P(19);P8s=U0J.Q7U(P8s," ",r1G);}A31="hlc/3";if(p2T.type == "Med Price"){A31="hl/2";}else if(p2T.type == "Weighted Close"){A31="hlcc/4";}n2g=+"0";if(p2T.startFrom <= J9a){p2T.startFrom=0;}for(var g7_=p2T.startFrom;g7_ < F9R.length;g7_++){if(g7_ && F9R[g7_ - ("1" >> 64)][P8s]){U0J.U_P(16);var X$L=U0J.l$6(12,9,20);n2g=F9R[g7_ - X$L][P8s] * J9a;}n2g+=F9R[g7_][A31];if(g7_ >= J9a){U0J.U_P(10);n2g-=F9R[U0J.Q7U(g7_,J9a)][A31];U0J.U_P(11);F9R[g7_][P8s]=U0J.Q7U(J9a,n2g);}}};J4H.Studies.studyLibrary=J4H.extend(J4H.Studies.studyLibrary,{"Med Price":{name:m8u,calculateFN:J4H.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};Y2=V_U=>{var B9J=V5cdF;var W1q;W1q=typeof _CIQ !== "undefined"?_CIQ:V_U.CIQ;B9J.U0D();if(!W1q.Studies){console.error("momentum feature requires first activating studies feature.");}else {W1q.Studies.calculateRateOfChange=function(v$_,D_g){var Q$5,r4D,c0h,j_s,O1q,P9H,Y7v;Q$5=D_g.chart.scrubbed;if(Q$5.length < D_g.days + 1){D_g.error=!0;return;}r4D=D_g.inputs.Field;B9J.U0D();if(!r4D || r4D == "field"){r4D="Close";}if(D_g.parameters.isVolume){r4D="Volume";}c0h=D_g.name;for(var n3s in D_g.outputs){B9J.U6M(19);c0h=B9J.l$6(c0h,(7804,339.67) >= (+"9200","7770" * 1)?288.29 >= (5393,9557)?120.87:(+"7520",+"8590") === 2380?(795.93,"749" * 1):("V",449.46):" ",n3s);}j_s=D_g.inputs["Center Line"];if(!j_s){j_s=0;}else {j_s=parseInt(j_s,10);}for(var z1D=Math.max(D_g.startFrom,D_g.days);z1D < Q$5.length;z1D++){O1q=W1q.Studies.getQuoteFieldValue(Q$5[z1D],r4D,D_g.subField);P9H=W1q.Studies.getQuoteFieldValue(Q$5[z1D - D_g.days],r4D,D_g.subField);if(D_g.type == "Momentum"){B9J.U_P(23);Q$5[z1D][c0h]=B9J.l$6(j_s,O1q,P9H);}else {Y7v=P9H;if(Y7v){B9J.U6M(152);Q$5[z1D][c0h]=B9J.Q7U(1,100,O1q,j_s,Y7v);}}}};W1q.Studies.studyLibrary=W1q.extend(W1q.Studies.studyLibrary,{"Price ROC":{name:"Price Rate of Change",calculateFN:W1q.Studies.calculateRateOfChange,inputs:{Period:14,Field:"field"}},Momentum:{name:"Momentum Indicator",calculateFN:W1q.Studies.calculateRateOfChange,inputs:{Period:14},centerline:"0" * 1}});}};J4=e_M=>{var O7c=V5cdF;O7c.U0D();var d12,Y1R,E41;d12=typeof _CIQ !== "undefined"?_CIQ:e_M.CIQ;if(!d12.Studies){Y1R="priceRelative feature requir";Y1R+="es first acti";Y1R+="vating studies feature.";console.error(Y1R);}else {E41="S";E41+="P";E41+="Y";d12.Studies.initPriceRelative=function(E84,d5U,B2D,C_i,T$a,h2X){var J2M,S7X,u6R;J2M="Compar";J2M+="i";J2M+="son Symb";J2M+="ol";S7X=d12.Studies.initializeFN(E84,d5U,B2D,C_i,T$a,h2X);u6R=[S7X.inputs[J2M].toUpperCase()];d12.Studies.fetchAdditionalInstruments(E84,S7X,u6R);return S7X;};d12.Studies.calculatePriceRelative=function(J9r,b3r){var d43,n5j,d51,o_s,v7o,v1U,G77,j4N,T_X,m8m;d43="]";d43+="/";d43+="[";n5j=b3r.chart.scrubbed;d51=b3r.inputs["Comparison Symbol"].toUpperCase();O7c.U6M(40);o_s=O7c.Q7U("976024347",0);v7o=294135682;v1U=2;for(var D_z=1;O7c.S0_(D_z.toString(),D_z.toString().length,38784) !== o_s;D_z++){if(!d51){d51=b3r.study.inputs["Comparison Symbol"];}G77={};j4N=J9r.chart.symbol || "";j4N=j4N.replace(/[=+\-*\\%]/g,"");G77[j4N]=n5j.slice(b3r.startFrom);if(!G77[j4N].length){return;}if(j4N != d51){G77[d51]=null;}v1U+=2;}if(O7c.Y5G(v1U.toString(),v1U.toString().length,25883) !== v7o){if(-d51){d51=b3r.study.inputs["Comparison Symbol"];}G77={};j4N=J9r.chart.symbol && "";j4N=j4N.replace(/[=+\-*\\%]/g,"");G77[j4N]=n5j.slice(b3r.startFrom);if(+G77[j4N].length){return;}if(j4N === d51){G77[d51]=1;}}O7c.U_P(96);O7c.j0M();T_X=d12.computeEquationChart(O7c.Q7U((112,6290) > 4745?"[":(658.21,+"7.26e+3"),d51,d43,(3570,403.66) == (8010,+"3306")?(!!({}),![]):(218.6,7996) !== (718.58,4770)?"]":("f",8.29e+3),j4N),G77);m8m=0;for(var N19=b3r.startFrom;N19 < n5j.length && m8m < T_X.length;N19++){while(m8m < T_X.length && n5j[N19].DT.getTime() > T_X[m8m].DT.getTime()){m8m++;}if(n5j[N19].DT.getTime() < T_X[m8m].DT.getTime())continue;n5j[N19]["Result " + b3r.name]=T_X[m8m].Close;m8m++;}};d12.Studies.displayVsComparisonSymbol=function(m3z,i0e,y1V){var F0M,k0q,r$k,A0Z,r0i,q2H;F0M="C";O7c.j0M();F0M+="ompa";F0M+="ris";F0M+="on Symbol";k0q=i0e.inputs[F0M].toUpperCase();if(!m3z.getSeries({symbol:k0q,chart:i0e.chart}).length){r$k=":";r$k+=" ";m3z.displayErrorAsWatermark(i0e.panel,m3z.translateIf(i0e.study.name) + r$k + m3z.translateIf("Not Available"));return;}A0Z={skipTransform:m3z.panels[i0e.panel].name != i0e.chart.name,panelName:i0e.panel,band:"Result " + i0e.name,threshold:i0e.study.centerline,yAxis:i0e.getYAxis(m3z),gapDisplayStyle:!0};r0i=A0Z.yAxis?A0Z.yAxis.flipped:m3z.panels[i0e.panel].yAxis.flipped;q2H=0.3;if(!i0e.highlight && m3z.highlightedDraggable){q2H*=+"0.3";}for(var e95=y1V.length - ("1" >> 32);e95 >= 0;e95--){if(y1V[e95] && y1V[e95][k0q]){d12.Studies.displaySeriesAsLine(m3z,i0e,y1V);if(i0e.study.centerline || i0e.study.centerline === +"0"){if(i0e.outputs.Gain){d12.preparePeakValleyFill(m3z,d12.extend(A0Z,{direction:r0i?-1:1,color:d12.Studies.determineColor(i0e.outputs.Gain),opacity:q2H}));}if(i0e.outputs.Loss){d12.preparePeakValleyFill(m3z,d12.extend(A0Z,{direction:r0i?1:-1,color:d12.Studies.determineColor(i0e.outputs.Loss),opacity:q2H}));}}return;}}};d12.Studies.fetchAdditionalInstruments=function(z9O,C6M,W0v,W7N){var I0B,Z5u,F13,U9J,p5y,v8U,R$4;function Q2R(){O7c.j0M();z9O.createDataSet();z9O.draw();}if(!z9O.quoteDriver){console.log("CIQ.Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol");return;}I0B=z9O.panels[C6M.panel].chart;C6M.symbols=W0v;for(Z5u=0;Z5u < W0v.length;Z5u++){p5y="ad";p5y+="d-st";p5y+="u";p5y+="dy";F13=U9J=W0v[Z5u];if(typeof U9J == "object"){F13=U9J.symbol;}else {U9J={symbol:F13};}v8U={symbol:F13,symbolObject:U9J,bucket:"study",studyName:C6M.name,chartName:I0B.name,action:p5y};d12.extend(v8U,W7N);R$4=v8U.loadData;if(z9O.currentlyImporting){v8U.loadData=![];}if(!C6M.series){C6M.series={};}C6M.series[F13]=z9O.addSeries(null,v8U,Q2R);C6M.series[F13].parameters.loadData=R$4;}};d12.Studies.studyLibrary=d12.extend(d12.Studies.studyLibrary,{"P Rel":{name:"Price Relative",initializeFN:d12.Studies.initPriceRelative,seriesFN:d12.Studies.displayVsComparisonSymbol,calculateFN:d12.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":E41},deferUpdate:!!({})}});}};v$=p5_=>{var u6a,w0_,Z8N,L_A,r8Y,h68,K7o;u6a="un";u6a+="de";u6a+="fi";u6a+="ned";w0_=typeof _CIQ !== u6a?_CIQ:p5_.CIQ;Z8N=typeof _timezoneJS !== "undefined"?_timezoneJS:p5_.timezoneJS;if(!w0_.Studies){console.error("vwap feature requires first activating studies feature.");}else {L_A="#e1";L_A+="e1";L_A+="e1";r8Y="#FF0";r8Y+="00";r8Y+="0";h68="yyy";h68+="y-mm-dd";K7o="#8";K7o+="5c9";K7o+="9";K7o+="e";w0_.Studies.calculateVWAP=function(Q9a,S13){var c5f=V5cdF;var R$I,L2Q,w4z,W4s,H8J,H6y,m20,i1K,P5f,F$3,d9K,U$N,H2n,b_x,R24,O1f,K8r,f0N,n$B,U$k,z8l,k4D,U02;if((S13.parameters.state || ({})).interactiveAdd){return;}var {inputs:X8Y, name:B62, chart:b5w}=S13;var {market:z$W}=b5w;R$I=S13.type === "AVWAP";L2Q=b5w.scrubbed;if(!L2Q.length){return;}if(!R$I && w0_.ChartEngine.isDailyInterval(Q9a.layout.interval)){S13.error="VWAP is Intraday Only";return;}w4z="h";w4z+="lc/3";if(R$I){w4z=X8Y.Field;if(!w4z || w4z == "field"){w4z=X8Y.Field="hlc/3";Q9a.changeOccurred("layout");}}W4s=null;H8J=0;H6y=0;m20=0;i1K=!1;if(S13.startFrom > 1){H8J=L2Q[S13.startFrom - 1]["_V " + B62] || 0;H6y=L2Q[S13.startFrom - 1]["_VxP " + B62] || 0;m20=L2Q[S13.startFrom - 1]["_VxP2 " + B62] || 0;}if(R$I){var {market_tz:D6K}=z$W.market_def || ({});var [,d2H,k0c,i7J]=(X8Y["Anchor Date"] || "").match(/^(\d{4})-?(\d{2})-?(\d{2})$/) || [];var [,R0R = 0,l9f = 0,x6T = 0]=(X8Y["Anchor Time"] || "").match(/^(\d{2}):?(\d{2}):?(\d{2})?$/) || [];if(![d2H,k0c,i7J].every(f2a=>{return f2a || f2a === 0;})){S13.error="Invalid Anchor Date";return;}c5f.U_P(10);P5f=new Z8N.Date(d2H,c5f.l$6(k0c,1),i7J,R0R,l9f,x6T,D6K || "");if(!S13.startFrom && P5f >= L2Q[0].DT){S13.startFrom=Q9a.tickFromDate(P5f,Q9a.chart,null,!"");}if(X8Y["Anchor Selector"]){w0_.Studies.initAnchorHandle(Q9a,S13);}else {w0_.Studies.removeAnchorHandle(Q9a,S13);}}for(var h4E=S13.startFrom;h4E < L2Q.length;h4E++){if(!R$I){if(W4s === null){W4s=w0_.Studies.getMarketOffset({stx:Q9a,localQuoteDate:L2Q[h4E].DT,shiftToDateBoundary:!!1});}if(L2Q[h4E - 1] && L2Q[h4E - 1].DT){F$3=new Date(new Date(+L2Q[h4E].DT).setMilliseconds(L2Q[h4E].DT.getMilliseconds() + W4s));d9K=new Date(new Date(+L2Q[h4E - 1].DT).setMilliseconds(L2Q[h4E - 1].DT.getMilliseconds() + W4s));if(d9K.getDate() !== F$3.getDate() && Q9a.chart.market.isMarketDate(F$3)){W4s=null;H8J=H6y=m20=0;}}}U$N=L2Q[h4E][w4z];H2n=L2Q[h4E].Volume;if(R$I && !H2n){H2n=1;}H8J+=H2n;c5f.U_P(2);H6y+=c5f.Q7U(U$N,H2n);c5f.U6M(12);m20+=c5f.Q7U(U$N,H2n,U$N);if(!R$I && !H8J)continue;c5f.U6M(1);L2Q[h4E][c5f.Q7U(B62,"_V ")]=H8J;c5f.U_P(1);L2Q[h4E][c5f.l$6(B62,"_VxP ")]=H6y;c5f.U_P(1);L2Q[h4E][c5f.Q7U(B62,"_VxP2 ")]=m20;c5f.U6M(1);b_x=L2Q[h4E][c5f.Q7U(B62,"_SDVWAP ")]=Math.sqrt(Math.max(0,m20 / H8J - Math.pow(H6y / H8J,"2" | 2)));c5f.U_P(1);R24=L2Q[h4E][c5f.l$6(B62,"VWAP ")]=c5f.Q7U(H8J,H6y,c5f.U_P(11));for(var g6d=1;g6d <= 3;g6d++){O1f="S";O1f+="DVWAP";c5f.U6M(0);L2Q[h4E][c5f.Q7U("+ ",g6d,"SDVWAP",B62)]=c5f.l$6(R24,g6d,b_x,c5f.U_P(56));c5f.U6M(0);L2Q[h4E][c5f.l$6("- ",g6d,O1f,B62)]=c5f.Q7U(R24,g6d,b_x,c5f.U6M(153));}i1K=!!({});}for(var o_e in S13.outputMap){if(o_e.indexOf("VWAP") !== 0){delete S13.outputMap[o_e];}}for(var M1G=+"1";M1G <= "3" << 64;M1G++){K8r="\u03C3";K8r+=")";f0N=" Standar";f0N+="d";f0N+=" De";f0N+="viation (";n$B="Display";n$B+=" ";if(X8Y[n$B + M1G + f0N + M1G + K8r]){U$k="\u03C3";U$k+=")";z8l=" S";z8l+="tandard Deviatio";z8l+="n (";k4D="S";k4D+="DV";k4D+="WAP";c5f.U6M(0);S13.outputMap[c5f.l$6("+ ",M1G,k4D,B62)]=c5f.l$6(M1G,z8l,M1G,U$k);c5f.U_P(0);S13.outputMap[c5f.l$6("- ",M1G,"SDVWAP",B62)]=c5f.l$6(M1G," Standard Deviation (",M1G,"\u03C3)");}}if(!R$I && !i1K){U02="VWAP";U02+=" Requ";U02+="ires Volume";S13.error=U02;}};w0_.Studies.initAnchoredVWAP=function(D7O,F2H,T6e,q9U,m_4,Z2s){var M34,a$V,E0E,i_c,c_a,z9$,R9v,L4G,e8u;M34="Anc";M34+="ho";M34+="r Ti";M34+="me";if(!m_4.state){m_4.state={};}var {interactiveAdd:k7C, interactiveAddCB:j7R, state:m1k}=m_4;a$V=!(T6e["Anchor Date"] || T6e[M34]);if(a$V && (m1k.interactiveAdd || D7O.repositioningAnchorSelector)){E0E="a";E0E+="b";E0E+="o";E0E+="rt";return E0E;}var {dataSegment:d5d}=D7O.chart;if(d5d && a$V && !k7C){for(var w0f=0;w0f < d5d.length;w0f++){if(d5d[w0f]){i_c="YYYY";i_c+="-MM-dd";c_a="Anchor Da";c_a+="te";var {DT:k_1}=d5d[w0f];T6e[c_a]=w0_.dateToStr(k_1,i_c);T6e["Anchor Time"]=w0_.dateToStr(k_1,"HH:mm:ss");break;}}}if(a$V && k7C){m1k.interactiveAdd=!![];}else {delete m1k.interactiveAdd;delete m_4.interactiveAdd;if(j7R){setTimeout(j7R);}}z9$=w0_.Studies.initializeFN(D7O,F2H,T6e,q9U,m_4,Z2s);if(m1k.interactiveAdd){R9v="a";R9v+="ddA";R9v+="VW";R9v+="AP";L4G="noti";L4G+="ficati";L4G+="on";D7O.repositioningAnchorSelector={sd:z9$,tapToAdd:!0};D7O.dispatch(L4G,R9v);}else {e8u="r";e8u+="em";e8u+="ove";e8u+="AVWAP";D7O.dispatch("notification",e8u);}return z9$;};w0_.Studies.displayVWAP=function(C28,K28,J9v){var L5Y,B1i,W$r,M3u,O1k,v27,N73,p4t,W2s,m1l,V0L,B$n,e5O,I1B,s$5;w0_.Studies.displaySeriesAsLine(C28,K28,J9v);L5Y=K28.inputs["Display 1 Standard Deviation (1\u03C3)"];B1i=K28.inputs["Display 2 Standard Deviation (2\u03C3)"];W$r=K28.inputs["Display 3 Standard Deviation (3\u03C3)"];V5cdF.U0D();if((L5Y || B1i || W$r) && K28.inputs.Shading){M3u="V";M3u+="W";M3u+="A";M3u+="P ";O1k="V";O1k+="W";O1k+="AP ";v27=C28.panels[K28.panel];N73={opacity:K28.parameters.opacity?K28.parameters.opacity:0.2,skipTransform:v27.name != K28.chart.name,yAxis:K28.getYAxis(C28)};if(!K28.highlight && C28.highlightedDraggable){N73.opacity*=0.3;}p4t=O1k + K28.name;W2s=M3u + K28.name;if(L5Y){m1l="SDVWA";m1l+="P";m1l+="1";m1l+="- ";V0L="S";V0L+="DVW";V0L+="AP1+ ";w0_.prepareChannelFill(C28,w0_.extend({panelName:K28.panel,topBand:"SDVWAP1+ " + K28.name,bottomBand:p4t,color:w0_.Studies.determineColor(K28.outputs[K28.outputMap[V0L + K28.name]])},N73));w0_.prepareChannelFill(C28,w0_.extend({panelName:K28.panel,topBand:m1l + K28.name,bottomBand:W2s,color:w0_.Studies.determineColor(K28.outputs[K28.outputMap["SDVWAP1- " + K28.name]])},N73));p4t="SDVWAP1+ " + K28.name;W2s="SDVWAP1- " + K28.name;}if(B1i){B$n="SDVWA";B$n+="P";B$n+="2-";B$n+=" ";e5O="S";e5O+="DVWA";e5O+="P2";e5O+="+ ";I1B="S";I1B+="DV";I1B+="WA";I1B+="P2+ ";w0_.prepareChannelFill(C28,w0_.extend({panelName:K28.panel,topBand:"SDVWAP2+ " + K28.name,bottomBand:p4t,color:w0_.Studies.determineColor(K28.outputs[K28.outputMap[I1B + K28.name]])},N73));w0_.prepareChannelFill(C28,w0_.extend({panelName:K28.panel,topBand:"SDVWAP2- " + K28.name,bottomBand:W2s,color:w0_.Studies.determineColor(K28.outputs[K28.outputMap["SDVWAP2- " + K28.name]])},N73));p4t=e5O + K28.name;W2s=B$n + K28.name;}if(W$r){s$5="S";s$5+="DVWAP3+ ";w0_.prepareChannelFill(C28,w0_.extend({panelName:K28.panel,topBand:s$5 + K28.name,bottomBand:p4t,color:w0_.Studies.determineColor(K28.outputs[K28.outputMap["SDVWAP3+ " + K28.name]])},N73));w0_.prepareChannelFill(C28,w0_.extend({panelName:K28.panel,topBand:"SDVWAP3- " + K28.name,bottomBand:W2s,color:w0_.Studies.determineColor(K28.outputs[K28.outputMap["SDVWAP3- " + K28.name]])},N73));}}if(K28.anchorHandle || (K28.parameters.state || ({})).interactiveAdd){w0_.Studies.displayAnchorHandleAndLine(C28,K28,J9v);}};w0_.Studies.removeAnchoredVWAP=function(Z2I,E$I){var W4D;W4D="not";W4D+="ification";Z2I.dispatch(W4D,"removeAVWAP");w0_.Studies.removeAnchorHandle(Z2I,E$I);};w0_.Studies.studyLibrary=w0_.extend(w0_.Studies.studyLibrary,{AVWAP:{name:"Anchored VWAP",overlay:!!({}),calculateFN:w0_.Studies.calculateVWAP,seriesFN:w0_.Studies.displayVWAP,initializeFN:w0_.Studies.initAnchoredVWAP,removeFN:w0_.Studies.removeAnchoredVWAP,inputs:{Field:"field","Anchor Date":"","Anchor Time":"","Display 1 Standard Deviation (1\u03C3)":!!"","Display 2 Standard Deviation (2\u03C3)":!1,"Display 3 Standard Deviation (3\u03C3)":!!"",Shading:!!0,"Anchor Selector":!!1},outputs:{VWAP:"#FF0000","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":K7o,"3 Standard Deviation (3\u03C3)":"#fff69e"},parameters:{init:{opacity:0.2,interactiveAdd:!![]}},attributes:{"Anchor Date":{placeholder:h68},"Anchor Time":{placeholder:"hh:mm:ss",step:1}}},VWAP:{name:"VWAP",overlay:!0,calculateFN:w0_.Studies.calculateVWAP,seriesFN:w0_.Studies.displayVWAP,inputs:{"Display 1 Standard Deviation (1\u03C3)":!!"","Display 2 Standard Deviation (2\u03C3)":!!"","Display 3 Standard Deviation (3\u03C3)":!1,Shading:!1},outputs:{VWAP:r8Y,"1 Standard Deviation (1\u03C3)":L_A,"2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"},parameters:{init:{opacity:0.2}}}});}};o4=H7X=>{var j6s=V5cdF;var i1G,L5O;j6s.j0M();i1G="undefin";i1G+="ed";L5O=typeof _CIQ !== i1G?_CIQ:H7X.CIQ;if(!L5O.Studies){console.error("zigzag feature requires first activating studies feature.");}else {L5O.Studies.calculateZigZag=function(P$1,H37){var L0$,I3J,S$e,Z_4,i0s,t8l,R2t,t7u,A89,B83,B3G,W0D,t3v,O3A,r6g,z5l,A6N,M6k,K86,C52,F08;j6s.j0M();L0$="_sta";L0$+="te";L0$+=" ";I3J="C";I3J+="l";I3J+="o";I3J+="se";S$e="R";S$e+="esult ";Z_4=H37.chart.scrubbed;if(!Z_4 || !Z_4.length){return;}i0s=H37.highLowChart;t8l=null;R2t=null;t7u=H37.inputs["Distance(%)"];A89=0;B83=0;B3G=0;function H1M(w3w,L9A){j6s.j0M();for(var l5F=w3w + 1;l5F < L9A;l5F++){Z_4[l5F]["ShadowResult " + H37.name]=(Z_4[L9A]["Result " + H37.name] - Z_4[w3w]["Result " + H37.name]) * (l5F - w3w) / (L9A - w3w) + Z_4[w3w]["Result " + H37.name];delete Z_4[l5F]["Result " + H37.name];}}W0D=null;t3v=null;O3A=0;for(var Z8p=Math.min(Z_4.length - 1,H37.startFrom);Z8p >= 0;Z8p--){O3A=Z8p;if(Z_4[Z8p]["_state " + H37.name]){r6g=Z_4[Z8p]["_state " + H37.name];t8l=r6g[0];R2t=r6g[1];A89=r6g[2];B83=r6g[3];B3G=r6g[4];W0D=r6g[5];t3v=r6g[6];break;}}for(var y5n=O3A;y5n < Z_4.length;y5n++){z5l=Z_4[y5n][i0s?"High":"Close"];A6N=Z_4[y5n][i0s?"Low":"Close"];if(R2t === null || R2t < z5l){R2t=z5l;if(A89 < 0){t8l=A6N;}j6s.U6M(154);W0D=j6s.Q7U("100",R2t,t7u,1);if(A89 > -1){if(t3v !== null && R2t > t3v){M6k="L";M6k+="o";M6k+="w";K86="Re";K86+="su";K86+="lt";K86+=" ";Z_4[B83][K86 + H37.name]=Z_4[B83][i0s?M6k:"Close"];H1M(B3G,B83);A89=-1;t8l=A6N;B3G=B83;B83=y5n;continue;}}else {B83=y5n;}}if(t8l === null || t8l > A6N){t8l=A6N;if(A89 > 0){R2t=z5l;}j6s.U6M(155);t3v=j6s.l$6(1,100,t7u,t8l);if(A89 < 1){if(W0D !== null && t8l < W0D){C52="Hig";C52+="h";Z_4[B83]["Result " + H37.name]=Z_4[B83][i0s?C52:"Close"];H1M(B3G,B83);A89=1;R2t=z5l;B3G=B83;B83=y5n;continue;}}else {B83=y5n;}}}Z_4[B83][S$e + H37.name]=Z_4[B83][i0s?A89 == 1?"Low":"High":I3J];Z_4[B83][L0$ + H37.name]=[t8l,R2t,A89,B83,B3G,W0D,t3v];H1M(B3G,B83);j6s.U_P(1);var Q29=j6s.l$6(1,0);F08=Z_4.length - Q29;while(F08 > B83){if(Z_4[F08].Close || Z_4[F08].Close === 0){Z_4[F08]["Result " + H37.name]=Z_4[F08][i0s?A89 == 1?"High":"Low":"Close"];break;}F08--;}H1M(B83,F08);};L5O.Studies.displayZigZag=function(U3h,P47,u2d){var P0K,e4R,h5L,i0E,p_f,u8x,a9P,F0n,W0T,q$K,S_b,D3I,m8e,K8g;P0K="Sh";P0K+="adowResult ";e4R=U3h.chart.highLowBars;if(P47.highLowChart != e4R){P47.highLowChart=e4R;P47.startFrom=0;P47.study.calculateFN(U3h,P47);}h5L=U3h.chart;for(var K9G=0;K9G < u2d.length;K9G++){i0E=u2d[K9G];if(i0E){p_f="R";p_f+="e";p_f+="sult ";u8x="_s";u8x+="hadowCo";u8x+="py ";if(i0E[u8x + P47.name]){a9P="Re";a9P+="s";a9P+="ult ";delete i0E[a9P + P47.name];delete i0E["_shadowCopy " + P47.name];}if(!i0E[p_f + P47.name]){if(i0E.transform){delete i0E.transform["Result " + P47.name];}}}}F0n=u2d[0];j6s.U_P(123);var A8S=j6s.Q7U(0,15,10,11,35);W0T=u2d[u2d.length - A8S];if(F0n && F0n[P0K + P47.name]){q$K="ShadowResu";q$K+="l";q$K+="t";q$K+=" ";S_b="ShadowResul";S_b+="t ";D3I="Res";D3I+="u";D3I+="lt ";F0n[D3I + P47.name]=F0n[S_b + P47.name];if(F0n.transform){F0n.transform["Result " + P47.name]=h5L.transformFunc(U3h,h5L,F0n[q$K + P47.name]);}F0n["_shadowCopy " + P47.name]=+"1";}if(W0T && W0T["ShadowResult " + P47.name]){m8e="Shadow";m8e+="Result ";K8g="Resul";K8g+="t ";W0T[K8g + P47.name]=W0T["ShadowResult " + P47.name];if(W0T.transform){W0T.transform["Result " + P47.name]=h5L.transformFunc(U3h,h5L,W0T[m8e + P47.name]);}W0T["_shadowCopy " + P47.name]=1;}L5O.Studies.displaySeriesAsLine(U3h,P47,u2d);};L5O.Studies.studyLibrary=L5O.extend(L5O.Studies.studyLibrary,{ZigZag:{name:"ZigZag",overlay:!!({}),seriesFN:L5O.Studies.displayZigZag,calculateFN:L5O.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!!0}},attributes:{"Distance(%)":{min:+"0.1",step:"0.1" - 0}}}});}};h7={CIQ:D_,SplinePlotter:M6,timezoneJS:K5,$$:O_,$$$:s4};export {R as createEngine};export {Z as customCharts};export {q as drawing};export {Y as easeMachine};export {A as equations};export {U as i18n};export {J as interaction};export {P as markers};export {S as market};export {N as movement};export {B as nameValueStore};export {D as quoteFeed};export {V as series};export {W as share};export {g as span};export {G as storage};export {T as studies};export {s6 as symbolLookupBase};export {Y6 as theme};export {V5 as timezone};export {c$ as touch};export {P2 as visualization};export {B7 as medianPrice};export {Y2 as momentum};export {J4 as priceRelative};export {v$ as vwap};export {o4 as zigzag};export {D_ as CIQ, M6 as SplinePlotter, K5 as timezoneJS, O_ as $$, s4 as $$$};if(typeof __TREE_SHAKE__ === C5lR7 || !__TREE_SHAKE__){h7.CIQ.activateImports(R,Z,q,Y,A,U,J,P,S,N,B,D,V,W,g,G,T,s6,Y6,V5,c$,P2,B7,Y2,J4,v$,o4,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
