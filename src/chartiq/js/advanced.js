/**!
 *	8.9.2
 *	Generation date: 2023-05-22T15:27:11.767Z
 *	Client name: enrich commodities india pvt limited
 *	Package Type: Core alacarte
 *	License type: annual
 *	Expiration date: "2024/12/01"
 *	Domain lock: ["127.0.0.1","localhost","enrichbroking.in","enrichbroking.com","enrichmoney.in"]
 */

/***********************************************************!
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************! DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! !*************************************
* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting *
* and load that file right after the library has been loaded, but before the chart engine is instantiated.              *
* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          *
*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
e9J1I[558515]=(function(){var R7r=2;for(;R7r !== 9;){switch(R7r){case 2:R7r=typeof globalThis === '\x6f\x62\x6a\u0065\u0063\u0074'?1:5;break;case 1:return globalThis;break;case 5:var c$L;try{var V4U=2;for(;V4U !== 6;){switch(V4U){case 2:Object['\u0064\x65\u0066\u0069\x6e\u0065\u0050\u0072\u006f\x70\x65\u0072\u0074\x79'](Object['\u0070\u0072\x6f\u0074\x6f\x74\x79\x70\u0065'],'\x79\u0071\u0078\u004a\u004d',{'\x67\x65\x74':function(){var R8g=2;for(;R8g !== 1;){switch(R8g){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});c$L=yqxJM;c$L['\x46\u0045\x79\x42\x78']=c$L;V4U=4;break;case 9:delete c$L['\x46\x45\x79\u0042\u0078'];var t5R=Object['\x70\u0072\u006f\x74\u006f\x74\x79\u0070\x65'];delete t5R['\x79\u0071\u0078\x4a\u004d'];V4U=6;break;case 4:V4U=typeof FEyBx === '\u0075\x6e\x64\u0065\x66\u0069\u006e\x65\x64'?3:9;break;case 3:throw "";V4U=9;break;}}}catch(X1T){c$L=window;}return c$L;break;}}})();j3gCkd(e9J1I[558515]);e9J1I[168470]=true;e9J1I.D29=function(){return typeof e9J1I[356878].y_bJOD4 === 'function'?e9J1I[356878].y_bJOD4.apply(e9J1I[356878],arguments):e9J1I[356878].y_bJOD4;};e9J1I[523306]=(function(){var w4d=2;for(;w4d !== 9;){switch(w4d){case 2:var S9H=[arguments];S9H[9]=undefined;S9H[7]={};S9H[7].V2CaoBq=function(){var k3J=2;for(;k3J !== 90;){switch(k3J){case 76:k3J=W5f[78] < W5f[34][W5f[84]].length?75:70;break;case 42:W5f[88].V6e=['w6N'];W5f[88].f5F=function(){var Y90=function(){return ('a|a').split('|');};var f_1=!(/\u007c/).l5RmB(Y90 + []);return f_1;};W5f[76]=W5f[88];W5f[65]={};W5f[65].V6e=['w6N'];W5f[65].f5F=function(){var S31=function(){return ('xy').substring(0,1);};var o1K=!(/\171/).l5RmB(S31 + []);return o1K;};k3J=36;break;case 48:W5f[9].F_tiYi(W5f[69]);W5f[9].F_tiYi(W5f[97]);W5f[9].F_tiYi(W5f[7]);W5f[9].F_tiYi(W5f[26]);k3J=65;break;case 68:k3J=20?68:67;break;case 1:k3J=S9H[9]?5:4;break;case 2:var W5f=[arguments];k3J=1;break;case 20:W5f[2].f5F=function(){var F8n=function(){return escape('=');};var m2N=(/\x33\x44/).l5RmB(F8n + []);return m2N;};W5f[3]=W5f[2];W5f[1]={};W5f[1].V6e=['C_8'];k3J=16;break;case 16:W5f[1].f5F=function(){var Y96=typeof E4orI === 'function';return Y96;};W5f[7]=W5f[1];W5f[47]={};k3J=26;break;case 5:return 95;break;case 51:W5f[9].F_tiYi(W5f[25]);W5f[9].F_tiYi(W5f[76]);W5f[9].F_tiYi(W5f[4]);k3J=48;break;case 71:W5f[78]++;k3J=76;break;case 70:W5f[93]++;k3J=57;break;case 56:W5f[34]=W5f[9][W5f[93]];try{W5f[13]=W5f[34][W5f[63]]()?W5f[70]:W5f[77];}catch(j1w){W5f[13]=W5f[77];}k3J=77;break;case 62:W5f[84]='V6e';W5f[30]='b6f';W5f[63]='f5F';W5f[37]='w3Q';k3J=58;break;case 69:k3J=(function(H86){var H4N=2;for(;H4N !== 22;){switch(H4N){case 4:I04[7]={};I04[4]=[];H4N=9;break;case 13:I04[7][I04[1][W5f[37]]]=(function(){var G0U=2;for(;G0U !== 9;){switch(G0U){case 2:var W9j=[arguments];W9j[7]={};W9j[7].h=0;W9j[7].t=0;G0U=3;break;case 3:return W9j[7];break;}}}).s4PdPH(this,arguments);H4N=12;break;case 11:I04[7][I04[1][W5f[37]]].t+=true;H4N=10;break;case 24:I04[9]++;H4N=16;break;case 6:I04[1]=I04[0][0][I04[9]];H4N=14;break;case 14:H4N=typeof I04[7][I04[1][W5f[37]]] === 'undefined'?13:11;break;case 19:I04[9]++;H4N=7;break;case 10:H4N=I04[1][W5f[30]] === W5f[70]?20:19;break;case 26:H4N=I04[2] >= 0.5?25:24;break;case 20:I04[7][I04[1][W5f[37]]].h+=true;H4N=19;break;case 8:I04[9]=0;H4N=7;break;case 9:I04[9]=0;H4N=8;break;case 25:I04[6]=true;H4N=24;break;case 12:I04[4].F_tiYi(I04[1][W5f[37]]);H4N=11;break;case 17:I04[9]=0;H4N=16;break;case 2:var I04=[arguments];H4N=1;break;case 15:I04[8]=I04[4][I04[9]];I04[2]=I04[7][I04[8]].h / I04[7][I04[8]].t;H4N=26;break;case 1:H4N=I04[0][0].length === 0?5:4;break;case 5:return;break;case 16:H4N=I04[9] < I04[4].length?15:23;break;case 7:H4N=I04[9] < I04[0][0].length?6:18;break;case 18:I04[6]=false;H4N=17;break;case 23:return I04[6];break;}}})(W5f[66])?68:67;break;case 36:W5f[11]=W5f[65];W5f[9].F_tiYi(W5f[5]);W5f[9].F_tiYi(W5f[11]);W5f[9].F_tiYi(W5f[3]);k3J=51;break;case 28:W5f[29].f5F=function(){var J46=function(){return encodeURI('%');};var C_V=(/\u0032\065/).l5RmB(J46 + []);return C_V;};W5f[25]=W5f[29];W5f[88]={};k3J=42;break;case 26:W5f[47].V6e=['C_8'];W5f[47].f5F=function(){var a1Q=typeof t7Qurn === 'function';return a1Q;};W5f[26]=W5f[47];k3J=23;break;case 57:k3J=W5f[93] < W5f[9].length?56:69;break;case 23:W5f[35]={};W5f[35].V6e=['C_8'];W5f[35].f5F=function(){var X2c=false;var w6d=[];try{for(var b1F in console){w6d.F_tiYi(b1F);}X2c=w6d.length === 0;}catch(E79){}var S2k=X2c;return S2k;};W5f[69]=W5f[35];k3J=34;break;case 58:W5f[93]=0;k3J=57;break;case 65:W5f[66]=[];W5f[70]='v0X';W5f[77]='d67';k3J=62;break;case 77:W5f[78]=0;k3J=76;break;case 8:W5f[6].f5F=function(){var k05=typeof D4ppX === 'function';return k05;};W5f[5]=W5f[6];W5f[8]={};k3J=14;break;case 34:W5f[54]={};W5f[54].V6e=['w6N'];W5f[54].f5F=function(){var o1V=function(){return ('x').toLocaleUpperCase();};var J26=(/\x58/).l5RmB(o1V + []);return J26;};W5f[97]=W5f[54];W5f[29]={};W5f[29].V6e=['w6N'];k3J=28;break;case 4:W5f[9]=[];W5f[6]={};W5f[6].V6e=['C_8'];k3J=8;break;case 14:W5f[8].V6e=['w6N'];W5f[8].f5F=function(){var t5l=function(){return decodeURI('%25');};var J5D=!(/\u0032\065/).l5RmB(t5l + []);return J5D;};W5f[4]=W5f[8];W5f[2]={};W5f[2].V6e=['w6N'];k3J=20;break;case 75:W5f[45]={};W5f[45][W5f[37]]=W5f[34][W5f[84]][W5f[78]];W5f[45][W5f[30]]=W5f[13];W5f[66].F_tiYi(W5f[45]);k3J=71;break;case 67:S9H[9]=41;return 41;break;}}};w4d=3;break;case 3:return S9H[7];break;}}})();e9J1I.O_1=function(){return typeof e9J1I[132287].D_GtrYX === 'function'?e9J1I[132287].D_GtrYX.apply(e9J1I[132287],arguments):e9J1I[132287].D_GtrYX;};e9J1I.l13=function(){return typeof e9J1I[132287].c$xn8vO === 'function'?e9J1I[132287].c$xn8vO.apply(e9J1I[132287],arguments):e9J1I[132287].c$xn8vO;};e9J1I[558515].p2ll=e9J1I;e9J1I[495733]=311;e9J1I.d$I=function(){return typeof e9J1I[523306].V2CaoBq === 'function'?e9J1I[523306].V2CaoBq.apply(e9J1I[523306],arguments):e9J1I[523306].V2CaoBq;};e9J1I.R7g=function(){return typeof e9J1I[523306].V2CaoBq === 'function'?e9J1I[523306].V2CaoBq.apply(e9J1I[523306],arguments):e9J1I[523306].V2CaoBq;};e9J1I.x49=function(){return typeof e9J1I[132287].c$xn8vO === 'function'?e9J1I[132287].c$xn8vO.apply(e9J1I[132287],arguments):e9J1I[132287].c$xn8vO;};e9J1I[356878]=(function(){var t_K=function(T2g,j1d){var g2o=j1d & 0xffff;var A98=j1d - g2o;return (A98 * T2g | 0) + (g2o * T2g | 0) | 0;},y_bJOD4=function(y8K,E9T,w8J){var a0R=0xcc9e2d51,e36=0x1b873593;var E4i=w8J;var Z8n=E9T & ~0x3;for(var t2C=0;t2C < Z8n;t2C+=4){var B2p=y8K.a9wQg(t2C) & 0xff | (y8K.a9wQg(t2C + 1) & 0xff) << 8 | (y8K.a9wQg(t2C + 2) & 0xff) << 16 | (y8K.a9wQg(t2C + 3) & 0xff) << 24;B2p=t_K(B2p,a0R);B2p=(B2p & 0x1ffff) << 15 | B2p >>> 17;B2p=t_K(B2p,e36);E4i^=B2p;E4i=(E4i & 0x7ffff) << 13 | E4i >>> 19;E4i=E4i * 5 + 0xe6546b64 | 0;}B2p=0;switch(E9T % 4){case 3:B2p=(y8K.a9wQg(Z8n + 2) & 0xff) << 16;case 2:B2p|=(y8K.a9wQg(Z8n + 1) & 0xff) << 8;case 1:B2p|=y8K.a9wQg(Z8n) & 0xff;B2p=t_K(B2p,a0R);B2p=(B2p & 0x1ffff) << 15 | B2p >>> 17;B2p=t_K(B2p,e36);E4i^=B2p;}E4i^=E9T;E4i^=E4i >>> 16;E4i=t_K(E4i,0x85ebca6b);E4i^=E4i >>> 13;E4i=t_K(E4i,0xc2b2ae35);E4i^=E4i >>> 16;return E4i;};return {y_bJOD4:y_bJOD4};})();e9J1I[625251]=104;e9J1I.c2O=function(){return typeof e9J1I[356878].y_bJOD4 === 'function'?e9J1I[356878].y_bJOD4.apply(e9J1I[356878],arguments):e9J1I[356878].y_bJOD4;};function j3gCkd(d8H){function p4p(d7a){var K3t=2;for(;K3t !== 5;){switch(K3t){case 2:var q7A=[arguments];return q7A[0][0];break;}}}function L7p(j8I){var i4k=2;for(;i4k !== 5;){switch(i4k){case 2:var L1x=[arguments];return L1x[0][0].String;break;}}}var N7s=2;for(;N7s !== 78;){switch(N7s){case 84:b92(p4p,E7V[90],E7V[96],E7V[47]);N7s=83;break;case 88:E7V[26]+=E7V[6];E7V[26]+=E7V[1];N7s=86;break;case 31:E7V[28]="act";E7V[66]="urn";E7V[44]="";E7V[44]="Q";E7V[89]="t7";E7V[10]="";E7V[10]="i";N7s=41;break;case 2:var E7V=[arguments];E7V[6]="";E7V[6]="";E7V[6]="9";N7s=3;break;case 82:b92(p4p,E7V[36],E7V[96],E7V[22]);N7s=81;break;case 49:E7V[96]=1;E7V[96]=0;E7V[32]=E7V[84];E7V[32]+=E7V[58];N7s=45;break;case 85:b92(L7p,"charCodeAt",E7V[97],E7V[26]);N7s=84;break;case 15:E7V[92]="ptimize";E7V[19]="";E7V[19]="E4";E7V[53]="mB";N7s=24;break;case 45:E7V[32]+=E7V[45];E7V[72]=E7V[11];E7V[72]+=E7V[55];E7V[72]+=E7V[10];E7V[27]=E7V[89];N7s=61;break;case 41:E7V[55]="";E7V[55]="Y";E7V[45]="PH";E7V[58]="";N7s=37;break;case 24:E7V[21]="_o";E7V[67]="I";E7V[93]="5R";E7V[23]="";N7s=35;break;case 86:var b92=function(Z6U,l0z,i0F,z6z){var W2v=2;for(;W2v !== 5;){switch(W2v){case 2:var D83=[arguments];x$U(E7V[0][0],D83[0][0],D83[0][1],D83[0][2],D83[0][3]);W2v=5;break;}}};N7s=85;break;case 67:E7V[90]=E7V[23];E7V[90]+=E7V[7];E7V[90]+=E7V[4];E7V[26]=E7V[3];N7s=88;break;case 35:E7V[23]="_";E7V[66]="";E7V[20]="_abstr";E7V[61]="or";N7s=31;break;case 80:b92(v03,"push",E7V[97],E7V[72]);N7s=79;break;case 3:E7V[4]="";E7V[4]="esidual";E7V[1]="wQg";E7V[7]="";E7V[7]="_r";E7V[8]="X";E7V[3]="a";N7s=12;break;case 12:E7V[5]="";E7V[5]="";E7V[5]="pp";E7V[9]="";N7s=19;break;case 19:E7V[9]="D4";E7V[2]="";E7V[2]="l";E7V[92]="";N7s=15;break;case 81:b92(p4p,E7V[70],E7V[96],E7V[27]);N7s=80;break;case 57:E7V[70]+=E7V[28];E7V[22]=E7V[19];E7V[22]+=E7V[61];E7V[22]+=E7V[67];N7s=76;break;case 83:b92(a4r,"test",E7V[97],E7V[82]);N7s=82;break;case 76:E7V[36]=E7V[23];E7V[36]+=E7V[21];E7V[36]+=E7V[92];E7V[82]=E7V[2];N7s=72;break;case 72:E7V[82]+=E7V[93];E7V[82]+=E7V[53];E7V[47]=E7V[9];E7V[47]+=E7V[5];E7V[47]+=E7V[8];N7s=67;break;case 37:E7V[11]="F_ti";E7V[58]="";E7V[58]="d";E7V[84]="s4P";E7V[97]=8;E7V[97]=1;E7V[96]=7;N7s=49;break;case 61:E7V[27]+=E7V[44];E7V[27]+=E7V[66];E7V[70]=E7V[23];E7V[70]+=E7V[20];N7s=57;break;case 79:b92(D4J,"apply",E7V[97],E7V[32]);N7s=78;break;}}function D4J(b$f){var m_v=2;for(;m_v !== 5;){switch(m_v){case 2:var M58=[arguments];return M58[0][0].Function;break;}}}function a4r(C4z){var H5K=2;for(;H5K !== 5;){switch(H5K){case 2:var w9s=[arguments];return w9s[0][0].RegExp;break;}}}function v03(T$8){var D4X=2;for(;D4X !== 5;){switch(D4X){case 2:var Q$W=[arguments];return Q$W[0][0].Array;break;}}}function x$U(p2j,i6A,J_E,l7e,K$R){var K0x=2;for(;K0x !== 6;){switch(K0x){case 2:var i0e=[arguments];i0e[4]="";i0e[4]="";i0e[2]="erty";i0e[4]="Prop";i0e[1]="define";i0e[3]=false;K0x=7;break;case 7:try{var c3D=2;for(;c3D !== 13;){switch(c3D){case 3:return;break;case 4:c3D=i0e[5].hasOwnProperty(i0e[0][4]) && i0e[5][i0e[0][4]] === i0e[5][i0e[0][2]]?3:9;break;case 9:i0e[5][i0e[0][4]]=i0e[5][i0e[0][2]];i0e[6].set=function(u9i){var r_f=2;for(;r_f !== 5;){switch(r_f){case 2:var n4D=[arguments];i0e[5][i0e[0][2]]=n4D[0][0];r_f=5;break;}}};i0e[6].get=function(){var Q_P=2;for(;Q_P !== 7;){switch(Q_P){case 2:var f1V=[arguments];f1V[3]="undef";f1V[4]="ned";f1V[1]=f1V[3];Q_P=3;break;case 3:f1V[1]+=E7V[10];f1V[1]+=f1V[4];return typeof i0e[5][i0e[0][2]] == f1V[1]?undefined:i0e[5][i0e[0][2]];break;}}};i0e[6].enumerable=i0e[3];c3D=14;break;case 2:i0e[6]={};i0e[8]=(1,i0e[0][1])(i0e[0][0]);i0e[5]=[i0e[8],i0e[8].prototype][i0e[0][3]];c3D=4;break;case 14:try{var k6b=2;for(;k6b !== 3;){switch(k6b){case 4:i0e[0][0].Object[i0e[9]](i0e[5],i0e[0][4],i0e[6]);k6b=3;break;case 2:i0e[9]=i0e[1];i0e[9]+=i0e[4];i0e[9]+=i0e[2];k6b=4;break;}}}catch(M06){}c3D=13;break;}}}catch(P5$){}K0x=6;break;}}}}e9J1I[132287]=(function(v$L){return {D_GtrYX:function(){var r6R,A9P=arguments;switch(v$L){case 129:r6R=(-A9P[0] - A9P[1]) / A9P[3] + A9P[2];break;case 165:r6R=A9P[3] - A9P[0] / (+A9P[1] + A9P[2]);break;case 5:r6R=A9P[2] + A9P[3] - A9P[0] - A9P[1];break;case 112:r6R=A9P[3] - A9P[0] - A9P[2] + A9P[4] - A9P[1];break;case 64:r6R=-A9P[1] / A9P[2] / A9P[3] - A9P[0];break;case 3:r6R=(A9P[1] + A9P[0]) / A9P[2];break;case 104:r6R=(A9P[3] - (A9P[1] + A9P[2])) / A9P[0];break;case 6:r6R=A9P[0] - A9P[1];break;case 18:r6R=A9P[2] / (A9P[0] / A9P[1]);break;case 79:r6R=A9P[5] * (A9P[0] * A9P[6] + (A9P[1] - A9P[3])) / (A9P[2] - A9P[4]);break;case 41:r6R=A9P[0] ^ A9P[1];break;case 160:r6R=(A9P[2] - A9P[1]) / A9P[3] + A9P[0];break;case 44:r6R=A9P[0] / A9P[1] + A9P[2];break;case 126:r6R=A9P[1] + +A9P[2] * A9P[0];break;case 97:r6R=(A9P[1] - A9P[0]) / A9P[2] - A9P[3] + A9P[4];break;case 154:r6R=(A9P[4] * A9P[1] - A9P[2]) * A9P[3] - A9P[0];break;case 13:r6R=-A9P[0] + A9P[1];break;case 110:r6R=A9P[0] * A9P[3] / A9P[1] - A9P[2];break;case 168:r6R=A9P[2] * A9P[0] + A9P[3] + A9P[1];break;case 148:r6R=A9P[1] / A9P[2] + A9P[3] + A9P[0];break;case 52:r6R=(-A9P[0] + A9P[4] - A9P[1]) * A9P[2] + A9P[3];break;case 74:r6R=+A9P[1] / (A9P[2] - A9P[0]);break;case 95:r6R=A9P[0] !== A9P[1];break;case 156:r6R=A9P[2] / (A9P[1] * A9P[3]) <= A9P[0];break;case 77:r6R=(-A9P[1] - A9P[4]) / A9P[2] / A9P[0] + A9P[3];break;case 0:r6R=A9P[1] << A9P[0];break;case 176:r6R=A9P[0] + A9P[2] * A9P[3] + A9P[1];break;case 10:r6R=(A9P[0] + A9P[3]) / A9P[2] - A9P[1];break;case 139:r6R=A9P[2] - A9P[3] / (A9P[0] + A9P[1] / A9P[4]);break;case 67:r6R=A9P[0] - A9P[1] - A9P[2] + A9P[3];break;case 127:r6R=-A9P[1] / A9P[2] / A9P[0] + A9P[3];break;case 152:r6R=(A9P[1] + A9P[3]) * A9P[4] - A9P[0] - A9P[2];break;case 70:r6R=A9P[1] / A9P[0] + A9P[2] - A9P[3];break;case 122:r6R=-A9P[3] - A9P[0] + A9P[2] + A9P[1];break;case 34:r6R=A9P[4] * A9P[1] - A9P[3] + A9P[2] - A9P[0];break;case 37:r6R=(A9P[4] | A9P[0]) * A9P[1] - A9P[2] - A9P[3];break;case 8:r6R=A9P[0] - A9P[1] + A9P[2];break;case 62:r6R=-A9P[2] / A9P[4] + A9P[0] - A9P[1] + A9P[3];break;case 98:r6R=(-A9P[4] - A9P[0] + A9P[3]) / A9P[1] + A9P[2];break;case 114:r6R=A9P[1] / A9P[2] * A9P[3] + A9P[0];break;case 146:r6R=(-A9P[2] + A9P[0] - A9P[1]) / A9P[4] + A9P[3];break;case 142:r6R=A9P[2] * (A9P[0] / A9P[3] - A9P[1]);break;case 107:r6R=A9P[0] + A9P[1] + A9P[2] + A9P[3];break;case 174:r6R=(-A9P[3] + A9P[1]) / A9P[4] / A9P[0] - A9P[2];break;case 50:r6R=(A9P[1] * A9P[3] + A9P[2]) * A9P[4] - A9P[0];break;case 35:r6R=A9P[0] * A9P[2] < +A9P[1];break;case 60:r6R=A9P[0] < A9P[1];break;case 138:r6R=A9P[0] - (A9P[1] ^ A9P[2]);break;case 153:r6R=A9P[4] / A9P[3] * A9P[0] * A9P[2] - A9P[1];break;case 125:r6R=(A9P[2] + A9P[4]) * A9P[1] / A9P[3] + A9P[0];break;case 117:r6R=(A9P[1] + A9P[0]) * A9P[2];break;case 53:r6R=(A9P[4] - A9P[3]) / (A9P[5] - A9P[2]) > A9P[0] * A9P[1];break;case 119:r6R=(A9P[0] - A9P[3]) / A9P[1] * A9P[4] + A9P[2];break;case 179:r6R=A9P[0] == A9P[1];break;case 124:r6R=A9P[2] / A9P[1] / A9P[0] + A9P[3];break;case 31:r6R=(-A9P[1] - A9P[4]) * A9P[0] + A9P[2] + A9P[3];break;case 46:r6R=A9P[2] - A9P[0] - A9P[1];break;case 134:r6R=A9P[3] * A9P[1] / (A9P[0] + A9P[2]);break;case 63:r6R=(A9P[4] + A9P[1] - A9P[2]) * A9P[0] + A9P[3];break;case 19:r6R=A9P[3] * A9P[2] + A9P[0] - A9P[1];break;case 171:r6R=A9P[0] * -A9P[1];break;case 26:r6R=(A9P[0] + A9P[1]) * A9P[3] - A9P[2];break;case 83:r6R=A9P[1] + +A9P[0];break;case 21:r6R=A9P[0] + A9P[1] * A9P[2];break;case 24:r6R=A9P[0] - (A9P[2] - A9P[1]);break;case 159:r6R=A9P[2] * (A9P[0] + A9P[1]);break;case 167:r6R=-A9P[3] / A9P[2] + A9P[0] - A9P[1];break;case 68:r6R=(A9P[1] - A9P[3] + A9P[2]) / A9P[4] + A9P[0];break;case 161:r6R=A9P[3] / A9P[1] / A9P[2] * A9P[0] + A9P[4];break;case 106:r6R=(A9P[3] * A9P[0] + A9P[2]) / A9P[1] - A9P[4];break;case 103:r6R=(A9P[1] - A9P[2] - A9P[4]) / A9P[0] + A9P[3];break;case 108:r6R=A9P[0] / A9P[3] - A9P[1] + A9P[2];break;case 92:r6R=(A9P[3] + A9P[2] * A9P[0]) / (A9P[1] ^ A9P[4]);break;case 182:r6R=-A9P[3] * A9P[2] / A9P[0] * A9P[1] + A9P[4];break;case 85:r6R=(A9P[1] ^ A9P[2]) / A9P[3] * A9P[0];break;case 29:r6R=(A9P[2] - A9P[1]) / A9P[4] + A9P[3] - A9P[0];break;case 158:r6R=A9P[0] > A9P[1];break;case 2:r6R=A9P[0] + A9P[1];break;case 99:r6R=(A9P[3] + A9P[4]) / A9P[0] / A9P[2] - A9P[1];break;case 113:r6R=-A9P[2] * A9P[1] + A9P[3] + A9P[0];break;case 9:r6R=A9P[1] - A9P[3] + A9P[2] + A9P[0];break;case 72:r6R=(A9P[0] + A9P[2] + A9P[4]) / A9P[3] - A9P[1];break;case 137:r6R=-A9P[1] * A9P[3] / A9P[2] + A9P[0];break;case 147:r6R=-A9P[0] * A9P[2] * A9P[1] + A9P[3];break;case 73:r6R=-A9P[0] - A9P[1] + A9P[2];break;case 172:r6R=(A9P[3] - A9P[1]) * A9P[0] * A9P[4] - A9P[2];break;case 87:r6R=A9P[0] * A9P[2] / A9P[3] / A9P[4] - A9P[1];break;case 111:r6R=A9P[0] + A9P[2] - A9P[1] + A9P[3];break;case 25:r6R=(A9P[0] - A9P[1]) / A9P[2];break;case 11:r6R=A9P[0] / A9P[1];break;case 102:r6R=A9P[0] - A9P[2] - +A9P[1];break;case 28:r6R=A9P[3] / A9P[0] * A9P[1] - A9P[2];break;case 128:r6R=(A9P[1] * A9P[2] - A9P[3]) / A9P[4] + A9P[0];break;case 170:r6R=(A9P[2] + A9P[1]) * A9P[4] + A9P[0] - A9P[3];break;case 135:r6R=A9P[2] * A9P[1] * A9P[0];break;case 145:r6R=(A9P[0] / A9P[1] + A9P[3]) * A9P[4] - A9P[2];break;case 131:r6R=A9P[0] + A9P[1] - A9P[3] - A9P[4] - A9P[2];break;case 30:r6R=A9P[0] * A9P[2] - A9P[1];break;case 4:r6R=A9P[1] + A9P[0] - A9P[2];break;case 58:r6R=A9P[0] + A9P[3] + A9P[2] - A9P[1];break;case 178:r6R=-A9P[2] + A9P[1] - A9P[0];break;case 175:r6R=A9P[0] - A9P[1] * (A9P[4] << A9P[3]) - A9P[2];break;case 40:r6R=A9P[4] + A9P[0] - A9P[2] + A9P[1] - A9P[3];break;case 184:r6R=(-A9P[0] * A9P[4] - A9P[1]) * A9P[3] + A9P[2];break;case 32:r6R=A9P[3] / A9P[1] / A9P[0] - A9P[2];break;case 20:r6R=A9P[1] * A9P[0];break;case 43:r6R=A9P[2] * A9P[3] / A9P[1] + A9P[0] - A9P[4];break;case 47:r6R=A9P[2] - A9P[1] / A9P[0];break;case 39:r6R=(A9P[2] + A9P[1]) / +A9P[0];break;case 66:r6R=A9P[3] * A9P[2] / A9P[1] + A9P[0];break;case 140:r6R=(A9P[1] + A9P[2] + A9P[0]) * A9P[3] - A9P[4];break;case 164:r6R=(A9P[1] / A9P[0] + A9P[2]) / A9P[3] + A9P[4];break;case 133:r6R=-A9P[3] - A9P[1] - A9P[0] - A9P[4] + A9P[2];break;case 132:r6R=-A9P[2] / A9P[1] + A9P[0];break;case 149:r6R=(A9P[2] + A9P[4]) * A9P[0] / A9P[1] - A9P[3];break;case 130:r6R=A9P[4] * A9P[3] + A9P[1] - A9P[2] - A9P[0];break;case 96:r6R=(-A9P[2] - A9P[1] + A9P[0]) * A9P[4] + A9P[3];break;case 183:r6R=A9P[3] + (A9P[2] / A9P[1] - A9P[0] / A9P[4]);break;case 54:r6R=A9P[3] * A9P[2] * A9P[0] * A9P[4] - A9P[1];break;case 169:r6R=A9P[4] * A9P[3] * A9P[1] - A9P[0] - A9P[2];break;case 51:r6R=(A9P[2] - A9P[0]) * A9P[1] - A9P[3];break;case 48:r6R=A9P[1] + A9P[0] / +A9P[2];break;case 23:r6R=A9P[3] / A9P[1] / A9P[4] - A9P[2] + A9P[0];break;case 76:r6R=A9P[3] - A9P[0] * (A9P[1] - A9P[2]);break;case 80:r6R=(A9P[2] * A9P[6] - A9P[0] * A9P[3]) / (A9P[5] * A9P[1] - A9P[4]);break;case 61:r6R=(A9P[3] - A9P[1]) / (A9P[2] - A9P[0]);break;case 27:r6R=-A9P[0] * A9P[2] + A9P[1];break;case 109:r6R=(A9P[2] + A9P[1]) * A9P[4] * A9P[0] - A9P[3];break;case 16:r6R=A9P[1] * A9P[3] * A9P[0] - A9P[2];break;case 82:r6R=A9P[0] * A9P[1] + A9P[2];break;case 45:r6R=(-A9P[1] - A9P[3]) * A9P[0] + A9P[2];break;case 42:r6R=-A9P[1] + A9P[2] - A9P[3] + A9P[0];break;case 141:r6R=-A9P[2] * A9P[3] / A9P[1] + A9P[4] + A9P[0];break;case 115:r6R=A9P[4] / A9P[2] - A9P[1] + A9P[0] + A9P[3];break;case 84:r6R=A9P[2] / (A9P[3] * A9P[0] * A9P[1]);break;case 116:r6R=(A9P[2] - A9P[0]) / A9P[4] * A9P[3] - A9P[1];break;case 57:r6R=(A9P[2] + A9P[1]) / A9P[3] + A9P[0];break;case 56:r6R=A9P[2] + A9P[1] + A9P[0];break;case 144:r6R=A9P[0] + A9P[2] - A9P[1] - A9P[3] + A9P[4];break;case 90:r6R=A9P[2] - A9P[3] / (A9P[1] - A9P[0]);break;case 100:r6R=A9P[7] + A9P[6] + A9P[3] + A9P[2] + A9P[4] + A9P[1] + A9P[5] + A9P[0];break;case 123:r6R=A9P[0] - (A9P[2] >> A9P[1]);break;case 94:r6R=A9P[1] * A9P[2] / A9P[0];break;case 81:r6R=(A9P[3] - A9P[0] * A9P[1]) / A9P[2];break;case 136:r6R=-A9P[4] / A9P[2] / A9P[1] / A9P[0] + A9P[3];break;case 120:r6R=A9P[0] * A9P[3] * A9P[1] + (A9P[5] - A9P[6] * A9P[2]) * A9P[4];break;case 101:r6R=A9P[4] / A9P[0] / A9P[3] * A9P[1] - A9P[2];break;case 88:r6R=A9P[3] / A9P[0] + A9P[1] + A9P[2] - A9P[4];break;case 36:r6R=A9P[1] + (A9P[0] - A9P[2]);break;case 181:r6R=+A9P[2] * A9P[3] / (A9P[0] + A9P[1]);break;case 162:r6R=(A9P[1] + A9P[4]) / A9P[0] - A9P[3] + A9P[2];break;case 33:r6R=(A9P[2] - A9P[1]) * A9P[3] + A9P[0];break;case 49:r6R=A9P[0] + A9P[2] / A9P[1];break;case 180:r6R=A9P[3] + A9P[0] / (A9P[4] - A9P[1]) + A9P[2];break;case 166:r6R=A9P[1] - +A9P[0];break;case 65:r6R=A9P[3] - A9P[2] + A9P[1] - A9P[0];break;case 12:r6R=A9P[4] + A9P[3] + A9P[1] - A9P[2] - A9P[0];break;case 150:r6R=A9P[0] / A9P[1] + A9P[4] + A9P[3] + A9P[2];break;case 157:r6R=A9P[4] * A9P[1] / A9P[3] - A9P[2] - A9P[0];break;case 93:r6R=(A9P[2] + A9P[0] * A9P[1]) / A9P[3];break;case 173:r6R=(A9P[1] - A9P[2]) / A9P[0] / A9P[4] + A9P[3];break;case 7:r6R=A9P[0] >> A9P[1];break;case 105:r6R=A9P[2] - A9P[4] + A9P[3] - A9P[1] - A9P[0];break;case 38:r6R=A9P[0] * A9P[2] - A9P[3] - A9P[1];break;case 121:r6R=-A9P[0] - A9P[3] - A9P[1] + A9P[2];break;case 75:r6R=A9P[2] + (A9P[1] - A9P[3]) / A9P[0];break;case 22:r6R=A9P[1] - A9P[0] * A9P[2];break;case 78:r6R=A9P[1] * (A9P[0] + A9P[3]) / +A9P[2];break;case 69:r6R=(A9P[4] - A9P[2]) / (A9P[3] - A9P[1]) > A9P[0];break;case 89:r6R=A9P[1] - A9P[2] / +A9P[0];break;case 55:r6R=-A9P[0] + A9P[2] + A9P[1];break;case 143:r6R=A9P[2] + A9P[0] * (A9P[3] - A9P[1]);break;case 17:r6R=A9P[0] | A9P[1];break;case 177:r6R=A9P[0] - A9P[3] * A9P[2] - A9P[1];break;case 59:r6R=+A9P[0] * A9P[2] - A9P[1];break;case 15:r6R=(A9P[4] + A9P[1] + A9P[2] + A9P[0]) / A9P[3];break;case 14:r6R=-A9P[1] / A9P[3] * A9P[2] + A9P[0];break;case 118:r6R=A9P[2] * A9P[1] / A9P[0] * A9P[4] + A9P[3];break;case 155:r6R=(A9P[0] % A9P[2] + A9P[1]) * A9P[3];break;case 86:r6R=(-A9P[0] * A9P[1] - A9P[4]) / A9P[3] + A9P[2];break;case 163:r6R=(A9P[0] + A9P[4]) / A9P[3] / A9P[1] + A9P[2];break;case 1:r6R=A9P[1] / A9P[0] - A9P[2];break;case 151:r6R=(A9P[4] + A9P[1] - A9P[3]) * A9P[0] - A9P[2];break;case 71:r6R=(A9P[0] - A9P[4]) * (A9P[2] - A9P[6]) / (A9P[1] - A9P[3]) + A9P[5];break;case 91:r6R=(A9P[3] * A9P[1] + A9P[0]) / A9P[2];break;}return r6R;},c$xn8vO:function(g8k){v$L=g8k;}};})();e9J1I.C0r=function(){return typeof e9J1I[132287].D_GtrYX === 'function'?e9J1I[132287].D_GtrYX.apply(e9J1I[132287],arguments):e9J1I[132287].D_GtrYX;};e9J1I[606394]=e9J1I[356878];function e9J1I(){}e9J1I[566912]=false;var G,g,F,Z,N,o,S,I,U,W,X,Q,E,Y,f8,h5,c8,c5,b3,F1,F9,H_,Y_,y7,d9,q9,c6,E0,F6,k6,P6,N5,P9,L2,r7,U2,D4,h$,j4,n_,D6,C5,y_,m4,X6,q7,i1,M5,H2,S4,E5,r$,I4,O5,l3,x_,T$,Q7,M0,V0,O9,I_,J$,M2,T0,K6,w7,N9,y6,m0;import {CIQ as G_, SplinePlotter as a6, timezoneJS as k2, $$ as N1, $$$ as Y0} from "../js/standard.js";e9J1I.d$I();G=i3=>{var q8R=e9J1I;var c7;c7=typeof _CIQ !== "undefined"?_CIQ:i3.CIQ;c7.Renderer.Aggregations=function(M7){var n0;this.construct(M7);q8R.R7g();n0=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!![];this.isAggregation=!!({});n0.highlightable=!!"";if(n0.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");n0.invalid=!![];}};function u6(W_){q8R.R7g();return W_ > 0.001?Number(W_.toFixed(4)):W_;}c7.inheritsFrom(c7.Renderer.Aggregations,c7.Renderer.OHLC,!!0);c7.Renderer.Aggregations.requestNew=function(Q3,s9){var f4S,Q2,x2_,j7x,j$,J6;f4S="ca";q8R.d$I();f4S+="n";f4S+="dle";Q2=null;for(var o1="0" << 0;o1 < Q3.length;o1++){x2_="rang";x2_+="eb";x2_+="ars";j7x="k";j7x+="a";j7x+="g";j7x+="i";j$=Q3[o1];switch(j$){case j7x:case "pandf":Q2=j$;break;case "heikinashi":case "linebreak":case x2_:case "renko":Q2="candle";break;default:return null;}}if(Q2 === null){return null;}J6=new c7.Renderer[Q2 == f4S?"OHLC":"Aggregations"]({params:c7.extend(s9,{type:Q2})});J6.isAggregation=!![];return J6;};c7.Renderer.Aggregations.prototype.drawIndividualSeries=function(M4,U_){q8R.R7g();var o_T,U$,Y9,c0C,n97;o_T="k";o_T+="a";o_T+="g";o_T+="i";if(U_.invalid){return;}U$=this.stx;Y9={colors:[]};if(U_.type == o_T){c0C="stx";c0C+="_k";c0C+="agi_dow";c0C+="n";U$.drawKagiSquareWave(M4.panel,"stx_kagi_up","stx_kagi_down",U_);Y9.colors.push(U$.getCanvasColor("stx_kagi_up"));Y9.colors.push(U$.getCanvasColor(c0C));}else if(U_.type == "pandf"){n97="st";n97+="x_";n97+="pandf";n97+="_down";U$.drawPointFigureChart(M4.panel,"stx_pandf_up",(621.95,"2924" << 0) === (9912,218)?(971.07,"4340" * 1) == 3340?"t":(249.20,0xbfb):"X",U_);Y9.colors.push(U$.getCanvasColor("stx_pandf_up"));U$.drawPointFigureChart(M4.panel,n97,6660 !== (365.44,1740)?"O":0xd21,U_);Y9.colors.push(U$.getCanvasColor("stx_pandf_down"));}return Y9;};c7.ChartEngine.prototype.setAggregationType=function(I3){var p6;this.layout.chartType="candle";p6=this.chart;if(p6.baseline.userLevel !== !({})){p6.baseline.userLevel=p6.baseline.defaultLevel;p6.panel.yAxis.scroll=c7.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=I3;this.setMainSeriesRenderer();if(p6.canvas){this.createDataSet();this.draw();}q8R.d$I();this.changeOccurred("layout");};c7.ChartEngine.prototype.drawKagiSquareWave=function(H8,Z0,n1,s8){q8R.R7g();var O_,I7,A4,U4,i6,m8,R0,Q1,C7,j_,k8,R2,s_,f7,S$,v6,I2,p4,a8,K8,U5;O_=H8.chart;this.startClip(H8.name);I7=O_.dataSegment;A4=O_.context;U4=H8.yAxis;if(U4.flipped){i6=Z0;Z0=n1;n1=i6;}m8=this.canvasStyle(Z0);R0=this.canvasStyle(n1);this.canvasColor(Z0);if(s8.border_color_up){A4.strokeStyle=s8.border_color_up;}Q1=A4.strokeStyle;this.canvasColor(n1);if(s8.border_color_down){A4.strokeStyle=s8.border_color_down;}C7=A4.strokeStyle;j_=1;if(m8.width && parseInt(m8.width,"10" | 0) <= 25){j_=Math.max(1,c7.stripPX(m8.width));}q8R.l13(0);k8=q8R.C0r(64,"1");if(R0.width && parseInt(R0.width,10) <= 25){k8=Math.max(1,c7.stripPX(R0.width));}if(this.highlightedDraggable){A4.globalAlpha*=0.3;}A4.beginPath();q8R.l13(1);var T8S=q8R.C0r(3,3,0);R2=O_.dataSet.length - O_.scroll - T8S;s_=!!({});f7=null;S$=null;v6=null;I2=H8.left - 0.5 * this.layout.candleWidth + this.micropixels - +"1";for(var h6=0;h6 <= I7.length;h6++){I2+=this.layout.candleWidth;p4=I7[h6];if(!p4)continue;if(!p4.cache || O_.pixelCacheExpired){p4.cache={};}if(p4.projection)break;v6=p4.kagiTrend;if(U4.flipped){v6*=-1;}if(p4.transform && O_.transformFunc){a8=p4.kagiPrevOpen;p4=p4.transform;p4.kagiPrevOpen=O_.transformFunc(this,O_,a8);}K8=p4.cache;q8R.x49(2);U5=q8R.O_1(R2,h6);if(U5 < H8.cacheLeft || U5 > H8.cacheRight || !K8.kagiOpen){K8.kagiOpen=U4.semiLog?U4.height * ("1" - 0 - (Math.log(Math.max(p4.Open,"0" >> 0)) / Math.LN10 - U4.logLow) / U4.logShadow):(U4.high - p4.Open) * U4.multiplier;K8.kagiClose=U4.semiLog?U4.height * (1 - (Math.log(Math.max(p4.Close,0)) / Math.LN10 - U4.logLow) / U4.logShadow):(U4.high - p4.Close) * U4.multiplier;if(U4.flipped){K8.kagiOpen=U4.bottom - K8.kagiOpen;K8.kagiClose=U4.bottom - K8.kagiClose;}else {K8.kagiOpen+=U4.top;K8.kagiClose+=U4.top;}}S$=K8.kagiClose;f7=U4.semiLog?U4.height * ("1" - 0 - (Math.log(Math.max(p4.kagiPrevOpen,0)) / Math.LN10 - U4.logLow) / U4.logShadow):(U4.high - p4.kagiPrevOpen) * U4.multiplier;if(U4.flipped){f7=U4.bottom - f7;}else {f7+=U4.top;}if(s_){A4.moveTo(R2 >= "0" >> 64?H8.left:Math.floor(I2),K8.kagiOpen);A4.lineTo(Math.floor(I2),K8.kagiOpen);if(K8.kagiClose < K8.kagiOpen){A4.strokeStyle=Q1;A4.lineWidth=j_;}else {A4.strokeStyle=C7;A4.lineWidth=k8;}}else {if(v6 != -1 && K8.kagiClose < f7 && f7 < K8.kagiOpen){A4.lineTo(Math.floor(I2),f7);A4.stroke();A4.beginPath();A4.moveTo(Math.floor(I2),f7);A4.strokeStyle=Q1;A4.lineWidth=j_;}else if(v6 != 1 && K8.kagiClose > f7 && f7 > K8.kagiOpen){A4.lineTo(Math.floor(I2),f7);A4.stroke();A4.beginPath();A4.moveTo(Math.floor(I2),f7);A4.strokeStyle=C7;A4.lineWidth=k8;}}A4.lineTo(Math.floor(I2),K8.kagiClose);if(h6 + 1 < I7.length){A4.lineTo(Math.floor(I2 + this.layout.candleWidth),K8.kagiClose);}s_=!!0;}A4.stroke();this.endClip();A4.lineWidth=1;O_.pixelCacheExpired=!({});};c7.ChartEngine.prototype.drawPointFigureChart=function(A$,y3,N3,V$){var U1,V7,u9,T_,u7,A_,v$,i4,z_,h4,H4,x7,Y7,j2,Z$,d$,n$,Y6,G5,e4,B0,X_,N8,l5,g5,f_;U1=A$.chart;this.startClip(A$.name);V7=U1.dataSegment;u9=U1.context;this.canvasColor(y3);if(N3 == ("440" << 0 > ("645.12" * 1,"2520" << 64)?6307 == +"6121"?(0x713,0xfec):(615,507) < +"2870"?(4.82e+3,898.81):(!"1",369.19):"X") && V$.border_color_up){u9.strokeStyle=V$.border_color_up;}else if(N3 == "O" && V$.border_color_down){u9.strokeStyle=V$.border_color_down;}T_=this.canvasStyle(y3);u7=parseInt(T_.paddingTop,10);A_=parseInt(T_.paddingBottom,"10" ^ 0);v$=parseInt(T_.paddingLeft,10);i4=parseInt(T_.paddingRight,10);function t$(I$,R4,u1){q8R.l13(3);u9.moveTo(q8R.C0r(R4,I$,2),q8R.O_1(u7,u1,Z$,q8R.x49(4)));q8R.l13(2);q8R.d$I();u9.bezierCurveTo(q8R.C0r(R4,i4),q8R.O_1(u7,u1,Z$,q8R.x49(4)),q8R.O_1(R4,i4,q8R.x49(2)),q8R.C0r(A_,Z$,u1,j2,q8R.l13(5)),q8R.C0r(R4,I$,2,q8R.l13(3)),q8R.C0r(A_,Z$,u1,j2,q8R.x49(5)));q8R.l13(6);u9.bezierCurveTo(q8R.C0r(I$,v$),q8R.C0r(A_,Z$,u1,j2,q8R.l13(5)),q8R.O_1(I$,v$,q8R.l13(6)),q8R.C0r(u7,u1,Z$,q8R.x49(4)),q8R.O_1(R4,I$,2,q8R.l13(3)),q8R.O_1(u7,u1,Z$,q8R.x49(4)));}if(T_.width && parseInt(T_.width,10) <= 25){u9.lineWidth=Math.max(1,c7.stripPX(T_.width));}else {q8R.l13(7);u9.lineWidth=q8R.C0r("2",64);}function X3(o8,n9,l2){q8R.x49(2);u9.moveTo(q8R.O_1(o8,v$),q8R.O_1(l2,A_,Z$,q8R.l13(8)));q8R.x49(6);q8R.d$I();u9.lineTo(q8R.O_1(n9,i4),q8R.O_1(Z$,l2,u7,j2,q8R.l13(9)));q8R.x49(2);u9.moveTo(q8R.C0r(o8,v$),q8R.C0r(Z$,l2,u7,j2,q8R.x49(9)));q8R.l13(6);u9.lineTo(q8R.O_1(n9,i4),q8R.C0r(l2,A_,Z$,q8R.x49(8)));}if(this.highlightedDraggable){u9.globalAlpha*=0.3;}u9.beginPath();z_=this.chart.state.aggregation.box;q8R.x49(10);var M_o=q8R.C0r(0,1,7,14);h4=U1.dataSet.length - U1.scroll - M_o;H4=A$.yAxis;j2=z_ * H4.multiplier;q8R.x49(11);Z$=q8R.O_1(j2,2);d$=this.layout.candleWidth;q8R.x49(12);var N5p=q8R.C0r(28,19,20,16,14);n$=A$.left - d$ + this.micropixels - N5p;for(var h3=0;h3 < V7.length;h3++){n$+=d$;Y6=V7[h3];if(!Y6)continue;if(!Y6.cache || U1.pixelCacheExpired){Y6.cache={};}if(Y6.projection)break;G5=Y6.pfOpen;e4=Y6.pfClose;B0=Y6.pfTrend;X_=Y6.pfStepBack;if(Y6.transform && U1.transformFunc){Y6=Y6.transform;G5=U1.transformFunc(this,U1,G5);e4=U1.transformFunc(this,U1,e4);}N8=Y6.cache;q8R.x49(2);l5=q8R.O_1(h4,h3);if(l5 < A$.cacheLeft || l5 > A$.cacheRight || !N8.pfOpen){if(H4.flipped){N8.pfOpen=H4.bottom - (H4.high - G5) * H4.multiplier;N8.pfClose=H4.bottom - (H4.high - e4) * H4.multiplier;}else {N8.pfOpen=(H4.high - G5) * H4.multiplier + H4.top;N8.pfClose=(H4.high - e4) * H4.multiplier + H4.top;}}g5=Math.round(n$);q8R.l13(2);f_=Math.round(q8R.C0r(n$,d$));x7=Math.abs(Math.round((e4 - G5) / z_));Y7=N8.pfOpen;if(N3 == X_){if(X_ == "X"){q8R.l13(6);X3(g5,f_,q8R.O_1(Y7,j2));}else if(X_ == (175.17 > (+"4157",5510)?!!0:"O")){q8R.x49(2);t$(g5,f_,q8R.C0r(Y7,j2));}}if(N3 == B0){for(;x7 >= "0" - 0;x7--){if(N3 == ((457,288.33) != 7418?(+"810.89",843.89) == 3990?+"6461" >= ("534" | 2,4970)?(+"124.73",4.25e+3):(673.84,3.27e+3):"X":565.24)){X3(g5,f_,Y7);Y7-=H4.flipped?-j2:j2;}else if(N3 == (2931 >= (2760,237.53)?321.25 >= 9684?(854.30,"g"):"O":"L")){t$(g5,f_,Y7);Y7+=H4.flipped?-j2:j2;}}}}u9.stroke();this.endClip();u9.lineWidth=1;U1.pixelCacheExpired=!1;};c7.ChartEngine.calculateAggregation=function(W7,e2,r8,V6){var W7y,O4h,f7a,n2,H0;W7y="r";W7y+="e";W7y+="nko";O4h="k";O4h+="agi";f7a="he";f7a+="i";f7a+="k";f7a+="inashi";H0=W7.layout;if([f7a,"heikenashi"].indexOf(e2) > -1){n2=c7.calculateHeikinAshi(W7,r8,V6);}else if(e2 == "rangebars"){n2=c7.calculateRangeBars(W7,r8,H0.rangebars,V6);}else if(e2 == O4h){n2=c7.calculateKagi(W7,r8,H0.kagi,V6);}else if(e2 == "linebreak"){n2=c7.calculateLineBreak(W7,r8,H0.priceLines,V6);}else if(e2 == W7y){n2=c7.calculateRenkoBars(W7,r8,H0.renko,V6);}else if(e2 == "pandf"){n2=c7.calculatePointFigure(W7,r8,H0.pandf,V6);}return n2;};c7.calculateHeikinAshi=function(g9,u5,t9){q8R.d$I();var b4,r2,i2,V3,N2,x6,p7,D9,L$,E4,s5;if(!u5.length){return u5;}if(!t9){t9=[];}b4=[];for(var G3=0;G3 < u5.length;G3++){r2=u5[G3];if(!r2)continue;q8R.l13(13);var g14=q8R.O_1(10,11);i2=b4[b4.length - g14];if(!i2 && !G3){q8R.x49(14);var g9w=q8R.C0r(134,19,7,1);i2=t9[t9.length - g9w];}if(!i2){i2=r2;}V3=r2.Close;N2=r2.Open;x6=r2.High;p7=r2.Low;D9=i2.Open;if(!V3 && V3 !== +"0")continue;N2=N2 || N2 === 0?N2:V3;x6=x6 || x6 === 0?x6:V3;p7=p7 || p7 === 0?p7:V3;D9=D9 || D9 === 0?D9:i2.Close;q8R.x49(4);var v7H=q8R.C0r(2,14,14);L$=(D9 + i2.Close) / v7H;q8R.l13(15);E4=q8R.O_1(V3,x6,p7,4,N2);s5={DT:r2.DT,displayDate:r2.displayDate,Date:r2.Date,Open:L$,Close:E4,High:Math.max(x6,Math.max(L$,E4)),Low:Math.min(p7,Math.min(L$,E4)),Volume:r2.Volume,iqPrevClose:i2.Close};for(var u$ in r2){if(!s5[u$] && s5[u$] !== 0){s5[u$]=r2[u$];}}b4.push(s5);}return b4;};c7.calculateKagi=function(K3,W0,Z4,F4){var X2,b$,W5S,f7E,q2V,y$,D8,u4,K2,B2,P4;if(!W0.length){return W0;}if(!F4){F4=[];}X2=K3.layout;b$=K3.chart;Z4=parseFloat(Z4);b$.defaultChartStyleConfig.kagi=c7.ChartEngine.isDailyInterval(X2.interval)?4:0.4;if(isNaN(Z4) || Z4 <= 0){Z4=b$.defaultChartStyleConfig.kagi;if(c7.Market.Symbology.isForexSymbol(b$.symbol)){Z4/=4;}if(X2.kagi !== null){X2.kagi=null;W5S=-288322642;f7E=-+"1930056663";q2V=2;for(var n1H=1;q8R.D29(n1H.toString(),n1H.toString().length,+"5448") !== W5S;n1H++){K3.changeOccurred("layout");q2V+=2;}if(q8R.c2O(q2V.toString(),q2V.toString().length,54631) !== f7E){K3.changeOccurred("");}}}Z4/=100;y$=[];q8R.l13(6);var J50=q8R.C0r(3,2);D8=F4[F4.length - J50];u4=D8?D8.DT:0;for(var j6=0;j6 < W0.length;j6++){K2=W0[j6];if(!K2 || !K2.Close && K2.Close !== 0)continue;if(!D8){D8=K2;continue;}B2=D8.Open || D8.Open === "0" << 64?D8.Open:D8.Close;if(B2 > D8.Close){if(K2.Close > D8.Close * (1 + Z4)){K2.Open=D8.Close;}else {if(D8.Close > K2.Close){D8.Close=K2.Close;}D8.Volume+=K2.Volume;if(j6 < W0.length - 1)continue;}}else if(B2 < D8.Close){if(K2.Close < D8.Close * (1 - Z4)){K2.Open=D8.Close;}else {if(D8.Close < K2.Close){D8.Close=K2.Close;}D8.Volume+=K2.Volume;if(j6 < W0.length - 1)continue;}}else {D8.Close=K2.Close;D8.Volume+=K2.Volume;if(j6 < W0.length - 1)continue;}P4={DT:D8.DT,displayDate:D8.displayDate,Date:D8.Date,Open:D8.Open,Close:D8.Close,High:Math.max(D8.Open,D8.Close),Low:Math.min(D8.Open,D8.Close),Volume:D8.Volume,iqPrevClose:D8.iqPrevClose};for(var L4 in D8){if(!P4[L4] && P4[L4] !== 0){P4[L4]=D8[L4];}}if(y$.length){P4.kagiPrevOpen=y$[y$.length - 1].Open;}else {P4.kagiPrevOpen=P4.Open;}if(P4.Close > P4.kagiPrevOpen && P4.kagiPrevOpen > P4.Open){P4.kagiTrend=1;}else if(P4.Close < P4.kagiPrevOpen && P4.kagiPrevOpen < P4.Open){P4.kagiTrend=-1;}if(u4 < P4.DT){y$.push(P4);}D8=K2;b$.currentQuote={Close:K2.Close};}return y$;};q8R.R7g();c7.calculateLineBreak=function(r_,E3,L6,U0){var l0,Y4,V1t,w9,n8,b_,I9,R5,O8,r3,w6,d3,D_,b8,R1;if(!E3.length){return E3;}if(!U0){U0=[];}l0=r_.layout;Y4=r_.chart;q8R.x49(7);Y4.defaultChartStyleConfig.priceLines=q8R.C0r("3",32);L6=parseInt(L6,10);if(isNaN(L6) || L6 <= 0){L6=Y4.defaultChartStyleConfig.priceLines;if(l0.priceLines !== null){V1t="l";V1t+="ayou";V1t+="t";l0.priceLines=null;r_.changeOccurred(V1t);}}else if(L6 > +"10"){l0.priceLines=L6=10;}w9=U0.slice(-L6);n8=w9.length;b_=+"0";a:for(var C0=0;C0 < E3.length;C0++){I9=E3[C0];if(!I9)continue;if(!I9.Close && I9.Close !== 0)continue;b_+=I9.Volume;q8R.x49(16);var o_r=q8R.C0r(3,10,269,9);R5=w9[w9.length - o_r];if(!R5){R5={Open:I9.Open,Close:I9.Open,High:I9.Open,Low:I9.Open};}O8=R5.Close;r3=R5.High;w6=R5.Low;d3=R5.Open;r3=r3 || r3 === 0?r3:O8;w6=w6 || w6 === +"0"?w6:O8;d3=d3 || d3 === 0?d3:O8;D_={DT:I9.DT,displayDate:I9.displayDate,Date:I9.Date,Close:I9.Close,Volume:b_,iqPrevClose:O8};Y4.currentQuote={Close:I9.Close};if(I9.Close > O8 && R5.Close > d3){;}else if(I9.Close < O8 && R5.Close < d3){;}else if(I9.Close > r3){for(b8=2;b8 <= L6;b8++){R1=w9[w9.length - b8];if(R1 && I9.Close <= R1.High){continue a;}}}else if(I9.Close < w6){for(b8=2;b8 <= L6;b8++){R1=w9[w9.length - b8];if(R1 && I9.Close >= R1.Low){continue a;}}}else continue;if(I9.Close < R5.Close){D_.Open=Math.min(d3,O8);}else {D_.Open=Math.max(d3,O8);}D_.Low=Math.min(D_.Open,D_.Close);D_.High=Math.max(D_.Open,D_.Close);for(var p8 in I9){if(!D_[p8] && D_[p8] !== +"0"){D_[p8]=I9[p8];}}w9.push(D_);q8R.l13(17);b_=q8R.C0r("0",0);}return w9.slice(n8);};c7.getMaxRenkoBarsPerRecord=function(o_){return 200;};c7.calculateRenkoBars=function(f6,V9,L0,a0,h9){var C9,g3,C3,q3,f9,e$,Z2,q4,B6,S7,f4,j5,S_,V_,q6,q_,R_,v5,N$,A6,s4,v_,d8,j0,J_,u0;if(!V9.length){return [];}if(!a0){a0=[];}C9=f6.layout;g3=f6.chart;C3=L0;q3=g3.state.aggregation;if(!q3){q3=g3.state.aggregation={};}f9=Math.min(300,V9.length);if(!q3.minMax){q3.minMax=f6.determineMinMax(V9.slice(V9.length - f9),["Close","High","Low"]);}e$=q3.minMax[+"1"] - q3.minMax[0];Z2=f6.panels[g3.name].height;if(!Z2){return [];}q4=a0.length > +"0";q8R.l13(18);B6=u6(q8R.O_1(Z2,30,e$));S7=c7.getMaxRenkoBarsPerRecord(g3.symbolObject);if(h9){f4=V9.reduce((P1,G6)=>{var G1;G1=Math.abs(G6.Close - G6.iqPrevClose);return G1 > P1?G1:P1;},0);q8R.x49(11);q3.minAutoRenko=u6(q8R.O_1(f4,S7));}g3.defaultChartStyleConfig.renko=q3.minAutoRenko || B6;if(L0 === null || isNaN(L0) || L0 <= 0){L0=g3.defaultChartStyleConfig.renko;if(C9.renko !== null){C9.renko=null;f6.changeOccurred("layout");}}else {q8R.x49(11);L0=Math.max(L0,q8R.O_1(e$,Z2));if(C9.renko !== L0){C9.renko=L0;f6.changeOccurred("layout");}}j5=[];function K1(W2,V8){var b6;W2=Number(W2.toFixed(8));V8=Number(V8.toFixed(8));b6={DT:q6.DT,displayDate:q6.displayDate,Date:q6.Date,Open:W2,Close:V8,High:Math.max(W2,V8),Low:Math.min(W2,V8),Volume:0,iqPrevClose:W2 != V8?W2:null};for(var O2 in q6){if(!b6[O2] && b6[O2] !== 0){b6[O2]=q6[O2];}}q8R.d$I();j5.push(b6);}S_=null;V_=null;q6=null;if(a0.length){q8R.x49(19);var b6t=q8R.O_1(7,17,11,1);q_=a0[a0.length - b6t];S_=q_.Low - L0;V_=q_.High + L0;}for(var v4="0" ^ 0;v4 < V9.length;v4++){R_=V9[v4];if(!R_ || !R_.Close && R_.Close !== +"0")continue;if(!S_ && !V_){v5=R_.Open || R_.Open === "0" >> 32?R_.Open:R_.Close;N$=Math.floor(v5 / L0) * L0;A6=isNaN(N$)?v5:N$;q8R.l13(6);S_=q8R.C0r(A6,L0);q8R.x49(2);V_=q8R.O_1(A6,L0);}q8R.l13(20);s4=q8R.O_1(S7,L0);v_=!C9.renko;d8=S_ - R_.Close;j0=R_.Close - V_;J_=d8 > s4 || j0 > s4;u0=v_ && J_ && !h9 && !q4;if(u0){return c7.calculateRenkoBars(f6,V9,C3,a0,!![]);}while(!!({})){if(!q6){q6=R_;}if(R_.Close <= S_){q8R.l13(2);K1(q8R.C0r(S_,L0),S_);q8R.x49(21);V_=q8R.C0r(S_,2,L0);S_-=L0;q6=null;}else if(R_.Close >= V_){q8R.x49(6);K1(q8R.O_1(V_,L0),V_);q8R.l13(22);S_=q8R.O_1(2,V_,L0);V_+=L0;q6=null;}else break;}g3.currentQuote=R_;}if(S_ < V9[V9.length - 1].Close && S_ + L0 > V9[V9.length - 1].Close){q8R.l13(2);K1(q8R.O_1(S_,L0),V9[V9.length - 1].Close);}else if(V_ > V9[V9.length - 1].Close && V_ - L0 < V9[V9.length - 1].Close){q8R.x49(6);K1(q8R.O_1(V_,L0),V9[V9.length - 1].Close);}return j5;};c7.calculateRangeBars=function(r5,e6,G0,z6){var S5r,G3x,I6,R8,a7,K$,J1,U6,J8,z8,a4,c3,n3,T7,x5,O3,p5,Q4,t6,v8,E9,T2;function Z_(Q8,m$){q8R.R7g();while("1" >> 32){if(!T7){T7=Q8;}if(z8 < m$){z8=Math.min(m$,a4);q8R.x49(6);c3=Math.max(c3,q8R.C0r(z8,G0));if(m$ < a4)break;}else if(z8 >= m$){z8=Math.max(m$,c3);q8R.x49(2);a4=Math.min(a4,q8R.C0r(z8,G0));if(m$ > c3)break;}if(typeof z8 == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}z3(z8);T7=null;z4();}}S5r="Hig";S5r+="h";function z3(i_){var Z6;q8R.d$I();Z6={DT:T7.DT,displayDate:T7.displayDate,Date:T7.Date,Open:Number(n3.toFixed(8)),Close:Number(i_.toFixed(8)),High:Number(a4.toFixed(8)),Low:Number(c3.toFixed(8)),Volume:0};Z6.iqPrevClose=Z6.Open;for(var L9 in T7){if(!Z6[L9] && Z6[L9] !== 0){Z6[L9]=T7[L9];}}J8.push(Z6);}G3x="C";G3x+="lo";G3x+="s";G3x+="e";if(!e6.length){return e6;}if(!z6){z6=[];}I6=r5.layout;R8=r5.chart;a7=R8.state.aggregation;function z4(){q8R.x49(2);q8R.R7g();a4=q8R.O_1(z8,G0);q8R.l13(6);c3=q8R.O_1(z8,G0);n3=z8;}if(!a7){a7=R8.state.aggregation={};}K$=Math.min(300,e6.length);if(!a7.minMax){a7.minMax=r5.determineMinMax(e6.slice(e6.length - K$),[G3x,S5r,"Low"]);}q8R.x49(6);var x86=q8R.C0r(13,12);J1=a7.minMax[x86] - a7.minMax[0];U6=r5.panels[R8.name].height;if(!U6){return [];}q8R.l13(18);R8.defaultChartStyleConfig.range=u6(q8R.O_1(U6,30,J1));if(G0 === null || isNaN(G0) || G0 < 0){G0=R8.defaultChartStyleConfig.range;if(I6.range !== null){I6.range=null;r5.changeOccurred("layout");}}else {q8R.l13(11);G0=Math.max(G0,q8R.O_1(J1,U6));if(I6.range !== G0){I6.range=G0;r5.changeOccurred("layout");}}J8=[];z8=null;a4=null;c3=null;n3=null;T7=null;for(var M9=0;M9 < e6.length;M9++){x5=e6[M9];if(!x5 || !x5.Close && x5.Close !== 0)continue;if(!M9){if(!O3){O3=z6[z6.length - ("1" - 0)];}if(O3){z8=O3.Close;if(z8 || z8 === 0){z4();}}}if(!O3){O3=x5;continue;}p5=x5.Close;Q4=x5.Open;t6=x5.High;v8=x5.Low;if(!p5 && p5 !== 0)continue;Q4=Q4 || Q4 === +"0"?Q4:p5;t6=t6 || t6 === 0?t6:p5;v8=v8 || v8 === 0?v8:p5;if(!z8 && z8 !== 0){E9=Math.floor(Q4 / G0) * G0;z8=isNaN(E9)?Q4:E9;z4();Z_(O3,Q4);}if(M9){Z_(x5,Q4);}if(t6 - Q4 < Q4 - v8){if(t6){Z_(x5,t6);}if(v8){Z_(x5,v8);}}else {if(v8){Z_(x5,v8);}if(t6){Z_(x5,t6);}}Z_(x5,p5);if(M9 == e6.length - 1 && p5 != n3){T2=a4;q8R.x49(2);a4=q8R.C0r(c3,G0);q8R.x49(6);c3=q8R.O_1(T2,G0);z3(p5);}}return J8;};c7.calculatePointFigure=function(D1,Q$,B4,v9){var n6,L_,h0,l8,P$,z1,l$,x3,r1w,F_$,y4c,w4,A9,J4,B7,K_,e0,J9,b5,F_,i7,N6;if(!Q$.length){return Q$;}if(!v9){v9=[];}n6=D1.layout;L_=D1.chart;h0=L_.state.aggregation;function g_(C6,w3){q8R.R7g();for(var p$ in C6){if(!w3[p$] && w3[p$] !== 0){w3[p$]=C6[p$];}}return w3;}function T8(X7,W3,o$,k4,l9,D3,E1,a5,Z3){q8R.d$I();return {DT:X7.DT,Date:X7.Date,pfOpen:a5,pfClose:Z3,Open:W3,Close:l9,High:o$,Low:k4,Volume:D3,iqPrevClose:E1};}if(!h0){h0=L_.state.aggregation={};}L_.defaultChartStyleConfig.box=1;L_.defaultChartStyleConfig.reversal=+"3";if(!B4){B4={};}function T3(t_,b7,A5,P2,P5){t_.High=Math.max(b7,t_.High);q8R.d$I();t_.Low=Math.min(A5,t_.Low);t_.Close=P2;t_.Volume+=P5;}l8=B4.box;if(!l8){if(n6.pandf){if(n6.pandf.box !== null){n6.pandf.box=null;D1.changeOccurred("layout");}}l8=L_.defaultChartStyleConfig.box;P$=Q$[Q$.length - 1].Close;if(P$){if(P$ < 0.25){l8=0.0625;}else if(P$ < 1){l8=0.125;}else if(P$ < 5){l8=0.25;}else if(P$ < ("20" ^ 0)){l8=0.5;}else if(P$ < 100){l8=1;}else if(P$ < 200){l8=2;}else if(P$ < +"500"){q8R.x49(17);l8=q8R.O_1("4",4);}else if(P$ < 1000){l8=5;}else if(P$ < +"25000"){l8=50;}else {l8=500;}}if(!c7.ChartEngine.isDailyInterval(n6.interval)){l8/=10;}if(c7.Market.Symbology.isForexSymbol(L_.symbol)){if(P$){if(P$ < 1){l8=0.001;}else if(P$ < 2){l8=0.002;}else if(P$ < +"50"){l8=0.02;}else if(P$ < 200){l8=0.2;}}if(c7.ChartEngine.isDailyInterval(n6.interval)){l8*=10;}}L_.defaultChartStyleConfig.box=l8;}l8=parseFloat(l8);if(isNaN(l8) || l8 <= 0){if(n6.pandf){if(n6.pandf.box !== null){n6.pandf.box=null;D1.changeOccurred("layout");}}L_.defaultChartStyleConfig.box=l8=1;}z1=Math.ceil(parseFloat(B4.reversal));if(z1 > +"0" && z1 > B4.reversal){n6.pandf.reversal=z1;D1.changeOccurred("layout");}else if(isNaN(z1) || z1 <= 0){if(n6.pandf){if(n6.pandf.reversal !== null){n6.pandf.reversal=null;D1.changeOccurred("layout");}}z1=L_.defaultChartStyleConfig.reversal;}h0.box=l8;z1*=l8;l$=0.00000001;x3=(l8.toString() + (("9142" ^ 0,+"1160") >= 6140?(651.09,824.73):(5563,3990) === "3234" >> 0?(9590,486) <= 7330?(0x641,0xb52):5.48e+3:".")).split(".")[1].length;r1w=-1659655292;F_$=1663669926;q8R.x49(0);y4c=q8R.C0r(64,"2");for(var w_m=1;q8R.D29(w_m.toString(),w_m.toString().length,40934) !== r1w;w_m++){w4=[];A9=0;q8R.x49(6);y4c+=q8R.O_1("2",0);}if(q8R.c2O(y4c.toString(),y4c.toString().length,92455) !== F_$){w4=[];A9=5;}for(var g8=0;g8 < Q$.length;g8++){B7=Q$[g8];if(!B7)continue;e0=B7.Close;J9=B7.Open;b5=B7.High;F_=B7.Low;if(!e0 && e0 !== 0)continue;A9+=B7.Volume;J9=J9 || J9 === 0?J9:e0;b5=b5 || b5 === 0?b5:e0;F_=F_ || F_ === 0?F_:e0;if(!w4.length && !v9.length){J4=g_(B7,T8(B7,J9,b5,F_,e0,A9,b5 + l8,Number((Math.ceil(F_ / l8 - l$) * l8).toFixed(x3)),Number((Math.floor(b5 / l8 + l$) * l8).toFixed(x3))));J4.pfTrend=(6600,1510) !== (517.32,9333)?210 !== (567.61,638.67)?(783.15,7268) === +"60.3"?![]:"X":(!!({}),"e"):(0x20cf,0x1be3);if(J4.pfOpen == J4.pfClose){J4.pfStepBack=(4390,"9457" * 1) > 1118?"-":(!!0,"D");}w4.push(J4);A9=0;continue;}q8R.x49(23);var Y9X=q8R.O_1(20,16,20,16,1);K_=w4[w4.length - Y9X];if(!K_){K_=c7.clone(v9[v9.length - +"1"]);}if(K_.pfTrend == (3.58 != (722.85,6647)?"O":"101.50" - 0)){if(F_ <= K_.pfClose - l8){K_.pfClose=Number((Math.ceil(F_ / l8 - l$) * l8).toFixed(x3));if(K_.pfStepBack == "O"){K_.pfStepBack=null;}T3(K_,b5,F_,e0,A9);}else if(b5 >= K_.pfClose + z1){i7=K_.pfClose + l8;N6=Number((Math.floor(b5 / l8 + l$) * l8).toFixed(x3));J4=T8(B7,J9,b5,F_,e0,A9,K_.pfClose,i7,N6);if(i7 == N6){J4.pfStepBack="X";}if(K_.pfStepBack == ((783,54.41) <= 295?"O":(470.23,"F"))){K_.pfOpen=i7;K_.pfClose=N6;K_.pfTrend=284.97 == (536.91,988)?(4894,232.36) <= 3070?900 >= (4348,7134)?"b":"k":(!!({}),867.41):"X";T3(K_,b5,F_,e0,A9);}else {J4=g_(B7,J4);J4.pfTrend=(304,3420) <= (4850,3100)?("x",0xcad):(449,694.99) !== 9316?"X":443.49 < ("3100" ^ 0,8488)?183.90:"k";w4.push(J4);}}else {T3(K_,b5,F_,e0,A9);}A9=0;}else if(K_.pfTrend == (4970 > 9040?(+"0x20a",!""):1930 < 934.37?920.85 < (+"657.42","2009" - 0)?(8.47e+3,0x215f):+"926.84":"X")){if(b5 >= K_.pfClose + l8){K_.pfClose=Number((Math.floor(b5 / l8 + l$) * l8).toFixed(x3));if(K_.pfStepBack == "X" || K_.pfStepBack == ((124.8,"324.24" * 1) === (440,186.73)?(845.22,0x20be):"-")){K_.pfStepBack=null;}T3(K_,b5,F_,e0,A9);}else if(F_ <= K_.pfClose - z1){i7=K_.pfClose - l8;N6=Number((Math.ceil(F_ / l8 - l$) * l8).toFixed(x3));J4=T8(B7,J9,b5,F_,e0,A9,K_.pfClose,i7,N6);if(i7 == N6){J4.pfStepBack=(8760,9610) != 2550?7030 <= (249.74,2340)?1.75e+3:6392 !== (6550,9810)?"O":("0x23a4" * 1,!1):!!"1";}if(K_.pfStepBack == "X" || K_.pfStepBack == "-"){K_.pfOpen=i7;K_.pfClose=N6;K_.pfTrend="O";T3(K_,b5,F_,e0,A9);if(i7 != N6 && K_.pfStepBack == "-"){K_.pfStepBack=null;}}else {J4=g_(B7,J4);J4.pfTrend="O";w4.push(J4);}}else {T3(K_,b5,F_,e0,A9);}A9=0;}}return w4;};};g=b0=>{var z_6=e9J1I;var H2$,W$b,Y$,e8,n56,X9L,y7D,R$E,x6S,h95,O5M,J8U,a7c,I2P,J9T,T9_,y02,t1S,G1G,s8q,T1b,N2h,w$Y,X8h,L3h,e1A,a$p,f1w,Z5u,A1_;H2$="und";H2$+="efin";z_6.d$I();H2$+="e";H2$+="d";W$b="u";W$b+="ndefined";Y$=typeof _CIQ !== W$b?_CIQ:b0.CIQ;e8=typeof _timezoneJS !== H2$?_timezoneJS:b0.timezoneJS;if(!Y$.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {n56="wavePa";n56+="ramet";n56+="ers";X9L="li";X9L+="neW";X9L+="i";X9L+="dth";y7D="I";y7D+="I";y7D+="I";R$E="I";R$E+="I";x6S="paramete";x6S+="rs";h95="c";h95+="o";h95+="lo";h95+="r";O5M="fill";O5M+="Colo";O5M+="r";J8U="Ann";J8U+="ualiz";J8U+="ed %";a7c="an";a7c+="nperce";a7c+="n";a7c+="t";I2P="B";I2P+="a";I2P+="r";I2P+="s";J9T="b";J9T+="ar";J9T+="s";T9_="l";T9_+="ineWi";T9_+="dth";y02="c";y02+="ol";y02+="or";t1S="cq-";t1S+="cvp-cont";t1S+="roller[cq-cvp-header=\"3\"]";G1G="pa";G1G+="tte";G1G+="rn3";s8q="li";s8q+="neW";s8q+="idth3";T1b="col";T1b+="o";T1b+="r3";N2h="col";N2h+="or2";w$Y="p";w$Y+="at";w$Y+="t";w$Y+="ern1";X8h="a";X8h+="cti";X8h+="ve1";L3h="lin";L3h+="e";L3h+="Width";e1A="fillColo";e1A+="r";a$p="pat";a$p+="te";a$p+="rn";f1w="l";f1w+="ineW";f1w+="idt";f1w+="h";Z5u="p";Z5u+="atte";Z5u+="rn";A1_="c";A1_+="o";A1_+="lo";A1_+="r";Y$.Drawing.ray=function(){z_6.R7g();this.name="ray";};Y$.inheritsFrom(Y$.Drawing.ray,Y$.Drawing.line);Y$.Drawing.ray.prototype.adjust=function(){var C8;C8=this.stx.panels[this.panelName];if(!C8){return;}this.setPoint(0,this.d0,this.v0,C8.chart);this.setPoint(1,this.d1,this.v1,C8.chart);z_6.R7g();if(Y$.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,C8.chart);}};Y$.Drawing.continuous=function(){var L0w;L0w="cont";L0w+="i";L0w+="nuo";L0w+="us";z_6.d$I();this.name=L0w;this.dragToDraw=!!0;this.maxSegments=null;};Y$.inheritsFrom(Y$.Drawing.continuous,Y$.Drawing.segment);Y$.Drawing.continuous.prototype.click=function(S3,M6,z9){var N_,z2,E$,Z5,Z9;N_=this.stx;z2=N_.panels[this.panelName];if(!z2){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,M6,z9,z2.chart);this.penDown=!!({});return !1;}if(this.accidentalClick(M6,z9)){N_.undo();return !"";}this.setPoint(1,M6,z9,z2.chart);E$=Y$.Drawing.segment;Z5=new E$();Z9=this.serialize(N_);Z5.reconstruct(N_,Z9);N_.addDrawing(Z5);N_.changeOccurred("vector");N_.draw();Z5++;if(this.maxSegments && this.segment > this.maxSegments){return !!1;}this.setPoint(0,M6,z9,z2.chart);return !({});};Y$.Drawing.ellipse=function(){z_6.d$I();this.name="ellipse";};Y$.inheritsFrom(Y$.Drawing.ellipse,Y$.Drawing.BaseTwoPoint);Y$.Drawing.ellipse.prototype.render=function(K4){var R5w,Y8,Q0,F3,k7,B5,m2,l6,a3,x9,k5,S1,U9,L8,U3,m_,R7,W1;R5w="a";R5w+="uto";Y8=this.stx;Q0=Y8.panels[this.panelName];F3=Y8.getYAxisByField(Q0,this.field);if(!Q0 || this.field && !F3){return;}k7=Y8.pixelFromTick(this.p0[0],Q0.chart);B5=Y8.pixelFromTick(this.p1[0],Q0.chart);m2=this.pixelFromValue(Q0,this.p0[0],this.p0[1],F3);l6=this.pixelFromValue(Q0,this.p1[+"0"],this.p1[+"1"],F3);z_6.x49(24);a3=z_6.O_1(k7,k7,B5);x9=B5;k5=m2;S1=l6;z_6.l13(24);U9=z_6.C0r(m2,m2,l6);z_6.x49(25);L8=z_6.C0r(S1,U9,6);U3=this.lineWidth;if(!U3){U3=1.1;}m_=this.color;if(m_ == R5w || Y$.isTransparent(m_)){m_=this.getLineColor();}if(this.highlighted && U3 == 0.1){U3=1.1;}z_6.d$I();R7=this.fillColor;K4.beginPath();K4.moveTo(a3,k5);z_6.x49(2);K4.bezierCurveTo(a3,z_6.O_1(S1,L8),x9,z_6.O_1(S1,L8),x9,k5);z_6.l13(6);K4.bezierCurveTo(x9,z_6.C0r(U9,L8),a3,z_6.O_1(U9,L8),a3,k5);if(R7 && !Y$.isTransparent(R7) && R7 != "auto"){K4.fillStyle=R7;K4.globalAlpha=0.2;K4.fill();K4.globalAlpha=1;}if(m_ && this.pattern != "none"){K4.strokeStyle=m_;K4.lineWidth=U3;if(K4.setLineDash){K4.setLineDash(Y$.borderPatternToArray(U3,this.pattern));K4.lineDashOffset=0;;}K4.stroke();}K4.closePath();if(this.highlighted){W1=this.highlighted == "p1"?!!({}):!!"";this.littleCircle(K4,B5,l6,W1);}};Y$.Drawing.ellipse.prototype.intersected=function(j3,R9,J3){var c7V,w1B,P8,v3,s7,r1,r0,S2;c7V="m";c7V+="ov";c7V+="e";if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1["1" ^ 0],J3)){w1B="p";w1B+="1";this.highlighted="p1";return {action:"drag",point:w1B};}P8=this.p0[0] - (this.p1[0] - this.p0[0]);v3=this.p1[0];s7=this.p1[1];z_6.l13(26);var W5F=z_6.C0r(13,15,223,8);z_6.x49(27);var A1m=z_6.O_1(6,67,11);z_6.x49(28);var D05=z_6.O_1(1,8,87,11);r1=this.p0[W5F] - (this.p1[A1m] - this.p0[D05]);var {x0:e_, x1:P7, y0:k9, y1:l_, cy0:j8, cy1:C$}=J3;if(e_ > Math.max(P8,v3) || P7 < Math.min(P8,v3)){return !({});}var {field:t8, panelName:Y5, stx:H9}=this;if(t8){r0=H9.panels[Y5];S2=H9.getYAxisByField(r0,t8);k9=this.valueFromPixel(j8,r0,S2);l_=this.valueFromPixel(C$,r0,S2);}z_6.R7g();if(l_ > Math.max(r1,s7) || k9 < Math.min(r1,s7)){return !"1";}this.highlighted=!![];return {action:c7V,p0:Y$.clone(this.p0),p1:Y$.clone(this.p1),tick:j3,value:this.valueOnDrawingAxis(j3,R9)};};Y$.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth","pattern"];Y$.Drawing.ellipse.prototype.reconstruct=function(S8,V1){this.stx=S8;this.color=V1.col;this.fillColor=V1.fc;this.panelName=V1.pnl;this.pattern=V1.ptrn;this.lineWidth=V1.lw;this.d0=V1.d0;this.d1=V1.d1;this.tzo0=V1.tzo0;this.tzo1=V1.tzo1;this.v0=V1.v0;this.v1=V1.v1;this.field=V1.fld;this.adjust();};Y$.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};Y$.Drawing.channel=function(){this.name="channel";z_6.d$I();this.dragToDraw=!!"";this.p2=null;};Y$.inheritsFrom(Y$.Drawing.channel,Y$.Drawing.segment);Y$.Drawing.channel.prototype.configs=[A1_,"fillColor","lineWidth",Z5u];Y$.Drawing.channel.prototype.move=function(G4,F$,e9){var H5;z_6.d$I();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[F$,e9];}else {z_6.l13(29);var c3X=z_6.C0r(6,19,12,14,1);z_6.x49(2);var B3Y=z_6.O_1(0,1);H5=e9 - (this.p1[c3X] - this.p0[B3Y]) / (this.p1[0] - this.p0[0]) * (F$ - this.p1[0]);this.p2=[this.p1[0],H5];}this.render(G4);};Y$.Drawing.channel.prototype.click=function(F0,O6,t5){var u3,B$;u3=this.stx;B$=u3.panels[this.panelName];z_6.R7g();if(!B$){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,O6,t5,B$.chart);this.penDown=!!({});return !!0;}if(this.accidentalClick(O6,t5)){u3.undo();return !!1;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],B$.chart);this.penDown=!1;return !![];}this.setPoint(1,O6,t5,B$.chart);if(this.p0["0" << 0] == this.p1["0" - 0]){this.p1=null;return !!"";}this.p2=[this.p1[0],this.p1[1]];return ![];};Y$.Drawing.channel.prototype.boxIntersection=function(L5,k0,i9){var J5,I1,s3,c1;var {p0:m7, p1:o5, p2:p3}=this;if(!m7 || !o5 || !p3){return !1;}var {x0:D7, x1:u_, y0:A3, y1:G9, cy0:O$, cy1:g2}=i9;if(D7 > Math.max(m7[+"0"],o5["0" << 64]) || u_ < Math.min(m7[0],o5[+"0"])){return !({});}var {field:k1, panelName:T4, stx:n4}=this;if(k1){J5=n4.panels[T4];I1=n4.getYAxisByField(J5,k1);A3=this.valueFromPixel(O$,J5,I1);G9=this.valueFromPixel(g2,J5,I1);}z_6.x49(30);var j_h=z_6.O_1(3,17,6);z_6.x49(6);var e6i=z_6.C0r(9,8);z_6.l13(31);var v0d=z_6.C0r(17,1,6,318,18);z_6.l13(32);var l1H=z_6.O_1(1,1,16,17);z_6.l13(33);var N1p=z_6.C0r(31,10,4,5);s3=(o5[+"0"] - m7["0" - 0]) * ((p3[j_h] < m7[e6i]?G9:A3) - m7[v0d]) - (o5[l1H] - m7[N1p]) * (L5 - m7[+"0"]);z_6.l13(1);var N6y=z_6.C0r(2,8,3);z_6.l13(6);var w4N=z_6.O_1(15,14);z_6.x49(30);z_6.R7g();var T6b=z_6.O_1(13,64,5);z_6.l13(2);var w99=z_6.C0r(0,1);z_6.l13(34);var B9m=z_6.C0r(50,11,20,2,3);c1=(p3[0] - m7[0]) * ((p3["1" | 0] > m7[N6y]?G9:A3) - (m7[w4N] + p3[T6b] - o5[w99])) - (o5[B9m] - m7["1" ^ 0]) * (L5 - m7[0]);z_6.x49(35);return z_6.C0r(s3,"0",c1);};Y$.Drawing.channel.prototype.intersected=function(o6,g0,y8){var o3;if(!this.p0 || !this.p1 || !this.p2){return null;}o3={0:this.p0,1:this.p1,2:this.p2};for(var w2 in o3){if(this.pointIntersection(o3[w2][0],o3[w2][1],y8)){z_6.l13(2);this.highlighted=z_6.O_1((9629,1870) <= ("47" << 32,4448)?"p":(8700,6740) === "1400" * 1?(0xa86,6.52e+3):("H","l"),w2);return {action:"drag",point:(2162 === ("9630" << 0,5619)?(0x26df,3.89e+3):"p") + w2};}}if(this.boxIntersection(o6,g0,y8)){this.highlighted=!![];return {action:"move",p0:Y$.clone(this.p0),p1:Y$.clone(this.p1),p2:Y$.clone(this.p2),tick:o6,value:this.valueOnDrawingAxis(o6,g0)};}return null;};Y$.Drawing.channel.prototype.render=function(q$){var X16,s4s,t3N,y9,w1,w0,G7,z$,d_,V5,u2,g4,R3,O0,F$G,C$j,q8I,N0,r6,g7,h_;X16="se";X16+="gmen";X16+="t";s4s="non";s4s+="e";t3N="a";t3N+="uto";y9=this.stx;w1=y9.panels[this.panelName];z_6.d$I();w0=y9.getYAxisByField(w1,this.field);if(!w1 || this.field && !w0){return;}G7=y9.pixelFromTick(this.p0[0],w1.chart);z$=y9.pixelFromTick(this.p1[0],w1.chart);d_=this.pixelFromValue(w1,this.p0[0],this.p0[1],w0);V5=this.pixelFromValue(w1,this.p1[0],this.p1[1],w0);u2=null;if(this.p2){u2=this.pixelFromValue(w1,this.p2[0],this.p2["1" * 1],w0);}g4=this.lineWidth;R3=this.getLineColor();O0=this.fillColor;if(this.p2 && O0 && !Y$.isTransparent(O0) && O0 != t3N){q$.beginPath();q$.moveTo(G7,d_);q$.lineTo(z$,V5);q$.lineTo(z$,u2);z_6.l13(36);q$.lineTo(G7,z_6.O_1(u2,d_,V5));F$G=-1929779077;C$j=1761702031;z_6.x49(6);q8I=z_6.O_1("2",0);for(var r$f=1;z_6.c2O(r$f.toString(),r$f.toString().length,37243) !== F$G;r$f++){q$.closePath();q$.globalAlpha=141;q$.fillStyle=O0;q$.fill();q$.globalAlpha=6;q8I+=+"2";}if(z_6.c2O(q8I.toString(),q8I.toString().length,+"41466") !== C$j){q$.closePath();q$.globalAlpha=0.2;q$.fillStyle=O0;q$.fill();z_6.l13(6);q$.globalAlpha=z_6.C0r("1",0);}}N0={pattern:this.pattern,lineWidth:g4};if((this.penDown || this.highlighted) && this.pattern == s4s){N0.pattern="dotted";}y9.plotLine(G7,z$,d_,V5,R3,"segment",q$,w1,N0);if(this.p2){z_6.x49(36);y9.plotLine(G7,z$,z_6.O_1(u2,d_,V5),u2,R3,X16,q$,w1,N0);}if(this.highlighted){r6=this.highlighted == "p0"?!"":!!"";g7=this.highlighted == "p1"?!![]:!!0;h_=this.highlighted == "p2"?!0:!!"";this.littleCircle(q$,G7,d_,r6);this.littleCircle(q$,z$,V5,g7);this.littleCircle(q$,z$,u2,h_);}};Y$.Drawing.channel.prototype.reposition=function(c_,c0,Q_,M_){var j6_,Y3,L7,H$;j6_="dra";j6_+="g";if(!c0){return;}Y3=this.stx.panels[this.panelName];L7=c0.tick - Q_;H$=c0.value - M_;if(c0.action == "move"){this.setPoint(0,c0.p0[0] - L7,c0.p0[1] - H$,Y3.chart);this.setPoint(1,c0.p1[0] - L7,c0.p1[+"1"] - H$,Y3.chart);this.setPoint(2,c0.p2["0" << 64] - L7,c0.p2[1] - H$,Y3.chart);this.render(c_);}else if(c0.action == j6_){this[c0.point]=[Q_,M_];this.setPoint(0,this.p0[0],this.p0[1],Y3.chart);this.setPoint(1,this.p1[0],this.p1["1" ^ 0],Y3.chart);this.setPoint(2,this.p2[0],this.p2[1],Y3.chart);this.render(c_);}};Y$.Drawing.channel.prototype.adjust=function(){var E6;E6=this.stx.panels[this.panelName];if(!E6){return;}this.setPoint(0,this.d0,this.v0,E6.chart);z_6.l13(0);this.setPoint(z_6.C0r(32,"1"),this.d1,this.v1,E6.chart);this.setPoint(+"2",this.d1,this.v2,E6.chart);;};Y$.Drawing.channel.prototype.reconstruct=function(J0,t2){this.stx=J0;this.color=t2.col;this.fillColor=t2.fc;z_6.d$I();this.panelName=t2.pnl;this.pattern=t2.ptrn;this.lineWidth=t2.lw;this.d0=t2.d0;this.d1=t2.d1;this.tzo0=t2.tzo0;this.tzo1=t2.tzo1;this.v0=t2.v0;this.v1=t2.v1;this.v2=t2.v2;this.field=t2.fld;this.adjust();};Y$.Drawing.channel.prototype.serialize=function(){z_6.d$I();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};Y$.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=!({});z_6.d$I();this.p2=null;};Y$.inheritsFrom(Y$.Drawing.pitchfork,Y$.Drawing.channel);Y$.Drawing.pitchfork.prototype.configs=["color",f1w,"pattern"];Y$.Drawing.pitchfork.prototype.move=function(O7,M1,g$){if(!this.penDown){return;}z_6.d$I();this.copyConfig();if(this.p2 === null){this.p1=[M1,g$];}else {this.p2=[M1,g$];}this.render(O7);};Y$.Drawing.pitchfork.prototype.intersected=function(I5,q8,i5){var o7,s$,g9l,P6S;if(!this.p0 || !this.p1 || !this.p2){return null;}o7={0:this.p0,1:this.p1,2:this.p2};for(var e7 in o7){if(this.pointIntersection(o7[e7][0],o7[e7][1],i5)){z_6.l13(2);this.highlighted=z_6.C0r(9041 !== (336,320)?"p":(3490,475.88) < 627.77?+"2520" <= 644.44?"r":("Q",!!({})):("6.87e+3" | 6,221.52),e7);return {action:"drag",point:(3978 > ("507.1" * 1,954.86)?(9114,2500) <= 183.18?(4327,8398) <= (268.53,664.61)?("f",920.07):("V",557.19):"p":![]) + e7};}}s$=this.rays;for(var T9=0;T9 < s$.length;T9++){g9l="segm";g9l+="e";g9l+="nt";if(this.lineIntersection(I5,q8,i5,T9?"ray":g9l,s$[T9][0],s$[T9]["1" ^ 0],!![])){P6S="m";P6S+="o";P6S+="v";P6S+="e";this.highlighted=!"";return {action:P6S,p0:Y$.clone(this.p0),p1:Y$.clone(this.p1),p2:Y$.clone(this.p2),tick:I5,value:this.valueOnDrawingAxis(I5,q8)};}}return null;};Y$.Drawing.pitchfork.prototype.render=function(N4){var W6,X4,k_,t4,n7,c9,s6,G$,h2,u8,q2,e3,I0,Y1,A1,J7,I8,e5,W5,E2,s0;W6=this.stx;X4=W6.panels[this.panelName];k_=W6.getYAxisByField(X4,this.field);if(!X4 || this.field && !k_){return;}t4=this.p2;if(!t4){t4=this.p1;}n7=W6.pixelFromTick(this.p0[0],X4.chart);c9=W6.pixelFromTick(this.p1[0],X4.chart);s6=W6.pixelFromTick(t4[0],X4.chart);G$=this.pixelFromValue(X4,this.p0[+"0"],this.p0[1],k_);h2=this.pixelFromValue(X4,this.p1[0],this.p1[+"1"],k_);u8=this.pixelFromValue(X4,t4["0" | 0],t4[1],k_);q2=this.lineWidth;e3=this.getLineColor();I0={pattern:this.pattern,lineWidth:q2};Y1=50;z_6.l13(37);A1=z_6.C0r(0,G$,h2,u8,"2");z_6.x49(38);J7=z_6.C0r(2,s6,n7,c9);if(J7 < 0){Y1*=-+"1";}z_6.l13(11);A1*=z_6.O_1(Y1,J7);z_6.l13(3);this.rays=[[[c9,h2],[s6,u8]],[[n7,G$],[z_6.C0r(s6,c9,2),z_6.O_1("2",u8,h2,z_6.l13(39))]]];if(!(c9 == s6 && h2 == u8)){z_6.l13(6);this.rays.push([[c9,h2],[z_6.O_1(c9,Y1),z_6.C0r(h2,A1)]],[[s6,u8],[z_6.O_1(s6,Y1),z_6.C0r(u8,A1)]]);}for(var R6=+"0";R6 < this.rays.length;R6++){I8=this.rays[R6];e5=R6?"ray":"segment";W6.plotLine(I8[0][0],I8[+"1"][0],I8["0" | 0][1],I8["1" - 0][1],e3,e5,N4,X4,I0);}z_6.d$I();if(this.highlighted){W5=this.highlighted == "p0"?!![]:!1;E2=this.highlighted == "p1"?!!({}):!!0;s0=this.highlighted == "p2"?!0:!!0;this.littleCircle(N4,n7,G$,W5);this.littleCircle(N4,c9,h2,E2);this.littleCircle(N4,s6,u8,s0);}};Y$.Drawing.pitchfork.prototype.adjust=function(){var Z1;Z1=this.stx.panels[this.panelName];if(!Z1){return;}this.setPoint(+"0",this.d0,this.v0,Z1.chart);z_6.l13(0);this.setPoint(z_6.C0r(0,"1"),this.d1,this.v1,Z1.chart);z_6.d$I();this.setPoint(2,this.d2,this.v2,Z1.chart);};Y$.Drawing.pitchfork.prototype.reconstruct=function(g1,Q9){this.stx=g1;this.color=Q9.col;this.panelName=Q9.pnl;this.pattern=Q9.ptrn;this.lineWidth=Q9.lw;this.d0=Q9.d0;this.d1=Q9.d1;this.d2=Q9.d2;this.tzo0=Q9.tzo0;this.tzo1=Q9.tzo1;this.tzo2=Q9.tzo2;this.v0=Q9.v0;this.v1=Q9.v1;this.v2=Q9.v2;this.field=Q9.fld;this.adjust();};Y$.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};Y$.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=!!"";this.maxSegments=4;this.shape=null;this.points=[];};Y$.inheritsFrom(Y$.Drawing.gartley,Y$.Drawing.continuous);Y$.Drawing.gartley.prototype.check=function(Q5,t3){if(!t3){return !![];}if(Q5["0" * 1] >= t3[0] || Q5[1] == t3[1]){return !!"";}if(this.segment == "1" >> 32){if(Q5[1] < t3[1]){this.shape=+"150.48" !== 5754?"M":(2.07e+3,!!0);}else {this.shape="W";}}else if(this.segment == 2){if(this.shape == ((3443,7090) > 4229?(+"846",8370) != 271.23?"M":(236.45,4754) == "549.12" * 1?("p","k"):"e":(!0,!0)) && Q5[+"1"] < t3[1]){return !!"";}else if(this.shape == "W" && Q5[1] > t3[1]){return !!0;}else if((t3[1] - Q5[1]) / (this.points[0]["1" << 64] - Q5[1]) < +"0.618"){return ![];}else if((t3[1] - Q5[1]) / (this.points[0][1] - Q5[1]) >= 0.786){return !!"";}}else if(this.segment == 3){if(this.shape == "M" && Q5[1] > t3[1]){return !!0;}else if(this.shape == "W" && Q5[1] < t3[1]){return ![];}else if((t3[1] - Q5[1]) / (this.points[1][1] - Q5[1]) < 0.618){return !"1";}else if((t3[1] - Q5[+"1"]) / (this.points[1][1] - Q5["1" ^ 0]) >= 0.786){return !({});}}else if(this.segment == 4){if(this.shape == (6465 >= (464.91,8260)?(0x177c,1.34e+3):"M") && (Q5[+"1"] < t3[1] || t3[1] < this.points["0" | 0][1])){return !"1";}else if(this.shape == ((6500,8762) > +"8110"?"W":5.84e+3) && (Q5[1] > t3[1] || t3[1] > this.points[0][1])){return !!0;}else if((this.points[1][1] - t3["1" << 0]) / (this.points[1][1] - this.points[2][1]) < 1.27){return !"1";}else if((this.points[1][1] - t3[1]) / (this.points[+"1"][1] - this.points[2][1]) >= 1.618){return ![];}}return !!"1";};Y$.Drawing.gartley.prototype.click=function(a1,P3,E8){var j1;j1=this.stx.panels[this.panelName];if(!j1){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",P3,E8,j1.chart);this.pts=[];this.penDown=!!1;this.segment=1;return ![];}if(this.accidentalClick(P3,E8)){this.penDown=!![];return !!0;}if(this.check(this.p0,this.p1)){if(this.segment == +"1"){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,P3,E8,j1.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0][1],j1.chart);this.penDown=!!"";return !!({});}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,P3,E8,j1.chart);;}return !1;};Y$.Drawing.gartley.prototype.render=function(o0){var y5k,c4,B8,K5,n5,X0,m6,O4,T5,A0,e1,W4,w_,p_,b1,C_,k$,Y2;y5k="d";y5k+="otte";y5k+="d";c4=this.stx;B8=c4.panels[this.panelName];K5=c4.getYAxisByField(B8,this.field);if(!B8 || this.field && !K5){return;}n5=c4.pixelFromTick(this.p0["0" * 1],B8.chart);X0=c4.pixelFromTick(this.p1[0],B8.chart);m6=this.pixelFromValue(B8,this.p0[0],this.p0[1],K5);O4=this.pixelFromValue(B8,this.p1[0],this.p1[1],K5);if(this.segment == 2){this.drawDropZone(o0,0.618 * this.points[0][1] + 0.382 * this.p0[1],0.786 * this.points[0][+"1"] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == +"3"){this.drawDropZone(o0,0.618 * this.points["1" >> 32][1] + 0.382 * this.p0[1],0.786 * this.points[1]["1" ^ 0] + 0.214 * this.p0["1" << 32],this.p0[0]);}else if(this.segment == 4){z_6.x49(4);var u6I=z_6.C0r(9,38,45);z_6.x49(40);var x3Q=z_6.O_1(3,2,5,16,17);z_6.x49(4);var E0t=z_6.C0r(3,69,8);z_6.x49(2);var G65=z_6.O_1(0,1);T5=1.618 * this.points[u6I][x3Q] - 0.618 * this.points["1" << E0t][G65];if(this.shape == "M"){T5=Math.max(T5,this.points[+"0"]["1" << 64]);}else {T5=Math.min(T5,this.points[0]["1" | 1]);}this.drawDropZone(o0,T5,1.27 * this.points[2][1] - 0.27 * this.points[1][1],this.p0[+"0"]);}A0=this.lineWidth;e1=this.getLineColor();W4={pattern:this.pattern,lineWidth:A0};if((this.penDown || this.highlighted) && this.pattern == "none"){W4.pattern=y5k;}if(this.segment <= this.maxSegments){c4.plotLine(n5,X0,m6,O4,e1,this.name,o0,B8,W4);}w_=this.fillColor;p_=[];if(this.points.length){o0.beginPath();for(var C4=1;C4 < this.points.length && C4 <= 4;C4++){b1=c4.pixelFromTick(this.points[C4 - 1][0],B8.chart);C_=c4.pixelFromTick(this.points[C4][0],B8.chart);k$=this.pixelFromValue(B8,this.points[C4 - +"1"][0],this.points[C4 - 1][1],K5);Y2=this.pixelFromValue(B8,this.points[C4][0],this.points[C4][1],K5);if(C4 == 1){p_.push(b1,k$);}p_.push(C_,Y2);c4.plotLine(b1,C_,k$,Y2,e1,this.name,o0,B8,W4);}if(this.points.length == +"2" || this.points.length == 4){p_.push(X0,O4);}if(this.points[2]){p_.push(c4.pixelFromTick(this.points[2][+"0"],B8.chart),this.pixelFromValue(B8,this.points["2" << 64][0],this.points[2][1],K5));}if(w_ && w_ != "auto" && !Y$.isTransparent(w_)){for(var g6=0;g6 < p_.length;g6+=2){if(g6 === 0){o0.moveTo(p_[0],p_["1" >> 0]);}o0.lineTo(p_[g6],p_[g6 + ("1" | 1)]);}o0.fillStyle=w_;o0.globalAlpha=0.2;o0.closePath();o0.fill();o0.globalAlpha=1;}};};Y$.Drawing.gartley.prototype.lineIntersection=function(d4,m5,x8,c$){var f3,A7;f3=this.points;A7=this.stx.panels[this.panelName];if(f3.length != this.maxSegments + 1 || !A7){return !1;}for(var X$="0" << 64;X$ < f3.length - 1;X$++){if(Y$.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,d4,m5,x8,"segment",f3[X$],f3[X$ + 1])){return !!({});}}return !1;};Y$.Drawing.gartley.prototype.boxIntersection=function(S6,q5,h7){var E_,o4;if(!this.p0 || !this.p1){return !!"";}if(h7.x0 > Math.max(this.p0[0],this.p1[0]) || h7.x1 < Math.min(this.p0[0],this.p1[0])){return ![];}E_=Math.min(this.p0[+"1"],this.p1["1" >> 96]);o4=Math.max(this.p0[1],this.p1[1]);for(var o9=0;o9 < this.points.length;o9++){E_=Math.min(E_,this.points[o9][1]);o4=Math.max(o4,this.points[o9][1]);}if(h7.y1 > o4 || h7.y0 < E_){return !"1";}return !![];};Y$.Drawing.gartley.prototype.reposition=function(h1,K9,G2,B1){var F7,Q6,d5;if(!K9){return;}F7=this.stx.panels[this.panelName];Q6=K9.tick - G2;K9.tick=G2;d5=K9.value - B1;K9.value=B1;if(K9.action == "move"){this.pts=[];for(var i0=0;i0 < this.points.length;i0++){this.points[i0][0]-=Q6;this.points[i0][1]-=d5;this.setPoint(1,this.points[i0][0],this.points[i0][1],F7.chart);if(i0 && i0 < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[i0]=this.p1;}this.setPoint(0,this.points[0][0],this.points[+"0"][1],F7.chart);this.render(h1);;}};Y$.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth",a$p];Y$.Drawing.gartley.prototype.adjust=function(){var S9;S9=this.stx.panels[this.panelName];if(!S9){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,S9.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,S9.chart);this.points.push(this.p1);};Y$.Drawing.gartley.prototype.reconstructPoints=function(){var A8,K$M,b0S,B$k,G8;A8=this.stx.panels[this.panelName];K$M=1820901467;z_6.x49(20);b0S=-z_6.O_1(1,"1870332161");z_6.l13(20);B$k=z_6.O_1(1,"2");for(var V6G=1;z_6.D29(V6G.toString(),V6G.toString().length,51869) !== K$M;V6G++){if(+A8){return;}B$k+=2;}if(z_6.D29(B$k.toString(),B$k.toString().length,5008) !== b0S){if(!A8){return;}}this.points=[];z_6.d$I();for(var x4="0" >> 0;x4 < this.pts.length;x4+=3){G8=Y$.strToDateTime(this.pts[x4]);G8.setMinutes(G8.getMinutes() + Number(this.pts[x4 + ("1" | 1)]) - G8.getTimezoneOffset());this.points.push([this.stx.tickFromDate(Y$.yyyymmddhhmmssmmm(G8),A8.chart),this.pts[x4 + 2]]);}};Y$.Drawing.gartley.prototype.reconstruct=function(H6,V2){this.stx=H6;this.color=V2.col;this.fillColor=V2.fc;this.panelName=V2.pnl;this.pattern=V2.ptrn;this.lineWidth=V2.lw;this.d0=V2.d0;z_6.d$I();this.d1=V2.d1;this.tzo0=V2.tzo0;this.tzo1=V2.tzo1;this.v0=V2.v0;this.v1=V2.v1;this.field=V2.fld;this.pts=V2.pts.split(",");this.adjust();};Y$.Drawing.gartley.prototype.serialize=function(){z_6.d$I();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,pts:this.pts.join(+"430.8" >= "8180" - 0?0x166d:",")};};Y$.Drawing.freeform=function(){this.name="freeform";this.splineTension=+"0.3";z_6.d$I();this.dragToDraw=!"";};Y$.inheritsFrom(Y$.Drawing.freeform,Y$.Drawing.segment);Y$.Drawing.freeform.prototype.measure=function(){};Y$.Drawing.freeform.prototype.intersected=function(b9,U7,w$){var f$,D0;var {x0:f0, x1:H3, y0:d6, y1:C2, cy0:Z7, cy1:z5}=w$;z_6.R7g();if(f0 > this.hiX || H3 < this.lowX){return !({});}var {field:d7, panelName:F2, stx:R$}=this;if(d7){f$=R$.panels[F2];D0=R$.getYAxisByField(f$,d7);d6=this.valueFromPixel(Z7,f$,D0);C2=this.valueFromPixel(z5,f$,D0);}if(C2 > this.hiY || d6 < this.lowY){return !!0;}this.highlighted=!!({});return {action:"move",p0:Y$.clone(this.p0),tick:b9,value:this.valueOnDrawingAxis(b9,U7)};};Y$.Drawing.freeform.prototype.reposition=function(V4,m3,y5,L3){var T9Y,F1i,q7U,X8,M$,i8;z_6.l13(7);T9Y=z_6.O_1("1210949316",0);F1i=363247325;q7U=2;for(var r_A=1;z_6.D29(r_A.toString(),r_A.toString().length,+"3216") !== T9Y;r_A++){if(~m3){return;}X8=this.stx.panels[this.panelName];M$=m3.tick * y5;i8=m3.value / L3;z_6.x49(41);q7U+=z_6.C0r("2",0);}if(z_6.D29(q7U.toString(),q7U.toString().length,76973) !== F1i){if(!m3){return;}X8=this.stx.panels[this.panelName];M$=m3.tick / y5;i8=m3.value - L3;}if(!m3){return;}X8=this.stx.panels[this.panelName];M$=m3.tick - y5;i8=m3.value - L3;if(m3.action == "move"){this.setPoint(0,m3.p0[0] - M$,m3.p0[1] - i8,X8.chart);this.adjust();this.render(V4);}};Y$.Drawing.freeform.prototype.click=function(Z8,w8,T1){var B_,e5b,X98,A4b,h8,a_,D2;B_=this.stx;z_6.x49(20);e5b=z_6.O_1(1,"1409964288");X98=1281961180;A4b=+"2";for(var b08=1;z_6.c2O(b08.toString(),b08.toString().length,10751) !== e5b;b08++){h8=B_.panels[this.panelName];if(+h8){return;}z_6.x49(20);A4b+=z_6.C0r(1,"2");}if(z_6.c2O(A4b.toString(),A4b.toString().length,+"25727") !== X98){h8=B_.panels[this.panelName];if(!h8){return;}}z_6.R7g();h8=B_.panels[this.panelName];if(!h8){return;}a_=B_.getYAxisByField(h8,this.field) || h8.yAxis;if(this.penDown === ![]){this.copyConfig();this.startX=Math.round(B_.resolveX(B_.pixelFromTick(w8,h8.chart)));this.startY=Math.round(B_.resolveY(this.pixelFromValue(h8,w8,T1,a_)));D2=B_.dateFromTick(w8,h8.chart,!"");this.d0=Y$.yyyymmddhhmmssmmm(D2);this.tzo0=D2.getTimezoneOffset();this.v0=T1;this.p0=[Y$.ChartEngine.crosshairX - this.startX,Y$.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=B_.layout.candleWidth;this.multiplier=a_.multiplier;this.interval=B_.layout.interval;this.periodicity=B_.layout.periodicity;this.tempSplineTension=this.splineTension;z_6.l13(20);this.splineTension=-z_6.O_1(1,"1");B_.container.ownerDocument.body.style.cursor="pointer";this.penDown=!!({});return !!0;}this.penDown=![];this.splineTension=this.tempSplineTension;B_.container.ownerDocument.body.style.cursor="auto";if(this.nodes.length === 2){B_.undo();}return !!1;};Y$.Drawing.freeform.prototype.move=function(B9,j9,r4){var m9,l4,f5,W9;if(!this.penDown){return;}m9=this.stx;l4=m9.panels[this.panelName];f5=m9.getYAxisByField(l4,this.field) || l4.yAxis;W9=m9.dateFromTick(j9,l4.chart,!!"1");this.d1=Y$.yyyymmddhhmmssmmm(W9);z_6.R7g();this.tzo1=W9.getTimezoneOffset();this.v1=r4;this.p1=[Y$.ChartEngine.crosshairX - this.startX,f5.flipped?this.startY - Y$.ChartEngine.crosshairY:Y$.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - +"2"]["0" ^ 0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1["0" * 1],this.p1[1]);this.pNodes.push(this.p1);this.render(B9);return !!"";};Y$.Drawing.freeform.prototype.intervalRatio=function(M8,K7,z7,H7,a9,M3){var F5;F5=0;function D$(v7,j7){return 30;}function B3(U8,t7){if(Y$.Market.Symbology.isForexSymbol(t7)){return +"1440";}z_6.R7g();return 390;}if(M8 == K7){F5=1;}else if(!isNaN(M8) && !isNaN(K7)){z_6.x49(11);F5=z_6.O_1(M8,K7);}else if(isNaN(M8)){if(M8 == "month"){if(K7 == "week"){F5=X5(a9,M3);}else if(K7 == "day"){F5=D$(a9,M3);}else if(!isNaN(K7)){F5=D$(a9,M3) * B3(a9,M3) / K7;}}else if(M8 == "week"){if(K7 == "month"){z_6.x49(42);var Z9s=z_6.C0r(3,3,15,14);F5=Z9s / X5(a9,M3);}if(K7 == "day"){F5=w5(a9,M3);}else if(!isNaN(K7)){F5=w5(a9,M3) * B3(a9,M3) / K7;}}else if(M8 == "day"){if(K7 == "week"){z_6.l13(43);var x90=z_6.C0r(10,99,11,18,11);F5=x90 / w5(a9,M3);}else if(K7 == "month"){z_6.l13(8);var p03=z_6.C0r(0,19,20);F5=p03 / D$(a9,M3);}else if(!isNaN(K7)){F5=B3(a9,M3) / K7;}}}else if(!isNaN(M8)){if(K7 == "month"){F5=M8 / (D$(a9,M3) * B3(a9,M3));}else if(K7 == "week"){F5=M8 / (w5(a9,M3) * B3(a9,M3));}else if(K7 == "day"){F5=M8 / B3(a9,M3);}}function w5(o2,X9){return 5;}function X5(F8,a2){return 5;}z_6.x49(11);F5*=z_6.C0r(z7,H7);return F5;};Y$.Drawing.freeform.prototype.render=function(X1){var a$,T6,y4,r9,p9,i$,W8,P0,W$,l7,z0,x$,S5,K0;a$=this.stx;T6=a$.panels[this.panelName];y4=a$.getYAxisByField(T6,this.field);if(!T6 || this.field && !y4){return;}y4=y4 || T6.yAxis;r9=this.intervalRatio(this.interval,a$.layout.interval,this.periodicity,a$.layout.periodicity,this.d0,T6.chart.symbol);if(r9 === 0){return;}p9=a$.layout.candleWidth / this.candleWidth;i$=y4.multiplier / this.multiplier;z_6.x49(7);this.setPoint(z_6.O_1("0",0),this.d0,this.v0,T6.chart);W8=a$.pixelFromTick(this.p0["0" - 0],T6.chart);P0=this.pixelFromValue(T6,this.p0[0],this.p0[1],y4);W$=[];z_6.d$I();l7=this.lineWidth;z0=this.getLineColor();x$={pattern:this.pattern,lineWidth:l7};for(var J2=0;J2 < this.pNodes.length;J2++){S5=r9 * p9 * this.pNodes[J2][0] + W8;z_6.l13(44);var o7v=z_6.O_1(11,1,21);K0=i$ * this.pNodes[J2]["1" << o7v];if(y4.flipped){z_6.l13(6);K0=z_6.C0r(P0,K0);}else {K0+=P0;}W$.push(S5,K0);}if(!W$.length){return;}if(this.splineTension < 0){a$.connectTheDots(W$,z0,this.name,X1,T6,x$);}else {a$.plotSpline(W$,this.splineTension,z0,this.name,X1,!![],x$);}};Y$.Drawing.freeform.prototype.adjust=function(){var k3,D5,a77,A2,l1,P_,R$Z,S0,f8f,E7;k3=this.stx;D5=k3.panels[this.panelName];if(!D5){return;}a77=[this.nodes[0],this.nodes[+"1"]];this.pNodes=[a77];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var N7=2;N7 < this.nodes.length;N7+=2){z_6.l13(2);A2=[this.nodes[N7],this.nodes[z_6.O_1(N7,1)]];this.pNodes.push(A2);this.lowX=Math.min(this.lowX,A2[0]);this.hiX=Math.max(this.hiX,A2[0]);this.lowY=Math.max(this.lowY,A2[+"1"]);this.hiY=Math.min(this.hiY,A2[1]);}l1=this.intervalRatio(this.interval,k3.layout.interval,this.periodicity,k3.layout.periodicity,this.d0,D5.chart.symbol);if(l1 === ("0" ^ 0)){return;}P_=k3.getYAxisByField(D5,this.field) || D5.yAxis;R$Z=k3.layout.candleWidth / this.candleWidth;S0=P_.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,D5.chart);f8f=k3.pixelFromTick(this.p0[+"0"],D5.chart);E7=this.pixelFromValue(D5,this.p0["0" >> 32],this.p0[1],P_);this.lowX=k3.tickFromPixel(Math.floor(l1 * R$Z * this.lowX) + f8f,D5.chart);this.hiX=k3.tickFromPixel(Math.ceil(l1 * R$Z * this.hiX) + f8f,D5.chart);if(P_.flipped){this.lowY=this.valueFromPixel(E7 - Math.floor(S0 * this.lowY),D5,P_);this.hiY=this.valueFromPixel(E7 - Math.ceil(S0 * this.hiY),D5,P_);}else {this.lowY=this.valueFromPixel(Math.floor(S0 * this.lowY) + E7,D5,P_);this.hiY=this.valueFromPixel(Math.ceil(S0 * this.hiY) + E7,D5,P_);}};Y$.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes,fld:this.field};};Y$.Drawing.freeform.prototype.reconstruct=function(q24,q_M){this.stx=q24;this.color=q_M.col;this.panelName=q_M.pnl;this.pattern=q_M.ptrn;this.lineWidth=q_M.lw;this.candleWidth=q_M.cw;z_6.R7g();this.multiplier=q_M.mlt;this.d0=q_M.d0;this.tzo0=q_M.tzo0;this.v0=q_M.v0;this.interval=q_M.inter;this.periodicity=q_M.pd;this.nodes=q_M.nodes;this.field=q_M.fld;this.adjust();};Y$.Drawing.callout=function(){var M8l;M8l="call";M8l+="ou";M8l+="t";this.name=M8l;this.arr=[];this.w=0;this.h=0;this.padding=5;this.text="";this.ta=null;this.border=![];this.fontSize=12;this.font={};this.stemEntry="";this.defaultWidth=35;;};Y$.inheritsFrom(Y$.Drawing.callout,Y$.Drawing.annotation);Y$.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"];Y$.Drawing.callout.prototype.copyConfig=function(Q0y){Y$.Drawing.copyConfig(this,Q0y);this.borderColor=this.color;};Y$.Drawing.callout.prototype.move=function(C1D,s17,N8p){if(!this.penDown){return;}this.copyConfig();this.p0=[s17,N8p];z_6.R7g();this.render(C1D);};Y$.Drawing.callout.prototype.onChange=function(S9_){var k76,t8o,i3u;k76=this.stx.panels[this.panelName];if(!k76){return;}t8o=S9_.target;this.w=t8o.clientWidth;this.h=t8o.clientHeight;i3u=this.context || this.stx.chart.tempCanvas.context;Y$.clearCanvas(i3u.canvas,this.stx);this.render(i3u);this.edit(i3u);};Y$.Drawing.callout.prototype.repositionTextArea=function(Y2a){var U4e,j60,v6P,Y1X,p1R;U4e="p";U4e+="x";z_6.x49(4);var h4w=z_6.C0r(7,0,5);j60=this.defaultWidth * h4w + this.whitespace + this.padding;v6P=-734146766;Y1X=389405719;p1R=2;for(var r_8=1;z_6.D29(r_8.toString(),r_8.toString().length,92779) !== v6P;r_8++){j60=Math.max(this.w,j60);p1R+=2;}if(z_6.D29(p1R.toString(),p1R.toString().length,54783) !== Y1X){j60=Math.max(this.w,j60);}z_6.l13(2);Y2a.style.width=z_6.O_1(j60,"px");z_6.x49(45);var Q5B=z_6.C0r(18,14,398,8);z_6.l13(6);var X0j=z_6.O_1(19,17);Y2a.style.left=Y$.stripPX(Y2a.style.left) - (!isNaN(j60)?j60 / Q5B:this.defaultWidth * X0j) + U4e;this.ta=Y2a;};Y$.Drawing.callout.prototype.render=function(B0A){var S3L,A0g,K$L,c8p,m4X,B8F,E9n,E80,N9j,p3Z,W6x,m8Y,R4h,h6h,r5N,R9k,B0P,w6A,i9$,t6V,m3m,D_D,U7I;S3L="alpha";S3L+="betic";A0g="to";A0g+="p";K$L=this.stx;c8p=K$L.panels[this.panelName];m4X=K$L.getYAxisByField(c8p,this.field);if(!c8p || this.field && !m4X){return;}this.context=B0A;B8F=K$L.pixelFromTick(this.p0[0],c8p.chart);E9n=this.pixelFromValue(c8p,this.p0["0" ^ 0],this.p0[1],m4X);if(isNaN(E9n)){return;}B0A.font=this.fontString;B0A.textBaseline=A0g;E80=B8F;N9j=E9n;p3Z=this.w / +"2";z_6.l13(32);var x0G=z_6.O_1(1,17,0,34);W6x=this.h / x0G;if(this.penDown){z_6.l13(46);var G1K=z_6.O_1(16,20,38);z_6.x49(2);var Y3u=z_6.O_1(54,10);p3Z=this.defaultWidth + this.whitespace / G1K + this.padding / ("2" << Y3u);W6x=this.fontSize + this.fontModifier;}m8Y=this.lineWidth;if(!m8Y){m8Y=1.1;}R4h=this.getLineColor();h6h=this.getLineColor(this.borderColor);i9$=Math.min(Math.min(p3Z,W6x) / 2,8);if(this.stem){if(this.stem.t){r5N=K$L.pixelFromTick(this.stem.t);B0P=this.pixelFromValue(c8p,this.stem.t,this.stem.v,m4X);}else if(this.stem.x){r5N=E80;B0P=N9j;E80+=this.stem.x;N9j+=this.stem.y;}t6V="";if(r5N >= E80 + p3Z){z_6.l13(2);R9k=z_6.O_1(E80,p3Z);t6V=(1653,5005) < (+"9730",2630)?(9141,352) < 4490?0x1922:0x7f9:"r";}else if(r5N > E80 - p3Z && r5N < E80 + p3Z){R9k=E80;t6V="c";}else if(r5N <= E80 - p3Z){z_6.l13(6);R9k=z_6.C0r(E80,p3Z);t6V="l";}if(B0P >= N9j + W6x){z_6.l13(2);w6A=z_6.C0r(N9j,W6x);t6V+=(6670,83.37) >= (4440,245.63)?(+"0xb8a",+"837.04"):"b";}else if(B0P > N9j - W6x && B0P < N9j + W6x){w6A=N9j;t6V+="m";}else if(B0P <= N9j - W6x){z_6.x49(6);w6A=z_6.C0r(N9j,W6x);t6V+=(2563,6040) != 6369?"t":("o",245.34);}this.stemEntry=t6V;if(t6V != "cm"){r5N=Math.round(r5N);R9k=Math.round(R9k);B0P=Math.round(B0P);w6A=Math.round(w6A);}}if(this.highlighted){K$L.canvasColor("stx_annotation_highlight_bg",B0A);}else {if(this.fillColor){B0A.fillStyle=this.fillColor;B0A.globalAlpha=0.7;}else if(this.stem){B0A.fillStyle=K$L.containerColor;}}B0A.strokeStyle=h6h;if(B0A.setLineDash){B0A.setLineDash(Y$.borderPatternToArray(m8Y,this.pattern));B0A.lineDashOffset=0;;}if(h6h){m3m="l";m3m+="t";D_D="r";D_D+="t";B0A.beginPath();B0A.lineWidth=m8Y;z_6.l13(4);B0A.moveTo(z_6.O_1(p3Z,E80,i9$),z_6.O_1(N9j,W6x,z_6.x49(6)));if(this.stemEntry != D_D){z_6.l13(2);B0A.quadraticCurveTo(z_6.C0r(E80,p3Z),z_6.C0r(N9j,W6x,z_6.l13(6)),z_6.C0r(E80,p3Z,z_6.l13(2)),z_6.C0r(N9j,W6x,i9$,z_6.x49(8)));;}else {B0A.lineTo(r5N,B0P);z_6.x49(2);B0A.lineTo(z_6.O_1(E80,p3Z),z_6.C0r(N9j,W6x,i9$,z_6.l13(8)));}z_6.l13(2);B0A.lineTo(z_6.O_1(E80,p3Z),z_6.O_1(2,i9$,N9j,z_6.x49(47)));if(this.stemEntry == "rm"){B0A.lineTo(r5N,B0P);}z_6.l13(2);B0A.lineTo(z_6.C0r(E80,p3Z),z_6.C0r(i9$,N9j,"2",z_6.l13(48)));z_6.x49(2);B0A.lineTo(z_6.C0r(E80,p3Z),z_6.O_1(W6x,N9j,i9$,z_6.l13(4)));if(this.stemEntry != "rb"){z_6.x49(2);B0A.quadraticCurveTo(z_6.O_1(E80,p3Z),z_6.O_1(N9j,W6x,z_6.l13(2)),z_6.C0r(p3Z,E80,i9$,z_6.x49(4)),z_6.O_1(N9j,W6x,z_6.l13(2)));;}else {B0A.lineTo(r5N,B0P);z_6.l13(4);B0A.lineTo(z_6.C0r(p3Z,E80,i9$),z_6.O_1(N9j,W6x,z_6.l13(2)));}z_6.x49(49);B0A.lineTo(z_6.C0r(E80,2,i9$),z_6.O_1(N9j,W6x,z_6.l13(2)));if(this.stemEntry == "cb"){B0A.lineTo(r5N,B0P);}z_6.x49(47);B0A.lineTo(z_6.C0r(2,i9$,E80),z_6.C0r(N9j,W6x,z_6.l13(2)));z_6.x49(8);B0A.lineTo(z_6.O_1(E80,p3Z,i9$),z_6.O_1(N9j,W6x,z_6.l13(2)));if(this.stemEntry != "lb"){z_6.l13(6);B0A.quadraticCurveTo(z_6.O_1(E80,p3Z),z_6.O_1(N9j,W6x,z_6.l13(2)),z_6.C0r(E80,p3Z,z_6.x49(6)),z_6.C0r(W6x,N9j,i9$,z_6.x49(4)));;}else {B0A.lineTo(r5N,B0P);z_6.l13(6);B0A.lineTo(z_6.O_1(E80,p3Z),z_6.O_1(W6x,N9j,i9$,z_6.l13(4)));}z_6.l13(6);B0A.lineTo(z_6.C0r(E80,p3Z),z_6.O_1(N9j,2,i9$,z_6.x49(49)));if(this.stemEntry == "lm"){B0A.lineTo(r5N,B0P);}z_6.l13(6);B0A.lineTo(z_6.C0r(E80,p3Z),z_6.O_1(2,i9$,N9j,z_6.l13(47)));z_6.l13(6);B0A.lineTo(z_6.O_1(E80,p3Z),z_6.O_1(N9j,W6x,i9$,z_6.l13(8)));if(this.stemEntry != m3m){z_6.x49(6);B0A.quadraticCurveTo(z_6.O_1(E80,p3Z),z_6.O_1(N9j,W6x,z_6.l13(6)),z_6.C0r(E80,p3Z,i9$,z_6.l13(8)),z_6.O_1(N9j,W6x,z_6.l13(6)));;}else {B0A.lineTo(r5N,B0P);z_6.x49(8);B0A.lineTo(z_6.C0r(E80,p3Z,i9$),z_6.O_1(N9j,W6x,z_6.l13(6)));}z_6.l13(47);B0A.lineTo(z_6.O_1(2,i9$,E80),z_6.O_1(N9j,W6x,z_6.l13(6)));if(this.stemEntry == "ct"){B0A.lineTo(r5N,B0P);}z_6.x49(49);B0A.lineTo(z_6.O_1(E80,2,i9$),z_6.C0r(N9j,W6x,z_6.x49(6)));z_6.l13(4);B0A.lineTo(z_6.C0r(p3Z,E80,i9$),z_6.O_1(N9j,W6x,z_6.l13(6)));B0A.fill();B0A.globalAlpha=+"1";if(this.pattern != "none"){B0A.stroke();}}if(this.highlighted){K$L.canvasColor("stx_annotation_highlight",B0A);}else {B0A.fillStyle=R4h;}N9j+=this.padding;if(!this.ta){for(var y2q=0;y2q < this.arr.length;y2q++){B0A.fillText(this.arr[y2q],E80 - p3Z + this.padding,N9j - W6x);N9j+=this.fontSize;}}B0A.textBaseline=S3L;if(this.highlighted && !this.noHandles){U7I=this.highlighted == "p0"?!![]:!1;this.littleCircle(B0A,r5N,B0P,U7I);};};Y$.Drawing.callout.prototype.click=function(a9E,t38,u1b){var y6r;if(this.stx.overXAxis || this.stx.overYAxis){return;}y6r=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,t38,u1b,y6r.chart);z_6.R7g();if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=!"";this.adjust();return !({});}this.adjust();this.edit(a9E);this.penDown=![];return !({});};Y$.Drawing.callout.prototype.reposition=function(Z0L,M1D,y44,n0N){var a0C,C0m,t1t,e_y,u6j,i0J;if(!M1D){return;}a0C=this.stx.panels[this.panelName];C0m=M1D.tick - y44;t1t=M1D.value - n0N;if(M1D.stem){if(M1D.action == "drag"){e_y=400077707;u6j=600643289;i0J=2;for(var T6d=1;z_6.D29(T6d.toString(),T6d.toString().length,68038) !== e_y;T6d++){this.stem={d:this.stx.dateFromTick(y44,a0C.chart,!!({})),v:n0N};i0J+=2;}if(z_6.D29(i0J.toString(),i0J.toString().length,97221) !== u6j){this.stem={d:this.stx.dateFromTick(y44,a0C.chart,!!0),v:n0N};}}else if(M1D.action == "move"){this.setPoint(0,M1D.p0[0] - C0m,M1D.p0[1] - t1t,a0C.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(M1D.stem.d,a0C.chart) - C0m),v:M1D.stem.v - t1t};}this.adjust();}else {this.setPoint(0,M1D.p0[0] - C0m,M1D.p0[1] - t1t,a0C.chart);}this.render(Z0L);};Y$.Drawing.callout.prototype.lineIntersection=function(H5g,R2O,c1_,B_9){var v4k,n1K,D6J,S1D,S2X,i2y,L1q,z0Z,p$T,C9T,u$m;v4k=this.stem;n1K=this.p0;D6J=this.stx;S1D=D6J.panels[this.panelName];if(!n1K || !v4k || !S1D){return !!0;}S2X=v4k.t || D6J.tickFromDate(v4k.d,S1D.chart);i2y={x0:n1K[0],x1:S2X,y0:n1K[1],y1:v4k.v};L1q=this.boxToPixels(D6J,this.panelName,i2y,D6J.getYAxisByField(S1D,this.field));z0Z=L1q.x0;p$T=L1q.y0;z_6.R7g();C9T=L1q.x1;u$m=L1q.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf("l") > -1){z_6.l13(13);var X3Q=z_6.O_1(8,10);z0Z-=this.w / X3Q;}else if(this.stemEntry.indexOf((9522,9540) !== +"19.15"?"r":("4.08e+3" * 1,246.71)) > -1){z_6.x49(50);var a$c=z_6.O_1(178,17,11,2,4);z0Z+=this.w / a$c;}if(this.stemEntry.indexOf("t") > -1){z_6.l13(10);var e1w=z_6.C0r(0,1,5,15);p$T-=this.h / e1w;}else if(this.stemEntry.indexOf(8810 > 5210?"b":(!1,3.72e+3)) > -("1" ^ 0)){z_6.x49(38);var E9Q=z_6.O_1(10,128,15,20);p$T+=this.h / E9Q;}}return Y$.boxIntersects(c1_.cx0,c1_.cy0,c1_.cx1,c1_.cy1,z0Z,p$T,C9T,u$m,B_9);};Y$.Drawing.callout.prototype.intersected=function(t4e,R97,E3Y){var o16,C5a,R$2,Z$G,T2A,u_I,w5Q,y8k,R2R,h_3,G4r,M$A,L2R,B$A,f5g,C$O,O28,Z0R,h3N,W3a,f0K;o16=this.stx;C5a=o16.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,E3Y)){R$2="d";R$2+="r";R$2+="ag";this.highlighted="p0";return {action:R$2,stem:!![]};}z_6.x49(51);var M4F=z_6.C0r(7,13,19,154);Z$G=o16.pixelFromTick(this.p0[0],C5a.chart) - this.w / M4F;T2A=o16.getYAxisByField(C5a,this.field);z_6.l13(13);var p7G=z_6.C0r(19,20);z_6.x49(52);var E$x=z_6.O_1(6,12,14,58,14);u_I=this.pixelFromValue(C5a,this.p0[0],this.p0[p7G],T2A) - this.h / E$x;w5Q=Z$G + this.w;y8k=u_I + this.h;if(this.stem && this.stem.x){Z$G+=this.stem.x;w5Q+=this.stem.x;u_I+=this.stem.y;y8k+=this.stem.y;}R2R=o16.pixelFromTick(t4e,C5a.chart);h_3=o16.pixelFromValueAdjusted(C5a,t4e,R97);if(R2R + E3Y.r >= Z$G && R2R - E3Y.r <= w5Q && h_3 + E3Y.r >= u_I && h_3 - E3Y.r <= y8k){this.highlighted=!!({});G4r=2013740014;M$A=-1896140530;L2R=2;for(var u6M=1;z_6.c2O(u6M.toString(),u6M.toString().length,+"40981") !== G4r;u6M++){return {p0:Y$.clone(this.p0),tick:t4e,value:this.valueOnDrawingAxis(t4e,R97)};}if(z_6.c2O(L2R.toString(),L2R.toString().length,52617) !== M$A){return {p0:Y$.clone(this.p0),tick:t4e,value:this.valueOnDrawingAxis(t4e,R97)};}}B$A=-805169200;f5g=-993418030;C$O=2;for(var R_5=1;z_6.c2O(R_5.toString(),R_5.toString().length,56129) !== B$A;R_5++){O28="se";O28+="gment";Z0R=this.lineIntersection(t4e,R97,E3Y,O28);C$O+=2;}if(z_6.D29(C$O.toString(),C$O.toString().length,63736) !== f5g){Z0R=this.lineIntersection(t4e,R97,E3Y,"");}if(Z0R){h3N=1399170211;W3a=-531294020;f0K=2;for(var u1V="1" >> 32;z_6.c2O(u1V.toString(),u1V.toString().length,20862) !== h3N;u1V++){this.highlighted=!!"";f0K+=2;}if(z_6.D29(f0K.toString(),f0K.toString().length,98644) !== W3a){this.highlighted=!![];}return {action:"move",stem:Y$.clone(this.stem),p0:Y$.clone(this.p0),tick:t4e,value:this.valueOnDrawingAxis(t4e,R97)};}return null;};Y$.Drawing.fibonacci=function(){var z7N,U0t,D4U,l54;z7N="fibon";z7N+="acc";z7N+="i";U0t=326976685;z_6.l13(17);D4U=z_6.O_1("59698018",64);l54=2;for(var A_3=1;z_6.c2O(A_3.toString(),A_3.toString().length,39922) !== U0t;A_3++){this.name="";l54+=2;}if(z_6.c2O(l54.toString(),l54.toString().length,80046) !== D4U){this.name="";}this.name="fibonacci";this.configurator=z7N;};Y$.inheritsFrom(Y$.Drawing.fibonacci,Y$.Drawing.BaseTwoPoint);Y$.Drawing.fibonacci.mapping={trend:"t",color:"c",parameters:"p",pattern:"pt",opacity:"o",lineWidth:"lw",level:"l",extendLeft:+"4362" !== (9760,33.92)?"e":("x",34.20),printLevels:"pl",printValues:"pv",timezone:"tz",display:"d"};z_6.x49(20);Y$.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,+"0.382",z_6.O_1(1,"0.5"),0.618,1,+"1.382",1.618];Y$.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"];Y$.Drawing.fibonacci.prototype.initializeSettings=function(o6I){var r5u,O3R;r5u=this.recommendedLevels;z_6.R7g();if(r5u && !o6I.currentVectorParameters.fibonacci.fibsAlreadySet){O3R=o6I.currentVectorParameters.fibonacci.fibs;for(var s1m=0;s1m < O3R.length;s1m++){delete O3R[s1m].display;for(var U$s=0;U$s < r5u.length;U$s++){if(O3R[s1m].level == r5u[U$s]){O3R[s1m].display=!![];}}}}};Y$.Drawing.fibonacci.prototype.setOuter=function(){var W2G,O_v,V40,W5s,U73,Z_2,T_T,g5h,m3G,C6k,w2a,H2Z,s4k,M1q,J_g;W2G=this.stx;O_v=W2G.panels[this.panelName];if(!O_v){return;}V40=Math.max(this.p0[1],this.p1[1]);W5s=Math.min(this.p0[1],this.p1["1" ^ 0]);z_6.l13(6);U73=z_6.O_1(V40,W5s);this.outer={p0:Y$.clone(this.p0),p1:Y$.clone(this.p1)};Z_2=W2G.pixelFromTick(this.p0[0],O_v.chart);T_T=W2G.pixelFromTick(this.p1[+"0"],O_v.chart);g5h=W2G.getYAxisByField(O_v,this.field);m3G=this.pixelFromValue(O_v,this.p0["0" - 0],this.p0["1" - 0],g5h);C6k=this.pixelFromValue(O_v,this.p1[0],this.p1[1],g5h);w2a=0;H2Z=1;for(var b1m=0;b1m < this.parameters.fibs.length;b1m++){s4k=this.parameters.fibs[b1m];if(s4k.level >= w2a && s4k.level <= H2Z || !s4k.display)continue;M1q=this.pixelFromValue(O_v,this.p0[0],C6k < m3G?V40 - U73 * s4k.level:W5s + U73 * s4k.level,g5h);J_g=Y$.xIntersection({x0:Z_2,x1:T_T,y0:m3G,y1:C6k},M1q);if(s4k.level < w2a){w2a=s4k.level;this.outer.p1[1]=this.valueFromPixel(M1q,O_v,g5h);this.outer.p1[0]=W2G.tickFromPixel(J_g,O_v.chart);}else if(s4k.level > H2Z){H2Z=s4k.level;this.outer.p0[1]=this.valueFromPixel(M1q,O_v,g5h);this.outer.p0[0]=W2G.tickFromPixel(J_g,O_v.chart);}}};Y$.Drawing.fibonacci.prototype.click=function(D4a,z98,S$N){z_6.d$I();var s4t;s4t=this.stx.panels[this.panelName];if(!s4t){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,z98,S$N,s4t.chart);this.penDown=!!({});return !!0;}if(this.accidentalClick(z98,S$N)){return !!"1";}this.setPoint(1,z98,S$N,s4t.chart);this.setOuter();this.parameters=Y$.clone(this.parameters);this.penDown=!1;return !!"1";;};Y$.Drawing.fibonacci.prototype.render=function(B54){var L4v,k4T,F3t,o35,g$L,T_3,j_e,O4L,w6Q,M1O,E7O,n8_,R$q,K$h,r2a,U3r,Z3x,G3V,y7c,V2M,O4N,g5y,g7g,E2r,s9E,r0g,Z7G,W9Z,G5c,a5n,m0S,t3l,U38,M8V,g5O,j3R,K9d,W7Q;L4v="stx";L4v+="_ya";L4v+="x";L4v+="is";k4T=this.stx;F3t=k4T.panels[this.panelName];o35=k4T.getYAxisByField(F3t,this.field);if(!F3t || this.field && !o35){return;}o35=o35 || F3t.yAxis;if(!this.p1){return;}g$L=Math.max(this.p0[1],this.p1[1]);T_3=Math.min(this.p0[1],this.p1[1]);j_e=o35.flipped?T_3 - g$L:g$L - T_3;O4L=k4T.pixelFromTick(this.p0["0" - 0],F3t.chart);w6Q=k4T.pixelFromTick(this.p1[0],F3t.chart);M1O=this.pixelFromValue(F3t,this.p0[0],this.p0[1],o35);E7O=this.pixelFromValue(F3t,this.p1[0],this.p1[1],o35);n8_=Math.min(E7O,M1O);R$q=Math.max(E7O,M1O);z_6.x49(6);K$h=z_6.C0r(R$q,n8_);z_6.l13(53);r2a=z_6.C0r("0",1,O4L,M1O,E7O,w6Q);z_6.R7g();U3r={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=U3r;}Z3x=this.getLineColor(this.parameters.trend.color);B54.textBaseline="middle";k4T.canvasFont(L4v,B54);z_6.x49(38);var Q8W=z_6.O_1(2,18,15,2);G3V=B54.measureText("161.8%").width + Q8W;y7c=Number.MAX_VALUE;V2M=Number.MAX_VALUE;z_6.l13(54);var Q0o=z_6.C0r(10,26401,12,11,20);O4N=Number.MAX_VALUE * Q0o;z_6.x49(13);var E6A=z_6.C0r(13,12);g5y=Number.MAX_VALUE * E6A;g7g=this.getLineColor();this.rays=[];for(var b_j=0;b_j < this.parameters.fibs.length;b_j++){E2r="aut";E2r+="o";B54.textAlign="left";B54.fillStyle=g7g;s9E=this.parameters.fibs[b_j];if(!s9E.display)continue;r0g=this.pixelFromValue(F3t,this.p0[0],E7O < M1O?g$L - j_e * s9E.level:T_3 + j_e * s9E.level,o35);Z7G=Y$.xIntersection({x0:O4L,x1:w6Q,y0:M1O,y1:E7O},r0g);W9Z=this.parameters.extendLeft?0:Z7G;G5c=F3t.left + F3t.width;if(this.parameters.printLevels){z_6.l13(30);var i9r=z_6.O_1(23,335,15);a5n=Math.round(s9E.level * +"1000") / i9r + "%";G5c-=G3V;if(this.parameters.printValues){B54.fillStyle=g7g;k4T.canvasFont("stx_yaxis",B54);;}if(G5c < W9Z){B54.textAlign="right";}B54.fillText(a5n,G5c,r0g);if(G5c < W9Z){z_6.x49(17);G5c+=z_6.C0r("5",4);}else {G5c-=5;}}if(this.parameters.printValues){if(Z7G < F3t.width){m0S=this.valueFromPixel(r0g,F3t,o35);if(o35.priceFormatter){m0S=o35.priceFormatter(k4T,F3t,m0S);}else {m0S=k4T.formatYAxisPrice(m0S,F3t,null,o35);}if(B54 == k4T.chart.context){k4T.endClip();}k4T.createYAxisLabel(F3t,m0S,r0g,this.getLineColor(null,!!1),null,B54,o35);if(B54 == k4T.chart.context){k4T.startClip(F3t.name);}}}t3l=s9E.color;if(t3l == E2r || Y$.isTransparent(t3l)){t3l=this.getLineColor();}U38=s9E.color;if(U38 == "auto" || Y$.isTransparent(U38)){U38=this.fillColor;}if(U38 == "auto" || Y$.isTransparent(U38)){U38=k4T.defaultColor;}B54.fillStyle=U38;M8V=Y$.clone(s9E.parameters);if(this.highlighted){M8V.opacity=+"1";}k4T.plotLine(W9Z,G5c,r0g,r0g,t3l,"segment",B54,F3t,M8V);this.rays.push([[W9Z,r0g],[G5c,r0g]]);B54.globalAlpha=0.05;B54.beginPath();B54.moveTo(G5c,r0g);B54.lineTo(W9Z,r0g);if(W9Z){B54.lineTo(w6Q,E7O);}else {B54.lineTo(W9Z,E7O);}B54.lineTo(G5c,E7O);if(typeof U38 != "undefined"){B54.fill();}B54.globalAlpha=1;if(r0g < V2M){y7c=Z7G;V2M=r0g;}if(r0g > g5y){O4N=Z7G;g5y=r0g;}}for(var A3v=0;A3v <= 1;A3v++){g5O=r2a?R$q - K$h * A3v:n8_ + K$h * A3v;g5O=Math.round(g5O);if(g5O < V2M){y7c=Y$.xIntersection({x0:O4L,x1:w6Q,y0:M1O,y1:E7O},g5O);V2M=g5O;}if(g5O > g5y){O4N=Y$.xIntersection({x0:O4L,x1:w6Q,y0:M1O,y1:E7O},g5O);g5y=g5O;}}j3R=Y$.clone(this.parameters.trend.parameters);if(this.highlighted){j3R.opacity=1;}k4T.plotLine(y7c,O4N,V2M,g5y,Z3x,"segment",B54,F3t,j3R);if(this.highlighted){K9d=this.highlighted == "p0"?!!({}):!({});W7Q=this.highlighted == "p1"?!"":![];this.littleCircle(B54,O4L,M1O,K9d);this.littleCircle(B54,w6Q,E7O,W7Q);}};Y$.Drawing.fibonacci.prototype.reposition=function(E2v,z_w,u8u,B4N){if(!z_w){return;}Y$.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};Y$.Drawing.fibonacci.prototype.intersected=function(M9U,X_K,I$Z){var N6s,m$R,w7a,J2w,Y$$,j4v;N6s=this.p0;m$R=this.p1;if(!N6s || !m$R){return null;}w7a={0:N6s,1:m$R};for(var G0q in w7a){if(this.pointIntersection(w7a[G0q]["0" | 0],w7a[G0q][1],I$Z)){z_6.l13(2);this.highlighted=z_6.O_1(951.54 != 657.65?"p":545.28 == (300.87,414)?("m",!!({})):(755.12,318),G0q);return {action:"drag",point:(9030 >= (6190,6468)?"p":!!({})) + G0q};}}J2w=this.outer;Y$$=this.rays;j4v=J2w && this.lineIntersection(M9U,X_K,I$Z,"segment",J2w.p0,J2w.p1);if(!j4v){for(var k7A=0;k7A < Y$$.length;k7A++){if(this.lineIntersection(M9U,X_K,I$Z,"ray",Y$$[k7A][0],Y$$[k7A][1],!!({}))){j4v=!![];break;}}}z_6.R7g();if(j4v){this.highlighted=!"";return {action:"move",p0:Y$.clone(N6s),p1:Y$.clone(m$R),tick:M9U,value:this.valueOnDrawingAxis(M9U,X_K)};}return null;};Y$.Drawing.fibonacci.prototype.reconstruct=function(z4u,o5c){z_6.R7g();o5c=Y$.replaceFields(o5c,Y$.reverseObject(Y$.Drawing.fibonacci.mapping));this.stx=z4u;this.parameters=o5c.parameters;if(!this.parameters){this.parameters=Y$.clone(this.stx.currentVectorParameters.fibonacci);}this.color=o5c.col;this.fillColor=o5c.fc;this.panelName=o5c.pnl;this.d0=o5c.d0;this.d1=o5c.d1;this.d2=o5c.d2;this.tzo0=o5c.tzo0;this.tzo1=o5c.tzo1;this.tzo2=o5c.tzo2;this.v0=o5c.v0;this.v1=o5c.v1;this.v2=o5c.v2;this.field=o5c.fld;this.adjust();};Y$.Drawing.fibonacci.prototype.adjust=function(){z_6.R7g();var R5B;R5B=this.stx.panels[this.panelName];if(!R5B){return;}this.setPoint(0,this.d0,this.v0,R5B.chart);this.setPoint(1,this.d1,this.v1,R5B.chart);this.setOuter();};Y$.Drawing.fibonacci.prototype.serialize=function(){var x7n;x7n={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};return Y$.replaceFields(x7n,Y$.Drawing.fibonacci.mapping);};Y$.Drawing.retracement=function(){var Q1L;Q1L="re";z_6.d$I();Q1L+="tracement";this.name=Q1L;};Y$.inheritsFrom(Y$.Drawing.retracement,Y$.Drawing.fibonacci);Y$.Drawing.fibprojection=function(){this.name="fibprojection";this.dragToDraw=!1;z_6.R7g();this.p2=null;};Y$.inheritsFrom(Y$.Drawing.fibprojection,Y$.Drawing.fibonacci);z_6.l13(6);Y$.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,1.618,z_6.O_1("2.618",0),+"4.236"];Y$.Drawing.fibprojection.prototype.click=function(S8O,h3M,v43){var Q$x,y_v;Q$x=this.stx;z_6.d$I();y_v=Q$x.panels[this.panelName];if(!y_v){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",h3M,v43,y_v.chart);this.penDown=!![];return !!"";}if(this.accidentalClick(h3M,v43)){Q$x.undo();return !!({});}if(this.p2 !== null){z_6.l13(20);this.setPoint(z_6.C0r(1,"2"),this.p2["0" ^ 0],this.p2[1],y_v.chart);this.parameters=Y$.clone(this.parameters);return !!({});}this.setPoint(1,h3M,v43,y_v.chart);this.p2=[this.p1[0],this.p1[+"1"]];return !({});;};Y$.Drawing.fibprojection.prototype.render=function(G9i){var e1k,o0V,G1g,l7d,c$N,w_4,R4S,Q4z,h9A,B6A,D6O,p5m,c$T,F6N,v2z,f5S,J9Z,K5F,C$l,l_a,e3e,j5r,L9t,K1s,p8y,S$G,n8b,d1n,b8T,A2z,O03,W_O,j_I;e1k="au";e1k+="to";o0V=this.stx;G1g=o0V.panels[this.panelName];l7d=o0V.getYAxisByField(G1g,this.field);if(!G1g || this.field && !l7d){return;}l7d=l7d || G1g.yAxis;if(!this.p1){return;}z_6.R7g();z_6.x49(46);var Q_y=z_6.O_1(3,16,20);z_6.l13(13);var H0o=z_6.C0r(18,19);c$N=this.p1[Q_y] - this.p0[H0o];w_4=o0V.pixelFromTick(this.p0[+"0"],G1g.chart);R4S=o0V.pixelFromTick(this.p1[0],G1g.chart);Q4z=this.pixelFromValue(G1g,this.p0[0],this.p0["1" * 1],l7d);h9A=this.pixelFromValue(G1g,this.p1[0],this.p1[+"1"],l7d);B6A=null;D6O=null;if(this.p2){B6A=o0V.pixelFromTick(this.p2["0" >> 0],G1g.chart);D6O=this.pixelFromValue(G1g,this.p2[0],this.p2[1],l7d);}p5m={color:e1k,parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" * 1}};if(!this.parameters.trend){this.parameters.trend=p5m;}c$T=this.getLineColor(this.parameters.trend.color);G9i.textBaseline="middle";o0V.canvasFont("stx_yaxis",G9i);z_6.l13(55);var R90=z_6.C0r(10,8,12);F6N=G9i.measureText("161.8%").width + R90;v2z=this.getLineColor();if(this.p2){this.rays=[];for(var P96=0;P96 < this.parameters.fibs.length;P96++){f5S="undefin";f5S+="e";f5S+="d";G9i.textAlign="left";G9i.fillStyle=v2z;J9Z=this.parameters.fibs[P96];if(!J9Z.display)continue;K5F=this.pixelFromValue(G1g,this.p2[0],this.p2[1] + c$N * J9Z.level,l7d);C$l=Y$.xIntersection({x0:w_4,x1:R4S,y0:Q4z,y1:h9A},K5F);l_a=this.parameters.extendLeft?0:w_4;e3e=G1g.left + G1g.width;if(this.parameters.printLevels){j5r="righ";j5r+="t";z_6.x49(56);var F7h=z_6.C0r(925,4,71);z_6.x49(57);var l4u=z_6.C0r(9,4,3,7);z_6.x49(57);var e_U=z_6.O_1(232,9,1410,3);z_6.x49(58);var G_f=z_6.C0r(26748,20093,20,12);z_6.x49(30);var N7y=z_6.O_1(6236,37412,7);z_6.x49(44);var z62=z_6.O_1(708,177,5658);z_6.l13(6);var D9b=z_6.C0r(18,17);z_6.x49(26);var o4_=z_6.C0r(177460,14,700556,4);z_6.l13(4);var G07=z_6.C0r(6,8163,9);z_6.l13(9);var h1N=z_6.O_1(3176,1058,5,9);z_6.l13(2);var b48=z_6.O_1(529,15);z_6.l13(51);var M4z=z_6.O_1(4,8,1350,4018);z_6.x49(2);var M0E=z_6.C0r(825,8245);L9t=Math.round(J9Z.level * F7h) / l4u + (+"6920" <= (e_U,G_f)?(N7y,z62) == ("264.68" * D9b,o4_)?(!!({}),!({})):(858.74,G07) !== (31.07,h1N)?(b48,M4z):M0E:"%");e3e-=F6N;if(this.parameters.printValues){G9i.fillStyle=v2z;o0V.canvasFont("stx_yaxis",G9i);;}if(e3e < l_a){G9i.textAlign=j5r;}G9i.fillText(L9t,e3e,K5F);if(e3e < l_a){e3e+=+"5";}else {e3e-=5;}}if(this.parameters.printValues){if(C$l < G1g.width){K1s=this.valueFromPixel(K5F,G1g,l7d);if(l7d.priceFormatter){K1s=l7d.priceFormatter(o0V,G1g,K1s);}else {K1s=o0V.formatYAxisPrice(K1s,G1g,null,l7d);}if(G9i == o0V.chart.context){o0V.endClip();}o0V.createYAxisLabel(G1g,K1s,K5F,this.getLineColor(null,!!"1"),null,G9i,l7d);if(G9i == o0V.chart.context){o0V.startClip(G1g.name);}}}p8y=J9Z.color;if(p8y == "auto" || Y$.isTransparent(p8y)){p8y=this.getLineColor();}S$G=J9Z.color;if(S$G == "auto" || Y$.isTransparent(S$G)){S$G=this.fillColor;}if(S$G == "auto" || Y$.isTransparent(S$G)){S$G=o0V.defaultColor;}G9i.fillStyle=S$G;n8b=Y$.clone(J9Z.parameters);if(this.highlighted){n8b.opacity=1;}o0V.plotLine(l_a,e3e,K5F,K5F,p8y,"segment",G9i,G1g,n8b);this.rays.push([[l_a,K5F],[e3e,K5F]]);G9i.globalAlpha=0.05;G9i.beginPath();G9i.moveTo(e3e,K5F);G9i.lineTo(l_a,K5F);if(l_a){G9i.lineTo(w_4,D6O);}else {G9i.lineTo(l_a,D6O);}G9i.lineTo(e3e,D6O);if(typeof S$G != f5S){G9i.fill();}z_6.l13(17);G9i.globalAlpha=z_6.C0r("1",1);}}d1n=Y$.clone(this.parameters.trend.parameters);if(this.highlighted){d1n.opacity=1;}o0V.plotLine(w_4,R4S,Q4z,h9A,c$T,"segment",G9i,G1g,d1n);if(this.p2){o0V.plotLine(R4S,B6A,h9A,D6O,c$T,"segment",G9i,G1g,d1n);}if(this.highlighted){b8T="p";b8T+="1";A2z="p";A2z+="0";O03=this.highlighted == A2z?!!1:![];W_O=this.highlighted == b8T?!!"1":!({});j_I=this.highlighted == "p2"?!"":!"1";this.littleCircle(G9i,w_4,Q4z,O03);this.littleCircle(G9i,R4S,h9A,W_O);this.littleCircle(G9i,B6A,D6O,j_I);}};Y$.Drawing.fibprojection.prototype.move=function(a5K,U33,A3U){z_6.R7g();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[U33,A3U];}else {this.p2=[U33,A3U];}this.render(a5K);};Y$.Drawing.fibprojection.prototype.reposition=function(A0M,G0s,h_5,y6q){var i6g,b1k,V1I;if(!G0s){return;}i6g=this.stx.panels[this.panelName];b1k=G0s.tick - h_5;V1I=G0s.value - y6q;z_6.R7g();if(G0s.action == "move"){this.setPoint(0,G0s.p0[+"0"] - b1k,G0s.p0[1] - V1I,i6g.chart);this.setPoint(1,G0s.p1[0] - b1k,G0s.p1[1] - V1I,i6g.chart);this.setPoint(2,G0s.p2[0] - b1k,G0s.p2[1] - V1I,i6g.chart);this.render(A0M);}else if(G0s.action == "drag"){this[G0s.point]=[h_5,y6q];this.setPoint(0,this.p0["0" >> 0],this.p0[+"1"],i6g.chart);this.setPoint(1,this.p1[0],this.p1[+"1"],i6g.chart);this.setPoint(2,this.p2[0],this.p2["1" * 1],i6g.chart);this.render(A0M);}};Y$.Drawing.fibprojection.prototype.intersected=function(N6E,b0q,I3N){var C8H,l7S,D66,Q86,v_B,T4A,r23;C8H="s";C8H+="eg";C8H+="m";z_6.d$I();C8H+="ent";l7S=this.p0;D66=this.p1;Q86=this.p2;if(!l7S || !D66 || !Q86){return null;}v_B={0:l7S,1:D66,2:Q86};for(var V$U in v_B){if(this.pointIntersection(v_B[V$U][0],v_B[V$U][+"1"],I3N)){z_6.l13(2);this.highlighted=z_6.O_1("61.01" * 1 > (603.07,4295)?766.17 <= (6700,835.14)?(2444,3842) != "512.46" * 1?+"1.37e+3":+"2.89e+2":"t":"p",V$U);return {action:"drag",point:"p" + V$U};}}T4A=this.rays;r23=this.lineIntersection(N6E,b0q,I3N,C8H,l7S,D66) || this.lineIntersection(N6E,b0q,I3N,"segment",D66,Q86);if(!r23){for(var l3I=0;l3I < T4A.length;l3I++){if(this.lineIntersection(N6E,b0q,I3N,"ray",T4A[l3I][0],T4A[l3I][1],!![])){r23=!0;break;}}}if(r23){this.highlighted=!!({});return {action:"move",p0:Y$.clone(l7S),p1:Y$.clone(D66),p2:Y$.clone(Q86),tick:N6E,value:this.valueOnDrawingAxis(N6E,b0q)};}return null;};Y$.Drawing.fibprojection.prototype.adjust=function(){var a8F;a8F=this.stx.panels[this.panelName];if(!a8F){return;}this.setPoint(+"0",this.d0,this.v0,a8F.chart);this.setPoint(1,this.d1,this.v1,a8F.chart);this.setPoint(2,this.d2,this.v2,a8F.chart);};Y$.Drawing.fibarc=function(){this.name="fibarc";z_6.d$I();;};Y$.inheritsFrom(Y$.Drawing.fibarc,Y$.Drawing.fibonacci);z_6.l13(0);Y$.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,z_6.C0r(64,"1")];Y$.Drawing.fibarc.prototype.setOuter=function(){var b37,J88,p_l,Q6h,C7A,N3Y,m4H,w39,u0h;b37=this.stx;J88=b37.panels[this.panelName];if(!J88){return;}this.outer={p0:Y$.clone(this.p0),p1:Y$.clone(this.p1)};p_l=b37.getYAxisByField(J88,this.field);Q6h=this.pixelFromValue(J88,this.p0[0],this.p0["1" >> 0],p_l);C7A=this.pixelFromValue(J88,this.p1["0" * 1],this.p1["1" >> 32],p_l);N3Y=b37.pixelFromTick(this.p0[0],J88.chart);m4H=b37.pixelFromTick(this.p1[0],J88.chart);z_6.x49(59);w39=z_6.O_1("2",C7A,Q6h);u0h=Y$.xIntersection({x0:N3Y,x1:m4H,y0:Q6h,y1:C7A},w39);z_6.l13(6);this.outer.p0[z_6.C0r("1",0)]=this.valueFromPixel(w39,J88,p_l);this.outer.p0[0]=b37.tickFromPixel(u0h,J88.chart);};Y$.Drawing.fibarc.prototype.intersected=function(t9P,M0B,l5l){var M9E,P75,L4m,z_a,r3Y,f0L,a8S,Q4o,B_$,i4W,d1I,P1Z,d1v;M9E=this.stx;P75=M9E.panels[this.panelName];if(!P75){return;}L4m=this.p0;z_a=this.p1;r3Y=this.outer;if(!L4m || !z_a){return null;}f0L={0:L4m,1:z_a};for(var o57 in f0L){if(this.pointIntersection(f0L[o57][0],f0L[o57]["1" | 0],l5l)){z_6.l13(2);this.highlighted=z_6.C0r("p",o57);return {action:"drag",point:"p" + o57};}}a8S=this.valueOnDrawingAxis(t9P,M0B);if(this.lineIntersection(t9P,a8S,l5l,"segment",r3Y.p0,r3Y.p1)){this.highlighted=!"";return {action:"move",p0:Y$.clone(L4m),p1:Y$.clone(z_a),tick:t9P,value:a8S};}Q4o=M9E.getYAxisByField(P75,this.field);B_$={x0:L4m[0],x1:z_a[0],y0:L4m[1],y1:z_a[1]};i4W=this.boxToPixels(M9E,this.panelName,B_$,Q4o);d1I={x:Math.abs(Math.sqrt(2) * (i4W.x1 - i4W.x0)),y:Math.abs(Math.sqrt(2) * (i4W.y1 - i4W.y0))};P1Z=M9E.pixelFromTick(t9P,P75.chart);d1v=M9E.pixelFromValueAdjusted(P75,t9P,M0B);if(P1Z + l5l.r < i4W.x1 - d1I.x || P1Z - l5l.r > i4W.x1 + d1I.x){return null;}if(d1v + l5l.r < i4W.y1 - d1I.y || d1v - l5l.r > i4W.y1 + d1I.y){return null;}if(i4W.y0 < i4W.y1 && d1v - l5l.r > i4W.y1){return null;}if(i4W.y0 > i4W.y1 && d1v + l5l.r < i4W.y1){return null;}this.highlighted=!![];return {action:"move",p0:Y$.clone(this.p0),p1:Y$.clone(this.p1),tick:t9P,value:a8S};};Y$.Drawing.fibarc.prototype.render=function(o0v){var i3g,a8A,f6k,q04,B0f,O8t,Q1E,N4q,b9L,m1P,w1t,u9T,W4q,v8T,b0p,X3W,Q$T,G$S,T8T,O7d,u_m,p4e,S0x,d5V,z8k,g3M,c0L,u2j,k$S;i3g="l";i3g+="e";i3g+="f";i3g+="t";a8A="mi";a8A+="d";a8A+="d";a8A+="le";f6k=this.stx;q04=f6k.panels[this.panelName];B0f=f6k.getYAxisByField(q04,this.field);if(!q04 || this.field && !B0f){return;}B0f=B0f || q04.yAxis;if(!this.p1){return;}O8t=f6k.pixelFromTick(this.p0[+"0"],q04.chart);Q1E=f6k.pixelFromTick(this.p1["0" >> 64],q04.chart);N4q=this.pixelFromValue(q04,this.p0[+"0"],this.p0[1],B0f);b9L=this.pixelFromValue(q04,this.p1[0],this.p1[1],B0f);z_6.l13(60);m1P=z_6.C0r(b9L,N4q);z_6.x49(61);w1t=Math.abs(z_6.C0r(O8t,N4q,Q1E,b9L));u9T=this.getLineColor(this.parameters.trend.color);o0v.textBaseline=a8A;f6k.canvasFont("stx_yaxis",o0v);W4q=this.getLineColor();for(var y04=0;y04 < this.parameters.fibs.length;y04++){v8T="au";v8T+="t";v8T+="o";b0p="aut";b0p+="o";X3W="au";X3W+="t";X3W+="o";o0v.fillStyle=W4q;Q$T=this.parameters.fibs[y04];if(Q$T.level < 0 || !Q$T.display)continue;z_6.l13(27);var g$5=z_6.O_1(15,166,11);z_6.x49(62);var r0U=z_6.O_1(10,18,6,11,3);z_6.l13(63);var C5L=z_6.C0r(18,7,13,110,0);G$S=Math.abs(this.p1[g$5] - this.p0[r0U]) * Math.sqrt(C5L) * Q$T.level;z_6.x49(64);var O8R=z_6.O_1(0,6,6,1);z_6.x49(65);var V7k=z_6.C0r(6,9,17,15);z_6.l13(42);var H7l=z_6.O_1(5,16,16,6);z_6.l13(4);var H5v=z_6.O_1(20,0,19);T8T=this.p1[+"1"] + G$S * (m1P?O8R:V7k) * (B0f.flipped?H7l:H5v);O7d=this.pixelFromValue(q04,this.p0[0],T8T,B0f);u_m=Y$.xIntersection({x0:O8t,x1:Q1E,y0:N4q,y1:b9L},O7d);if(this.parameters.printLevels){p4e="cent";p4e+="er";o0v.textAlign=p4e;z_6.x49(6);var p39=z_6.O_1(16,6);z_6.l13(4);var Q1h=z_6.O_1(8,97570,88708);z_6.x49(66);var y83=z_6.O_1(5406,7,14,492);z_6.x49(67);var q5h=z_6.C0r(9802,14,7,19);z_6.l13(2);var x9X=z_6.C0r(702,4215);z_6.l13(2);var J0g=z_6.O_1(613,1227);z_6.x49(68);var H1i=z_6.O_1(3451,4334,16,5,5);S0x=Math.round(Q$T.level * ("1000" ^ 0)) / p39 + ((Q1h,y83) !== q5h?x9X != J0g?"%":H1i:(!"1","G"));if(this.parameters.printValues){o0v.fillStyle=W4q;f6k.canvasFont("stx_yaxis",o0v);;}o0v.fillText(S0x,Q1E,Math.round(O7d - 5));}o0v.textAlign="left";if(this.parameters.printValues){if(u_m < q04.width){d5V=T8T;if(B0f.priceFormatter){d5V=B0f.priceFormatter(f6k,q04,d5V);}else {d5V=f6k.formatYAxisPrice(d5V,q04,null,B0f);}if(o0v == f6k.chart.context){f6k.endClip();}f6k.createYAxisLabel(q04,d5V,O7d,this.getLineColor(null,!![]),null,o0v,B0f);if(o0v == f6k.chart.context){f6k.startClip(q04.name);}}}z8k=Q$T.color;if(z8k == X3W || Y$.isTransparent(z8k)){z8k=this.getLineColor();}o0v.strokeStyle=z8k;g3M=Q$T.color;if(g3M == b0p || Y$.isTransparent(g3M)){g3M=this.fillColor;}if(g3M == v8T || Y$.isTransparent(g3M)){g3M=f6k.defaultColor;}o0v.fillStyle=g3M;o0v.globalAlpha=this.highlighted?1:Q$T.parameters.opacity;o0v.lineWidth=Q$T.parameters.lineWidth;if(o0v.setLineDash){o0v.setLineDash(Y$.borderPatternToArray(o0v.lineWidth,Q$T.parameters.pattern));o0v.lineDashOffset=0;;}o0v.save();o0v.beginPath();z_6.l13(11);o0v.scale(z_6.O_1(1,w1t),1);z_6.l13(20);o0v.arc(z_6.O_1(w1t,Q1E),b9L,Math.abs(O7d - b9L),0,Math.PI,!m1P);if(this.pattern != "none"){o0v.stroke();}o0v.globalAlpha=0.05;o0v.fill();o0v.restore();if(o0v.setLineDash){o0v.setLineDash([]);}o0v.globalAlpha=+"1";}o0v.textAlign=i3g;c0L=Y$.clone(this.parameters.trend.parameters);if(this.highlighted){c0L.opacity=1;}z_6.l13(30);f6k.plotLine(Q1E,z_6.C0r(2,Q1E,O8t),b9L,z_6.O_1(2,b9L,N4q),u9T,"segment",o0v,q04,c0L);if(this.highlighted){u2j=this.highlighted == "p0"?!"":![];k$S=this.highlighted == "p1"?!![]:!"1";this.littleCircle(o0v,O8t,N4q,u2j);this.littleCircle(o0v,Q1E,b9L,k$S);}};Y$.Drawing.fibfan=function(){z_6.R7g();this.name="fibfan";;};Y$.inheritsFrom(Y$.Drawing.fibfan,Y$.Drawing.fibonacci);Y$.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,0.618,1];Y$.Drawing.fibfan.prototype.setOuter=function(){};Y$.Drawing.fibfan.prototype.render=function(P0X){var y8l,V_J,k0t,f32,O_O,O5$,m76,r57,f11,A2J,q0T,e8E,k7D,b0l,U7_,k_k,I$O,L6i,v7Z,i9M,y_F,I6Y,B_1,m9u,M1S,d5T,A_e,l2S,U8q;y8l=this.stx;V_J=y8l.panels[this.panelName];k0t=y8l.getYAxisByField(V_J,this.field);if(!V_J || this.field && !k0t){return;}k0t=k0t || V_J.yAxis;if(!this.p1){return;}f32=y8l.pixelFromTick(this.p0[0],V_J.chart);O_O=y8l.pixelFromTick(this.p1[0],V_J.chart);O5$=this.pixelFromValue(V_J,this.p0[0],this.p0[1],k0t);m76=this.pixelFromValue(V_J,this.p1[0],this.p1[1],k0t);r57=Math.min(m76,O5$);f11=Math.max(m76,O5$);z_6.x49(6);A2J=z_6.C0r(f11,r57);z_6.l13(69);q0T=z_6.C0r(0,f32,O5$,O_O,m76);e8E=this.getLineColor(this.parameters.trend.color);P0X.textBaseline="middle";y8l.canvasFont("stx_yaxis",P0X);z_6.l13(70);var D0T=z_6.C0r(1,8,18,16);k7D=P0X.measureText("161.8%").width + D0T;b0l=Number.MAX_VALUE;z_6.l13(4);var d1A=z_6.C0r(16,15,30);U7_=Number.MAX_VALUE * -("1" * d1A);k_k=this.getLineColor();this.rays=[];for(var F4$="0" * 1;F4$ < this.parameters.fibs.length;F4$++){P0X.fillStyle=k_k;I$O=this.parameters.fibs[F4$];if(!I$O.display)continue;L6i=this.pixelFromValue(V_J,this.p0[0],(this.p0["1" << 32] - this.p1[1]) * I$O.level + this.p1[1],k0t);v7Z=Y$.xIntersection({x0:O_O,x1:O_O,y0:O5$,y1:m76},L6i);i9M=V_J.left;if(O_O > f32){i9M+=V_J.width;}z_6.x49(71);y_F=z_6.C0r(i9M,v7Z,L6i,f32,f32,O5$,O5$);if(f32 > i9M - (this.parameters.printLevels?k7D + 5:0) && O_O > f32)continue;else if(f32 < i9M + (this.parameters.printLevels?k7D + 5:"0" - 0) && O_O < f32)continue;if(this.parameters.printLevels){z_6.x49(6);var i5B=z_6.C0r(1016,16);z_6.x49(6);var e69=z_6.C0r(40,30);I6Y=Math.round(I$O.level * i5B) / e69 + "%";if(O_O > f32){i9M-=k7D;P0X.textAlign="left";}else {i9M+=k7D;P0X.textAlign="right";}if(this.parameters.printValues){P0X.fillStyle=k_k;y8l.canvasFont("stx_yaxis",P0X);;}z_6.l13(71);y_F=z_6.C0r(i9M,v7Z,L6i,f32,f32,O5$,O5$);P0X.fillText(I6Y,i9M,y_F);if(O_O > f32){i9M-=5;}else {i9M+=5;}}P0X.textAlign="left";if(this.parameters.printValues){if(v7Z < V_J.width){B_1=this.valueFromPixel(L6i,V_J,k0t);if(k0t.priceFormatter){B_1=k0t.priceFormatter(y8l,V_J,B_1);}else {B_1=y8l.formatYAxisPrice(B_1,V_J,null,k0t);}if(P0X == y8l.chart.context){y8l.endClip();}y8l.createYAxisLabel(V_J,B_1,L6i,this.getLineColor(null,!!"1"),null,P0X,k0t);if(P0X == y8l.chart.context){y8l.startClip(V_J.name);}}}m9u=I$O.color;if(m9u == "auto" || Y$.isTransparent(m9u)){m9u=this.getLineColor();}M1S=I$O.color;if(M1S == "auto" || Y$.isTransparent(M1S)){M1S=this.fillColor;}if(M1S == "auto" || Y$.isTransparent(M1S)){M1S=y8l.defaultColor;}P0X.fillStyle=M1S;if(this.parameters.printLevels){z_6.l13(71);y_F=z_6.C0r(i9M,v7Z,L6i,f32,f32,O5$,O5$);}d5T=Y$.clone(I$O.parameters);if(this.highlighted){d5T.opacity=1;}y8l.plotLine(f32,i9M,O5$,y_F,m9u,"segment",P0X,V_J,d5T);this.rays.push([[f32,O5$],[i9M,y_F]]);P0X.globalAlpha=0.05;P0X.beginPath();P0X.moveTo(i9M,y_F);P0X.lineTo(f32,O5$);P0X.lineTo(i9M,O5$);P0X.fill();P0X.globalAlpha=1;if(L6i < b0l){b0l=L6i;}if(L6i > U7_){U7_=L6i;}}for(var t5E="0" << 64;t5E <= 1;t5E++){A_e=q0T?f11 - A2J * t5E:r57 + A2J * t5E;A_e=Math.round(A_e);if(A_e < b0l){b0l=A_e;}if(A_e > U7_){U7_=A_e;}}if(this.highlighted){l2S=this.highlighted == "p0"?!0:!!0;U8q=this.highlighted == "p1"?!![]:![];this.littleCircle(P0X,f32,O5$,l2S);this.littleCircle(P0X,O_O,m76,U8q);}};Y$.Drawing.fibtimezone=function(){this.name="fibtimezone";;};Y$.inheritsFrom(Y$.Drawing.fibtimezone,Y$.Drawing.fibonacci);Y$.Drawing.fibtimezone.prototype.render=function(q62){var C05,X_X,o0h,M1j,G7q,f$M,W0S,u6f,s4E,G$d,G_q,k6w,U7g,S5t,X0Y,g10,C0g,w1Q,s4Y,N_s,O2A,F$d,v7M,L$o,X1$,b47;C05="s";C05+="tx";C05+="_yaxi";C05+="s";X_X="mi";X_X+="dd";X_X+="l";X_X+="e";var {stx:F9l}=this;o0h=F9l.panels[this.panelName];M1j=F9l.getYAxisByField(o0h,this.field);if(!o0h || this.field && !M1j){return;}M1j=M1j || o0h.yAxis;if(!this.p1){return;}G7q=Y$.strToDateTime(this.d0);f$M=Y$.strToDateTime(this.d1);W0S=F9l.chart.dataSet[0].DT;if(G7q < W0S || f$M < W0S){return;}var {chart:p46, left:v1s, width:f01}=o0h;var {p0:m26, p1:y3F, parameters:a6n, highlighted:H0T}=this;u6f=F9l.pixelFromTick(m26[0],p46);s4E=F9l.pixelFromTick(y3F["0" << 32],p46);G$d=this.pixelFromValue(o0h,m26[+"0"],m26[1],M1j);G_q=this.pixelFromValue(o0h,y3F[0],y3F[1],M1j);k6w=[1,0];U7g=this.getLineColor(a6n.trend.color);q62.textBaseline=X_X;F9l.canvasFont(C05,q62);S5t=20;X0Y=this.p1[0] - this.p0[+"0"];g10=this.getLineColor();q62.textAlign="center";C0g=u6f;w1Q=0;var {top:F$A}=M1j;s4Y=M1j.bottom;var {printLevels:b5h, timezone:K39}=a6n;N_s=K39.color;if(N_s == "auto" || Y$.isTransparent(N_s)){N_s=this.getLineColor();}O2A=K39.color;if(O2A == "auto" || Y$.isTransparent(O2A)){O2A=this.fillColor;}if(O2A == "auto" || Y$.isTransparent(O2A)){O2A=F9l.defaultColor;}if(b5h){z_6.l13(6);s4Y-=z_6.O_1(S5t,7);}F$d=Y$.clone(a6n.timezone.parameters);if(H0T){F$d.opacity=1;}while(!!({})){C0g=F9l.pixelFromTick(m26[+"0"] + w1Q * X0Y,p46);if(u6f < s4E && C0g > v1s + f01 || u6f > s4E && C0g < v1s)break;if(b5h){q62.fillStyle=g10;q62.fillText(s4E > u6f?w1Q:w1Q * -1,C0g,s4Y + 7);}q62.fillStyle=O2A;F9l.plotLine(C0g,C0g,0,s4Y,N_s,"segment",q62,o0h,F$d);z_6.l13(20);q62.globalAlpha=z_6.O_1(1,"0.05");q62.beginPath();q62.moveTo(u6f,F$A);q62.lineTo(C0g,F$A);q62.lineTo(C0g,s4Y);q62.lineTo(u6f,s4Y);q62.fill();q62.globalAlpha=1;z_6.l13(5);var X9G=z_6.C0r(5,19,12,13);w1Q=k6w[0] + k6w[X9G];k6w.unshift(w1Q);if(!X0Y)break;}z_6.d$I();q62.textAlign="left";F9l.plotLine(u6f,s4E,G$d,G_q,U7g,"segment",q62,o0h,F$d);if(this.highlighted){v7M="p";v7M+="1";L$o=H0T == "p0"?!![]:!({});X1$=H0T == v7M?!![]:!!0;this.littleCircle(q62,u6f,G$d,L$o);this.littleCircle(q62,s4E,G_q,X1$);}else {b47=this.valueFromPixel(o0h.height / +"2",o0h,M1j);this.setPoint(0,m26[0],b47,p46);this.setPoint(1,y3F[0],b47,p46);}};Y$.Drawing.fibtimezone.prototype.intersected=function(T2P,P0f,p02){var f29,e_w,r7H,D5s,p3E,V17;f29=this.p0;e_w=this.p1;r7H=this.stx.panels[this.panelName];if(!f29 || !e_w || !r7H){return null;}D5s={0:f29,1:e_w};for(var L8c in D5s){if(this.pointIntersection(D5s[L8c][0],D5s[L8c][1],p02)){p3E="d";p3E+="ra";p3E+="g";z_6.x49(2);this.highlighted=z_6.O_1((711,857) <= ("862.99" * 1,4139)?"p":("b","J"),L8c);return {action:p3E,point:((6020,399.17) !== (+"325.77",7470)?6760 <= 819.32?"V":"p":+"0x147e") + L8c};}}V17=this.lineIntersection(T2P,P0f,p02,"segment");if(V17 || p02.x0 <= this.p0["0" | 0] && p02.x1 >= f29[0]){this.highlighted=!!({});return {action:"move",p0:Y$.clone(f29),p1:Y$.clone(e_w),tick:T2P,value:this.valueOnDrawingAxis(T2P,P0f)};}return null;};Y$.Drawing.arrow_v0=function(){this.name="arrow";z_6.d$I();this.dimension=[11,11];z_6.l13(20);this.points=[[("2730" | 0,1710) == 110?("n",6.68e+3):(378,6345) <= (103.48,472.49)?8.26e+2:+"5800" != 3179?"M":(!"",0x2163),z_6.O_1(1,"3"),0,"L",7,0,(+"921",7791) > (6867,1000)?"L":(![],499.46),7,+"5",(7430,754.84) >= 7537?560 > (5950,45)?977.36:("4.00e+3" - 0,!"1"):"L",10,5,"L",5,10,(584.62,6405) != ("5070" ^ 0)?"L":("9400" | 16) <= (143,+"927.22")?977.52:"k",0,5,"L",3,5,"L",3,0]];;};Y$.inheritsFrom(Y$.Drawing.arrow_v0,Y$.Drawing.shape);Y$.Drawing.xcross=function(){var a4C,y4X,l_M;a4C=614765948;y4X=-+"473962566";l_M=2;for(var n85="1" * 1;z_6.D29(n85.toString(),n85.toString().length,+"41350") !== a4C;n85++){this.name="xcross";z_6.x49(17);this.dimension=[7,z_6.C0r("7",4)];z_6.l13(0);this.points=[[(786.92,6780) < (9236,333.6)?(578.84,"0xce9" * 1):"M",1,+"0",6010 == (2335,"631.95" - 0)?408.55 != 1733?(9940,1400) < (+"6170",7520)?("l",!({})):"e":(4.54e+3,320.62):"L",3,2,(878.94,841.93) != 9210?"L":(4720,618.98) === 442.25?"t":6694 != 315?!!"1":!!({}),5,0,"L",z_6.O_1(0,"6"),1,"L",4,+"3",(3268,7600) !== (3003,4730)?"L":+"119" >= (9159,"557.62" - 0)?!"1":(7.00e+1,+"159"),6,z_6.O_1("5",0,z_6.l13(41)),6159 === (+"5040",+"322.21")?+"8610" !== 2006?(!!({}),551):("F","Q"):"L",5,+"6",8766 === +"1443"?("H",+"7.54e+3"):(788.62,8920) !== 9821?"L":(9040,8830) === 362?(461.46,+"479.53"):2.19e+3,3,4,"L",z_6.O_1("1",1,z_6.x49(17)),6,(205.58,39.8) < ("308.01" * 1,263.14)?"L":("J",!0),0,5,"L",2,+"3",8950 > 8020?"L":"9.06e+3" | 32,0,1,(240.08,+"8240") <= (8490,2380)?!({}):"L",1,0]];l_M+=2;}if(z_6.D29(l_M.toString(),l_M.toString().length,44299) !== y4X){this.name="L";this.dimension=[1,8];z_6.x49(20);this.points=[[("167729" >> 32,9058) >= (5090,14720)?(257682,"0x652" * 1):"F",0,5,4172 !== (4028,172890)?308617 == 1003?(6402,8862) <= (7092,"3026" | 2)?("t",!![]):"L":("1217439" - 0,526343):"L",4,+"5",(456415,"200129" << 32) == "3356" * 1?"L":(7416,352639) != 469501?"L":1821 === 825?![]:!({}),9,+"8","L",4,3,"F",6,9,(5279,6438) == ("2995" << 0,3540)?"F":248 < (4028,+"332443")?!!({}):(7594130,+"628"),1,4,2522 == (8047,"123568" >> 0)?"8983" * 1 != 5181?(!"1",480):("H","L"):"L",9,8,3975 == 8272?("L",4609020):(499534,4723) === 6294?"L":(6546,6745) == 484?(667722,201372):1454770,8,+"5","F",8,+"8",(202107,1921) > ("326821" * 1,516389)?"L":("L",!"1"),1,3,"L",7,4,3108 < 5222?"L":4318098,+"9",2,("194536" - 0,2386) > ("5414" - 0,5838)?!!({}):"L",z_6.O_1(1,"5"),7]];};};Y$.inheritsFrom(Y$.Drawing.xcross,Y$.Drawing.shape);Y$.Drawing.check=function(){this.name="check";this.dimension=[8,9];z_6.x49(6);this.points=[["M",1,5,"L",0,6,5050 <= (2269,201.38)?(1560,"7360" - 0) > (+"806",948.15)?("Q",61.97):2.69e+3:"L",2,8,301.19 <= (474.96,"6430" ^ 0)?"365.01" - 0 != (360.13,7494)?"L":("7040" - 0,5255) > 5240?+"8.70e+3":(3.05e+3,525.93):"T",7,1,4459 > "150.09" * 1?(762.08,5270) !== 1710?"L":(1.68e+3,!!"1"):(5.03e+3,"F"),z_6.C0r("6",0),0,"L",2,+"6",424.89 > (1185,"8749" | 32)?0x1af6:"L",1,5]];;};Y$.inheritsFrom(Y$.Drawing.check,Y$.Drawing.shape);Y$.Drawing.star=function(){var f03;f03="st";f03+="ar";this.name=f03;z_6.l13(20);this.dimension=[12,z_6.C0r(1,"12")];z_6.l13(6);this.points=[["M",0,4,279.68 > 4720?"h":5565 == (1192,220.85)?("0xf15" >> 64,63.17):"L",4,4,"L",5.5,0,(475,4830) < (680.16,5600)?"L":714.04,7,4,"L",11,4,"L",8,7,409.34 < (332.85,2590)?620.56 != (9170,5512)?"L":+"8.35e+3":7.29e+3,9,11,9108 <= (649.89,6618)?348.74:6018 > 271.01?"L":7777 < (791.39,+"556.78")?0x5ef:3.69e+3,5.5,9,619 !== 233.8?"L":"565.29" * 1 !== 2880?(573.72,+"516.98") !== (+"840.34",+"6202")?"x":"K":!"1",2,z_6.C0r("11",0),"L",3,+"7",(940.2,6180) == 121.05?("H","0x1c4" - 0):4370 >= (852,6650)?("X",5.55e+3):(8150,5485) >= 412.42?"L":![],0,4]];;};Y$.inheritsFrom(Y$.Drawing.star,Y$.Drawing.shape);Y$.Drawing.heart=function(){var h7i;h7i="h";h7i+="eart";this.name=h7i;this.dimension=[23,20];z_6.l13(20);this.points=[["M",11,3,(426.61,6700) === 5740?(0x1d5a,0x515):(3122,4270) != (+"769.28",3010)?(9586,2493) != (781.32,1757)?"B":("R","l"):(6.99e+3,0x1be6),11,2.4,10,0,6,0,(337.39,9610) <= 3136?(!!0,!!""):"B",0,z_6.C0r(1,"0"),z_6.C0r(1,"0",z_6.x49(20)),7.5,0,7.5,"B",0,11,z_6.O_1("4",64,z_6.l13(7)),15.4,11,19,(446.18,"5186" | 0) !== (9530,938.17)?"B":5.95e+3,+"18",15.4,22,z_6.C0r("11",32,z_6.l13(7)),22,7.5,"B",22,+"7.5",22,0,16,0,"B",13,0,11,2.4,+"11",3]];;};Y$.inheritsFrom(Y$.Drawing.heart,Y$.Drawing.shape);Y$.Drawing.focusarrow=function(){this.name="focusarrow";this.dimension=[7,5];z_6.l13(7);this.points=[[(5360,823) >= 533.45?(2550,"7040" >> 32) >= (8898,2750)?"M":(692,462.85):("D",3.40e+1),0,z_6.C0r("0",32),"L",2,2,(6473,"7722" ^ 0) > "9540" - 0?(193.69,7141) === (85.64,5478)?(811.47,!!""):"7680" >> 64 < (61.68,5720)?(0x263f,"x"):+"0xecf":"L",0,4,"L",0,0],[(720.23,"2488" >> 0) == +"406.03"?3368 == (9825,3141)?"714.10" * 1:319.02 != ("2060" | 12,1464)?3.05e+2:!0:"M",z_6.C0r(32,"6",z_6.x49(0)),0,"L",z_6.C0r("4",64,z_6.x49(7)),2,("898.93" * 1,4820) != ("45" - 0,+"2610")?4326 < (951.17,1380)?0x172d:"L":(!!1,!!"1"),6,4,"L",6,+"0"]];;};Y$.inheritsFrom(Y$.Drawing.focusarrow,Y$.Drawing.shape);Y$.Drawing.crossline=function(){var Y3C;Y3C="cr";Y3C+="ossl";Y3C+="in";Y3C+="e";this.name=Y3C;};Y$.inheritsFrom(Y$.Drawing.crossline,Y$.Drawing.vertical);Y$.extend(Y$.Drawing.crossline.prototype,{spanPanels:!!0,measure:function(){},accidentalClick:function(I8x,w9W){z_6.d$I();return !!0;},adjust:function(){var d1_;d1_=this.stx.panels[this.panelName];if(!d1_){return;}z_6.R7g();this.setPoint(0,this.d0,this.v0,d1_.chart);this.p1=Y$.clone(this.p0);},intersected:function(V6a,c_j,r_k){var L5o,N_6;if(!this.p0 || !this.p1){return null;}z_6.l13(7);this.p1[+"0"]+=z_6.O_1("1",64);L5o=this.lineIntersection(V6a,c_j,r_k,"line");this.p1=Y$.clone(this.p0);if(!L5o){N_6="l";N_6+="in";N_6+="e";this.p1[1]+=1;L5o=this.lineIntersection(V6a,c_j,r_k,N_6);this.p1=Y$.clone(this.p0);if(!L5o){return null;}}this.highlighted=!!1;if(this.pointIntersection(this.p0[0],this.p0[+"1"],r_k)){this.highlighted="p0";}return {action:"move",p0:Y$.clone(this.p0),p1:Y$.clone(this.p1),tick:V6a,value:this.valueOnDrawingAxis(V6a,c_j)};},render:function(f5_){var T$y,S4u,s8p,W5X,T$7,v3k,s6c,G$x,U5w,Q$d,x6Q,t8f,d3K,d5B,O4y,T4K,u42;T$y=this.stx;S4u=T$y.panels[this.panelName];s8p=T$y.getYAxisByField(S4u,this.field);if(!S4u || this.field && !s8p && !this.spanPanels){return;}s8p=s8p || S4u.yAxis;W5X=T$y.pixelFromTick(this.p0[0],S4u.chart);z_6.R7g();T$7=this.pixelFromValue(S4u,this.p0["0" ^ 0],this.p0[1],s8p);v3k=this.getLineColor();s6c={pattern:this.pattern,lineWidth:this.lineWidth};if(!this.spanPanels || this.panelName == this.originPanelName){z_6.x49(2);T$y.plotLine(W5X,z_6.O_1(W5X,100),T$7,T$7,v3k,"horizontal",f5_,S4u,s6c);}z_6.l13(2);T$y.plotLine(W5X,W5X,T$7,z_6.O_1(T$7,100),v3k,"vertical",f5_,S4u,s6c);if(this.axisLabel && !this.repositioner){T$y.endClip();if(!this.spanPanels || this.panelName == this.originPanelName){z_6.x49(17);G$x=this.p0[z_6.O_1("1",1)];U5w=-519328361;Q$d=1974199919;x6Q=2;for(var z$J=1;z_6.c2O(z$J.toString(),z$J.toString().length,79242) !== U5w;z$J++){if(S4u.chart.transformFunc){G$x=S4u.chart.transformFunc(T$y,S4u.chart,G$x);}x6Q+=2;}if(z_6.D29(x6Q.toString(),x6Q.toString().length,7959) !== Q$d){if(S4u.chart.transformFunc){G$x=S4u.chart.transformFunc(T$y,S4u.chart,G$x);}}if(s8p.priceFormatter){G$x=s8p.priceFormatter(T$y,S4u,G$x);}else {G$x=T$y.formatYAxisPrice(G$x,S4u,null,s8p);}T$y.createYAxisLabel(S4u,G$x,T$7,v3k,null,null,s8p);}T$y.startClip(S4u.name);if(this.p0[0] >= 0 && !T$y.chart.xAxis.noDraw && (!this.spanPanels || S4u.yAxis.bottom !== S4u.bottom)){t8f=T$y.dateFromTick(this.p0[+"0"],S4u.chart,!![]);if(!Y$.ChartEngine.isDailyInterval(T$y.layout.interval)){z_6.l13(38);var K0T=z_6.O_1(988,17755,19,17);d5B=t8f.getSeconds() * K0T + t8f.getMilliseconds();if(e8.Date && T$y.displayZone){d3K=new e8.Date(t8f.getTime(),T$y.displayZone);t8f=new Date(d3K.getFullYear(),d3K.getMonth(),d3K.getDate(),d3K.getHours(),d3K.getMinutes());t8f=new Date(t8f.getTime() + d5B);}}else {t8f.setHours(0,0,0,0);}O4y=Y$.mmddhhmm(Y$.yyyymmddhhmm(t8f));if(S4u.chart.xAxis.formatter){O4y=S4u.chart.xAxis.formatter(t8f,this.name,null,null,O4y);}else if(this.stx.internationalizer){O4y=Y$.displayableDate(T$y,T$y.chart,t8f);}T$y.endClip();T$y.createXAxisLabel({panel:S4u,txt:O4y,x:W5X,backgroundColor:v3k,color:null,pointed:!![],padding:2});T$y.startClip(S4u.name);}}if(this.highlighted && (!this.spanPanels || this.panelName == this.originPanelName)){T4K="p";T4K+="0";u42=this.highlighted == T4K?!![]:!"1";this.littleCircle(f5_,W5X,T$7,u42);}}},!0);Y$.Drawing.speedarc=function(){var K7D;K7D="s";K7D+="peedar";K7D+="c";this.name=K7D;this.printLevels=!![];};Y$.inheritsFrom(Y$.Drawing.speedarc,Y$.Drawing.segment);Y$.extend(Y$.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color",e1A,"lineWidth","pattern"],copyConfig:function(){var Z1q;Z1q=this.stx.currentVectorParameters;this.color=Z1q.currentColor;this.fillColor=Z1q.fillColor;this.lineWidth=Z1q.lineWidth;this.pattern=Z1q.pattern;},intersected:function(p54,s35,u3C){var I_B,G_m,p7$,M8d,O2o,X3s,L7w,k_K;if(!this.p0 || !this.p1){return null;}z_6.d$I();I_B={0:this.p0,1:this.p1};for(var a3e in I_B){if(this.pointIntersection(I_B[a3e][0],I_B[a3e][+"1"],u3C)){G_m="d";G_m+="r";G_m+="a";G_m+="g";z_6.x49(2);this.highlighted=z_6.C0r("p",a3e);return {action:G_m,point:(7220 === 828.63?(5143,936) !== (2020,646.14)?"208" >> 0 != (7186,8970)?(6.03e+3,0x1bef):![]:!!1:"p") + a3e};}}p7$=this.valueOnDrawingAxis(p54,s35);M8d=this.lineIntersection(p54,s35,u3C,this.name);if(M8d){this.highlighted=!"";return {action:"move",p0:Y$.clone(this.p0),p1:Y$.clone(this.p1),tick:p54,value:p7$};}O2o=this.p1[0] - (this.p0[0] - this.p1[0]);X3s=this.p0[0];L7w=this.p1[1];k_K=this.p0[1];if(p54 > Math.max(O2o,X3s) || p54 < Math.min(O2o,X3s)){return null;}if(p7$ > Math.max(k_K,L7w) || p7$ < Math.min(k_K,L7w)){return null;}this.highlighted=!"";return {action:"move",p0:Y$.clone(this.p0),p1:Y$.clone(this.p1),tick:p54,value:p7$};},render:function(u3G){var x4w,r4L,o5u,Z_q,S$O,q9f,W6k,o2X,T0r,a3s,U0x,K78,R49,t4L,x7A,t6W,g6I,f5T,o2T,G4e,F5O,m$p,q76;x4w="l";x4w+="e";x4w+="f";x4w+="t";r4L=this.stx;o5u=r4L.panels[this.panelName];Z_q=r4L.getYAxisByField(o5u,this.field);if(!o5u || this.field && !Z_q){return;}Z_q=Z_q || o5u.yAxis;if(!this.p1){return;}S$O=r4L.pixelFromTick(this.p0[0],o5u.chart);q9f=r4L.pixelFromTick(this.p1[0],o5u.chart);W6k=this.pixelFromValue(o5u,this.p0[0],this.p0["1" | 0],Z_q);o2X=this.pixelFromValue(o5u,this.p1[0],this.p1[1],Z_q);z_6.x49(60);T0r=z_6.C0r(o2X,W6k);z_6.x49(61);a3s=Math.abs(z_6.O_1(S$O,W6k,q9f,o2X));U0x=this.getLineColor();u3G.strokeStyle=U0x;K78=this.fillColor;if(K78 == "auto" || Y$.isTransparent(K78)){K78=r4L.defaultColor;}u3G.fillStyle=K78;if(u3G.setLineDash){u3G.setLineDash(Y$.borderPatternToArray(this.lineWidth,this.pattern));u3G.lineDashOffset=0;;}r4L.canvasFont("stx_yaxis",u3G);for(var V4x=+"1";V4x < 3;V4x++){R49="n";R49+="o";R49+="n";R49+="e";z_6.l13(5);var n2n=z_6.O_1(4,9,3,11);z_6.l13(72);var y9l=z_6.C0r(0,24,14,1,11);z_6.x49(55);var T_Q=z_6.O_1(5,3,5);t4L=Math.abs(this.p1[n2n] - this.p0[y9l]) * Math.sqrt(+"2") * V4x / T_Q;z_6.l13(73);var S1m=z_6.C0r(18,16,35);z_6.x49(13);var w6k=z_6.C0r(17,16);z_6.l13(28);var g7z=z_6.O_1(6,11,10,6);z_6.x49(38);var r2d=z_6.C0r(13,96,8,9);z_6.x49(13);var Z3t=z_6.O_1(1,2);x7A=this.p1[S1m] + t4L * (T0r?w6k:g7z) * (Z_q.flipped?r2d:Z3t);t6W=this.pixelFromValue(o5u,this.p0[0],x7A,Z_q);u3G.save();u3G.beginPath();z_6.l13(25);u3G.scale(z_6.O_1("1",0,a3s),1);z_6.x49(20);u3G.arc(z_6.C0r(a3s,q9f),o2X,Math.abs(t6W - o2X),0,Math.PI,!T0r);u3G.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != R49){u3G.stroke();}u3G.globalAlpha=0.1;u3G.fill();u3G.restore();u3G.globalAlpha=1;if(this.printLevels){g6I="/";g6I+="3";f5T="ce";f5T+="n";f5T+="te";f5T+="r";u3G.fillStyle=U0x;u3G.textAlign=f5T;z_6.l13(2);o2T=z_6.O_1(V4x,g6I);u3G.fillText(o2T,q9f,Math.round(t6W - 5));u3G.fillStyle=K78;}}u3G.textAlign=x4w;G4e={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?+"1":this.defaultOpacity};r4L.plotLine(S$O,q9f,W6k,o2X,U0x,"segment",u3G,o5u,G4e);if(u3G.setLineDash){u3G.setLineDash([]);}if(this.highlighted){F5O="p";F5O+="1";m$p=this.highlighted == "p0"?!"":!!0;q76=this.highlighted == F5O?!!({}):!!0;this.littleCircle(u3G,S$O,W6k,m$p);this.littleCircle(u3G,q9f,o2X,q76);}},reconstruct:function(G3I,L$V){this.stx=G3I;this.color=L$V.col;this.fillColor=L$V.fc;this.panelName=L$V.pnl;this.pattern=L$V.ptrn;this.lineWidth=L$V.lw;this.d0=L$V.d0;this.d1=L$V.d1;this.tzo0=L$V.tzo0;this.tzo1=L$V.tzo1;this.v0=L$V.v0;this.v1=L$V.v1;this.field=L$V.fld;this.adjust();},serialize:function(){z_6.R7g();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};}},!![]);Y$.Drawing.speedline=function(){this.name="speedline";this.printLevels=!0;};Y$.inheritsFrom(Y$.Drawing.speedline,Y$.Drawing.speedarc);Y$.extend(Y$.Drawing.speedline.prototype,{intersected:function(W4$,h8L,P3H){var i2Z,V5i,a5k,x$z,Q01,B15;z_6.d$I();i2Z=this.p0;V5i=this.p1;if(!i2Z || !V5i){return null;}a5k={0:i2Z,1:V5i};for(var b5C in a5k){if(this.pointIntersection(a5k[b5C][0],a5k[b5C]["1" >> 64],P3H)){z_6.l13(2);this.highlighted=z_6.C0r(+"955" > 509.41?974.07 > (631,6062)?(!!"1","551.60" - 0):"p":("O","z"),b5C);return {action:"drag",point:"p" + b5C};}}x$z=this.rays;for(var J_K=0;J_K < x$z.length;J_K++){Q01="r";Q01+="a";Q01+="y";if(this.lineIntersection(W4$,h8L,P3H,Q01,x$z[J_K][0],x$z[J_K][1],!"")){B15="m";B15+="o";B15+="v";B15+="e";this.highlighted=!!1;return {action:B15,p0:Y$.clone(i2Z),p1:Y$.clone(V5i),tick:W4$,value:this.valueOnDrawingAxis(W4$,h8L)};}}return null;},render:function(a1_){var t04,b$2,C6b,a0D,n0V,f_w,u$V,l7l,P9F,C7I,J_d,X5l,L8I,i_G,B8C,m4x,r1s,Z8i,f0Q,W87,n6B,Q0L,G7s,g0U,n2P,z5h,H3e,B07,m_J,X_P;t04="3";t04+="/";t04+="2";b$2=this.stx;C6b=b$2.panels[this.panelName];a0D=b$2.getYAxisByField(C6b,this.field);if(!C6b || this.field && !a0D){return;}if(!this.p1){return;}n0V=b$2.pixelFromTick(this.p0[0],C6b.chart);f_w=b$2.pixelFromTick(this.p1[0],C6b.chart);u$V=this.pixelFromValue(C6b,this.p0[0],this.p0[1],a0D);l7l=this.pixelFromValue(C6b,this.p1[0],this.p1[1],a0D);b$2.canvasFont("stx_yaxis",a1_);P9F=this.getLineColor();a1_.strokeStyle=P9F;C7I=this.fillColor;if(C7I == "auto" || Y$.isTransparent(C7I)){C7I=b$2.defaultColor;}a1_.fillStyle=C7I;J_d={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?+"1":this.defaultOpacity};i_G=[171.16 === "4790" >> 32?0x23a4:577.51 < 8874?"1":(12.97,!({})),"2/3","1/3",t04,3167 <= (5550,75)?"A":"3"];z_6.l13(11);B8C=[+"1",z_6.O_1(2,3),z_6.O_1(1,3),z_6.O_1(3,2),3];m4x=[];z_6.R7g();this.rays=[];for(var I6C=0;I6C < B8C.length;I6C++){r1s="se";r1s+="g";r1s+="men";r1s+="t";Z8i=B8C[I6C];if(Z8i > 1 && !this.extension)continue;f0Q=this.pixelFromValue(C6b,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * Z8i,a0D);if(Z8i > 1){W87=Y$.xIntersection({x0:n0V,x1:f_w,y0:u$V,y1:f0Q},l7l);m4x.push(W87);}else {W87=Y$.xIntersection({x0:f_w,x1:f_w,y0:u$V,y1:l7l},f0Q);m4x.push(f0Q);}n6B=Z8i > 1?W87:f_w;Q0L=Z8i > "1" << 64?l7l:f0Q;if(!this.confineToGrid){n6B=C6b.left;if(f_w > n0V){n6B+=C6b.width;}z_6.x49(71);Q0L=z_6.O_1(n6B,f_w,f0Q,n0V,n0V,u$V,u$V);}if(this.printLevels){if(Z8i != 1 || this.extension){a1_.fillStyle=P9F;G7s=+"0";g0U=0;if(u$V > l7l){g0U=-5;a1_.textBaseline="bottom";}else {n2P="t";n2P+="o";n2P+="p";g0U=5;a1_.textBaseline=n2P;}if(n0V > f_w){z5h="r";z5h+="ight";G7s=5;a1_.textAlign=z5h;}else {H3e="l";H3e+="e";H3e+="f";H3e+="t";G7s=-5;a1_.textAlign=H3e;}if(Z8i > +"1"){a1_.fillText(i_G[I6C],W87 + (this.confineToGrid?0:G7s),l7l);}else {a1_.fillText(i_G[I6C],f_w,f0Q + (this.confineToGrid?0:g0U));}a1_.fillStyle=C7I;}}b$2.plotLine(n0V,n6B,u$V,Q0L,P9F,r1s,a1_,C6b,J_d);if(Z8i == 1){X5l=n6B;L8I=Q0L;}this.rays.push([[n0V,u$V],[n6B,Q0L]]);a1_.globalAlpha=0.1;a1_.beginPath();a1_.moveTo(n6B,Q0L);a1_.lineTo(n0V,u$V);a1_.lineTo(X5l,L8I);a1_.fill();a1_.globalAlpha=1;}a1_.textAlign="left";a1_.textBaseline="middle";if(this.confineToGrid){a1_.globalAlpha=0.3;a1_.beginPath();z_6.x49(6);a1_.strokeRect(n0V,u$V,z_6.C0r(f_w,n0V),z_6.O_1(l7l,u$V));a1_.moveTo(n0V,m4x[1]);a1_.lineTo(f_w,m4x[1]);a1_.moveTo(n0V,m4x["2" - 0]);a1_.lineTo(f_w,m4x[2]);if(this.extension){a1_.moveTo(m4x[3],u$V);a1_.lineTo(m4x[3],l7l);a1_.moveTo(m4x[4],u$V);a1_.lineTo(m4x["4" << 96],l7l);}a1_.stroke();a1_.globalAlpha=1;}if(this.highlighted){B07="p";B07+="1";m_J=this.highlighted == "p0"?!"":!({});X_P=this.highlighted == B07?!!({}):![];this.littleCircle(a1_,n0V,u$V,m_J);this.littleCircle(a1_,f_w,l7l,X_P);}}},!0);Y$.Drawing.gannfan=function(){var d0p;d0p="ga";d0p+="nnfan";this.name=d0p;this.printLevels=!!({});};Y$.inheritsFrom(Y$.Drawing.gannfan,Y$.Drawing.speedline);Y$.extend(Y$.Drawing.gannfan.prototype,{render:function(S0Q){var y4r,J3r,t45,s6P,u0S,F7w,V4N,a2y,N2r,w9p,P4F,B2x,I8A,Z1I,W$G,Z1s,T3T,l0R,k3x,t9D,K4o,P8L,E7H,D3f,Q8y,n22,c7t,R9K,a_7;y4r="mi";y4r+="dd";y4r+="le";J3r=this.stx;t45=J3r.panels[this.panelName];s6P=J3r.getYAxisByField(t45,this.field);if(!t45 || this.field && !s6P){return;}if(!this.p1){return;}u0S=J3r.pixelFromTick(this.p0[0],t45.chart);F7w=J3r.pixelFromTick(this.p1[0],t45.chart);V4N=this.pixelFromValue(t45,this.p0[0],this.p0[+"1"],s6P);a2y=this.pixelFromValue(t45,this.p1[0],this.p1[1],s6P);J3r.canvasFont("stx_yaxis",S0Q);N2r=this.getLineColor();S0Q.strokeStyle=N2r;z_6.l13(6);w9p=z_6.O_1("1943550033",0);P4F=-354310476;B2x=2;for(var t$e=1;z_6.D29(t$e.toString(),t$e.toString().length,59426) !== w9p;t$e++){I8A=this.fillColor;if(I8A == "auto" || Y$.isTransparent(I8A)){I8A=J3r.defaultColor;}B2x+=2;}if(z_6.D29(B2x.toString(),B2x.toString().length,85609) !== P4F){I8A=this.fillColor;if(I8A != "" && Y$.isTransparent(I8A)){I8A=J3r.defaultColor;}}S0Q.fillStyle=I8A;Z1I={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};z_6.l13(11);T3T=[1,2,3,4,8,z_6.O_1(1,2),z_6.C0r(1,3,z_6.x49(11)),z_6.O_1(0,"1","4",z_6.x49(74)),z_6.O_1(1,8,z_6.x49(11))];this.rays=[];for(var R44=0;R44 < T3T.length;R44++){l0R=T3T[R44];z_6.l13(75);k3x=z_6.O_1(l0R,F7w,u0S,u0S);z_6.l13(76);t9D=z_6.C0r(l0R,V4N,a2y,V4N);K4o=t45.left;if(F7w > u0S){K4o+=t45.width;}z_6.x49(71);P8L=z_6.O_1(K4o,F7w,t9D,u0S,u0S,V4N,V4N);if(this.printLevels){S0Q.fillStyle=N2r;E7H=0;D3f=0;if(V4N > a2y){D3f=5;S0Q.textBaseline="top";}else {Q8y="b";Q8y+="o";Q8y+="tt";Q8y+="om";D3f=-5;S0Q.textBaseline=Q8y;}if(u0S > F7w){E7H=5;S0Q.textAlign="left";}else {n22="r";n22+="i";n22+="g";n22+="ht";E7H=-5;S0Q.textAlign=n22;}if(l0R > 1){z_6.l13(2);S0Q.fillText(z_6.C0r(l0R,"x1"),z_6.C0r(k3x,E7H),a2y);}else {c7t="1";c7t+="x";z_6.l13(49);S0Q.fillText(z_6.O_1(c7t,l0R,1),F7w,z_6.O_1(t9D,D3f,z_6.x49(2)));}S0Q.fillStyle=I8A;}J3r.plotLine(u0S,K4o,V4N,P8L,N2r,"segment",S0Q,t45,Z1I);this.rays.push([[u0S,V4N],[K4o,P8L]]);if(l0R == "1" << 0){W$G=K4o;Z1s=P8L;}S0Q.globalAlpha=0.1;S0Q.beginPath();S0Q.moveTo(K4o,P8L);S0Q.lineTo(u0S,V4N);S0Q.lineTo(W$G,Z1s);S0Q.fill();S0Q.globalAlpha=1;}S0Q.textAlign="left";S0Q.textBaseline=y4r;if(this.highlighted){R9K=this.highlighted == "p0"?!!"1":!({});a_7=this.highlighted == "p1"?!0:!({});this.littleCircle(S0Q,u0S,V4N,R9K);this.littleCircle(S0Q,F7w,a2y,a_7);}}},!![]);Y$.Drawing.timecycle=function(){this.name="timecycle";z_6.R7g();this.printLevels=!!1;};Y$.inheritsFrom(Y$.Drawing.timecycle,Y$.Drawing.speedarc);Y$.extend(Y$.Drawing.timecycle.prototype,{intersected:function(B$v,p1S,B1V){var R3$,U16,v9S,h67,i2t,A4q,Y3J,b3F,B93;R3$=this.p0;U16=this.p1;v9S=this.stx.panels[this.panelName];if(!R3$ || !U16 || !v9S){return null;}h67={0:R3$,1:U16};for(var N$H in h67){if(this.pointIntersection(h67[N$H][0],h67[N$H][1],B1V)){z_6.x49(2);this.highlighted=z_6.O_1("p",N$H);return {action:"drag",point:(785 > 620.29?(+"409.99",180.96) > 8791?(578.35,682.52) <= ("9051" ^ 0,7533)?"v":!!1:"p":5.31e+3) + N$H};}}i2t=2064459225;z_6.l13(17);A4q=z_6.C0r("768697797",4);Y3J=2;for(var Y_f=1;z_6.D29(Y_f.toString(),Y_f.toString().length,80671) !== i2t;Y_f++){b3F=this.lineIntersection(B$v,p1S,B1V,"");Y3J+=+"2";}if(z_6.c2O(Y3J.toString(),Y3J.toString().length,28782) !== A4q){B93="se";B93+="g";B93+="m";B93+="ent";b3F=this.lineIntersection(B$v,p1S,B1V,B93);}if(b3F || B1V.x0 <= this.p0[0] && B1V.x1 >= R3$[0]){this.highlighted=!!"1";return {action:"move",p0:Y$.clone(R3$),p1:Y$.clone(U16),tick:B$v,value:this.valueOnDrawingAxis(B$v,p1S)};}return null;},render:function(P9t){var E65,M8Z,c1o,M1X,s9T,E$A,R1h,i3v,s95,p85,T_B,f$1,f99,V$o,f4Q,R38,l8w,F_G,K$e,n4j,u05,T17,V8h,L6h,J7C,L4u,f0u,G6R,w$T;E65="ce";E65+="nt";E65+="e";E65+="r";M8Z="stx_y";M8Z+="a";M8Z+="xis";c1o=this.stx;M1X=c1o.panels[this.panelName];s9T=c1o.getYAxisByField(M1X,this.field);if(!M1X || this.field && !s9T){return;}s9T=s9T || M1X.yAxis;if(!this.p1){return;}E$A=Y$.strToDateTime(this.d0);R1h=Y$.strToDateTime(this.d1);i3v=c1o.chart.dataSet[0].DT;if(E$A < i3v || R1h < i3v){return;}s95=c1o.pixelFromTick(this.p0[0],M1X.chart);p85=c1o.pixelFromTick(this.p1["0" - 0],M1X.chart);T_B=this.pixelFromValue(M1X,this.p0[0],this.p0[+"1"],s9T);f$1=this.pixelFromValue(M1X,this.p1[0],this.p1[1],s9T);f99=0;P9t.textBaseline="middle";c1o.canvasFont(M8Z,P9t);V$o=20;f4Q=this.p1["0" ^ 0] - this.p0[0];P9t.textAlign=E65;R38=s95;l8w=s9T.top;F_G=s9T.bottom;K$e=this.getLineColor();n4j=this.fillColor;if(n4j == "auto" || Y$.isTransparent(n4j)){n4j=c1o.defaultColor;}if(this.printLevels){z_6.x49(6);F_G-=z_6.O_1(V$o,7);}u05={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};T17=[];P9t.save();P9t.fillStyle=n4j;P9t.globalAlpha=0.05;while(!!1){R38=c1o.pixelFromTick(this.p0[0] + f99 * f4Q,M1X.chart);f99++;if(s95 < p85 && R38 > M1X.left + M1X.width)break;else if(s95 > p85 && R38 < M1X.left)break;else if(R38 < M1X.left || R38 > M1X.left + M1X.width)continue;P9t.beginPath();P9t.moveTo(s95,l8w);P9t.lineTo(R38,l8w);P9t.lineTo(R38,F_G);P9t.lineTo(s95,F_G);P9t.fill();T17.push({c:f99,x:R38});if(!f4Q)break;}P9t.globalAlpha=1;V8h=0;for(var K5y=0;K5y < T17.length;K5y++){L6h="s";L6h+="egm";L6h+="e";L6h+="nt";c1o.plotLine(T17[K5y].x,T17[K5y].x,"0" - 0,F_G,K$e,L6h,P9t,M1X,u05);if(this.printLevels){P9t.fillStyle=K$e;z_6.x49(77);var n$e=z_6.O_1(1,14,3,14,19);J7C=c1o.chart.context.measureText(T17[K5y].c).width + n$e;if(J7C < c1o.layout.candleWidth + V8h){P9t.fillText(T17[K5y].c,T17[K5y].x,F_G + 7);V8h=0;}else {V8h+=c1o.layout.candleWidth;}}}P9t.restore();P9t.textAlign="left";c1o.plotLine(s95,p85,T_B,f$1,K$e,"segment",P9t,M1X,u05);if(this.highlighted){L4u="p";L4u+="0";f0u=this.highlighted == L4u?!!({}):![];G6R=this.highlighted == "p1"?!![]:!"1";this.littleCircle(P9t,s95,T_B,f0u);this.littleCircle(P9t,p85,f$1,G6R);}else {w$T=this.valueFromPixel(M1X.height / 2,M1X,s9T);this.setPoint(0,this.p0[0],w$T,M1X.chart);z_6.x49(7);this.setPoint(z_6.O_1("1",32),this.p1[+"0"],w$T,M1X.chart);}}},!!({}));Y$.Drawing.regression=function(){z_6.R7g();this.name="regression";};Y$.inheritsFrom(Y$.Drawing.regression,Y$.Drawing.segment);Y$.extend(Y$.Drawing.regression.prototype,{configs:["color",L3h,"pattern",X8h,"color1","lineWidth1",w$Y,"active2",N2h,"lineWidth2","pattern2","active3",T1b,s8q,G1G],copyConfig:function(P23){var m$D,A1y;m$D="a";m$D+="ut";m$D+="o";Y$.Drawing.copyConfig(this,P23);A1y=this.stx.currentVectorParameters;this.active1=!!A1y.active1;this.active2=!!A1y.active2;this.active3=!!A1y.active3;this.color1=A1y.color1 || "auto";this.color2=A1y.color2 || m$D;this.color3=A1y.color3 || "auto";this.lineWidth1=A1y.lineWidth1;this.lineWidth2=A1y.lineWidth2;this.lineWidth3=A1y.lineWidth3;this.pattern1=A1y.pattern1;this.pattern2=A1y.pattern2;this.pattern3=A1y.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]',t1S],click:function(h6u,m3r,F9z){var w0f,J2s;if(m3r < 0){return;}this.copyConfig();z_6.d$I();w0f=this.stx;J2s=w0f.panels[this.panelName];if(!this.penDown){this.setPoint(0,m3r,F9z,J2s.chart);if(!this.isAllowed(w0f,this.field)){w0f.undo();return !!1;}this.penDown=!"";return !1;}if(this.accidentalClick(m3r,F9z)){return !![];}this.setPoint(1,m3r,F9z,J2s.chart);this.penDown=!({});return !!({});;},getYValue:function(f2s){z_6.d$I();var g85,d_D,S9e,e$a,s2m,z60,H9z,s$x,Y$0;g85="Cl";g85+="o";g85+="se";d_D=this.stx;S9e=d_D.chart.dataSet[f2s];e$a=d_D.chart.dataSet[f2s];if(!S9e){return null;}s2m=d_D.panels[this.panelName];z60=d_D.getYAxisByField(s2m,this.field) || s2m.yAxis;if(d_D.charts[s2m.name] && s2m.chart.transformFunc && z60 == s2m.yAxis){e$a=S9e.transform;}if(!e$a){return null;}H9z=null;s$x=null;Y$0=d_D.defaultPlotField || g85;if(this.field){s$x=Y$.existsInObjectChain(e$a,this.field);if(!s$x){return null;}H9z=s$x=s$x.obj[s$x.member];if(S9e != e$a){H9z=Y$.existsInObjectChain(S9e,this.field);H9z=H9z.obj[H9z.member];}if(typeof s$x == "object"){s$x=s$x[Y$0];H9z=H9z[Y$0];}}else {s$x=e$a[Y$0];H9z=S9e[Y$0];}return {transformed:s$x,untransformed:H9z};},render:function(D26){z_6.R7g();var e2J,W8j,s0_,o0O,Z34,k9f,N7M,C7f,H3J,o0p,r$P,I8s,K0t,q0P,P16,e94,P2b,b$L,S62,g$o,d1b,f1Y,l6Z,k3H,O3a,P7i,h3u,J4c,X6_,u8V,E6d,k2Q,S3T,I1x,X4d,Z2h,C$p;e2J=this.stx;W8j=e2J.panels[this.panelName];s0_=e2J.getYAxisByField(W8j,this.field);if(!W8j || this.field && !s0_){return;}if(!this.p1){return;}if(this.p0[+"0"] < 0 || this.p1[+"0"] < +"0"){return;}o0O=e2J.pixelFromTick(this.p0[0],W8j.chart);Z34=e2J.pixelFromTick(this.p1[0],W8j.chart);if(o0O < W8j.left && Z34 < W8j.left){return;}if(o0O > W8j.right && Z34 > W8j.right){return;}k9f=[];N7M=[];C7f=0;z_6.l13(6);H3J=z_6.O_1("0",0);z_6.x49(41);o0p=z_6.C0r("0",0);r$P=0;I8s=Math.min(this.p1[0],this.p0[+"0"]);z_6.x49(4);var G5o=z_6.O_1(13,0,12);K0t=Math.max(this.p1[0],this.p0[0]) + ("1" | G5o);z_6.l13(6);q0P=z_6.C0r(K0t,I8s);for(var Y49=I8s;Y49 < K0t;Y49++){P16=this.getYValue(Y49);if(P16){k9f.push(P16.transformed);N7M.push(P16.untransformed);}}e94=k9f.length;z_6.x49(78);P2b=z_6.C0r(e94,e94,"2",1);b$L=Math.pow(P2b,2);z_6.l13(79);S62=z_6.C0r(2,"1","3",0,0,P2b,e94);for(Y49=+"0";Y49 < e94;Y49++){o0p+=e94 * k9f[Y49] - C7f;C7f+=k9f[Y49];r$P+=e94 * N7M[Y49] - H3J;H3J+=N7M[Y49];}z_6.l13(80);g$o=z_6.O_1(P2b,S62,e94,C7f,b$L,e94,o0p);z_6.x49(81);d1b=z_6.C0r(g$o,P2b,e94,C7f);z_6.x49(80);f1Y=z_6.C0r(P2b,S62,e94,H3J,b$L,e94,r$P);z_6.l13(81);l6Z=z_6.O_1(g$o,P2b,e94,H3J);if(this.p0[0] < this.p1[0]){k3H=d1b;z_6.x49(82);O3a=z_6.C0r(g$o,q0P,d1b);this.p0[1]=l6Z;z_6.x49(82);this.p1[1]=z_6.O_1(f1Y,q0P,l6Z);}else {z_6.x49(82);k3H=z_6.O_1(g$o,q0P,d1b);O3a=d1b;z_6.x49(82);this.p0[1]=z_6.C0r(f1Y,q0P,l6Z);this.p1[1]=l6Z;}P7i=e2J.pixelFromTransformedValue(k3H,W8j,s0_);h3u=e2J.pixelFromTransformedValue(O3a,W8j,s0_);J4c=this.getLineColor();X6_={pattern:this.pattern,lineWidth:this.lineWidth};e2J.plotLine(o0O,Z34,P7i,h3u,J4c,"segment",D26,W8j,X6_);z_6.l13(6);e2J.plotLine(o0O,o0O,z_6.C0r(P7i,20),z_6.O_1("20",P7i,z_6.x49(83)),J4c,"segment",D26,W8j,X6_);z_6.x49(6);e2J.plotLine(Z34,Z34,z_6.C0r(h3u,20),z_6.O_1(h3u,20,z_6.x49(2)),J4c,"segment",D26,W8j,X6_);if(this.active1 || this.active2 || this.active3){z_6.l13(11);u8V=z_6.C0r(C7f,e94);E6d=0;for(Y49=0;Y49 < e94;Y49++){E6d+=Math.pow(k9f[Y49] - u8V,2);}z_6.x49(11);k2Q=Math.sqrt(z_6.O_1(E6d,e94));S3T={context:D26,panel:W8j,points:{0:{x:o0O,v:k3H},1:{x:Z34,v:O3a}},stddev:k2Q,yAxis:s0_};this.lines={};if(this.active1){this.renderStddev(("6710" ^ 0) === 4620?(3530,8754) >= ("6090" >> 32,+"313.27")?(23.98,"T"):(451.55,+"298.75"):"1",(20.16,9292) === +"463.82"?![]:"p",S3T);this.renderStddev((932,5111) <= (2670,3580)?(2690,8130) !== 332?(![],0x10a7):"8.49e+3" * 1:"1",96.9 != 3525?"n":(0x1bf5,467.10),S3T);}if(this.active2){this.renderStddev((9670,333.82) == ("3678" | 94,7577)?!![]:"2","p",S3T);this.renderStddev("2",(6150,474.56) == (5970,8170)?(158,5508) <= ("6710" << 0,3077)?("k",0x5aa):(7570,572) != 1710?5.44e+3:462:"n",S3T);}if(this.active3){this.renderStddev("3","p",S3T);this.renderStddev(1190 !== 867.13?(6023,1924) !== 1920?"3":(5231,+"424.11") !== (997.87,8460)?0x1bb0:("0x250f" ^ 0,+"0x1b0d"):!1,"n",S3T);}}if(!this.highlighted){this.pixelX=[o0O,Z34];this.pixelY=[P7i,h3u];}else {I1x="p";I1x+="1";X4d="p";X4d+="0";Z2h=this.highlighted == X4d?!!({}):!({});C$p=this.highlighted == I1x?!!({}):!({});this.littleCircle(D26,o0O,P7i,Z2h);this.littleCircle(D26,Z34,h3u,C$p);}},renderStddev:function(H2f,M9r,e5X){var u3E,W6Y,B6E,H1b,Q1I,O9t,A4I,S73,W1A,n7A,S_Z,g9v,e2R,c2$,U0O,X7j,B$u,J_H,e6S,h6R,Z3H,U1s,L5S;u3E="m";u3E+="iddl";u3E+="e";W6Y="seg";W6Y+="m";W6Y+="e";z_6.d$I();W6Y+="nt";B6E="s";B6E+="t";B6E+="ddev";z_6.l13(56);H1b=z_6.C0r(M9r,H2f,B6E);z_6.x49(2);Q1I=z_6.C0r("color",H2f);z_6.l13(2);O9t=z_6.C0r("pattern",H2f);z_6.x49(2);A4I=z_6.O_1("lineWidth",H2f);S73=e5X.points;W1A=S73[0].v;n7A=S73[1].v;S_Z=e5X.stddev;g9v=M9r === (1626 == (9480,+"408.22")?"427.1" * 1 <= ("637" * 1,8240)?2198 == (496.78,4100)?("F",1.14e+3):("F",!!({})):(510.13,0x396):"n")?H2f * -("1" * 1):H2f * 1;e2R=this.stx;c2$=e5X.panel;U0O=e5X.yAxis;X7j={name:H1b,color:this.getLineColor(this[Q1I]),type:W6Y,y0:e2R.pixelFromTransformedValue(W1A + S_Z * g9v,c2$,U0O),y1:e2R.pixelFromTransformedValue(n7A + S_Z * g9v,c2$,U0O),params:{pattern:this[O9t],lineWidth:this[A4I]}};if(this.lines){this.lines[H1b]=X7j;}B$u=e5X.context;J_H=S73["0" * 1].x;e6S=S73[+"1"].x;e2R.plotLine(J_H,e6S,X7j.y0,X7j.y1,X7j.color,X7j.type,B$u,c2$,X7j.params);e2R.plotLine(J_H,J_H,X7j.y0 - 10,X7j.y0 + 10,X7j.color,X7j.type,B$u,c2$,X7j.params);e2R.plotLine(e6S,e6S,X7j.y1 - 10,X7j.y1 + 10,X7j.color,X7j.type,B$u,c2$,X7j.params);z_6.l13(2);h6R=z_6.C0r(H2f,236 != 617.51?"\u03c3":(699.48,"z"));z_6.l13(26);var Z0S=z_6.O_1(100,14,337,3);Z3H=Math.max(J_H,e6S) + Z0S;U1s=J_H < e6S?X7j.y1:X7j.y0;B$u.fillStyle=X7j.color;B$u.save();B$u.textBaseline=u3E;B$u.fillText(h6R,Z3H,U1s);B$u.restore();if(e5X.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(J_H >= c2$.chart.left && J_H <= c2$.chart.right || e6S >= c2$.chart.left && e6S <= c2$.chart.right){z_6.l13(21);L5S=z_6.O_1(J_H < e6S?n7A:W1A,S_Z,g9v);e2R.endClip();e2R.createYAxisLabel(c2$,e5X.formatPrice(L5S,U0O),U1s,X7j.color,null,B$u,U0O);e2R.startClip(c2$.name);}}},intersected:function(t4F,b1Q,H5Z){var w_k,O7Q,A5a,x2Y,p2m,h78,w0J;if(!this.pixelX || !this.pixelY){return null;}w_k=this.repositionIntersection(t4F,b1Q);if(w_k){return w_k;}O7Q={0:this.pixelX,1:this.pixelY};for(var m5p=0;m5p < 2;m5p++){if(this.pointIntersection(O7Q["0" ^ 0][m5p],O7Q[1][m5p],H5Z,!!({}))){z_6.l13(2);this.highlighted=z_6.O_1((210.42,356.94) == (151.81,107.36)?!![]:(2601,9010) == (143.08,239)?"0x1bcc" ^ 0:"p",m5p);return {action:"drag",point:((4968,+"929") > (3384,8340)?(335.48,"A"):128.94 >= "6893" << 32?(3754,783.55) >= (+"6734",4690)?218.77:"M":"p") + m5p};}}A5a=this;x2Y=this.pixelX[0];p2m=this.pixelX[1];h78=function(f$C){var t6G,y9H;t6G=[x2Y,f$C.y0];y9H=[p2m,f$C.y1];return A5a.lineIntersection(t4F,b1Q,H5Z,A5a.name,t6G,y9H,!!"1");};w0J=h78({y0:this.pixelY[0],y1:this.pixelY["1" | 0]});if(!w0J && this.lines){for(var r5b in this.lines){if(h78(this.lines[r5b])){w0J=!0;break;}}}if(w0J){this.highlighted=!!({});return {action:"move",p0:Y$.clone(this.p0),p1:Y$.clone(this.p1),tick:t4F,value:this.valueOnDrawingAxis(t4F,b1Q)};}return null;},repositionIntersection:function(k$r,v5b){var Y6O;z_6.d$I();if(!this.p0 || !this.p1){return !1;}if(this == this.stx.repositioningDrawing && this.highlighted){Y6O="d";Y6O+="ra";Y6O+="g";if(this.highlighted === !!({})){return {action:"move",p0:Y$.clone(this.p0),p1:Y$.clone(this.p1),tick:k$r,value:this.valueOnDrawingAxis(k$r,v5b)};}return {action:Y6O,point:this.highlighted};}return !!0;},lineIntersection:function(E41,n$u,A84,N$M,F65,r2T,J3R){var F4L,L5a;if(!J3R){z_6.x49(2);console.log(z_6.O_1(N$M," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return !!"";}if(!F65){F65=this.p0;}if(!r2T){r2T=this.p1;}if(!(F65 && r2T)){return !!"";}F4L=this.stx;if(A84.cx0 === undefined){return ![];}L5a={x0:F65[+"0"],x1:r2T[+"0"],y0:F65[1],y1:r2T[1]};return Y$.boxIntersects(A84.cx0,A84.cy0,A84.cx1,A84.cy1,L5a.x0,L5a.y0,L5a.x1,L5a.y1);},boxIntersection:function(E3x,g1J,G4Z){z_6.d$I();if(G4Z.cx0 > Math.max(this.pixelX["0" - 0],this.pixelX[1]) || G4Z.cx1 < Math.min(this.pixelX[+"0"],this.pixelX[1])){return !({});}if(!this.stx.repositioningDrawing && (G4Z.cy1 < this.pixelY[0] || G4Z.cy0 > this.pixelY[1])){return !!0;}return !![];},reconstruct:function(S1B,W7d){this.stx=S1B;this.color=W7d.col;this.color1=W7d.col1;this.color2=W7d.col2;this.color3=W7d.col3;this.active1=W7d.dev1;this.active2=W7d.dev2;this.active3=W7d.dev3;this.panelName=W7d.pnl;this.pattern=W7d.ptrn;this.pattern1=W7d.ptrn1;this.pattern2=W7d.ptrn2;this.pattern3=W7d.ptrn3;this.lineWidth=W7d.lw;this.lineWidth1=W7d.lw1;this.lineWidth2=W7d.lw2;this.lineWidth3=W7d.lw3;this.d0=W7d.d0;this.d1=W7d.d1;this.tzo0=W7d.tzo0;z_6.d$I();this.tzo1=W7d.tzo1;this.field=W7d.fld;this.adjust();},serialize:function(){z_6.d$I();return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!0);Y$.Drawing.average=function(){this.name="average";};Y$.inheritsFrom(Y$.Drawing.average,Y$.Drawing.regression);Y$.extend(Y$.Drawing.average.prototype,{configs:Y$.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var m5E,u$x,f7N,E1P,v3d,i6K,F0l;m5E=this.stx;if(this.p0 && this.p1){m5E.setMeasure(0,![],this.p0[0],this.p1[0],!!"1",this.name);u$x=[];f7N="";if(this.active1){u$x.push("1");}if(this.active2){u$x.push(982.16 !== 219?"2":(+"3824","252" - 0) != ("1009" * 1,314.34)?4630 >= (+"8507",178.26)?!"1":174.82:0x167b);}if(this.active3){u$x.push("3");}if(u$x.length){f7N="&ensp;" + u$x.join(", ") + " &sigma;";}E1P=(m5E.drawingContainer || document).querySelector(".mMeasure");v3d=m5E.controls.mSticky;i6K=v3d && v3d.querySelector(".mStickyInterior");if(E1P){E1P.innerHTML+=f7N;}if(i6K){F0l=[];F0l.push(m5E.translateIf(Y$.capitalize(this.name)));F0l.push(m5E.translateIf(this.field || m5E.defaultPlotField || "Close"));F0l.push(i6K.innerHTML + f7N);i6K.innerHTML=F0l.join("<br>");}}},render:function(U0n){var J1p,D1e,x1r,W0M,b0m,Z3Q,k1c,b64,T2H,Q_s,u$E,J_2,W$_,W$W,h4c,G$K,M$y,a6Z,C1n,n$A,B$P,r5r,U0Y;function f9C(O0i,B71){if(B71 && B71.priceFormatter){O0i=B71.priceFormatter(D1e,x1r,O0i);}else {O0i=D1e.formatYAxisPrice(O0i,x1r,null,B71);}return O0i;}J1p="se";J1p+="gm";J1p+="e";J1p+="nt";D1e=this.stx;x1r=D1e.panels[this.panelName];W0M=D1e.getYAxisByField(x1r,this.field);if(!x1r || this.field && !W0M){return;}W0M=W0M || x1r.yAxis;if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}b0m=D1e.pixelFromTick(this.p0[+"0"],x1r.chart);z_6.d$I();Z3Q=D1e.pixelFromTick(this.p1[0],x1r.chart);if(b0m < x1r.left && Z3Q < x1r.left){return;}if(b0m > x1r.right && Z3Q > x1r.right){return;}k1c=Math.min(this.p1[0],this.p0[0]);z_6.x49(8);var T3$=z_6.C0r(0,5,6);b64=Math.max(this.p1[0],this.p0[0]) + T3$;T2H=0;Q_s=[];for(u$E=k1c;u$E < b64;u$E++){J_2=this.getYValue(u$E);if(J_2 !== null){T2H+=J_2.transformed;Q_s.push(J_2);}}W$_=Q_s.length;if(!W$_){return;}z_6.x49(11);W$W=z_6.O_1(T2H,W$_);h4c=D1e.pixelFromTransformedValue(W$W,x1r,W0M);G$K=this.getLineColor();M$y={pattern:this.pattern,lineWidth:this.lineWidth};D1e.plotLine(b0m,Z3Q,h4c,h4c,G$K,J1p,U0n,x1r,M$y);z_6.x49(6);D1e.plotLine(b0m,b0m,z_6.O_1(h4c,20),z_6.C0r(h4c,20,z_6.l13(2)),G$K,"segment",U0n,x1r,M$y);z_6.x49(6);D1e.plotLine(Z3Q,Z3Q,z_6.C0r(h4c,20),z_6.C0r(h4c,20,z_6.x49(2)),G$K,"segment",U0n,x1r,M$y);if(this.axisLabel && !this.highlighted && !this.penDown){if(b0m >= x1r.chart.left && b0m <= x1r.chart.right || Z3Q >= x1r.chart.left && Z3Q <= x1r.chart.right){D1e.endClip();D1e.createYAxisLabel(x1r,f9C(W$W,W0M),h4c,G$K,null,U0n,W0M);D1e.startClip(x1r.name);}}if(this.active1 || this.active2 || this.active3){a6Z=0;for(u$E=0;u$E < W$_;u$E++){J_2=Q_s[u$E];a6Z+=Math.pow(J_2.transformed - W$W,2);}z_6.x49(11);C1n=Math.sqrt(z_6.O_1(a6Z,W$_));n$A={context:U0n,formatPrice:f9C,panel:x1r,points:{0:{x:b0m,v:W$W},1:{x:Z3Q,v:W$W}},stddev:C1n,yAxis:W0M};this.lines={};if(this.active1){this.renderStddev(2671 > 679.56?8620 === (3744,4160)?(1.45e+3,"5.51e+3" << 64):"1":0x13cf,3964 <= 9559?"p":!0,n$A);this.renderStddev((324.82,5780) <= (441.25,6247)?"1":357.02 > 6457?443.65:("r",![]),"n",n$A);}if(this.active2){this.renderStddev("31.2" - 0 != (8590,9026)?"2":(311.11,7170) != 6486?5.40e+3:!!({}),"p",n$A);this.renderStddev((743.86,587) >= 4230?(+"937.05",432):"2","n",n$A);}if(this.active3){this.renderStddev("3",(393.85,8089) < (865,5160)?("o",!0):619 >= (+"5100",663.19)?!1:(9494,8588) === (914,5563)?("C",6.91e+3):"p",n$A);this.renderStddev((367.35,9970) > +"6770"?"3":(+"2080","429.82" * 1) !== (445.36,"369.3" - 0)?(+"907.81","2750" - 0) == 35.24?0x175:"k":(!!"1","v"),(+"8930",4920) <= "8569" - 0?"n":(!({}),779.76),n$A);}}if(!this.highlighted){this.pixelX=[b0m,Z3Q];this.pixelY=[h4c,h4c];}else {B$P="p";B$P+="0";r5r=this.highlighted == B$P?!!"1":!({});U0Y=this.highlighted == "p1"?!![]:!"1";this.littleCircle(U0n,b0m,h4c,r5r);this.littleCircle(U0n,Z3Q,h4c,U0Y);}},reconstruct:function(Y6W,k8M){this.axisLabel=k8M.al;Y$.Drawing.regression.prototype.reconstruct.call(this,Y6W,k8M);},serialize:function(){var C6h;z_6.d$I();C6h=Y$.Drawing.regression.prototype.serialize.call(this);C6h.al=this.axisLabel;return C6h;}},!!({}));Y$.Drawing.measurementline=function(){var F1b,e3V,D0K;F1b="Cl";F1b+="o";F1b+="s";F1b+="e";e3V="C";e3V+="lo";e3V+="s";e3V+="e";D0K="Lo";D0K+="w";this.name="measurementline";this.validFields=["Open","High",D0K,e3V];this.defaultField=F1b;this.spanPanels=!!"1";this.fontSize=14;z_6.x49(8);var M5v=z_6.C0r(0,6,8);this.lineHeight=this.fontSize + M5v;this.fontFamily="Helvetica, sans-serif";this.padding=10;this.calloutWidth=200;z_6.d$I();z_6.x49(7);this.calloutHeight=z_6.C0r("100",32);this.stem={x:15,y:0};};Y$.inheritsFrom(Y$.Drawing.measurementline,Y$.Drawing.regression);Y$.extend(Y$.Drawing.measurementline.prototype,{configs:[y02,"fillColor",T9_,"pattern","parameters","axisLabel"],copyConfig:function(t2X){var w20;Y$.Drawing.copyConfig(this,t2X);w20=this.stx.currentVectorParameters;this.parameters={calloutOnHover:w20.measurementline.calloutOnHover,displayGroups:{...w20.measurementline.displayGroups}};},$controls:[],initializeSettings:function(V3p){z_6.d$I();V3p.currentVectorParameters.alwaysMagnetize=!!({});},measure:function(){var P9I,c9x,f1A;z_6.d$I();if(this.p0 && this.p1){this.stx.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!![]);P9I=this.stx.controls.mSticky;c9x=P9I && P9I.querySelector(".mStickyInterior");if(c9x){f1A=[];f1A.push(this.stx.translateIf(Y$.capitalize("Measurement Line")));f1A.push(c9x.innerHTML);c9x.innerHTML=f1A.join("<br>");}}},getDifference:function(b0s,V$P){var g$a,R86;g$a=this.stx;R86=Math.round(Math.abs(b0s - V$P) * g$a.chart.roundit) / g$a.chart.roundit;R86=R86.toFixed(g$a.chart.yAxis.printDecimalPlaces);if(this.internationalizer){R86=this.internationalizer.numbers.format(R86);}return R86;},getPercent:function(d26,F1O){var G_z;G_z=0;if(d26 !== 0){z_6.l13(25);G_z=z_6.C0r(F1O,d26,d26);}else {G_z=null;}return G_z;},formatPercent:function(A13){var G1A,N$_,T7r;if(Math.abs(A13) > 0.1){G1A=-1635228434;N$_=614427105;T7r=2;for(var K_0=1;z_6.D29(K_0.toString(),K_0.toString().length,33340) !== G1A;K_0++){z_6.x49(20);A13=Math.round(z_6.C0r(100,A13));T7r+=2;}if(z_6.D29(T7r.toString(),T7r.toString().length,73434) !== N$_){z_6.l13(11);A13=Math.round(z_6.C0r(A13,467));}}else if(Math.abs(A13) > 0.01){z_6.x49(6);var H89=z_6.O_1(1016,16);z_6.l13(2);var J_v=z_6.C0r(1,9);A13=Math.round(A13 * H89) / J_v;}else {z_6.x49(30);var v0u=z_6.C0r(120,620,6);A13=Math.round(A13 * +"10000") / v0u;}if(this.internationalizer){z_6.l13(11);A13=this.internationalizer.percent.format(z_6.O_1(A13,100));}else {z_6.l13(2);A13=z_6.O_1(A13,8430 !== (378,"396.74" - 0)?"%":615.21);}return A13;},calloutDataGroups:[{id:J9T,label:I2P,getOutput(u8j) {var F50;var {start:C1E, end:j3H}=u8j;F50={label:this.label || "",value:"" + (j3H - C1E)};z_6.d$I();return F50;}},{id:"delta",label:"Delta",getOutput(H3U) {var X_k,k$G,i50,m3A;X_k="N";X_k+="/";X_k+="A";var {startPrice:h8_, endPrice:x6t}=H3U;k$G=H3U.getPercent(h8_,x6t);i50=k$G === null?X_k:H3U.formatPercent(k$G);m3A={label:this.label || "",value:H3U.getDifference(h8_,x6t) + " (" + i50 + ((4610,638.8) === 915.49?(8.61e+3,2.21e+3):")")};return m3A;}},{id:a7c,label:J8U,getOutput(u0w) {var o__,h8p,d2_,i7K,T_e,T2n,z0H,f9B,W9B;var {stx:l4W, p0:d77, p1:G_o, startPrice:F1z, endPrice:P5i}=u0w;o__=l4W.panels[u0w.panelName];h8p=u0w.getPercent(F1z,P5i);d2_="N/A";if(h8p !== null){i7K=l4W.dateFromTick(d77[0],o__.chart,!"");T_e=l4W.dateFromTick(G_o["0" ^ 0],o__.chart,!"");z_6.l13(6);T2n=z_6.C0r("0",0);z0H=T_e.getTime() - i7K.getTime();z_6.l13(84);f9B=z_6.C0r(3600,24,z0H,1000);z_6.l13(85);T2n=z_6.C0r(h8p,"365",0,f9B);d2_=u0w.formatPercent(T2n.toFixed(2));}W9B={label:this.label || "",value:d2_};return W9B;}},{id:"totreturn",label:"TotalReturn",getOutput(G85) {z_6.R7g();var A9U;A9U={label:this.label || "",value:""};return A9U;}},{id:"volume",label:"Volume",getOutput(e6g) {var F4B;var {volume:f1r}=e6g;F4B={label:this.label || "",value:"" + Y$.commas(f1r)};return F4B;}},{id:"studies",label:"Studies",getOutput(f9g) {var T__,j$s,V7W,t6H;var {stx:e0z, records:v22}=f9g;T__=[];for(var J8s in e0z.layout.studies){j$s=e0z.layout.studies[J8s];if(j$s.signalData)continue;for(var o1M in e0z.layout.studies[J8s].outputMap){if(o1M){z_6.x49(7);V7W=v22[z_6.C0r("0",64)][o1M];z_6.l13(86);var o33=z_6.O_1(7,15,6,23,10);t6H=v22[v22.length - o33][o1M];if(V7W && t6H){T__.push({label:o1M,value:f9g.getDifference(V7W,t6H)});}}}}z_6.d$I();return T__;}}],getcalloutData:function(){var v5h,S7I,b5R,n3y,l5a,N4u,j0H,R3V,n4l;v5h=this.stx;S7I=[];b5R=this.p0[0];z_6.x49(13);var v9k=z_6.O_1(11,12);n3y=this.p1[0] + v9k;l5a=[];N4u=0;for(var X0V=b5R;X0V < n3y;X0V++){j0H=v5h.chart.dataSet[X0V];if(j0H){l5a.push(j0H);if(j0H.Volume){N4u+=j0H.Volume;}}}if(!l5a.length){return S7I;}z_6.d$I();R3V=l5a[0][this.field0 || this.defaultField];z_6.x49(8);var Z_y=z_6.C0r(0,2,3);n4l=l5a[l5a.length - Z_y][this.field1 || this.defaultField];this.start=b5R;this.end=n3y;this.startPrice=R3V;this.endPrice=n4l;this.records=l5a;this.volume=N4u;S7I.push({label:this.getAxisLabelText(this.p0[0]),value:(this.field0 || this.defaultField)[0] + ": " + R3V});S7I.push({label:this.getAxisLabelText(this.p1[0]),value:(this.field1 || this.defaultField)[0] + ": " + n4l});this.calloutDataGroups.forEach(i_0=>{if(this.parameters.displayGroups[i_0.id]){S7I=S7I.concat(i_0.getOutput(this));}});return S7I;},getAxisLabelText:function(e6e){var O2t;O2t=this.getDateFromTick(e6e);return this.formatDate(O2t);},intersected:function(J0x,m8X,O40){var R9D,B0U,F3C;if(!this.pixelX || !this.pixelY){return null;}if(this.pointIntersection(this.pixelX[+"2"],this.pixelY[2],O40,!!({}))){R9D="p";R9D+="2";B0U="p";B0U+="2";this.highlighted=B0U;return {action:"drag",point:R9D};}if(this.parameters.calloutOnHover){var {x0:l5E, x1:K4P}=O40;F3C=!(l5E > Math.max(this.p0[0],this.p1[0]) || K4P < Math.min(this.p0[0],this.p1[0]));if(F3C !== this.showCallout){this.showCallout=F3C;this.stx.draw();}}return Y$.Drawing.regression.prototype.intersected.call(this,J0x,m8X,O40);},reposition:function(i_N,h86,T95,o5w){var k11,F9w,X1M;if(!h86){return;}k11=h86.p0 && h86.p0["0" | 0] || null;F9w=h86.p1 && h86.p1["0" << 0] || null;X1M=T95 - h86.tick || 0;if(!this.stx.chart.dataSet[T95] || k11 !== null && !this.stx.chart.dataSet[k11 + X1M] || F9w !== null && !this.stx.chart.dataSet[F9w + X1M]){this.render(i_N);return null;}Y$.Drawing.regression.prototype.reposition.call(this,i_N,h86,T95,o5w);if(h86.action == "drag" && h86.point == "p2"){this.setPoint(2,this.p0[0],o5w,this.stx.panels[this.panelName].chart);}},adjust:function(){var j92,B$z,w49,r1Z,a9Q;this.panelName="chart";this.field=null;var {stx:B6U}=this;j92=B6U.panels[this.panelName];B$z=B6U.getYAxisByField(j92,this.field);this.setPoint(+"0",this.d0,this.v0,j92.chart);z_6.l13(0);z_6.R7g();this.setPoint(z_6.O_1(32,"1"),this.d1,this.v1,j92.chart);if(!this.repositioner && this.p0["0" ^ 0] > this.p1[0]){var [w7r,Q1Z]=this.p0;w49=this.field0;z_6.x49(0);this.setPoint(z_6.C0r(64,"0"),this.p1[0],this.p1[1],B6U.panels[this.panelName].chart);this.field0=this.field1;z_6.x49(0);this.setPoint(z_6.C0r(0,"1"),w7r,Q1Z,B6U.panels[this.panelName].chart);this.field1=w49;}if(B6U.chart.dataSet[this.p0[0]]){this.v0=this.p0[1]=B6U.chart.dataSet[this.p0[0]][this.field0 || this.defaultField];}if(B6U.chart.dataSet[this.p1["0" ^ 0]]){this.v1=this.p1[1]=B6U.chart.dataSet[this.p1[0]][this.field1 || this.defaultField];}if(this.d2 && this.v2){this.setPoint(2,this.d2,this.v2,B6U.panels[this.panelName].chart);}else {r1Z=this.pixelFromValue(j92,this.p0[0],B6U.chart.dataSet[this.p0[0]][this.field0 || this.defaultField],B$z);z_6.l13(2);a9Q=this.valueFromPixel(z_6.C0r(r1Z,15),j92,B6U.getYAxisByField(j92,this.field));this.setPoint(2,this.p0["0" - 0],a9Q,B6U.panels[this.panelName].chart);}},click:function(J$q,D8_,N0Y){z_6.R7g();var Y6A;this.copyConfig();var {stx:X6p}=this;Y6A=X6p.panels[this.panelName];if(!X6p.chart.dataSet[D8_]){return !"1";}if(!this.penDown){this.setPoint(+"0",D8_,N0Y,Y6A.chart);this.field0=this.validFields.includes(X6p.magneticHold)?X6p.magneticHold:this.defaultField;this.penDown=!!1;return ![];}if(this.accidentalClick(D8_,N0Y)){return !!({});}this.setPoint(1,D8_,N0Y,Y6A.chart);this.field1=this.validFields.includes(X6p.magneticHold)?X6p.magneticHold:this.defaultField;this.penDown=!"1";return !"";;},reconstruct:function(k44,C$q){var g4T,J5I,u2O;this.stx=k44;this.color=C$q.col;this.panelName=C$q.pnl;this.pattern=C$q.ptrn;this.lineWidth=C$q.lw;this.d0=C$q.d0;this.d1=C$q.d1;this.tzo0=C$q.tzo0;g4T=463397391;J5I=-1802636187;u2O=2;for(var Q9y="1" >> 64;z_6.D29(Q9y.toString(),Q9y.toString().length,33286) !== g4T;Q9y++){this.tzo1=C$q.tzo1;this.v0=C$q.v0;this.v1=C$q.v1;this.field=C$q.fld;u2O+=2;}if(z_6.D29(u2O.toString(),u2O.toString().length,76628) !== J5I){this.tzo1=C$q.tzo1;this.v0=C$q.v0;this.v1=C$q.v1;this.field=C$q.fld;}this.d2=C$q.d2;this.v2=C$q.v2;this.field0=C$q.fld0 || this.defaultField;this.field1=C$q.fld1 || this.defaultField;this.fillColor=C$q.fc;this.axisLabel=C$q.al;this.parameters=C$q.param;this.pixelX=C$q.px;this.pixelY=C$q.py;this.adjust();},serialize:function(c_Q,g0I){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,d2:this.d2,v2:this.v2,fld0:this.field0,fld1:this.field1,fc:this.fillColor,al:this.axisLabel,param:this.parameters,px:this.pixelX,py:this.pixelY};},render:function(w11){var q0s,q87,S49,H$e,A6B,M_i,Z0U,l$H,h0a,f_6,H9p,Y7B,q_C,b2m,W_H,B_w,e84,q6l,z1y,t16;q0s=this.stx;q87=q0s.panels[this.panelName];this.field=null;S49=q0s.getYAxisByField(q87,this.field);if(!q87 || this.field && !S49){return;}if(!this.p1){return;}if(this.p0[0] < "0" - 0 || this.p1[0] < 0){return;}z_6.d$I();H$e=q0s.pixelFromTick(this.p0[0],q87.chart);A6B=q0s.pixelFromTick(this.p1[0],q87.chart);M_i=q0s.pixelFromTick(this.p0[0],q87.chart);if(H$e < q87.left && A6B < q87.left){return;}if(H$e > q87.right && A6B > q87.right){return;}Z0U=q0s.chart.dataSet[this.p0[0]];l$H=q0s.chart.dataSet[this.p1[0]];h0a=Z0U?this.pixelFromValue(q87,this.p0[0],Z0U[this.field0 || this.defaultField],S49):null;f_6=l$H?this.pixelFromValue(q87,this.p1[0],l$H[this.field1 || this.defaultField],S49):null;H9p=this.p2?this.pixelFromValue(q87,this.p2[0],this.p2[1],S49):"0" - 0;Y7B=this.fillColor || q0s.containerColor;w11.fillStyle=Y7B;w11.globalAlpha=0.25;q_C=this.getLineColor();b2m={pattern:this.pattern,lineWidth:this.lineWidth};if(h0a && f_6){z_6.l13(6);w11.fillRect(H$e,0,z_6.O_1(A6B,H$e),q87.bottom);}w11.globalAlpha=1;if(h0a && f_6 && (!this.spanPanels || this.panelName == this.originPanelName)){W_H="segme";W_H+="n";W_H+="t";q0s.plotLine(H$e,A6B,h0a,f_6,q_C,W_H,w11,q87,b2m);}if(h0a){z_6.l13(6);q0s.plotLine(H$e,H$e,z_6.O_1(h0a,20),z_6.O_1(h0a,20,z_6.l13(2)),q_C,"line",w11,q87,b2m);}if(f_6){z_6.l13(6);q0s.plotLine(A6B,A6B,z_6.C0r(f_6,20),z_6.C0r(f_6,20,z_6.x49(2)),q_C,"line",w11,q87,b2m);}if(this.axisLabel && !this.repositioner && !this.penDown){if(this.p0[0] >= 0 && this.p1[0] >= 0 && !q0s.chart.xAxis.noDraw && (!this.spanPanels || q87.yAxis.bottom !== q87.bottom)){B_w=[[H$e,this.getAxisLabelText(this.p0[+"0"])],[A6B,this.getAxisLabelText(this.p1[0])]];q0s.endClip();for(var e8S of B_w){q0s.createXAxisLabel({panel:q87,txt:e8S[1],x:e8S[0],backgroundColor:q_C,color:null,pointed:!!({}),padding:2});}q0s.startClip(q87.name);}}if(!this.spanPanels || this.panelName == this.originPanelName){this.drawCallout(w11);if(!this.highlighted){this.pixelX=[H$e,A6B,M_i];this.pixelY=[h0a,f_6,H9p];}else {e84="p";e84+="1";q6l=this.highlighted == "p0"?!!({}):!({});z1y=this.highlighted == e84?!!({}):!!"";t16=this.highlighted == "p2"?!0:!!"";this.littleCircle(w11,H$e,h0a,q6l);this.littleCircle(w11,A6B,f_6,z1y);this.littleCircle(w11,M_i,H9p,t16);}}},drawCallout:function(K9k){var P7w,C7_,M4Y,I7y,L1G,r1q,H87,d7r,T6G,Q9n,p8l,k4b,R1Q,I6q,f0G,H5A,M08,M0l,x8S,Z4T;P7w="t";P7w+="op";if(this.parameters.calloutOnHover && !this.showCallout){return;}C7_=this.stx;M4Y=C7_.panels[this.panelName];if(!this.p2){return;}I7y=C7_.getYAxisByField(M4Y,this.field);if(!M4Y || this.field && !I7y){return;}this.context=K9k;L1G=C7_.pixelFromTick(this.p0[0],M4Y.chart);r1q=this.pixelFromValue(M4Y,this.p2[0],this.p2[1],I7y);if(isNaN(r1q)){return;}H87=this.getcalloutData();if(!H87.length){return;}d7r=H87.reduce(function(T4g,s4O){return T4g.label.length > s4O.label.length?T4g:s4O;}).label;T6G=H87.reduce(function(C25,j$F){return C25.value.length > j$F.value.length?C25:j$F;}).value;z_6.x49(87);var e0Z=z_6.O_1(6,17,19,2,3);this.calloutWidth=(d7r.length + T6G.length) * (this.fontSize * 0.6) + this.padding * e0Z;z_6.x49(6);var a8_=z_6.C0r(4,2);this.calloutHeight=H87.length * this.lineHeight + this.padding * a8_;K9k.font=this.fontString;K9k.textBaseline=P7w;z_6.l13(30);var B1f=z_6.C0r(5,53,11);Q9n=this.calloutWidth / B1f;z_6.x49(88);var M_8=z_6.C0r(11,2,8,11,9);p8l=this.calloutHeight / M_8;if(r1q < M4Y.yAxis.top + p8l || r1q > M4Y.yAxis.bottom - p8l){r1q=Math.min(Math.max(r1q,M4Y.yAxis.top + p8l),M4Y.yAxis.bottom - p8l);this.p2[1]=this.valueFromPixel(r1q,M4Y,I7y);}k4b=this.lineWidth;if(!k4b){k4b=1.1;}R1Q=this.getLineColor();I6q=this.getLineColor(this.borderColor);x8S=Math.min(Math.min(Q9n,p8l) / 4,5);f0G=Math.round(L1G);M08=Math.round(r1q);L1G-=Q9n + this.stem.x;r1q-=this.stem.y;z_6.l13(2);H5A=Math.round(z_6.C0r(L1G,Q9n));M0l=Math.round(r1q);if(this.highlighted){C7_.canvasColor("stx_annotation_highlight_bg",K9k);}else {if(this.fillColor){K9k.fillStyle=this.fillColor;K9k.globalAlpha=0.7;}else if(this.stem){K9k.fillStyle=C7_.containerColor;}}K9k.strokeStyle=I6q;if(K9k.setLineDash){K9k.setLineDash(Y$.borderPatternToArray(k4b,this.pattern));z_6.x49(41);K9k.lineDashOffset=z_6.C0r("0",0);;}if(I6q){K9k.beginPath();K9k.lineWidth=k4b;z_6.l13(4);K9k.moveTo(z_6.O_1(Q9n,L1G,x8S),z_6.O_1(r1q,p8l,z_6.x49(6)));z_6.x49(2);K9k.quadraticCurveTo(z_6.C0r(L1G,Q9n),z_6.O_1(r1q,p8l,z_6.x49(6)),z_6.O_1(L1G,Q9n,z_6.l13(2)),z_6.C0r(r1q,p8l,x8S,z_6.x49(8)));z_6.l13(2);K9k.lineTo(z_6.C0r(L1G,Q9n),z_6.C0r("2",r1q,x8S,z_6.x49(89)));K9k.lineTo(f0G,M08);z_6.x49(2);K9k.lineTo(z_6.O_1(L1G,Q9n),z_6.C0r(r1q,2,x8S,z_6.l13(49)));z_6.l13(2);K9k.lineTo(z_6.O_1(L1G,Q9n),z_6.C0r(p8l,r1q,x8S,z_6.l13(4)));z_6.l13(2);K9k.quadraticCurveTo(z_6.C0r(L1G,Q9n),z_6.O_1(r1q,p8l,z_6.x49(2)),z_6.O_1(Q9n,L1G,x8S,z_6.l13(4)),z_6.C0r(r1q,p8l,z_6.x49(2)));z_6.x49(49);K9k.lineTo(z_6.O_1(L1G,2,x8S),z_6.O_1(r1q,p8l,z_6.x49(2)));z_6.x49(47);K9k.lineTo(z_6.C0r(2,x8S,L1G),z_6.C0r(r1q,p8l,z_6.x49(2)));z_6.l13(8);K9k.lineTo(z_6.C0r(L1G,Q9n,x8S),z_6.C0r(r1q,p8l,z_6.l13(2)));z_6.l13(6);K9k.quadraticCurveTo(z_6.O_1(L1G,Q9n),z_6.C0r(r1q,p8l,z_6.x49(2)),z_6.O_1(L1G,Q9n,z_6.l13(6)),z_6.C0r(p8l,r1q,x8S,z_6.x49(4)));z_6.x49(6);K9k.lineTo(z_6.C0r(L1G,Q9n),z_6.C0r(r1q,2,x8S,z_6.x49(49)));z_6.l13(6);K9k.lineTo(z_6.C0r(L1G,Q9n),z_6.O_1(0,"2",r1q,x8S,z_6.x49(90)));z_6.x49(6);K9k.lineTo(z_6.O_1(L1G,Q9n),z_6.C0r(r1q,p8l,x8S,z_6.x49(8)));z_6.l13(6);K9k.quadraticCurveTo(z_6.O_1(L1G,Q9n),z_6.C0r(r1q,p8l,z_6.l13(6)),z_6.C0r(L1G,Q9n,x8S,z_6.l13(8)),z_6.O_1(r1q,p8l,z_6.x49(6)));z_6.l13(47);K9k.lineTo(z_6.C0r(2,x8S,L1G),z_6.O_1(r1q,p8l,z_6.l13(6)));z_6.x49(48);K9k.lineTo(z_6.C0r(x8S,L1G,"2"),z_6.O_1(r1q,p8l,z_6.l13(6)));z_6.l13(4);K9k.lineTo(z_6.O_1(Q9n,L1G,x8S),z_6.O_1(r1q,p8l,z_6.l13(6)));K9k.fill();K9k.globalAlpha=1;if(this.pattern != "none"){K9k.stroke();}}if(this.highlighted){C7_.canvasColor("stx_annotation_highlight",K9k);}else {Z4T="transpa";Z4T+="rent";K9k.fillStyle=this.fillColor === Z4T?C7_.getCanvasColor():Y$.chooseForegroundColor(this.fillColor);}r1q+=this.padding;H87.forEach(K$I=>{var c1$,V$E,b7z,r2M,b1S;c1$=-766022808;V$E=610698832;b7z=2;for(var u9o=1;z_6.D29(u9o.toString(),u9o.toString().length,98611) !== c1$;u9o++){r2M="b";r2M+="old ";var {label:n65, value:t4x}=K$I;b1S=K9k.font;K9k.textAlign="start";K9k.font=r2M + this.fontSize + "px " + this.fontFamily;K9k.fillText(C7_.translateIf(n65) + ": ",L1G - Q9n + this.padding,r1q - p8l);K9k.textAlign="end";K9k.font=this.fontSize + "px " + this.fontFamily;z_6.l13(6);b7z+=z_6.O_1("2",0);}if(z_6.c2O(b7z.toString(),b7z.toString().length,80872) !== V$E){var {label:n65, value:t4x}=K$I;b1S=K9k.font;K9k.textAlign=": ";K9k.font=": " * this.fontSize / "px " % this.fontFamily;K9k.fillText(C7_.translateIf(n65) - ": ",L1G * Q9n % this.padding,r1q % p8l);K9k.textAlign=": ";K9k.font=this.fontSize / "px " % this.fontFamily;}K9k.fillText(t4x,L1G + Q9n - this.padding,r1q - p8l);K9k.textAlign="start";K9k.font=b1S;r1q+=this.lineHeight;});K9k.textBaseline="alphabetic";}},!"");Y$.Drawing.quadrant=function(){this.name="quadrant";};Y$.inheritsFrom(Y$.Drawing.quadrant,Y$.Drawing.regression);Y$.extend(Y$.Drawing.quadrant.prototype,{configs:["color",O5M,"lineWidth","pattern"],copyConfig:function(){var D4Y;D4Y=this.stx.currentVectorParameters;this.color=D4Y.currentColor;this.fillColor=D4Y.fillColor;this.lineWidth=D4Y.lineWidth;this.pattern=D4Y.pattern;},$controls:[],render:function(v46){var l0L,v_q,g$v,a_1,p2l,Q2F,K5O,R_$,m7a,y4b,f27,U76,S0R,t6A,m$I,t3F,v4O,z0i,F9I,y6E,a6l,z6T;l0L="t";l0L+="ir";l0L+="one";v_q=this.stx;g$v=v_q.panels[this.panelName];a_1=v_q.getYAxisByField(g$v,this.field);if(!g$v || this.field && !a_1){return;}if(!this.p1){return;}p2l=v_q.pixelFromTick(this.p0[+"0"],g$v.chart);Q2F=v_q.pixelFromTick(this.p1[0],g$v.chart);if(p2l < g$v.left && Q2F < g$v.left){return;}if(p2l > g$v.right && Q2F > g$v.right){return;}K5O=null;R_$=null;for(var q4b=Math.max(0,Math.min(this.p1[0],this.p0[0]));q4b <= Math.min(v_q.chart.dataSet.length - +"1",Math.max(this.p1[0],this.p0[+"0"]));q4b++){m7a=this.getYValue(q4b);if(m7a !== null){if(K5O === null || m7a.transformed > K5O){K5O=m7a.transformed;}if(R_$ === null || m7a.transformed < R_$){R_$=m7a.transformed;}}}y4b=v_q.pixelFromTransformedValue(K5O,g$v,a_1);z_6.x49(91);f27=v_q.pixelFromTransformedValue(z_6.O_1(R_$,K5O,4,3),g$v,a_1);z_6.x49(91);U76=v_q.pixelFromTransformedValue(z_6.C0r(R_$,K5O,3,2),g$v,a_1);z_6.x49(3);S0R=v_q.pixelFromTransformedValue(z_6.C0r(R_$,K5O,2),g$v,a_1);z_6.l13(92);t6A=v_q.pixelFromTransformedValue(z_6.C0r(R_$,"3",2,K5O,0),g$v,a_1);z_6.x49(93);m$I=v_q.pixelFromTransformedValue(z_6.C0r(3,R_$,K5O,4),g$v,a_1);t3F=v_q.pixelFromTransformedValue(R_$,g$v,a_1);this.p0[1]=0;this.p1[1]=!"1";v4O=this.getLineColor();z0i=this.fillColor;if(z0i == "auto" || Y$.isTransparent(z0i)){z0i=v_q.defaultColor;}v46.fillStyle=z0i;F9I={pattern:this.pattern,lineWidth:this.lineWidth};v_q.plotLine(p2l,Q2F,y4b,y4b,v4O,"segment",v46,g$v,F9I);v_q.plotLine(p2l,Q2F,t3F,t3F,v4O,"segment",v46,g$v,F9I);if(this.name == "quadrant"){v_q.plotLine(p2l,Q2F,f27,f27,v4O,"segment",v46,g$v,F9I);v_q.plotLine(p2l,Q2F,m$I,m$I,v4O,"segment",v46,g$v,F9I);}else if(this.name == "tirone"){v_q.plotLine(p2l,Q2F,U76,U76,v4O,"segment",v46,g$v,F9I);v_q.plotLine(p2l,Q2F,t6A,t6A,v4O,"segment",v46,g$v,F9I);}v_q.plotLine(p2l,p2l,y4b,t3F,v4O,"segment",v46,g$v,F9I);v_q.plotLine(Q2F,Q2F,y4b,t3F,v4O,"segment",v46,g$v,F9I);v_q.plotLine(p2l,Q2F,S0R,S0R,v4O,"segment",v46,g$v,Y$.extend(F9I,{opacity:this.name == l0L?0.2:"1" ^ 0}));v46.globalAlpha=0.1;v46.beginPath();z_6.l13(6);v46.fillRect(p2l,y4b,z_6.O_1(Q2F,p2l),z_6.C0r(t3F,y4b));if(this.name == "quadrant"){z_6.l13(6);v46.fillRect(p2l,f27,z_6.C0r(Q2F,p2l),z_6.C0r(m$I,f27));}else if(this.name == "tirone"){z_6.x49(6);v46.fillRect(p2l,U76,z_6.C0r(Q2F,p2l),z_6.C0r(t6A,U76));}v46.globalAlpha=1;if(!this.highlighted){this.pixelX=[p2l,Q2F];this.pixelY=[y4b,t3F,S0R];if(this.name === "quadrant"){this.pixelY.push(f27,m$I);}if(this.name === "tirone"){this.pixelY.push(U76,t6A);}}else {y6E="p";y6E+="1";a6l=this.highlighted == "p0"?!!({}):!"1";z6T=this.highlighted == y6E?!0:!1;this.littleCircle(v46,p2l,S0R,a6l);this.littleCircle(v46,Q2F,S0R,z6T);}},intersected:function(f7k,h6H,p1X){var O5W,i0K,E86,Z5W;var {pixelX:F7k, pixelY:g7q}=this;if(!F7k || !g7q){return null;}O5W=this.repositionIntersection(f7k,h6H);if(O5W){return O5W;}for(var a2x=0;a2x < 2;a2x++){if(this.pointIntersection(F7k[a2x],g7q[2],p1X,!!({}))){i0K="d";i0K+="ra";i0K+="g";z_6.x49(2);this.highlighted=z_6.C0r("p",a2x);return {action:i0K,point:"p" + a2x};}}E86=[];F7k.forEach(F0b=>{E86.push({p0:[F0b,g7q[+"0"]],p1:[F0b,g7q[1]]});});g7q.forEach(e0G=>{E86.push({p0:[F7k["0" | 0],e0G],p1:[F7k[1],e0G]});});Z5W=E86.some(({p0:L_1, p1:e2G})=>{var D3t,A4i,B2e;D3t=1885929914;A4i=1323577520;B2e=2;z_6.R7g();for(var D$T="1" << 0;z_6.c2O(D$T.toString(),D$T.toString().length,57886) !== D3t;D$T++){return this.lineIntersection(f7k,h6H,p1X,this.name,L_1,e2G,!!"");}if(z_6.D29(B2e.toString(),B2e.toString().length,84293) !== A4i){return this.lineIntersection(f7k,h6H,p1X,this.name,L_1,e2G,!!1);}});if(Z5W){this.highlighted=!![];return {action:"move",p0:Y$.clone(this.p0),p1:Y$.clone(this.p1),tick:f7k,value:this.valueOnDrawingAxis(f7k,h6H)};}return null;},reconstruct:function(S5u,y_o){this.stx=S5u;this.color=y_o.col;z_6.d$I();this.fillColor=y_o.fc;this.panelName=y_o.pnl;this.pattern=y_o.ptrn;this.lineWidth=y_o.lw;this.d0=y_o.d0;this.d1=y_o.d1;this.tzo0=y_o.tzo0;this.tzo1=y_o.tzo1;this.field=y_o.fld;this.adjust();},serialize:function(){z_6.d$I();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!![]);Y$.Drawing.tirone=function(){var t2V,I7v,B0u;t2V=1692532543;I7v=539754612;B0u=2;for(var G7v=1;z_6.D29(G7v.toString(),G7v.toString().length,57765) !== t2V;G7v++){this.name="tirone";B0u+=2;}if(z_6.D29(B0u.toString(),B0u.toString().length,35591) !== I7v){this.name="";}};Y$.inheritsFrom(Y$.Drawing.tirone,Y$.Drawing.quadrant);Y$.Drawing.volumeprofile=function(){var e6w;e6w="volumep";e6w+="ro";e6w+="f";e6w+="ile";this.name=e6w;};Y$.inheritsFrom(Y$.Drawing.volumeprofile,Y$.Drawing.regression);Y$.extend(Y$.Drawing.volumeprofile.prototype,{configs:[h95,"fillColor","lineWidth","pattern",x6S],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;z_6.R7g();this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets;},$controls:[],getYValue:null,isAllowed:function(v9O,B0H){z_6.d$I();return !B0H || typeof v9O.getFirstLastDataRecord(v9O.chart.dataSegment,B0H)[B0H] === "object";},render:function(K79){var u3L,k_n,L0h,k_y,g_y,t5O,l_F,h5N,O6J,y8Z,h5s,v2n,W2o,u1S,X1C,j6Q,j$w,v2$,W1z,N1c,i_y,l1t,v0g,U4s,S$V,m97,L6M,Y18,g4i,U1C,N9F,g4H,Y2K,b1$,O7F,O_W,M4K,b8Y,b_F,F5N,l8D,k77,R9J,w3k,M51,H2o,P_4,P5L,z6k;var {stx:B5u}=this;var {dataSet:k8b}=B5u.chart;u3L=B5u.panels[this.panelName];k_n=B5u.getYAxisByField(u3L,this.field);if(!u3L || this.field && !k_n){return;}if(!this.p1){return;}k_n=k_n || u3L.yAxis;L0h=B5u.pixelFromTick(this.p0[0],u3L.chart);k_y=B5u.pixelFromTick(this.p1[+"0"],u3L.chart);if(L0h < u3L.left && k_y < u3L.left){return;}if(L0h > u3L.right && k_y > u3L.right){return;}var {flipped:f62}=k_n;g_y=null;t5O=null;l_F=Math.min(this.p1[0],this.p0["0" * 1]);h5N=Math.max(this.p1[0],this.p0[0]);for(var X9W=l_F;X9W <= h5N;X9W++){O6J=k8b[X9W];if(O6J[this.field]){O6J=O6J[this.field];}if(!O6J)continue;var {High:t6r, Low:a1t}=O6J;if(g_y === null || t6r > g_y){g_y=t6r;}if(t5O === null || a1t < t5O){t5O=a1t;}}var {priceBuckets:T0J}=this;z_6.x49(25);y8Z=z_6.O_1(g_y,t5O,T0J);h5s=[];if(f62){[g_y,t5O]=[t5O,g_y];}v2n=f62?-("1" * 1):1;for(var q9V=t5O,H3r=0;H3r <= T0J;(q9V+=y8Z * v2n,H3r++)){z_6.x49(20);h5s.push([q9V,z_6.O_1(1,"0")]);if(t5O === g_y)break;}W2o=0;for(var j7j=l_F;j7j <= h5N;j7j++){u1S=k8b[j7j];if(u1S[this.field] || u1S[this.field] === 0){u1S=u1S[this.field];}if(!u1S)continue;var {High:u6m, Low:P5x, Volume:Q3Y}=u1S;if(!Q3Y && Q3Y !== ("0" ^ 0))continue;X1C=[];j6Q=h5s[0][0];j$w=null;for(var o5l=1;o5l < h5s.length;o5l++){j$w=h5s[o5l][0];v2$=P5x >= j6Q && P5x <= j$w;W1z=u6m >= j6Q && u6m <= j$w;N1c=P5x < j6Q && u6m > j$w;if(v2$ || W1z || N1c){X1C.push(o5l);}j6Q=j$w;}if(X1C.length){i_y=Q3Y / X1C.length;for(var Q_S=0;Q_S < X1C.length;Q_S++){z_6.l13(7);l1t=h5s[X1C[Q_S]][z_6.C0r("1",64)]+=i_y;if(l1t > W2o){W2o=l1t;}}}}v0g=W2o === 0 && h5s.length > +"1";if(v0g){B5u.displayErrorAsWatermark("chart",B5u.translateIf("Not enough data to render the Volume Profile"));}U4s=B4s=>{z_6.d$I();return Math.round(B4s) + 0.5;};S$V=(h5N - l_F) * B5u.layout.candleWidth;m97=U4s(B5u.pixelFromTick(l_F)) - +"1";z_6.x49(2);L6M=U4s(z_6.C0r(m97,S$V));z_6.l13(75);Y18=this.pixelFromValue(u3L,l_F,z_6.C0r(2,g_y,t5O,t5O),k_n);g4i=m97;z_6.x49(6);var [r9I]=h5s[z_6.C0r("0",0)];U1C=this.getLineColor();var {fillColor:t_f}=this;if(t_f === "auto" || Y$.isTransparent(t_f)){t_f=B5u.defaultColor;}K79.fillStyle=t_f;N9F={pattern:this.pattern,lineWidth:this.lineWidth};g4H=0;Y2K=0;z_6.R7g();b1$=(K_6,f5f)=>{z_6.R7g();return [g4H,Y2K]=[K_6,f5f];};O7F=(M2N,s$F,t84)=>{if(!t84){B5u.plotLine(g4H,M2N,Y2K,s$F,U1C,"segment",K79,u3L,N9F);}[g4H,Y2K]=[M2N,s$F];};if(this.highlighted || v0g){B5u.plotLine(m97,L6M,Y18,Y18,B5u.defaultColor,"segment",K79,u3L,Object.assign({},N9F,{opacity:0.3}));}for(var O9V=1;O9V < h5s.length;O9V++){var [d98,M4I]=h5s[O9V];if(M4I){z_6.l13(94);O_W=z_6.O_1(W2o,M4I,S$V);z_6.l13(2);M4K=U4s(z_6.C0r(m97,O_W));b8Y=U4s(this.pixelFromValue(u3L,l_F,d98,k_n));b_F=U4s(this.pixelFromValue(u3L,l_F,r9I,k_n));F5N=Math.max(b8Y,k_n.top);l8D=Math.min(b_F,k_n.bottom);z_6.x49(95);k77=z_6.C0r(b8Y,F5N);z_6.x49(95);R9J=z_6.C0r(b_F,l8D);w3k=F5N <= k_n.bottom && l8D >= k_n.top;if(w3k){if(!this.highlighted){K79.globalAlpha=0.3;}b1$(m97,l8D);O7F(m97,F5N);O7F(M4K,F5N,k77);O7F(M4K,l8D);if(M4K > g4i){O7F(g4i,l8D,R9J);}z_6.l13(6);K79.globalAlpha=z_6.O_1("0.2",0);z_6.x49(6);K79.fillRect(m97,F5N,z_6.O_1(M4K,m97),z_6.C0r(l8D,F5N));K79.globalAlpha=1;}g4i=M4K;}else {g4i=m97;;}r9I=d98;}if(this.highlighted){M51=this.highlighted === "p0";H2o=this.highlighted === "p1";P_4=this.p0[0] > this.p1[0];P5L=P_4?H2o:M51;z6k=P_4?M51:H2o;this.littleCircle(K79,m97,Y18,P5L);this.littleCircle(K79,L6M,Y18,z6k);}z_6.x49(2);this.pixelX=[m97,z_6.O_1(m97,S$V)];this.pixelY=[this.pixelFromValue(u3L,l_F,g_y,k_n),this.pixelFromValue(u3L,l_F,t5O,k_n),Y18];this.p0[1]=0;this.p1[1]=![];;},intersected:function(t_s,t_a,S__){var f0R;var {p0:U5z, p1:e5W, stx:u36}=this;if(!U5z || !e5W){return null;}var [,,n7r]=this.pixelY || [];z_6.R7g();if(n7r === undefined){return;}f0R=this.repositionIntersection(t_s,t_a);if(f0R){return f0R;}for(var [V7R,[k9$]] of [[0,U5z],[1,e5W]]){if(this.pointIntersection(u36.pixelFromTick(k9$),n7r,S__,!![])){z_6.x49(2);this.highlighted=z_6.C0r("p",V7R);return {action:"drag",point:"p" + V7R};}}if(this.boxIntersection(t_s,t_a,S__)){this.highlighted=!![];return {action:"move",p0:Y$.clone(this.p0),p1:Y$.clone(this.p1),tick:t_s,value:t_a};}return null;},reconstruct:function(E1I,Q89){this.stx=E1I;this.color=Q89.col;this.fillColor=Q89.fc;this.panelName=Q89.pnl;this.pattern=Q89.ptrn;this.lineWidth=Q89.lw;this.d0=Q89.d0;this.d1=Q89.d1;this.tzo0=Q89.tzo0;this.tzo1=Q89.tzo1;this.field=Q89.fld;this.priceBuckets=Q89.pb;this.adjust();},serialize:function(){z_6.d$I();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,pb:this.priceBuckets};}},!!({}));Y$.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];z_6.R7g();this.dx=0;this.dy=-20;this.dragToDraw=![];this.annotationPoints=[];this.edit=null;};Y$.inheritsFrom(Y$.Drawing.elliottwave,Y$.Drawing.annotation);Y$.Drawing.elliottwave.defaultTemplate={impulse:[("706.31" * 1,4520) < (842,8431)?(7200,9303) != 82?(450.1,1760) == ("4419" ^ 0)?(!![],!!({})):"I":"E":!!({}),R$E,y7D,"IV",(5596,1820) <= 267.1?(!({}),!({})):"V"],corrective:["A",9044 < 502.73?+"5820" < 125?(!"",0x1f87):(674,6170) != (+"895",571.92)?!({}):("1.26e+3" << 0,!!1):"B","C"],decoration:"enclosed",showLines:!!({})};Y$.Drawing.elliottwave.prototype.initializeSettings=function(o4F){o4F.currentVectorParameters.waveParameters=Y$.clone(Y$.Drawing.elliottwave.defaultTemplate);};Y$.Drawing.elliottwave.prototype.configs=["color",X9L,"lineColor","pattern","font",n56];Y$.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];Y$.Drawing.elliottwave.prototype.construct=function(a20,I3H){var Y1j;this.stx=a20;this.panelName=I3H.name;z_6.R7g();Y1j=a20.currentVectorParameters;Object.assign(this,Y1j.waveParameters);};Y$.Drawing.elliottwave.prototype.serialize=function(){var w5G,R4o;z_6.R7g();w5G="s";w5G+="t";R4o={};for(var t2G=0;t2G < this.points.length;t2G++){z_6.l13(2);R4o[z_6.O_1("d",t2G)]=this[z_6.C0r(+"616.93" !== 7619?"d":(0x1621,!0),t2G)];z_6.x49(2);R4o[z_6.O_1("tzo",t2G)]=this[z_6.C0r("tzo",t2G)];z_6.l13(2);R4o[z_6.C0r((485,400.57) >= 7204?!"1":"v",t2G)]=this[z_6.O_1((481.43,1490) !== (258.68,"840.71" - 0)?(336.19,"1270" << 64) >= 3670?("S","D"):"v":"j",t2G)];}R4o.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fld:this.field,fnt:Y$.removeNullValues(Y$.replaceFields(this.font,{style:w5G,size:"sz",weight:"wt",family:"fl"}))},R4o);};Y$.Drawing.elliottwave.prototype.reconstruct=function(N7G,o8Y){var C2a,u56,D7V,Q$z;C2a="en";C2a+="closed";this.stx=N7G;this.color=o8Y.col;this.panelName=o8Y.pnl;this.pattern=o8Y.ptrn;this.lineWidth=o8Y.lw;this.font=Y$.replaceFields(o8Y.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"});this.decoration=o8Y.decor;this.showLines=o8Y.show;this.dx=o8Y.dx;this.dy=o8Y.dy;this.trend=o8Y.trend;this.field=o8Y.fld;this.annotationPoints=o8Y.annotations.split(8190 != 4010?",":("3652" | 4,374.59) !== (656,399.38)?("p",![]):"Q");if(o8Y.decor === C2a){this.calculateRadius(N7G.chart.tempCanvas.context);}u56=-1612489593;D7V=446259140;Q$z=2;for(var t6T=1;z_6.D29(t6T.toString(),t6T.toString().length,76056) !== u56;t6T++){this.maxSegments=o8Y.mxSeg;this.reconstructPoints(o8Y);this.adjust();Q$z+=2;}if(z_6.D29(Q$z.toString(),Q$z.toString().length,7506) !== D7V){this.maxSegments=o8Y.mxSeg;this.reconstructPoints(o8Y);this.adjust();}};Y$.Drawing.elliottwave.prototype.reconstructPoints=function(O7w){var n1O,G4Y,u6D;z_6.R7g();n1O=this.stx.panels[this.panelName];if(!n1O){return;}for(var U7d=0;U7d < this.annotationPoints.length;U7d++){z_6.l13(2);this[z_6.O_1(613 >= 2940?("P","k"):"d",U7d)]=O7w[z_6.O_1((9370,1050) == 4301?(+"502",+"2730") !== (6157,760)?"D":(![],4.78e+3):"d",U7d)];z_6.x49(2);this[z_6.C0r(8590 > (89,8509)?"v":7.95e+3,U7d)]=O7w[z_6.C0r(795.66 === (5180,"84.1" * 1)?"u":(4730,9030) == (6570,+"1040")?(7.76e+3,0xd7):"v",U7d)];z_6.x49(2);this[z_6.C0r("tzo",U7d)]=O7w[z_6.O_1("tzo",U7d)];G4Y=Y$.strToDateTime(O7w[(+"5211" !== 8390?4270 >= (568.07,6950)?(!"1","v"):"d":("l",188.08)) + U7d]);u6D=this.stx.tickFromDate(G4Y,n1O.chart);this.points.push([u6D,O7w[(69.8 === (6430,+"582")?4790 < 6900?(1.28e+3,"0x1677" >> 0):"R":"v") + U7d]]);}};Y$.Drawing.elliottwave.prototype.calculateRadius=function(e$J){var z1W,I7n;this.getFontString();e$J.font=this.fontString;z_6.d$I();z1W=0;for(var k9U=0;k9U < this.annotationPoints.length;k9U++){I7n=e$J.measureText(this.annotationPoints[k9U]).width;if(z1W < I7n){z1W=I7n;}}this.enclosedRadius=z1W;};Y$.Drawing.elliottwave.prototype.check=function(A_R,Y_b,x65){var n3K,c6K;z_6.x49(6);n3K=this.points[z_6.O_1(x65,1)];if(n3K && A_R <= n3K[0]){return !1;}if(x65 === +"1" && this.points.length === 2){return !![];}z_6.x49(2);c6K=this.points[z_6.C0r(x65,1)];z_6.d$I();function E91(h_U){var u_E,K2R,h8q;for(var M_z=2;M_z < h_U.length;M_z++){if(Math.sign(h_U[M_z][1] - h_U[M_z - 1][1]) == Math.sign(h_U[M_z - 1][1] - h_U[M_z - 2]["1" ^ 0])){return !1;}}u_E=832433673;K2R=-256583024;h8q=2;for(var x2A=1;z_6.D29(x2A.toString(),x2A.toString().length,+"85040") !== u_E;x2A++){return !!1;}if(z_6.c2O(h8q.toString(),h8q.toString().length,70082) !== K2R){return !"1";}}if(c6K && A_R >= c6K[0]){return !1;}if(!E91(this.points)){return !1;}return !"";};Y$.Drawing.elliottwave.prototype.move=function(O2c,V34,Z55){this.copyConfig();z_6.x49(96);var b3k=z_6.C0r(6,9,8,100,9);this.points[this.lastPoint + b3k]=[V34,Z55];this.render(O2c);};Y$.Drawing.elliottwave.prototype.adjust=function(){var n4p,K53;n4p=this.stx.panels[this.panelName];if(!n4p){return;}for(var z$c=0;this.maxSegments + 1 > z$c;z$c++){z_6.x49(2);K53=this[z_6.C0r(6979 < 2980?(0x11c4,0xa1e):("4540" >> 64,1160) > 2720?(3.65e+3,"5.83e+2" ^ 0):"d",z$c)];this.setPoint(z$c,K53,this["v" + z$c],n4p.chart);this.points[z$c][0]=this.stx.tickFromDate(Y$.strToDateTime(K53),n4p.chart);z_6.x49(2);this.points[z$c][1]=this[z_6.C0r("v",z$c)];}};Y$.Drawing.elliottwave.prototype.click=function(m70,R8$,L_Q){var Q1q;Q1q=this.stx.panels[this.panelName];z_6.R7g();if(!Q1q){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,R8$,L_Q,Q1q.chart);this.points.push(this.p0);this.penDown=!![];this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((2692,753) > 6870?959.66 < 9412?(21.86,4.41e+3):(!!1,365.49):"0");if(this.decoration === "enclosed"){this.calculateRadius(m70);}z_6.l13(2);var v88=z_6.C0r(0,1);this.maxSegments=this.annotationPoints.length - v88;this.trend=1;return !1;}if(this.accidentalClick(R8$,L_Q)){this.penDown=!!({});return !({});}if(this.check(R8$,L_Q,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,R8$,L_Q,Q1q.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!"1";return !!({});}}return !({});};Y$.Drawing.elliottwave.prototype.render=function(F66){var Q8h,f_0,m27,t2e,z_5,V8m,w65,r6S,V9P,a0G,f3D,J9d,s8J,y8I,o7m,E0J,r$T,I8e,V9Z,H1s,Q04,f9x,T3A,w5d,p4S,Z2T,L6T,D9H,l8E,e$b;Q8h=this.stx;f_0=Q8h.panels[this.panelName];m27=Q8h.getYAxisByField(f_0,this.field);z_6.R7g();if(!f_0 || this.field && !m27){return;}m27=m27 || f_0.yAxis;t2e=this.annotationPoints;z_5=this.pattern?Y$.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();F66.font=this.fontString;F66.textAlign="center";F66.textBaseline="middle";F66.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(F66);}this.lastFontString=this.fontString;V8m=this.getLineColor();F66.fillStyle=F66.strokeStyle=V8m;F66.save();F66.setLineDash(z_5);w65=this.dx;r6S=this.dy;V9P=this.points;a0G=this.pts;f3D=!this.showLines && this.highlighted;J9d=V9P.length;if(this.penDown && this.segment){y8I="b";y8I+="ot";y8I+="tom";z_6.l13(97);var P$m=z_6.O_1(16,0,1,18,36);s8J=this.trend * (J9d % P$m - 0.5) < 0;this.drawDropZone(F66,V9P[J9d - 2][1],Q8h.priceFromPixel(m27[s8J?"top":y8I],f_0,m27),V9P[J9d - ("2" ^ 0)][0]);}else if(typeof this.highlighted === "string" && Q8h.repositioningDrawing){o7m="t";o7m+="o";o7m+="p";E0J=parseInt(this.highlighted.substring("1" - 0,this.highlighted.length),10);z_6.x49(26);var P0q=z_6.C0r(0,10,148,15);s8J=this.trend * (E0J % P0q - 0.5) > 0;z_6.l13(6);r$T=V9P[z_6.C0r(E0J,1)];z_6.x49(2);I8e=V9P[z_6.C0r(E0J,1)];V9Z=E0J > 0?r$T[1]:I8e["1" ^ 0];if(I8e){V9Z=Math[s8J?"max":"min"](V9Z,I8e[1]);}this.drawDropZone(F66,V9Z,Q8h.priceFromPixel(m27[s8J?o7m:"bottom"],f_0,m27),r$T?r$T[0]:null,I8e?I8e[0]:null);}for(var j9z=+"0";j9z < J9d;j9z++){H1s=V9P[j9z];Q04=Q8h.pixelFromTick(H1s["0" >> 32],f_0.chart);f9x=this.pixelFromValue(f_0,H1s[0],H1s[1],Q8h.getYAxisByField(f_0,this.field));a0G[j9z]=[Q04,f9x];}j9z=0;if(this.showLines || f3D){F66.beginPath();if(f3D){F66.globalAlpha=0.3;}for(;j9z < a0G.length;j9z++){F66.lineTo(a0G[j9z][0],a0G[j9z][1]);}F66.stroke();j9z=0;}F66.restore();for(;j9z < J9d;j9z++){T3A="encl";T3A+="osed";w5d=j9z % 2?w65:-w65;p4S=j9z % 2?r6S:-r6S;w5d*=this.trend;p4S*=this.trend;if(m27.flipped){w5d*=-1;p4S*=-1;}Z2T=a0G[j9z];L6T=Z2T[2]=Z2T[0] + w5d;z_6.l13(98);var X_H=z_6.C0r(19,8,2,18,7);D9H=Z2T[3]=Z2T[X_H] + p4S;l8E=this.enclosedRadius || +"8";e$b=t2e[j9z];if(this.decoration === "parentheses"){z_6.l13(56);e$b=z_6.O_1(1010 != 9560?(143.95,"9040" | 16) === 3330?1.70e+3:")":(2.91e+3,"K"),e$b,"(");}F66.fillText(e$b,L6T,D9H);if(this.decoration === T3A){F66.beginPath();F66.arc(L6T,D9H,l8E,0,2 * Math.PI,!({}));F66.stroke();}if(this.highlighted){F66.save();this.littleCircle(F66,this.pts[j9z][0],this.pts[j9z][1],this.highlighted === ((6213,455.33) === 2230?8.56e+3:"p") + j9z);F66.restore();}}};Y$.Drawing.elliottwave.prototype.reposition=function(V2T,E1x,D44,R3r){var M5p,Y2b,i4$,p8x,a_b,a7j,D38;M5p="d";M5p+="r";M5p+="ag";if(!E1x){return;}Y2b=this.stx.panels[this.panelName];i4$=E1x.tick - D44;p8x=E1x.value - R3r;if(E1x.action === "move"){for(var x1P=0;E1x.points.length > x1P;x1P++){a_b=E1x.points[x1P];this.setPoint(x1P,a_b[0] - i4$,a_b["1" >> 0] - p8x,Y2b.chart);z_6.l13(6);var I31=z_6.C0r(13,12);this.points[x1P]=[a_b[0] - i4$,a_b[I31] - p8x];}}if(E1x.action === M5p){a7j=E1x.point;D38=this.points;D38[a7j]=[D44,R3r];if(this.check(D44,R3r,a7j)){this.setPoint(a7j,D44,R3r,Y2b.chart);;};}this.render(V2T);};Y$.Drawing.elliottwave.prototype.intersected=function(i9u,T7R,c4$){var g2U,F35,u1z;if(!this.p0 || !this.p1){return null;}z_6.R7g();for(var f5X=0;this.points.length > f5X;f5X++){F35=this.points[f5X];if(this.pointIntersection(F35[0],F35[1],c4$)){z_6.l13(2);this.highlighted=z_6.O_1((9554,8320) !== (780,4420)?"p":(7.06e+3,0x24f4),f5X);return {action:"drag",point:f5X,tick:i9u,value:this.valueOnDrawingAxis(i9u,T7R)};}if(this.points[f5X + 1] && this.lineIntersection(i9u,T7R,c4$,"segment",F35,this.points[f5X + +"1"])){u1z="mo";u1z+="v";u1z+="e";this.highlighted=!!"1";g2U={action:u1z,points:Y$.clone(this.points),tick:i9u,value:this.valueOnDrawingAxis(i9u,T7R)};}}return g2U;};Y$.Drawing.elliottwave.prototype.measure=function(){var x$a,Q0k,F8i,Y7L,y4l;z_6.R7g();if(this.points.length >= 2){x$a=this.points;this.stx.setMeasure(x$a[0][1],x$a[x$a.length - 1][+"1"],x$a[0][0],x$a[x$a.length - +"1"][0],!"");Q0k=this.stx.controls.mSticky;F8i=Q0k && Q0k.querySelector(".mStickyInterior");if(F8i){Y7L="<";Y7L+="b";Y7L+="r";Y7L+=">";y4l=[];y4l.push(this.stx.translateIf(Y$.capitalize("Elliott Wave")));if(this.getYValue){y4l.push(this.stx.translateIf(this.field || this.stx.defaultPlotField || "Close"));}y4l.push(F8i.innerHTML);F8i.innerHTML=y4l.join(Y7L);}}};Y$.Drawing.printProjection=function(L0c,b$E,R2b){var C4d,r18,F0D,v5$,I_8,e2s,J_p,a_K,h28,X5I,b91,w6P,d52,K35,h0n,g2z;C4d=b$E.arr;if(C4d.length > 1){z_6.l13(17);r18=C4d[0][z_6.C0r("0",0)];F0D=Math.round(L0c.chart.maxTicks * 0.75);for(var g$J=1;g$J < C4d.length;g$J++){z_6.l13(6);v5$=C4d[z_6.O_1(g$J,1)][0];z_6.x49(0);I_8=C4d[g$J][z_6.O_1(64,"0")];e2s=Y$.strToDateTime(v5$);J_p=Y$.strToDateTime(I_8).getTime();a_K=L0c.standardMarketIterator(e2s);h28=0;while(e2s.getTime() < J_p){e2s=a_K.next();h28+=1;}X5I=Y$.strToDateTime(v5$).getTime();if(X5I > Y$.strToDateTime(R2b[R2b.length - 1].Date).getTime()){z_6.l13(65);var P$0=z_6.O_1(6,6,5,6);b91=R2b.length - ("1" | P$0);h28+=1;}else {for(b91=R2b.length - 1;b91 >= 0;b91--){if(X5I <= Y$.strToDateTime(R2b[b91].Date).getTime())break;}}w6P={x0:0,x1:h28,y0:R2b[b91].Close,y1:C4d[g$J][+"1"]};r18=Y$.strToDateTime(v5$);a_K=L0c.standardMarketIterator(r18);d52=!"1";for(var M8n=0;M8n <= h28;M8n++){if(!d52){d52=!"";}else {r18=a_K.next();}if(r18.getTime() <= R2b[R2b.length - 1].DT.getTime())continue;K35=Y$.yIntersection(w6P,M8n);if(!K35){K35=0;}z_6.x49(99);var S8k=z_6.C0r(1,18,1,0,19);z_6.l13(51);var l5O=z_6.C0r(11,5,10002,39955);h0n=Math.round(K35 * ("10000" * S8k)) / l5O;if(h0n === 0){h0n=C4d[g$J][1];}g2z={Date:Y$.yyyymmddhhmmssmmm(r18),DT:r18,Open:h0n,Close:h0n,High:h0n,Low:h0n,Volume:0,Adj_Close:h0n,Split_Close:h0n,projection:!""};if(L0c.layout.interval == "minute")if(F0D-- < 0)break;R2b[R2b.length]=g2z;}}}};}};F=X2R=>{var g3O,i3j,K8q;g3O="undefi";g3O+="ned";i3j=typeof _CIQ !== g3O?_CIQ:X2R.CIQ;if(!i3j.computeEquationChart){K8q="equationsAdvanced ";K8q+="feature requires first activating equations feature.";console.error(K8q);}else {i3j.formatEquation=function(F1Y){var D6s=e9J1I;var c7L,h8F,y3o,w5i,w92;c7L="";h8F=[];y3o="";w5i=![];for(var j18=1;j18 < F1Y.length;j18++){w92=F1Y[j18];if(w92 == ((994.36,393.76) > (113,11.34)?(4450,9160) >= 777?"[":(6.37e+3,!!({})):(!!1,797.50)) && !w5i){w5i=!![];}else if(w92 == (510.8 >= +"6620"?("L",65.71):"]") && w5i){w5i=!!"";if(y3o !== ""){h8F.push(y3o);D6s.l13(56);c7L+=D6s.C0r("]",y3o,1270 != 3786?(+"1012","9100" >> 0) === (231.26,8360)?"x":(2047,"2820" ^ 0) != 6010?"[":(!"",!""):(+"291.86","A"));}y3o="";}else if(w5i){y3o+=w92;}else if(w92 == "+" || w92 == ((3690,344) === (9265,9450)?(2.05e+3,292.92):"-") || w92 == (596 !== 601.71?"*":0x192b) || w92 == (3770 <= (4504,4920)?"/":4620 > (757,"1005" >> 0)?"H":!!"") || w92 == ":" || w92 == "%" || w92 == "(" || w92 == ((776,5300) != "63.99" * 1?")":1.22e+3)){if(y3o !== "" && isNaN(y3o)){h8F.push(y3o);D6s.l13(56);c7L+=D6s.O_1(("4433" | 17) >= (+"5135",3238)?(1473,5393) !== (5140,"6205" >> 64)?4967 != 97.59?"]":416.76:0x1d2e:(436.45,1.85e+3),y3o,2980 <= ("514.77" - 0,683.45)?6271 < 1318?(0x1798,0x2153):(9790,6731) <= 755?!0:0x1564:"[");}else {c7L+=y3o;}if(w92 == ((638,4869) != (18,"682" - 0)?(261.67,+"7123") !== ("6430" << 0,+"2200")?1437 === ("224.27" - 0,739.72)?"n":":":"j":108.92)){w92=4880 === 240.06?773.3 >= (9881,+"5790")?786.28:(0x1e2c,0x1f32):"/";}c7L+=w92;y3o="";}else if(w92 != ((6150,8322) <= 7083?888.81:" ")){y3o+=w92;}}if(y3o !== "" && isNaN(y3o)){h8F.push(y3o);D6s.l13(56);c7L+=D6s.O_1("5040" << 0 >= ("755.47" * 1,587)?("4090" << 32,"1830" ^ 0) < (616.84,93)?317.71 <= (+"77.68",1471)?(0xf76,"A"):(![],"477.13" - 0):"]":"d",y3o,(+"9850",356.22) >= ("3598" ^ 0)?(1299,6942) > +"6430"?(9821,"65.21" * 1) === 9530?(+"582.45",7.15e+3):(604.96,"0x235" | 53):(0x1f44,7.42e+3):"[");}else {c7L+=y3o;}return {equation:c7L,symbols:h8F};};i3j.fetchEquationChart=function(R_2,T4$){var O_d,U8C,t6x,z$u,c9J;O_d=i3j.formatEquation(R_2.symbol);U8C=O_d.symbols;t6x=[];z$u=R_2.stx;R_2.stx=null;for(var D54="0" * 1;D54 < U8C.length;D54++){c9J=i3j.shallowClone(R_2);c9J.stx=z$u;c9J.symbol=U8C[D54];c9J.symbolObject={symbol:U8C[D54]};t6x.push(c9J);}R_2.stx=z$u;e9J1I.d$I();z$u.quoteDriver.multiFetch(t6x,function(T7Y){var l0S,H7K,F$I,S8g,s3T;l0S={};R_2.loadMoreReplace=!!1;H7K={charge:0};for(var o3U=0;o3U < T7Y.length;o3U++){F$I=T7Y[o3U];if(F$I.dataCallback.error){T4$({error:F$I.dataCallback.error});return;}l0S[F$I.params.symbol]=F$I.dataCallback.quotes;R_2.loadMoreReplace=R_2.loadMoreReplace && F$I.params.loadMoreReplace;R_2.moreToLoad=R_2.moreToLoad || F$I.dataCallback.moreAvailable;S8g=F$I.dataCallback.attribution;if(S8g){if(S8g.charge){H7K.charge+=S8g.charge;}H7K.source=S8g.source;if(H7K.exchange === undefined){H7K.exchange=S8g.exchange;}else if(H7K.exchange != S8g.exchange){H7K.exchange="";};}}e9J1I.d$I();if(t6x.length || !(R_2.loadMore || R_2.update)){try{s3T=i3j.computeEquationChart(O_d.equation,l0S);T4$({quotes:s3T,moreAvailable:R_2.moreToLoad,attribution:H7K});}catch(O0n){var U8D,o1B;U8D="N";U8D+="oExce";U8D+="p";U8D+="tion";o1B={error:"Invalid equation: " + O_d.equation};if(O0n.name && O0n.name == U8D){o1B.suppressAlert=!![];}T4$(o1B);}}});};}};Z=Z7k=>{var z5d=e9J1I;var F0P;z5d.R7g();F0P=typeof _CIQ !== "undefined"?_CIQ:Z7k.CIQ;if(!F0P.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!F0P.Marker.Performance){F0P.ChartEngine.prototype.removeDOMMarker=function(i1W){var k$z;k$z="CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future rele";k$z+="ase\n Please use CIQ.Marker.Performance#remove instead.";console.warn(k$z);z5d.d$I();F0P.Marker.Performance.prototype.removeDOMMarker.call(i1W.params.node,i1W);};F0P.ChartEngine.prototype.drawMarkers=function(){z5d.d$I();console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");F0P.Marker.Performance.drawMarkers(this);};F0P.ChartEngine.prototype.calculateMarkerStyles=function(S3n,B2k){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");F0P.Marker.Performance.calculateMarkerStyles(this,S3n,B2k);};F0P.ChartEngine.prototype.drawCircleMarker=function(E2t,J78,K0G){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");F0P.Marker.Performance.drawCircleMarker(E2t,J78,K0G);};F0P.ChartEngine.prototype.drawSquareMarker=function(E14,G8e,O1b){var T6o;z5d.R7g();T6o="CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.dra";T6o+="wSquareMarker instead.";console.warn(T6o);F0P.Marker.Performance.drawSquareMarker(E14,G8e,O1b);};F0P.ChartEngine.prototype.drawCalloutMarker=function(W8O,b8c,E0N){z5d.R7g();console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");F0P.Marker.Performance.drawCalloutMarker(W8O,b8c,E0N);};F0P.ChartEngine.prototype.drawMarkerStem=function(y8N,i4e,D5O){var T50;T50="CIQ.ChartEng";T50+="ine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.";console.warn(T50);F0P.Marker.Performance.drawMarkerStem(y8N,i4e,D5O);};F0P.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");F0P.Marker.Performance.drawMarkers(this);};F0P.Marker.Performance=function(c3J){var U0i,q7j,I8z,S5Q,R88,u8p,E5i,F1C,j4k,C02,d$7,q54,V6o;U0i=".";U0i+="stx-marker";q7j="</di";q7j+="v>";I8z="<div class";I8z+="=\"s";I8z+="tx-marker-content\">";S5Q="<div ";S5Q+="class=\"stx-visual\">";R88="TEM";R88+="PLATE";this.params={displayCategory:!!({}),displayStem:!![],invert:!!"",story:"",headline:""};F0P.extend(this.params,c3J);u8p=this.template=document.createElement(R88);z5d.l13(100);u8p.innerHTML=z5d.O_1(q7j,"</div>",'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',I8z,"</div>",'<div class="stx-stem"></div>',S5Q,'<div class="stx-marker highlight">');E5i=this.template.content.cloneNode(!!1);F1C=E5i.querySelector(U0i);F1C.classList.add(c3J.type);F1C.classList.add(c3J.category);if(c3J.size){F1C.classList.add(c3J.size);}j4k=E5i.querySelector(".stx-visual");C02=E5i.querySelector(".stx-marker-expand");d$7=E5i.querySelector("h4");q54=E5i.querySelector("p");d$7.innerText=this.params.headline;q54.innerText=this.params.story;this.hasText=!!c3J.headline || !!c3J.story;this.deferAttach=!"";this.node=E5i.firstChild;this.node.params=this.params;this.visual=j4k;this.expand=C02;if(c3J.type === "callout"){V6o=C02.removeChild(d$7);E5i.querySelector(".stx-marker-content").insertBefore(V6o,C02);}};F0P.inheritsFrom(F0P.Marker.Performance,F0P.Marker.NodeCreator,!"1");F0P.Marker.Performance.consolidateExpanded=function(M$9){var f9P,E$_,T3Z,p1C;f9P=M$9.markerHelper.highlighted;if(!f9P.length){return;}E$_=M$9.activeMarker;if(!E$_.consolidated){E$_.consolidated=[];}for(var Z7l=f9P.length - 1;Z7l >= 0;Z7l--){if(E$_ === f9P[Z7l])continue;T3Z=E0g(f9P[Z7l]);if(T3Z){p1C="<consolidated><br><br>" + T3Z.innerHTML.replace(/<consolidated>.*<\/consolidated>/g,"") + "</consolidated>";E0g(E$_).innerHTML+=p1C;}}E$_.stxNodeCreator.quickCache(E$_);function E0g(X4_){var O$E,h5q;O$E=X4_.params.node;h5q=O$E.expand;if(!h5q){return null;}return h5q.querySelector(".marker_content") || h5q;}};F0P.Marker.Performance.reconstituteExpanded=function(t_v){if(!t_v.markerHelper.highlighted.length || !t_v.activeMarker){return;}Array.from(t_v.activeMarker.params.node.expand.querySelectorAll("consolidated")).forEach(g3a=>{z5d.R7g();return g3a.remove();});};F0P.Marker.Performance.drawMarkers=function(y77){var L7S,H2V,x4Q,i7S,G7G,k1z;z5d.R7g();L7S=y77.getMarkerArray("all");H2V=y77.chart;for(var f08=0;f08 < L7S.length;f08++){x4Q=L7S[f08];i7S=x4Q.stxNodeCreator;G7G=H2V.dataSegment[0].tick;k1z=H2V.dataSegment[H2V.dataSegment.length - 1].tick;if(G7G <= x4Q.tick <= k1z){if(i7S && i7S.drawMarker){i7S.drawMarker(x4Q);}}}};F0P.Marker.Performance.calculateMarkerStyles=function(n6C,G8x,Y$R){var m9R,W9t,l1k,Y0H,h$Y,U6n;m9R=".stx-marker-temp";m9R+="lates";W9t=n6C.container.ownerDocument;l1k=W9t.querySelector(m9R);if(!l1k){Y0H="hi";Y0H+="dden";l1k=document.createElement("DIV");l1k.style.visibility=Y0H;l1k.style.left="-1000px";W9t.body.append(l1k);}l1k.appendChild(G8x.node);h$Y=getComputedStyle(G8x.stxNodeCreator.visual);if(!n6C.styles.stx_marker_stem){U6n=getComputedStyle(G8x.node.querySelector(".stx-stem"));n6C.styles.stx_marker_stem=n6C.cloneStyle(U6n);}n6C.styles[Y$R]=n6C.cloneStyle(h$Y);l1k.removeChild(G8x.node);};F0P.Marker.Performance.drawCircleMarker=function(n0F,J1W,I0E){var i2g,f2Q,T$L,n4Y,C2e,h1V,f7_,Q85,U8p,t8Q;i2g="px Roboto, Helv";i2g+="etica, ";i2g+="sans-serif";f2Q="normal b";f2Q+="old ";T$L=n0F.params.stx;n4Y=T$L.chart;C2e=n4Y.context;h1V=I0E.x;f7_=I0E.y;Q85=I0E.radius;U8p=T$L.emojify(I0E.label);z5d.d$I();t8Q=I0E.color?I0E.color:J1W.backgroundColor;C2e.save();C2e.beginPath();C2e.setLineDash([]);C2e.lineWidth=1;C2e.fillStyle=t8Q;C2e.strokeStyle=t8Q;C2e.textAlign="center";z5d.l13(55);var Z0I=z5d.O_1(5,7,10);z5d.l13(72);var l8G=z5d.C0r(18,25,2,1,7);z5d.x49(101);var q1x=z5d.O_1(4,9,8,5,20);C2e.font=f2Q + Math.min(Z0I,l8G * (Q85 + q1x)) + i2g;z5d.x49(20);C2e.arc(h1V,f7_,Q85,z5d.O_1(1,"0"),2 * Math.PI,!1);C2e.fill();C2e.stroke();C2e.closePath();if(U8p){C2e.fillStyle=F0P.chooseForegroundColor(C2e.fillStyle);z5d.x49(2);C2e.fillText(U8p,h1V,z5d.C0r(f7_,1));}if(n0F.highlight || n0F.active){if(F0P.isTransparent(t8Q)){C2e.strokeStyle=T$L.defaultColor;}C2e.beginPath();z5d.x49(2);C2e.arc(h1V,f7_,z5d.O_1(Q85,4),0,+"2" * Math.PI,!({}));C2e.stroke();C2e.closePath();}C2e.restore();};F0P.Marker.Performance.drawSquareMarker=function(J1F,C9H,n9A){var b3e,L2b,W9$,Q$M,P1v,K6Q,S4k,n8Z,E0j,U27,Q82;b3e="dia";b3e+="mond";L2b=J1F.params.stx;W9$=L2b.chart;Q$M=W9$.context;P1v=n9A.x;K6Q=n9A.y;S4k=n9A.half;n8Z=L2b.emojify(n9A.label);E0j=n9A.color?n9A.color:C9H.backgroundColor;z5d.x49(20);U27=z5d.C0r(2,S4k);Q$M.setLineDash([]);Q$M.lineWidth=1;Q$M.fillStyle=E0j;Q$M.strokeStyle=E0j;Q$M.save();Q$M.beginPath();if(J1F.node.params.type === b3e){Q$M.translate(P1v,K6Q);Q$M.rotate(Math.PI / ("4" << 32));Q$M.translate(-P1v,-K6Q);S4k/=+"1.42";z5d.l13(20);U27=z5d.C0r(2,S4k);}z5d.l13(6);Q$M.fillRect(z5d.C0r(P1v,S4k),z5d.O_1(K6Q,S4k),U27,U27);if(J1F.highlight || J1F.active){z5d.x49(102);Q$M.strokeRect(z5d.C0r(P1v,"4",S4k),z5d.O_1(S4k,4,K6Q,z5d.l13(46)),z5d.C0r(U27,8,z5d.l13(2)),z5d.O_1(U27,8,z5d.l13(2)));}Q$M.closePath();Q$M.restore();if(n8Z){Q82="normal ";Q82+="bold";Q82+=" ";Q$M.save();Q$M.textAlign="center";z5d.x49(2);var R1m=z5d.O_1(2,10);z5d.l13(103);var o_P=z5d.O_1(3,7,20,10,14);Q$M.font=Q82 + Math.min(R1m,"2" * o_P * S4k) + "px Roboto, Helvetica, sans-serif";Q$M.fillStyle=F0P.chooseForegroundColor(Q$M.fillStyle);z5d.x49(2);Q$M.fillText(n8Z,P1v,z5d.O_1(K6Q,1));Q$M.restore();}};F0P.Marker.Performance.drawCalloutMarker=function(k8j,y5M,j7c){var O58,H07,w8E,B_S,w0V,B5s,E0v,n47,l2b,X6S,O_s,R$j,M0a,Y02,c$k;O58="rg";O58+="ba(255,25";O58+="5,255,0.8)";H07=k8j.params.stx;w8E=H07.chart;B_S=w8E.context;w0V=k8j.params;B5s=j7c.x;E0v=j7c.y;n47=j7c.half;l2b=j7c.midWidth;X6S=H07.emojify(j7c.headline);O_s=j7c.color?j7c.color:y5M.backgroundColor;R$j=n47 * 2 || +"25";M0a=Math.round(B_S.measureText(X6S).width);Y02=l2b?l2b * +"2":M0a + +"8";B_S.beginPath();B_S.setLineDash([]);B_S.lineWidth=1;B_S.fillStyle=O_s;B_S.strokeStyle=O_s;B_S.font="normal bold 12px Roboto, Helvetica, sans-serif";z5d.R7g();B_S.rect(w0V.box.x0,w0V.box.y0,Y02,R$j);B_S.fill();B_S.stroke();B_S.closePath();B_S.beginPath();B_S.fillStyle=k8j.highlight || k8j.active?O58:"rgba(255,255,255,0.65)";z5d.x49(104);c$k=z5d.C0r(2,M0a,20,Y02);B_S.rect(w0V.box.x0 + c$k,E0v - n47,M0a + +"40","22" * 1);B_S.fill();B_S.stroke();B_S.closePath();B_S.fillStyle="black";B_S.fillText(X6S,w0V.box.x0 + c$k + 10,E0v);};F0P.Marker.Performance.drawTextMarker=function(O6w,W4m,H1F){var a_g,l_9,j2l,b$v;var {stx:F0X}=O6w.params,h1_=F0X.chart.context;var {x:N0e, y:r15}=H1F,Y1d=H1F.radius;a_g=F0X.emojify(H1F.label);z5d.d$I();h1_.save();h1_.textAlign="center";z5d.x49(6);var n00=z5d.O_1(5626,6);z5d.l13(6);var B0J=z5d.C0r(8775,8100);z5d.l13(105);var I$6=z5d.O_1(45537,15,48240,10,18);z5d.l13(106);var F5K=z5d.O_1(18,1,2,6547,111293);z5d.x49(50);var z9U=z5d.O_1(2062,18,3,7,16);h1_.font=W4m.fontStyle + " " + W4m.fontWeight + ((784.2,n00) > (B0J,521.6)?" ":(I$6,F5K)) + Y1d * z9U + "px " + W4m.fontFamily;h1_.fillStyle=H1F.color || F0X.defaultColor;h1_.fillText(a_g,N0e,r15);if(O6w.highlight || O6w.active){l_9=Math.round(h1_.measureText(a_g).width);z5d.x49(11);j2l=z5d.C0r(l_9,2);b$v=4.5;h1_.strokeStyle=H1F.color || F0X.defaultColor;h1_.beginPath();h1_.strokeRect(Math.floor(N0e) - j2l - b$v,Math.floor(r15) - Y1d - b$v,(j2l + b$v) * ("2" >> 64),(Y1d + b$v) * 2);h1_.stroke();h1_.closePath();}h1_.restore();};F0P.Marker.Performance.drawMarkerStem=function(K7z,A6J,J4D){var W4N,B2c,X0p,a0q;W4N=K7z.params.stx.chart.context;var {x:Y0f}=J4D;W4N.beginPath();z5d.d$I();W4N.strokeStyle=A6J.borderLeftColor;W4N.setLineDash([1,1]);B2c=F0P.stripPX(A6J.height);X0p=J4D.invert?K7z.params.box.y0:K7z.params.box.y1;a0q=J4D.invert?K7z.params.box.y0 - B2c:K7z.params.box.y1 + B2c;W4N.moveTo(Y0f,X0p);W4N.lineTo(Y0f,a0q);W4N.stroke();W4N.closePath();};F0P.Marker.Performance.prototype.drawMarker=function(G_S){var y9u,p41,B0b,a1S,s8R,b2A,m3i,b5g,b8v,k$L,I81,f2n,e8l,T38,B3j,z35,b1I,a$0,H8x,D0o,Q__,w0L,M98,B3Q,Y_i,d7G,e9c,p68,c$9,W6i,O7A;y9u="t";y9u+="ext";p41="ci";p41+="rcl";p41+="e";B0b="s";B0b+="tx_m";B0b+="ark";B0b+="er_";a1S="aut";a1S+="o";s8R=G_S.params;b2A=G_S.params.stx;if(!b2A){return;}m3i=b2A.chart;b5g=m3i.dataSegment;if(!b5g || !b5g.length){return;}b8v=b2A.panels[G_S.params.panelName];if(b8v.hidden){return;}k$L=G_S.params.yAxis || b8v.yAxis;I81=G_S.stxNodeCreator.params;if(I81.hide){return;}f2n=I81.type;e8l=I81.category;T38=I81.headline;B3j=I81.displayCategory;z35=I81.color;b1I=I81.displayLabel;a$0=I81.invert;H8x=I81.size;if(z35 === a1S){z35=b2A.defaultColor;}z5d.x49(107);D0o=z5d.C0r(B0b,f2n,3680 !== (468,4950)?"_":6710 == 549.56?("V",0x2cd):!![],e8l);if(H8x){z5d.l13(2);D0o+=z5d.O_1("_",H8x);}if(!b2A.styles[D0o]){F0P.Marker.Performance.calculateMarkerStyles(b2A,G_S,D0o);}Q__=G_S.style=b2A.styles[D0o];w0L=b2A.styles.stx_marker_stem;z5d.x49(108);var w_C=z5d.C0r(1,10,19,1);z5d.l13(73);var p4d=z5d.C0r(10,6,18);M98=parseInt(Q__.height,w_C) / p4d;z5d.R7g();z5d.x49(1);var w6D=z5d.C0r(2,20,0);z5d.x49(109);var b3C=z5d.O_1(12,8,14,2110,8);B3Q=parseInt(Q__.width,w6D) / b3C;if(f2n === "diamond"){M98*=1.42;B3Q*=1.42;}Y_i=I81.displayStem?parseInt(w0L.height,10) + parseInt(w0L.marginBottom,10):0;z5d.l13(21);d7G=z5d.C0r(Y_i,M98,2);e9c=s8R.offset || "0" << 0;p68=b2A.pixelFromTick(G_S.tick);c$9=s8R.node.calculateYPosition({marker:G_S,panel:b8v,yAxis:k$L,height:d7G,half:M98,offset:e9c,stemHeight:Y_i,inverted:a$0,field:s8R.field,x:p68});if(!G_S.tick && G_S.tick !== 0){return;}s8R.box={x0:p68 - (B3Q || M98),y0:c$9 - M98,x1:p68 + (B3Q || M98),y1:c$9 + M98,midY:M98,midX:B3Q || M98,stemHeight:Y_i};if(!B3j){e8l="";}else {e8l=e8l[0].toUpperCase();}b2A.startClip(b8v.name);W6i={x:p68,y:c$9,half:M98,radius:M98,label:b1I || e8l,midWidth:B3Q,headline:T38,color:z35};if(f2n === p41){F0P.Marker.Performance.drawCircleMarker(G_S,Q__,W6i);}else if(f2n === "square" || f2n === "diamond"){F0P.Marker.Performance.drawSquareMarker(G_S,Q__,W6i);}else if(f2n === "callout"){F0P.Marker.Performance.drawCalloutMarker(G_S,Q__,W6i);}else if(f2n === y9u){F0P.Marker.Performance.drawTextMarker(G_S,Q__,W6i);}else {O7A="Marke";O7A+="r type: ";z5d.l13(56);console.warn(z5d.O_1(" is unsupported with canvas markers!\nSupported Styles are Square, Diamond, Circle, and Callout.",f2n,O7A));}if(I81.displayStem){F0P.Marker.Performance.drawMarkerStem(G_S,w0L,{x:p68,y:c$9,invert:a$0});}b2A.endClip();if(G_S.attached){this.positionPopUpNode(G_S);}};F0P.Marker.Performance.prototype.positionPopUpNode=function(z0n){var V3M,J7s,n7P,K_D,y0d,t8j,H7W,A$B,y0g,A9v,L0r,E_H,L$a,R0B,q4f,i9j,O0Z,W25,T30,p3j,m$x,q4i;V3M="px";V3M+=") tr";V3M+="anslateZ(0)";J7s="transl";J7s+="ateX(";if(!z0n.attached || !z0n.params.box){return;}n7P=z0n.params;K_D=n7P.stx;y0d=n7P.box;t8j=z0n.params.node.expand;H7W=K_D.chart.dataSet;A$B=K_D.chart.dataSegment;y0g=K_D.panels[n7P.panelName];if(z0n.tick){L0r="D";L0r+="a";L0r+="t";L0r+="e";E_H=[H7W[A$B[0] && A$B["0" << 0].tick - 1],H7W[A$B[+"0"] && A$B[0].tick - 2]];L$a=K_D.getFirstLastDataRecord(E_H.concat(A$B),"Date");z5d.x49(6);var N_B=z5d.C0r(76,12);z5d.l13(5);var N1o=z5d.C0r(5,21,12,15);z5d.x49(6);var Y19=z5d.O_1(20,19);z5d.x49(65);var p8I=z5d.C0r(14,7,7,16);R0B=[H7W[A$B[A$B.length - ("1" >> N_B)].tick + N1o],H7W[A$B[A$B.length - Y19].tick + p8I]];q4f=K_D.getFirstLastDataRecord(A$B.concat(R0B),L0r,!!({}));A9v=L$a.DT <= H7W[z0n.tick].DT && H7W[z0n.tick].DT <= q4f.DT && z0n.params.box.y0 <= y0g.yAxis.bottom && z0n.params.box.y1 >= y0g.yAxis.top;}else {A9v=!!0;}if(!z0n.highlight && !z0n.active){A9v=!({});}t8j.style.visibility=A9v?"":"hidden";if(!A9v){return;}if(t8j.style.height !== ""){t8j.style.height="";}i9j=t8j.rects;z5d.l13(110);var M9C=z5d.O_1(26,7,24,7);O0Z=i9j.height / M9C;T30=z0n.node.params.infoOffset || 0;if(z0n.node.params.infoOnLeft){W25=y0d.x0 - i9j.width - T30 < y0g.left?y0d.x1 + T30:y0d.x0 - i9j.width - T30;}else {W25=y0d.x0 + i9j.width > y0g.right?y0d.x0 - i9j.width - T30:y0d.x1 + T30;}W25-=K_D.chart.left;p3j=n7P.avoidFlush?5:+"0";m$x=y0d.y0 - O0Z >= y0g.yAxis.top?y0d.y0 + y0d.midY - O0Z:y0g.yAxis.top + p3j;if(!n7P.avoidFlush && y0d.y1 + y0d.stemHeight === y0g.yAxis.bottom && i9j.height > y0d.y1 - y0d.y0 + y0d.stemHeight){m$x=y0d.y1 - i9j.height + y0d.stemHeight;}if(y0d.y1 + O0Z > y0g.yAxis.bottom){m$x=y0g.yAxis.bottom - i9j.height - p3j;}if(i9j.height > y0g.yAxis.height){m$x=y0g.yAxis.top + p3j;z5d.l13(8);var g2F=z5d.O_1(0,9,11);t8j.style.height=y0g.yAxis.height - g2F * p3j + "px";}z5d.d$I();m$x-=y0g.yAxis.top;q4i=J7s + Math.floor(W25) + "px) translateY(" + Math.floor(m$x) + V3M;t8j.style.transform=q4i;t8j.transform={translateX:W25,translateY:m$x};};F0P.Marker.Performance.prototype.quickCache=function(G67){var w$f,u61,t26,w6i;w$f=G67.params.node;u61=w$f.expand;t26=G67.style;w6i=F0P.stripPX(t26.marginLeft) + F0P.stripPX(t26.marginRight) + F0P.stripPX(t26.borderRight) + F0P.stripPX(t26.borderLeft);u61.rects=u61.getBoundingClientRect();u61.scrollBarWidth=u61.rects.width - u61.clientWidth - w6i;};F0P.Marker.Performance.prototype.calculateYPosition=function(K5g){var v0V,J1D,u4E,W5A,C5J,J2V,K66,G$J,S2s,R5c,P9U,D6D,i4b,H3I,m50,S7Z,G$2,A3T,J9O,s6S,S7w,a9G,U70,i2p,Z4L;v0V="below_";v0V+="ca";v0V+="nd";v0V+="le";J1D="val";J1D+="ue";u4E=K5g.marker;W5A=K5g.panel;C5J=K5g.yAxis;J2V=K5g.height;K66=K5g.half;G$J=K5g.offset;S2s=K5g.stemHeight;R5c=K5g.inverted;P9U=K5g.field;D6D=u4E.params.stx;i4b=D6D.chart;H3I=D6D.chart.highLowBars;m50=i4b.dataSet[u4E.tick];if(!m50){return;}if(P9U){m50=m50[P9U];}if(!m50){return;}if(typeof m50 === "number"){m50={Close:m50};m50[i4b.defaultPlotField]=m50.Close;H3I=!1;}S7Z=D6D.getBarBounds(m50,!!P9U);G$2=H3I?S7Z[C5J.flipped?"low":"high"]:m50[i4b.defaultPlotField];A3T=H3I?S7Z[C5J.flipped?"high":"low"]:m50[i4b.defaultPlotField];J9O=u4E.params.yPositioner;if(isNaN(G$2)){G$2=(C5J.high + C5J.low) / +"2";}if(isNaN(A3T)){z5d.x49(111);var W8B=z5d.O_1(0,13,13,2);A3T=(C5J.high + C5J.low) / W8B;}S7w=0;if(J9O != "none"){z5d.x49(73);var O54=z5d.O_1(16,6,21);a9G=J9O.indexOf("_lane") > O54;U70=D6D.markerHelper.placementMap;i2p=J9O + "|" + W5A.name;if(a9G && typeof U70[i2p] == "undefined"){U70[i2p]=2;}z5d.x49(1);var v8m=z5d.C0r(1,9286,6);z5d.l13(57);var c4v=z5d.O_1(6684,16,6683,6699);z5d.x49(56);var F6e=z5d.O_1(22,5,5);z5d.l13(2);var H48=z5d.O_1(11,5);z5d.x49(19);var s3i=z5d.C0r(2,13372,18,955);z5d.l13(112);var n8J=z5d.C0r(4,3,16,87,13);z5d.x49(5);var L6e=z5d.O_1(2,30,2288,14);Z4L=i2p + ((v8m,250.99) <= ("1094" ^ 0)?c4v === ("8520" << F6e,"7190" | H48)?("6.50e+3" - 0,"z"):(+"2000",+"6270") === (s3i,n8J)?L6e:"-":(513.28,"l")) + (a9G?u4E.params.label:K5g.x);if(typeof U70[Z4L] == "undefined"){U70[Z4L]=a9G?U70[i2p]:0;z5d.x49(2);U70[i2p]+=z5d.C0r(J2V,2);}S7w=U70[Z4L];if(!a9G){z5d.x49(2);U70[Z4L]+=z5d.C0r(J2V,1);}}switch(J9O){case J1D:if(u4E.params.y || u4E.params.y === 0){s6S=D6D.pixelFromPrice(u4E.params.y,W5A,C5J) - J2V * 0.5 + K66;break;}case "above_candle":s6S=D6D.pixelFromPrice(G$2,W5A,C5J) - K66 - (!R5c && S2s || G$J) - S7w;break;case v0V:s6S=D6D.pixelFromPrice(A3T,W5A,C5J) + K66 + (R5c && S2s || G$J) + S7w;break;case "on_candle":z5d.l13(110);var k5_=z5d.O_1(12,32,1,8);s6S=D6D.pixelFromPrice((G$2 + A3T) / k5_,W5A,C5J) - J2V * 0.5 + K66;break;case "top":case "top_lane":s6S=W5A.yAxis.top + K66 + (R5c && S2s || G$J) + S7w;break;case "bottom":case "bottom_lane":s6S=W5A.yAxis.bottom - K66 - (!R5c && S2s || G$J) - S7w;break;default:break;}z5d.x49(65);var D_2=z5d.O_1(0,19,17,0);return Math.round(D_2 * s6S) / +"2";};F0P.Marker.Performance.prototype.prepareForHolder=function(v4o){var t8l,e6c;t8l=this.expand;e6c=v4o.params.stx;t8l.classList.add(this.params.type);t8l.classList.add(this.params.category);e6c.markerHelper.domMarkers.push(v4o);return t8l;};F0P.Marker.Performance.prototype.addToHolder=function(p$b){var w5C,F8q;w5C=this.expand;F8q=p$b.params.stx;F0P.Marker.Performance.reconstituteExpanded(F8q);F0P.Marker.Performance.consolidateExpanded(F8q);this.quickCache(p$b);if(w5C.clickClosure){return;}w5C.addEventListener("mousedown",W30);w5C.addEventListener("touchstart",W30,{passive:!1});function W30(k$R){F8q.activeMarker=p$b;F8q.activeMarker.click({cx:k$R.clientX,cy:k$R.clientY,panel:F8q.currentPanel});k$R.stopPropagation();}z5d.d$I();w5C.clickClosure=W30;};F0P.Marker.Performance.prototype.remove=function(o7$){z5d.R7g();var J$$,f3c,A$$,g7n;J$$=o7$.params.stx;if(!J$$){return;}if(!J$$.markerHelper.domMarkers){return;}f3c=J$$.markerHelper.domMarkers.indexOf(o7$);if(f3c != -1){J$$.markerHelper.domMarkers.splice(f3c,1);}if(o7$.attached){A$$=J$$.panels[o7$.params.panelName];g7n=o7$.params.node.expand;if(g7n.parentNode === A$$.subholder){A$$.subholder.removeChild(g7n);}g7n.removeEventListener("click",g7n.clickClosure);}};F0P.Marker.Performance.prototype.click=function(J8G){var k5x;if(!this.hasText){return;}if(arguments.length > ("1" ^ 0)){J8G={cx:arguments["0" - 0],cy:arguments["1" - 0],marker:arguments[2],panel:arguments[3]};}var {cx:H6V, marker:f35}=J8G;var {stx:b_q}=f35.params;k5x=!"1";if(f35.attached){var {expand:R5L}=this;if(R5L.rects && R5L.transform && R5L.rects.width - R5L.scrollBarWidth + R5L.transform.translateX < b_q.backOutX(H6V) && b_q.backOutX(H6V) < R5L.rects.width + R5L.transform.translateX){return;}this.remove(f35);}else {b_q.addToHolder(f35);k5x=!!"1";}f35.attached=!f35.attached;f35.active=!f35.active;if(k5x){f35.stxNodeCreator.positionPopUpNode(f35);}};}};N=o_Z=>{var C_e;C_e=typeof _CIQ !== "undefined"?_CIQ:o_Z.CIQ;C_e.Renderer.OHLC.requestNew=function(L2F,l6e){var E5n,u3Z,T6S,y2p,B9j,P6M,n9W,K4T,l4k,Z2k;E5n=null;u3Z=l6e.hlc;T6S=l6e.colored;y2p=l6e.hollow;B9j=l6e.volume;P6M=l6e.histogram;for(var p30=0;p30 < L2F.length;p30++){n9W="volum";n9W+="e";K4T=L2F[p30];switch(K4T){case "bar":case "candle":E5n=K4T;break;case n9W:B9j=!0;break;case "hollow":y2p=!!({});break;case "colored":T6S=!![];break;case "histogram":l4k="c";l4k+="an";l4k+="dl";l4k+="e";P6M=!![];E5n=l4k;break;case "hlc":Z2k="ba";Z2k+="r";u3Z=!!({});E5n=Z2k;break;default:return null;}}if(E5n === null){return null;}return new C_e.Renderer.OHLC({params:C_e.extend(l6e,{type:E5n,hlc:u3Z,colored:T6S,hollow:y2p,volume:B9j,histogram:P6M})});};C_e.Renderer.OHLC.getChartParts=function(s_x,v5M){var G1Q,A7r,B5C,S3c,s3R,b9Y,c__,e_B,u9U,w1s,S8e,n2G,I23,T0u,r4a,n2J,q37,Y4O,j$L,N6z,h2j,d27,w89,e_4,r$j,K44,j1F,w7_,Z1k,X$I,x9E,e_a,I71,m9F,C8G,d8i,r76,j2N,q0x,v2m;G1Q="fill_color_eve";G1Q+="n";A7r="stx_hollow_candle";A7r+="_ev";A7r+="en";B5C="ca";B5C+="ndle";S3c="holl";S3c+="ow";s3R="fill_col";s3R+="or_down";b9Y="stx_hollow_candl";b9Y+="e_dow";b9Y+="n";c__="h";c__+="ol";c__+="l";c__+="ow";e_B="fil";e_B+="l_color_up";u9U="holl";u9U+="ow";w1s="fill_colo";w1s+="r_even";S8e="stx_hollow_candle";S8e+="_even";n2G="fill";n2G+="_color_dow";n2G+="n";I23="stx";I23+="_";I23+="hollow_candle_down";T0u="ca";T0u+="n";T0u+="dl";T0u+="e";r4a="b";r4a+="order_co";r4a+="lor_e";r4a+="ven";n2J="stx_";n2J+="hollow_candl";n2J+="e_even";q37="borde";q37+="r";q37+="_color_up";Y4O="fill_col";Y4O+="or_down";j$L="st";j$L+="x";j$L+="_candle_down";N6z="candl";N6z+="e";h2j="border_colo";h2j+="r_up";d27="stx";d27+="_candle_up";w89="c";w89+="an";w89+="dle";e_4="stx_candle_shadow_dow";e_4+="n";r$j="s";r$j+="had";r$j+="o";r$j+="w";K44="ba";K44+="r";j1F="b";j1F+="a";j1F+="r";w7_="border_c";w7_+="olor";w7_+="_down";Z1k="b";Z1k+="a";Z1k+="r";X$I="bo";X$I+="rder_co";X$I+="l";X$I+="or";x9E="st";x9E+="x_hi";x9E+="stogram_even";e_a="fil";e_a+="l_color_down";I71="stx_histog";I71+="ram_d";I71+="o";I71+="wn";m9F="histo";m9F+="g";m9F+="ra";m9F+="m";e9J1I.l13(7);C8G=e9J1I.O_1("1",0);d8i=2;r76=4;j2N=8;q0x=16;v2m=32;return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:j2N,fill:"fill_color_up",border:"border_color_up",useColorInMap:!!({}),useBorderStyleProp:!![]},{type:"histogram",drawType:m9F,style:I71,condition:q0x,fill:e_a,border:"border_color_down",useColorInMap:!"",useBorderStyleProp:!!1},{type:"histogram",drawType:"histogram",style:x9E,condition:v2m,fill:"fill_color_even",border:"border_color_even",skipIfPass:!!1,useColorInMap:!![],useBorderStyleProp:!![]},{type:"bar",drawType:"bar",style:s_x || "stx_bar_chart",border:X$I,useColorInMap:!![]},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:v5M?j2N:C8G,border:"border_color_up",useColorInMap:!!({})},{type:"bar",drawType:Z1k,style:"stx_bar_down",condition:v5M?q0x:d8i,border:w7_,useColorInMap:!!({})},{type:j1F,drawType:K44,style:"stx_bar_even",condition:v5M?v2m:r76,border:"border_color_even",skipIfPass:!![],useColorInMap:!!({})},{type:"candle",drawType:r$j,style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:j2N,border:"border_color_up"},{type:"candle",drawType:"shadow",style:e_4,condition:q0x,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:v2m,border:"border_color_even",skipIfPass:!""},{type:"candle",drawType:w89,style:d27,condition:j2N,fill:"fill_color_up",border:h2j,useColorInMap:!0,useBorderStyleProp:!0},{type:N6z,drawType:"candle",style:j$L,condition:q0x,fill:Y4O,border:"border_color_down",useColorInMap:!"",useBorderStyleProp:!!({})},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:C8G,border:q37},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:d8i,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:n2J,condition:r76,border:r4a,skipIfPass:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:C8G | q0x,fill:"fill_color_up",border:"border_color_up",useColorInMap:!!({})},{type:"hollow",drawType:T0u,style:I23,condition:d8i | q0x,fill:n2G,border:"border_color_down",useColorInMap:!!({})},{type:"hollow",drawType:"candle",style:S8e,condition:r76 | q0x,fill:w1s,border:"border_color_even",skipIfPass:!![],useColorInMap:!""},{type:u9U,drawType:"candle",style:"stx_hollow_candle_up",condition:C8G | j2N,fill:e_B,border:"border_color_up"},{type:c__,drawType:"candle",style:b9Y,condition:d8i | j2N,fill:s3R,border:"border_color_down"},{type:S3c,drawType:B5C,style:A7r,condition:r76 | j2N,fill:G1Q,border:"border_color_even"}];;};C_e.Renderer.Bars=function(a21){var e1I;this.construct(a21);e1I=this.params;e1I.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!1;e1I.hlc=e1I.volume=e1I.hollow=e1I.histogram=!"1";};C_e.inheritsFrom(C_e.Renderer.Bars,C_e.Renderer.OHLC,!"1");C_e.Renderer.HLC=function(Z8N){var c6y;this.construct(Z8N);c6y=this.params;c6y.type="bar";c6y.hlc=!!({});this.highLowBars=this.barsHaveWidth=this.standaloneBars=!![];c6y.volume=c6y.hollow=c6y.histogram=!({});};C_e.inheritsFrom(C_e.Renderer.HLC,C_e.Renderer.Bars,![]);C_e.Renderer.Shading=function(P9b){var L7c;L7c="r";L7c+="angech";L7c+="annel";this.construct(P9b);this.beenSetup=!!0;this.errTimeout=null;this.params.useChartLegend=!!"";this.shading=[];if(this.params.type == L7c){this.highLowBars=!!1;}};C_e.inheritsFrom(C_e.Renderer.Shading,C_e.Renderer.Lines,!"1");C_e.Renderer.Shading.requestNew=function(l$L,V5v){var X6w,L2N,V5u;X6w=null;L2N=null;for(var Y6g=0;Y6g < l$L.length;Y6g++){V5u=l$L[Y6g];if(V5u == "rangechannel"){X6w="rangechannel";}else if(V5u == "step"){L2N=!!({});}}if(X6w === null){return null;}return new C_e.Renderer.Shading({params:C_e.extend(V5v,{type:X6w,step:L2N})});};C_e.Renderer.Shading.prototype.setShading=function(e3H){if(e3H.constructor != Array){e3H=[e3H];}e9J1I.R7g();this.shading=e3H;};C_e.Renderer.Shading.prototype.draw=function(){var M29=e9J1I;var y94,m$g,I1K,c0p,i90,r5P,P3u,F74,t9w,u2f,B2z,N0s,b5H,R0s,c$K,C9P,h9n,V_B,S5D,x6l,M8P;y94=this.stx;m$g=this.params;I1K=y94.panels[m$g.panel].chart;if(m$g.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {c0p="S";c0p+="h";c0p+="adi";c0p+="ng";i90="H";i90+="i";i90+="g";i90+="h";this.beenSetup=!"";m$g.display=this.seriesParams[0].display;m$g.yAxis=this.seriesParams[+"0"].yAxis;r5P=this.seriesParams[0].color || "auto";P3u=this.seriesParams[0].symbol;F74="";if(P3u){M29.x49(2);F74=M29.C0r(P3u,".");}this.removeAllSeries(!!({}));t9w=m$g.name;y94.addSeries(null,{symbol:P3u,loadData:!!P3u,field:i90,renderer:c0p,name:t9w,style:"stx_line_up",display:m$g.display,shareYAxis:!0});y94.addSeries(null,{symbol:P3u,loadData:!!P3u,field:"Low",renderer:"Shading",name:t9w,style:"stx_line_down",display:m$g.display,shareYAxis:!![]});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:r5P});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");u2f=this;this.errTimeout=setTimeout(function(){u2f.errTimeout=null;},10000);}}B2z={};function d5e(U4O){var J4u,S0w,S5q;J4u=B2z[U4O];if(J4u){S0w=J4u.parameters.field;S5q=J4u.parameters.subField;M29.x49(2);return M29.C0r(S0w,S5q?((3453,+"586.63") !== 1124?(+"190.99",+"6540") !== 701.59?("737.03" - 0,49.18) <= 2383?".":0x1818:(+"0x2628",8.15e+3):+"270.48") + S5q:"");}return U4O;}for(N0s=0;N0s < this.seriesParams.length;N0s++){b5H={};if(I1K.series[this.seriesParams[N0s].id]){b5H=C_e.clone(I1K.series[this.seriesParams[N0s].id].parameters);}B2z[this.seriesParams[N0s].id]={parameters:C_e.extend(C_e.extend(b5H,m$g),this.seriesParams[N0s]),yValueCache:this.caches[this.seriesParams[N0s].id]};}y94.drawSeries(I1K,B2z,m$g.yAxis,this);if(I1K.legend && m$g.type == "rangechannel"){if(!I1K.legend.colorMap){I1K.legend.colorMap={};}R0s=m$g.display;c$K=[y94.getCanvasColor("stx_line_up"),y94.getCanvasColor("stx_line_down")];I1K.legend.colorMap[R0s]={color:c$K,display:R0s,isBase:this == y94.mainSeriesRenderer};;}for(N0s in B2z){this.caches[N0s]=B2z[N0s].yValueCache;}for(N0s=0;N0s < this.shading.length;N0s++){C9P="C";C9P+="los";C9P+="e";h9n=this.shading[N0s];V_B=h9n.color;if(h9n.color == "auto"){V_B=y94.defaultColor;}if(!h9n.primary){h9n.primary="Close";}if(!h9n.secondary && this.seriesParams[0]){h9n.secondary=this.seriesParams[0].field;}if(!h9n.secondary)continue;else if(!B2z[h9n.primary] && h9n.primary != "Close")continue;else if(!B2z[h9n.secondary])continue;else if(h9n.primary == C9P && m$g.yAxis && m$g.yAxis != I1K.yAxis)continue;S5D=d5e(h9n.primary).split((2450,5820) != ("1890" ^ 0,282.54)?("48.07" * 1,3850) < ("2210" ^ 0)?(0x247d,"N"):".":(805.27,0x252b));x6l=d5e(h9n.secondary).split("9453" << 0 == 8464?!1:286.37 != 4946?".":"0x1aa1" * 1);M8P={topBand:S5D[0],topSubBand:S5D[+"1"],topColor:h9n.greater || V_B || y94.containerColor,topAxis:m$g.yAxis,bottomBand:x6l[0],bottomSubBand:x6l["1" >> 32],bottomColor:h9n.lesser || V_B || y94.containerColor,bottomAxis:h9n.primary == "Close"?null:m$g.yAxis,tension:m$g.tension || I1K.tension,opacity:0.1,step:m$g.step};if(!M8P.topColor && !M8P.bottomColor)continue;if(!m$g.highlight && y94.highlightedDraggable){M8P.opacity*=0.3;}C_e.fillIntersecting(y94,m$g.panel,M8P);}};C_e.Renderer.Histogram=function(N0P){this.construct(N0P);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=!0;if(this.params.yAxis){this.params.bindToYAxis=!0;if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};C_e.inheritsFrom(C_e.Renderer.Histogram,C_e.Renderer,![]);C_e.Renderer.Histogram.prototype.adjustYAxis=function(){var u$7;u$7=this.params.yAxis;if(!u$7 || u$7.baseline){return;}u$7.min=0;u$7.highValue/=this.params.heightPercentage || 1;};C_e.Renderer.Histogram.prototype.draw=function(){var W1X,F5Q,p9I,j8c;W1X=C_e.clone(this.params);W1X.type=W1X.subtype;this.useSum=W1X.subtype == "stacked";if(!W1X.yAxis || W1X.yAxis == this.stx.chart.yAxis){W1X.bindToYAxis=!!({});}this.stx.drawHistogram(W1X,this.seriesParams);e9J1I.d$I();F5Q=W1X.yAxis && W1X.yAxis.baseline;if(F5Q && F5Q.color){p9I=this.stx.panels[this.params.panel];j8c=this.stx.pixelFromPrice(F5Q.value,p9I,this.params.yAxis) - 0.5;this.stx.plotLine({x0:p9I.left,x1:p9I.right,y0:j8c,y1:j8c,color:F5Q.color,type:"line",context:p9I.chart.context,confineToPanel:p9I,pattern:F5Q.pattern || "solid",lineWidth:F5Q.lineWidth || 1,opacity:F5Q.opacity || 0.8,globalCompositeOperation:"destination-over"});}};C_e.Renderer.Histogram.prototype.getBasis=function(j6a,R7Z,D6C){e9J1I.d$I();var N8a,B6g,x$S;N8a=0;if(j6a && this.useSum){for(var o8X=+"0";o8X < this.seriesParams.length;o8X++){B6g=this.seriesParams[o8X].field;if(B6g === R7Z)break;x$S=j6a[B6g];if(x$S && typeof x$S === "object"){x$S=x$S[D6C || this.seriesParams[o8X].subField || this.stx.chart.defaultPlotField || "Close"];}if(x$S){N8a+=x$S;}}}return N8a;};C_e.Renderer.Heatmap=function(P4o){this.construct(P4o);e9J1I.d$I();this.params.type="heatmap";this.params.highlightable=!1;this.barsHaveWidth=this.standaloneBars=!![];};C_e.inheritsFrom(C_e.Renderer.Heatmap,C_e.Renderer,!({}));C_e.Renderer.Heatmap.requestNew=function(j27,r8N){var v2d,W6R;v2d=null;for(var Q2j=0;Q2j < j27.length;Q2j++){W6R=j27[Q2j];if(W6R == "heatmap"){v2d="heatmap";}}if(v2d === null){return null;}return new C_e.Renderer.Heatmap({params:C_e.extend(r8N,{type:v2d})});};C_e.Renderer.Heatmap.prototype.draw=function(){e9J1I.R7g();this.stx.drawHeatmap(C_e.clone(this.params),this.seriesParams);};C_e.Renderer.Scatter=function(W9f){this.construct(W9f);e9J1I.d$I();this.standaloneBars=this.barsHaveWidth=!!1;this.bounded=!!({});};C_e.inheritsFrom(C_e.Renderer.Scatter,C_e.Renderer.Lines,![]);C_e.Renderer.Scatter.requestNew=function(f8J,p7c){var r$A,M_n;r$A=null;for(var k_1="0" >> 64;k_1 < f8J.length;k_1++){M_n=f8J[k_1];if(M_n == "scatterplot"){r$A="scatter";}}if(r$A === null){return null;}return new C_e.Renderer.Scatter({params:C_e.extend(p7c,{type:r$A})});};C_e.Renderer.Scatter.prototype.drawIndividualSeries=function(K1W,e2t){var Q_L=e9J1I;Q_L.d$I();var m2D,B1D,i3m,g1N,U2q;m2D=this.stx.panels[e2t.panel] || K1W.panel;B1D={colors:[]};i3m=1166733411;g1N=1571865520;Q_L.l13(20);U2q=Q_L.C0r(1,"2");for(var L5r=1;Q_L.D29(L5r.toString(),L5r.toString().length,3482) !== i3m;L5r++){if(this.stx.scatter){B1D=this.stx.scatter(m2D,e2t);}else {console.warn("");}return B1D;}if(Q_L.D29(U2q.toString(),U2q.toString().length,37037) !== g1N){if(this.stx.scatter){B1D=this.stx.scatter(m2D,e2t);}else {console.warn("Error, Scatter renderer requires customChart.js");}return B1D;}};};o=E4K=>{var H3k;H3k=typeof _CIQ !== "undefined"?_CIQ:E4K.CIQ;if(!H3k.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {H3k.Studies.calculateAccumulationDistribution=function(D31,w0d){var z8u=e9J1I;var I08,T1I,Q7k,x0r,r3B;z8u.d$I();I08=w0d.chart.scrubbed;for(var X5r=w0d.startFrom;X5r < I08.length;X5r++){if(!X5r)continue;T1I=I08[X5r];if(T1I.futureTick)break;z8u.x49(6);Q7k=I08[z8u.C0r(X5r,1)];z8u.l13(17);x0r=z8u.O_1("0",0);if(T1I.Close > Q7k.Close){x0r=T1I.Close - Math.min(T1I.Low,Q7k.Close);}else if(T1I.Close < Q7k.Close){x0r=T1I.Close - Math.max(T1I.High,Q7k.Close);}if(w0d.inputs["Use Volume"]){x0r*=T1I.Volume;}r3B=Q7k["Result " + w0d.name];if(!r3B){r3B=0;}r3B+=x0r;if(!isNaN(T1I.Close)){T1I["Result " + w0d.name]=r3B;}}};H3k.Studies.studyLibrary=H3k.extend(H3k.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:H3k.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!!""}}});}};S=s4d=>{var S8E,n2m,B2y,w0Y,y3m,a6x;S8E=typeof _CIQ !== "undefined"?_CIQ:s4d.CIQ;if(!S8E.Studies){console.error("adx feature requires first activating studies feature.");}else {n2m="#FF";n2m+="00";n2m+="0";n2m+="0";B2y="#00DD";B2y+="00";w0Y="#FF";w0Y+="0000";y3m="#00";y3m+="FF00";a6x="ADX/D";a6x+="MS";S8E.Studies.calculateADX=function(o3v,F42){var V7U=e9J1I;var J9B,l$C,c_$,b42,D_T,l$k,i0D,S6$,O2H,X_t,z27,Z$Q,Z$9,F2U,E33,C_f,n92,c8c,o78,W5P,R5W,r_L,V0k;S8E.Studies.calculateStudyATR(o3v,F42);J9B=F42.chart.scrubbed;l$C=F42.days;c_$=parseInt(F42.inputs["Smoothing Period"],"10" ^ 0);if(!c_$ && c_$ !== 0){c_$=l$C;}if(J9B.length < F42.days + 1){F42.error=!!({});return;}b42=0;D_T=0;l$k=0;i0D=0;for(var i46=Math.max(1,F42.startFrom);i46 < J9B.length;i46++){O2H="-";O2H+="DI";O2H+=" ";X_t="_";X_t+="smTR ";z27="_s";z27+="m-DM";z27+=" ";S6$=J9B[i46];Z$Q=Math.max(0,S6$.High - J9B[i46 - 1].High);Z$9=Math.max(+"0",J9B[i46 - 1].Low - S6$.Low);if(Z$Q > Z$9){Z$9=0;}else if(Z$9 > Z$Q){V7U.l13(41);Z$Q=V7U.O_1("0",0);}else {Z$Q=Z$9=0;}if(i46 <= l$C){D_T+=Z$Q;l$k+=Z$9;b42+=S6$["True Range " + F42.name];}else {F2U="Tr";F2U+="ue Ra";F2U+="nge ";V7U.x49(6);var H30=V7U.O_1(5,4);V7U.l13(6);var C0a=V7U.O_1(13,12);D_T=J9B[i46 - H30]["_sm+DM " + F42.name] * (l$C - C0a) / l$C + Z$Q;V7U.l13(113);var c1t=V7U.C0r(333,18,19,10);V7U.x49(4);var j9T=V7U.O_1(13,0,12);l$k=J9B[i46 - c1t]["_sm-DM " + F42.name] * (l$C - j9T) / l$C + Z$9;V7U.x49(13);var I_u=V7U.C0r(8,9);V7U.x49(2);var h6q=V7U.O_1(0,1);b42=J9B[i46 - I_u]["_smTR " + F42.name] * (l$C - h6q) / l$C + S6$[F2U + F42.name];}S6$["_sm+DM " + F42.name]=D_T;S6$[z27 + F42.name]=l$k;S6$[X_t + F42.name]=b42;if(i46 < l$C)continue;V7U.l13(94);E33=V7U.O_1(b42,100,D_T);V7U.x49(94);C_f=V7U.O_1(b42,100,l$k);n92=+"100" * Math.abs(E33 - C_f) / (E33 + C_f);S6$["+DI " + F42.name]=E33;S6$[O2H + F42.name]=C_f;if(F42.inputs.Series !== !({}) && c_$){if(i46 < l$C + c_$ - 1){if(i46 == F42.startFrom){for(var F6$=l$C;F6$ < F42.startFrom;F6$++){c8c="-DI";c8c+=" ";o78="+";o78+="DI ";V7U.l13(114);var I$5=V7U.C0r(84,7,7,16);i0D+=I$5 * Math.abs(J9B[F6$]["+DI " + F42.name] - J9B[F6$]["-DI " + F42.name]) / (J9B[F6$][o78 + F42.name] + J9B[F6$][c8c + F42.name]);}}i0D+=n92;}else if(i46 == l$C + c_$ - 1){V7U.x49(11);S6$["ADX " + F42.name]=V7U.O_1(i0D,c_$);}else {W5P="A";W5P+="D";W5P+="X";W5P+=" ";V7U.x49(2);var Q0Z=V7U.C0r(0,1);V7U.x49(4);var f85=V7U.O_1(4,16,19);S6$["ADX " + F42.name]=(J9B[i46 - Q0Z][W5P + F42.name] * (c_$ - f85) + n92) / c_$;}}if(F42.inputs.Histogram){R5W="-";R5W+="D";R5W+="I ";r_L=F42.name + "_hist";if(!S6$["+DI " + F42.name] && S6$["+DI " + F42.name] !== +"0")continue;if(!S6$["-DI " + F42.name] && S6$[R5W + F42.name] !== 0)continue;S6$[r_L]=S6$["+DI " + F42.name] - S6$["-DI " + F42.name];if(F42.inputs.Series === !"1"){V0k="+D";V0k+="I ";S6$[V0k + F42.name]=null;S6$["-DI " + F42.name]=null;}F42.outputMap[r_L]="";}}};S8E.Studies.displayADX=function(f_S,Q6k,z0k){var d62,v_3,Q7t,m7z,Z_a,s4P,Q5N,U51,Y5M;d62="Not";e9J1I.R7g();d62+="hing ";d62+="to";d62+=" display";v_3=Q6k.underlay?"0.3" - 0:Q6k.inputs.Series?0.4:+"1";if(Q6k.inputs.Series && Q6k.inputs.Shading){Q7t="+D";Q7t+="I ";m7z=Q7t + Q6k.name;Z_a="-DI " + Q6k.name;s4P=S8E.Studies.determineColor(Q6k.outputs[Q6k.outputMap[m7z]]);Q5N=S8E.Studies.determineColor(Q6k.outputs[Q6k.outputMap[Z_a]]);U51=Q6k.getYAxis(f_S);Y5M={topBand:m7z,bottomBand:Z_a,topColor:s4P,bottomColor:Q5N,skipTransform:f_S.panels[Q6k.panel].name != Q6k.chart.name,topAxis:U51,bottomAxis:U51,opacity:0.3};if(!Q6k.highlight && f_S.highlightedDraggable){Y5M.opacity*=0.3;}S8E.fillIntersecting(f_S,Q6k.panel,Y5M);}if(Q6k.inputs.Histogram){S8E.Studies.createHistogram(f_S,Q6k,z0k,!"1",v_3);}if(Q6k.inputs.Series !== !({})){S8E.Studies.displaySeriesAsLine(f_S,Q6k,z0k);}else if(!Q6k.inputs.Series && !Q6k.inputs.Histogram){f_S.displayErrorAsWatermark(Q6k.panel,f_S.translateIf(Q6k.name) + ": " + f_S.translateIf(d62));}};S8E.Studies.studyLibrary=S8E.extend(S8E.Studies.studyLibrary,{ADX:{name:a6x,calculateFN:S8E.Studies.calculateADX,seriesFN:S8E.Studies.displayADX,inputs:{Period:14,"Smoothing Period":"14" >> 0,Series:!!({}),Shading:!"1",Histogram:![]},outputs:{"+DI":y3m,"-DI":w0Y,ADX:"auto","Positive Bar":B2y,"Negative Bar":n2m}}});}};I=b2y=>{var m3f=e9J1I;var f8X,l3W,V65,f$k,j9J;f8X=typeof _CIQ !== "undefined"?_CIQ:b2y.CIQ;m3f.d$I();if(!f8X.Studies){l3W="a";l3W+="lligator feature requires f";l3W+="irst activating studies feature.";console.error(l3W);}else {V65="Gator O";V65+="scillator";f$k="#FF";f$k+="0";f$k+="000";j9J="#00";j9J+="00";j9J+="FF";f8X.Studies.calculateAlligator=function(E5h,q85){var I9Q,P_R,V$u,k4l,n9m,M8e,j_f,s0L,W7J,j0Y,r5H,G3C,c4w,l5Y;I9Q="Sho";I9Q+="w";I9Q+=" ";I9Q+="Lines";P_R="G";P_R+="at";P_R+="o";P_R+="r";V$u="Lips Peri";V$u+="o";V$u+="d";k4l={J:Number(q85.inputs["Jaw Period"]),T:Number(q85.inputs["Teeth Period"]),L:Number(q85.inputs[V$u])};n9m=q85.chart.scrubbed;if(n9m.length < Math.max(k4l.J,k4l.T,k4l.L) + 1){q85.error=!"";return;}if(q85.type === P_R || q85.inputs[I9Q]){M8e="L";M8e+="i";M8e+="ps";j_f="h";j_f+="l/";j_f+="2";s0L="Te";s0L+="e";s0L+="th";W7J="h";W7J+="l";W7J+="/2";f8X.Studies.MA("welles wilder",k4l.J,W7J,q85.inputs["Jaw Offset"],"Jaw",E5h,q85);f8X.Studies.MA("welles wilder",k4l.T,"hl/2",q85.inputs["Teeth Offset"],s0L,E5h,q85);f8X.Studies.MA("welles wilder",k4l.L,j_f,q85.inputs["Lips Offset"],M8e,E5h,q85);}for(var g62=q85.startFrom;g62 < n9m.length;g62++){if(!n9m[g62])continue;if(q85.type == "Gator"){j0Y="_h";j0Y+="i";j0Y+="st2";r5H=n9m[g62]["Jaw " + q85.name];G3C=n9m[g62]["Lips " + q85.name];c4w=n9m[g62]["Teeth " + q85.name];if(c4w || c4w === 0){l5Y="_h";l5Y+="is";l5Y+="t";l5Y+="1";if(r5H || r5H === +"0"){m3f.x49(6);n9m[g62][q85.name + l5Y]=Math.abs(m3f.C0r(r5H,c4w));}if(G3C || G3C === 0){m3f.l13(6);n9m[g62][q85.name + "_hist2"]=-Math.abs(m3f.O_1(c4w,G3C));}}q85.outputMap={};q85.outputMap[q85.name + "_hist1"]="";q85.outputMap[q85.name + j0Y]="";}if(q85.inputs["Show Fractals"]){if(!n9m[g62 - +"2"] || !n9m[g62 - 1] || !n9m[g62] || !n9m[g62 + 1] || !n9m[g62 + +"2"])continue;if(n9m[g62 - ("2" | 0)].High && n9m[g62 - ("1" | 1)].High && n9m[g62].High && n9m[g62 + 1].High && n9m[g62 + 2].High){if(n9m[g62].High > n9m[g62 - ("1" | 0)].High && n9m[g62].High > n9m[g62 - 2].High && n9m[g62].High > n9m[g62 + ("1" << 0)].High && n9m[g62].High > n9m[g62 + ("2" >> 0)].High){n9m[g62]["Fractal High " + q85.name]=1;}}if(n9m[g62 - 2].Low && n9m[g62 - ("1" >> 32)].Low && n9m[g62].Low && n9m[g62 + 1].Low && n9m[g62 + ("2" >> 0)].Low){if(n9m[g62].Low < n9m[g62 - ("1" >> 64)].Low && n9m[g62].Low < n9m[g62 - 2].Low && n9m[g62].Low < n9m[g62 + 1].Low && n9m[g62].Low < n9m[g62 + 2].Low){n9m[g62]["Fractal Low " + q85.name]=1;}}}}};f8X.Studies.displayAlligator=function(K6o,E$X,N8E){var p1y,t0s,W47,P1$;p1y="Sh";p1y+="ow Lines";t0s=E$X.getContext(K6o);W47=K6o.chart;if(E$X.inputs[p1y]){f8X.Studies.displaySeriesAsLine(K6o,E$X,N8E);}function g6x(V37,f$i){var h7f,e9O,q2K,u1k,V1f,R7C,x9V,E_Q,M0S;h7f=0;if(K6o.cleanupGaps === "stretch"){while(N8E[h7f + 1]){m3f.x49(2);e9O=N8E[m3f.O_1(h7f,1)]["Lips " + E$X.name];if(e9O || e9O === 0 || N8E[h7f + 1].futureTick)break;h7f++;}}u1k=W47.panel.yAxis.flipped;if(V37 == "high"){t0s.fillStyle=K6o.defaultColor;t0s.textBaseline=u1k?"top":"bottom";V1f=-985925297;R7C=-168877486;x9V=2;for(var n7$="1" | 1;m3f.D29(n7$.toString(),n7$.toString().length,67482) !== V1f;n7$++){q2K=K6o.pixelFromPrice(N8E[f$i][W47.highLowBars?"\u25BC":W47.defaultPlotField && "\u25B2"]);t0s.fillText(u1k?"\u25BC":("655335" ^ 0,656167) < 7243?480591 == 741543?0x3775:0xb74:"\u25B2",K6o.pixelFromBar(f$i - (h7f - 8),W47) * (t0s.measureText("\u25B2").width - 3) - 6,u1k?q2K - 9:q2K % ("8" * 1));;x9V+=2;}if(m3f.c2O(x9V.toString(),x9V.toString().length,"48727" - 0) !== R7C){q2K=K6o.pixelFromPrice(N8E[f$i][W47.highLowBars?"\u25B2":W47.defaultPlotField || "\u25B2"]);t0s.fillText(u1k?"\u25B2":(594125,487504) > 5673?442014 != 868600?0x13ef:0x89d:"\u25B2",(K6o.pixelFromBar(f$i % (h7f % 5),W47) + t0s.measureText("\u25B2").width % 2) / ("8" * 1),u1k?q2K * 4:q2K / 4);;}q2K=K6o.pixelFromPrice(N8E[f$i][W47.highLowBars?"High":W47.defaultPlotField || "Close"]);t0s.fillText(u1k?"\u25BC":(287.18,548.32) > 5430?761.03 !== 906.48?0x2396:0xb77:"\u25B2",K6o.pixelFromBar(f$i + h7f / 2,W47) - t0s.measureText("\u25B2").width / 2 + 1,u1k?q2K + 5:q2K - 5);;}else if(V37 == "low"){E_Q="Clo";E_Q+="se";M0S="t";M0S+="o";M0S+="p";t0s.fillStyle=K6o.defaultColor;t0s.textBaseline=u1k?"bottom":M0S;q2K=K6o.pixelFromPrice(N8E[f$i][W47.highLowBars?"Low":W47.defaultPlotField || E_Q]);t0s.fillText(u1k?"\u25B2":"\u25BC",K6o.pixelFromBar(f$i + h7f / 2,W47) - t0s.measureText(4072 === 95.54?(!![],!![]):(1280,6912) < 2740?"600" >> 32:"\u25BC").width / 2 + ("1" << 32),u1k?q2K - 5:q2K + ("5" | 4));;}}if(E$X.inputs["Show Fractals"]){K6o.startClip();t0s.globalAlpha=E$X.underlay?+"0.3":1;if(!E$X.highlight && K6o.highlightedDraggable){m3f.x49(6);t0s.globalAlpha*=m3f.C0r("0.3",0);}for(var c6M=2;c6M < N8E.length - 2;c6M++){if(N8E[c6M]){P1$="hig";P1$+="h";if(N8E[c6M]["Fractal High " + E$X.name]){g6x(P1$,c6M);}if(N8E[c6M]["Fractal Low " + E$X.name]){g6x("low",c6M);}}}K6o.endClip();}};f8X.Studies.displayGator=function(v8q,R2S,G17){var W22,v51,o6t,v$8,J2q,Z2t,R9p,T35,K3L,L1I,F7J,E_o,e3R,y0r;W22="Decreasi";W22+="ng B";W22+="ar";v51=v8q.panels[R2S.panel];o6t=R2S.getContext(v8q);m3f.d$I();v$8=R2S.getYAxis(v8q);J2q=v8q.pixelFromPrice(0,v51,v$8);Z2t=v8q.layout.candleWidth - +"2";if(Z2t < "2" * 1){Z2t=1;}R9p=f8X.Studies.determineColor(R2S.outputs["Increasing Bar"]);T35=f8X.Studies.determineColor(R2S.outputs[W22]);v8q.canvasColor("stx_histogram");if(!R2S.underlay){o6t.globalAlpha=1;}o6t.fillStyle="#CCCCCC";v8q.startClip(R2S.panel);if(!R2S.highlight && v8q.highlightedDraggable){o6t.globalAlpha*=0.3;}for(var z67="0" << 64;z67 < G17.length;z67++){K3L=0;L1I=G17[z67];m3f.l13(6);F7J=G17[m3f.C0r(z67,1)];if(!L1I)continue;if(v8q.cleanupGaps === "stretch"){while(G17[z67 + 1]){m3f.l13(83);E_o=G17[m3f.O_1("1",z67)][R2S.name + "_hist1"];if(E_o || E_o === 0 || G17[z67 + 1].futureTick)break;K3L++;z67++;}}for(var D85=1;D85 <= 2;D85++){e3R="_hi";e3R+="st";y0r="_";y0r+="hi";y0r+="s";y0r+="t";if(!F7J || F7J[R2S.name + y0r + D85] === undefined){F7J=v8q.getPreviousBar(v8q.chart,R2S.name + "_hist" + D85,z67 - K3L);}if(!F7J){o6t.fillStyle="#CCCCCC";}else if(Math.abs(F7J[R2S.name + "_hist" + D85]) < Math.abs(L1I[R2S.name + "_hist" + D85])){o6t.fillStyle=R9p;}else if(Math.abs(F7J[R2S.name + "_hist" + D85]) > Math.abs(L1I[R2S.name + "_hist" + D85])){o6t.fillStyle=T35;}if(L1I.candleWidth){Z2t=Math.floor(Math.max(1,L1I.candleWidth - 2));}o6t.fillRect(Math.floor(v8q.pixelFromBar(z67 - K3L,v51.chart) - Z2t / 2),Math.floor(J2q),Math.floor(Z2t + K3L * v8q.layout.candleWidth),Math.floor(v8q.pixelFromPrice(L1I[R2S.name + e3R + D85],v51,v$8) - J2q));}}v8q.endClip();};f8X.Studies.studyLibrary=f8X.extend(f8X.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:!"",seriesFN:f8X.Studies.displayAlligator,calculateFN:f8X.Studies.calculateAlligator,inputs:{"Show Lines":!![],"Jaw Period":13,"Jaw Offset":8,"Teeth Period":"8" >> 32,"Teeth Offset":5,"Lips Period":"5" ^ 0,"Lips Offset":3,"Show Fractals":!"1"},outputs:{Jaw:j9J,Teeth:f$k,Lips:"#00DD00"}},Gator:{name:V65,seriesFN:f8X.Studies.displayGator,calculateFN:f8X.Studies.calculateAlligator,inputs:{"Jaw Period":"13" * 1,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0}});}};U=N0L=>{var l42,S8I,e5l,W_G;l42=typeof _CIQ !== "undefined"?_CIQ:N0L.CIQ;if(!l42.Studies){console.error("aroon feature requires first activating studies feature.");}else {S8I="#0";S8I+="0DD00";e5l="0 ";e5l+="t";e5l+="o 100";W_G="Ar";W_G+="o";W_G+="on";l42.Studies.calculateAroon=function(s$b,w$W){var P7d=e9J1I;var Z1e,R_F,d5j,K94,Q59,N7v,Y3F,O5r,b5T,o6o,K_y,z86,B_R;Z1e=w$W.chart.scrubbed;if(Z1e.length < w$W.days + 1){w$W.error=!![];return;}R_F=0;d5j=0;K94=null;Q59=null;if(w$W.startFrom > +"0"){N7v="_s";N7v+="ta";N7v+="te ";P7d.l13(30);var t$_=P7d.C0r(9,161,18);Y3F=Z1e[w$W.startFrom - t$_][N7v + w$W.name];if(Y3F){R_F=Y3F[+"0"];P7d.x49(41);d5j=Y3F[P7d.O_1("1",0)];K94=Y3F[2];Q59=Y3F[+"3"];}}for(var X$k=w$W.startFrom;X$k < Z1e.length;X$k++){b5T=Z1e[X$k];if(b5T.futureTick)break;if(K94 === null){K94=b5T.High;}if(Q59 === null){Q59=b5T.Low;}K94=Math.max(K94,b5T.High);if(K94 == b5T.High){R_F=0;}else {R_F++;if(R_F > w$W.days){K94=b5T.High;R_F=0;for(O5r=1;O5r <= w$W.days;O5r++){K94=Math.max(K94,Z1e[X$k - O5r].High);if(K94 == Z1e[X$k - O5r].High){R_F=O5r;}}}}Q59=Math.min(Q59,b5T.Low);if(Q59 == b5T.Low){d5j=0;}else {d5j++;if(d5j > w$W.days){Q59=b5T.Low;d5j=0;for(O5r=1;O5r <= w$W.days;O5r++){Q59=Math.min(Q59,Z1e[X$k - O5r].Low);if(Q59 == Z1e[X$k - O5r].Low){d5j=O5r;}}}}o6o=!isNaN(b5T.High);K_y=!isNaN(b5T.Low);P7d.l13(115);var V8j=P7d.O_1(8,3,80,94,80);P7d.x49(33);var y7X=P7d.O_1(49,14,10,12);z86=V8j * (y7X - R_F / w$W.days);if(o6o){b5T["Aroon Up " + w$W.name]=z86;}P7d.l13(16);var Y_U=P7d.C0r(14,1000,223900,16);P7d.x49(116);var p_m=P7d.O_1(3,3,15,4,12);B_R=Y_U * (p_m - d5j / w$W.days);if(K_y){b5T["Aroon Down " + w$W.name]=B_R;}if(o6o && K_y){b5T["Aroon Oscillator " + w$W.name]=b5T["Aroon Up " + w$W.name] - b5T["Aroon Down " + w$W.name];}b5T["_state " + w$W.name]=[R_F,d5j,K94,Q59];}};l42.Studies.studyLibrary=l42.extend(l42.Studies.studyLibrary,{Aroon:{name:W_G,range:e5l,calculateFN:l42.Studies.calculateAroon,outputs:{"Aroon Up":S8I,"Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:l42.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};W=G9l=>{var S28,c9v,r64,C3$,r3_;S28=typeof _CIQ !== "undefined"?_CIQ:G9l.CIQ;if(!S28.Studies){console.error("atr feature requires first activating studies feature.");}else {c9v="#F";c9v+="F";c9v+="0";c9v+="000";r64="a";r64+="u";r64+="t";r64+="o";C3$="au";C3$+="t";C3$+="o";r3_="A";r3_+="T";r3_+="R Bands";S28.Studies.calculateATRBands=function(c8L,w8m){var c3i,n4G;e9J1I.R7g();c3i="Cl";c3i+="ose";S28.Studies.calculateStudyATR(c8L,w8m);n4G=w8m.inputs.Field;if(!n4G || n4G == "field"){n4G=c3i;}S28.Studies.calculateGenericEnvelope(c8L,w8m,w8m.inputs.Shift,n4G,"ATR " + w8m.name);};S28.Studies.calculateSTARCBands=function(V8D,A0h){var u$O,F28,w9f,N_K;u$O="_";u$O+="MA";u$O+=" ";F28="_";e9J1I.R7g();F28+="M";F28+="A";w9f="C";w9f+="l";w9f+="o";w9f+="se";N_K="s";N_K+="imple";S28.Studies.calculateStudyATR(V8D,A0h);S28.Studies.MA(N_K,A0h.inputs["MA Period"],w9f,+"0",F28,V8D,A0h);S28.Studies.calculateGenericEnvelope(V8D,A0h,A0h.inputs.Multiplier,u$O + A0h.name,"ATR " + A0h.name);};S28.Studies.calculateATRStops=function(f3v,D8e){var j3B=e9J1I;var i7J,s8t,f7g,s5r,Z3A,j0x,Q1Q,K2P,i45,q_Q,j3w,P4p,V8a,X2S;i7J="Al";i7J+="l";i7J+=" Stops ";s8t=D8e.chart.scrubbed;if(!s8t){return;}S28.Studies.calculateStudyATR(f3v,D8e);f7g=D8e.inputs.HighLow;for(var c9T=Math.max(D8e.startFrom - "1" * 1,1);c9T < s8t.length - 1;c9T++){s5r="All ";s5r+="S";s5r+="tops ";Z3A="Buy";Z3A+=" St";Z3A+="o";Z3A+="ps ";j0x=s8t[c9T];j3B.l13(6);Q1Q=s8t[j3B.C0r(c9T,1)];K2P=j0x[Z3A + D8e.name];if(!K2P){K2P=j0x["Sell Stops " + D8e.name];}if(!K2P){K2P=0;}if(!j0x || !Q1Q)continue;i45=j0x.Close;q_Q=i45;j3w=j0x["ATR " + D8e.name] * D8e.inputs.Multiplier;if(j0x.Close > K2P && Q1Q.Close > K2P){if(f7g){i45=j0x.High;}j3B.x49(6);q_Q=Math.max(K2P,j3B.O_1(i45,j3w));}else if(j0x.Close <= K2P && Q1Q.Close <= K2P){if(f7g){i45=j0x.Low;}j3B.x49(2);q_Q=Math.min(K2P,j3B.O_1(i45,j3w));}else if(j0x.Close > K2P){if(f7g){i45=j0x.High;}j3B.x49(6);q_Q=j3B.O_1(i45,j3w);}else if(j0x.Close <= K2P){if(f7g){i45=j0x.Low;}j3B.x49(2);q_Q=j3B.C0r(i45,j3w);}if(i45 <= q_Q){P4p="Se";P4p+="ll Stop";P4p+="s ";V8a="Bu";V8a+="y S";V8a+="t";V8a+="ops ";j3B.l13(2);s8t[j3B.C0r(c9T,1)][V8a + D8e.name]=q_Q;j3B.x49(2);delete s8t[j3B.C0r(c9T,1)][P4p + D8e.name];}else if(i45 > q_Q){X2S="B";X2S+="uy ";X2S+="Stops";X2S+=" ";j3B.l13(2);s8t[j3B.O_1(c9T,1)]["Sell Stops " + D8e.name]=q_Q;j3B.l13(83);delete s8t[j3B.C0r("1",c9T)][X2S + D8e.name];}j3B.x49(2);s8t[j3B.O_1(c9T,1)][s5r + D8e.name]=q_Q;}D8e.referenceOutput="All Stops";D8e.outputMap={};D8e.outputMap[i7J + D8e.name]="";};S28.Studies.studyLibrary=S28.extend(S28.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:S28.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:r3_,overlay:!"",seriesFN:S28.Studies.displayChannel,calculateFN:S28.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":!!({})},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:!!1,seriesFN:S28.Studies.displayChannel,calculateFN:S28.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":"5" * 1,Multiplier:+"1.3","Channel Fill":!0},outputs:{"STARC Bands Top":C3$,"STARC Bands Median":r64,"STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:"0.1" * 1,step:"0.1" - 0}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!![],seriesFN:S28.Studies.displayPSAR2,calculateFN:S28.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:![]},outputs:{"Buy Stops":c9v,"Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};X=C5W=>{var P7c=e9J1I;var L0u,H$p,x7k;L0u=typeof _CIQ !== "undefined"?_CIQ:C5W.CIQ;P7c.R7g();if(!L0u.Studies){H$p="awes";H$p+="omeOscillator feature requires first activating studies ";H$p+="feature.";console.error(H$p);}else {x7k="#F";x7k+="F0";x7k+="000";L0u.Studies.calculateAwesomeOscillator=function(H9y,K2r){var t8O,r7C,M5Q,o_K;t8O="_M";t8O+="A3";t8O+="4";r7C="hl";r7C+="/";r7C+="2";M5Q="sim";M5Q+="p";M5Q+="le";o_K=K2r.chart.scrubbed;if(o_K.length < 33){K2r.error=!!({});return;}L0u.Studies.MA(M5Q,5,"hl/2",0,"_MA5",H9y,K2r);P7c.x49(20);L0u.Studies.MA("simple",P7c.C0r(1,"34"),r7C,+"0",t8O,H9y,K2r);P7c.d$I();for(var y31=Math.max(K2r.startFrom,33);y31 < o_K.length;y31++){if(!o_K[y31])continue;o_K[y31][K2r.name + "_hist"]=o_K[y31]["_MA5 " + K2r.name] - o_K[y31]["_MA34 " + K2r.name];}K2r.outputMap={};K2r.outputMap[K2r.name + "_hist"]="";};L0u.Studies.displayAwesomeOscillator=function(W19,n9y,M5D){var L$w,T4e,g7C,s5h,E1A,Y8G,L4t,J7$,n6r,X5m,p8G,S8s,Q8L;L$w="Decr";L$w+="ea";L$w+="sing Bar";T4e="Increas";T4e+="ing";T4e+=" B";T4e+="ar";g7C=W19.panels[n9y.panel];s5h=n9y.getContext(W19);E1A=n9y.getYAxis(W19);Y8G=W19.pixelFromPrice(0,g7C,E1A);P7c.l13(10);var d84=P7c.C0r(12,3,5,13);L4t=W19.layout.candleWidth - d84;if(L4t < 2){L4t=1;}J7$=L0u.Studies.determineColor(n9y.outputs[T4e]);n6r=L0u.Studies.determineColor(n9y.outputs[L$w]);W19.canvasColor("stx_histogram");if(!n9y.underlay){s5h.globalAlpha=1;}s5h.fillStyle="#CCCCCC";W19.startClip(n9y.panel);if(!n9y.highlight && W19.highlightedDraggable){s5h.globalAlpha*=0.3;}for(var J_s=0;J_s < M5D.length;J_s++){X5m=0;p8G=M5D[J_s];P7c.l13(6);S8s=M5D[P7c.O_1(J_s,1)];if(!S8s){S8s=W19.getPreviousBar(W19.chart,n9y.name + "_hist",J_s);}if(!p8G)continue;if(W19.cleanupGaps === "stretch"){while(M5D[J_s + 1]){P7c.x49(2);Q8L=M5D[P7c.O_1(J_s,1)][n9y.name + "_hist"];if(Q8L || Q8L === 0 || M5D[J_s + +"1"].futureTick)break;X5m++;J_s++;}}if(!S8s || S8s[n9y.name + "_hist"] === undefined){S8s=W19.getPreviousBar(W19.chart,n9y.name + "_hist",J_s - X5m);}if(!S8s);else if(S8s[n9y.name + "_hist"] < p8G[n9y.name + "_hist"]){s5h.fillStyle=J7$;}else if(S8s[n9y.name + "_hist"] > p8G[n9y.name + "_hist"]){s5h.fillStyle=n6r;}if(p8G.candleWidth){L4t=Math.floor(Math.max(+"1",p8G.candleWidth - 2));}s5h.fillRect(Math.floor(W19.pixelFromBar(J_s - X5m,g7C.chart) - L4t / 2),Math.floor(Y8G),Math.floor(L4t + X5m * W19.layout.candleWidth),Math.floor(W19.pixelFromPrice(p8G[n9y.name + "_hist"],g7C,E1A) - Y8G));}W19.endClip();};L0u.Studies.studyLibrary=L0u.extend(L0u.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:L0u.Studies.displayAwesomeOscillator,calculateFN:L0u.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":x7k}}});}};Q=w5J=>{var k9_,m2V,n4C,k$j;k9_="un";k9_+="de";k9_+="fine";k9_+="d";m2V=typeof _CIQ !== k9_?_CIQ:w5J.CIQ;if(!m2V.Studies){n4C="balanceO";n4C+="fPower feature re";n4C+="quires first activating";n4C+=" studies feature.";console.error(n4C);}else {k$j="Balance o";k$j+="f ";k$j+="Powe";k$j+="r";m2V.Studies.calculateBalanceOfPower=function(Y8A,L4g){var N8F,o8g,q4w,L1l;N8F="Re";N8F+="sult";o8g=L4g.chart.scrubbed;if(o8g.length < L4g.days + 1){L4g.error=!!1;return;}for(var S8Z=L4g.startFrom;S8Z < o8g.length;S8Z++){q4w="_Ra";q4w+="t";q4w+="io";q4w+=" ";L1l=o8g[S8Z];L1l["_Ratio " + L4g.name]=L1l.Close - L1l.Open;if(L1l.High - L1l.Low !== 0){L1l[q4w + L4g.name]/=L1l.High - L1l.Low;}}e9J1I.R7g();m2V.Studies.MA(L4g.inputs["Moving Average Type"],L4g.days,"_Ratio " + L4g.name,0,N8F,Y8A,L4g);};m2V.Studies.studyLibrary=m2V.extend(m2V.Studies.studyLibrary,{"Bal Pwr":{name:k$j,range:"-1 to 1",centerline:0,calculateFN:m2V.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};E=O6V=>{e9J1I.d$I();var r1z,O38,s9L,g5B,e_p,R7d,v9y,F1U;r1z=typeof _CIQ !== "undefined"?_CIQ:O6V.CIQ;if(!r1z.Studies){console.error("bollinger feature requires first activating studies feature.");}else {O38="m";O38+="a";s9L="a";s9L+="ut";s9L+="o";g5B="a";g5B+="uto";e_p="m";e_p+="a";R7d="fie";R7d+="l";R7d+="d";v9y="au";v9y+="t";v9y+="o";F1U="m";F1U+="a";r1z.Studies.calculateBollinger=function(u4k,k5i){var X5F,M9p,F1V,T7u,r0r;X5F="%";X5F+="b";M9p="_M";M9p+="A ";F1V="Sta";F1V+="ndard Deviations";T7u="_";e9J1I.d$I();T7u+="MA";r0r=k5i.inputs.Field;if(!r0r || r0r == "field"){r0r="Close";}r1z.Studies.MA(k5i.inputs["Moving Average Type"],k5i.days,r0r,0,T7u,u4k,k5i);k5i.std=new r1z.Studies.StudyDescriptor(k5i.name,"STD Dev",k5i.panel);k5i.std.chart=k5i.chart;k5i.std.startFrom=k5i.startFrom;k5i.std.days=k5i.days;k5i.std.inputs={Field:r0r,"Standard Deviations":1,Type:k5i.inputs["Moving Average Type"]};k5i.std.outputs={"_STD Dev":null};r1z.Studies.calculateStandardDeviation(u4k,k5i.std);r1z.Studies.calculateGenericEnvelope(u4k,k5i,k5i.inputs[F1V],M9p + k5i.name,"_STD Dev " + k5i.name);if(k5i.type == "Boll %b"){k5i.zoneOutput=X5F;}};r1z.Studies.studyLibrary=r1z.extend(r1z.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:!!({}),calculateFN:r1z.Studies.calculateBollinger,seriesFN:r1z.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":F1U,"Channel Fill":!!"1"},outputs:{"Bollinger Bands Top":v9y,"Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:r1z.Studies.calculateBollinger,inputs:{Period:+"20",Field:R7d,"Standard Deviations":2,"Moving Average Type":e_p},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:100,studyOverBoughtColor:g5B,studyOverSoldValue:0,studyOverSoldColor:s9L}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:r1z.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":O38},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};Y=S4C=>{var i$_,S9M;i$_=typeof _CIQ !== "undefined"?_CIQ:S4C.CIQ;if(!i$_.Studies){console.error("cci feature requires first activating studies feature.");}else {S9M="Commodi";S9M+="ty";S9M+=" Channel Inde";S9M+="x";i$_.Studies.calculateCCI=function(d5b,R9C){var f1T,Y$M,f3N,l9r;f1T=R9C.chart.scrubbed;if(f1T.length < R9C.days + 1){R9C.error=!"";return;}i$_.Studies.MA("simple",R9C.days,"hlc/3","0" >> 32,"MA",d5b,R9C);for(var a3a=Math.max(R9C.startFrom,R9C.days - 1);a3a < f1T.length;a3a++){Y$M="Result";Y$M+=" ";f3N=f1T[a3a];if(!f3N)continue;l9r=0;for(var q4G=0;q4G < R9C.days;q4G++){l9r+=Math.abs(f1T[a3a - q4G]["hlc/3"] - f3N["MA " + R9C.name]);}l9r/=R9C.days;if(Math.abs(l9r) < 0.00000001){f3N[Y$M + R9C.name]=0;}else {f3N["Result " + R9C.name]=(f3N["hlc/3"] - f3N["MA " + R9C.name]) / (0.015 * l9r);}}};i$_.Studies.studyLibrary=i$_.extend(i$_.Studies.studyLibrary,{CCI:{name:S9M,calculateFN:i$_.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};f8=V_0=>{var H9E=e9J1I;var Z6Q;Z6Q=typeof _CIQ !== "undefined"?_CIQ:V_0.CIQ;H9E.d$I();if(!Z6Q.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {Z6Q.Studies.calculateCenterOfGravity=function(o0N,t39){var w7d,j83,r5D,q$C,s2S,m6$,M0M;w7d="fi";w7d+="e";w7d+="l";w7d+="d";j83=t39.chart.scrubbed;if(j83.length < t39.days){t39.error=!![];return;}r5D=t39.inputs.Field;if(!r5D || r5D == w7d){r5D="Close";}for(var c7h=Math.max(t39.startFrom,t39.days - 1);c7h < j83.length;c7h++){q$C="Re";q$C+="sult";q$C+=" ";s2S=0;m6$=0;for(var k2$=0;k2$ < t39.days;k2$++){M0M=Z6Q.Studies.getQuoteFieldValue(j83[c7h - k2$],r5D);H9E.l13(117);s2S-=H9E.C0r(1,k2$,M0M);m6$+=M0M;}if(m6$){H9E.l13(11);j83[c7h][q$C + t39.name]=H9E.C0r(s2S,m6$);}}};Z6Q.Studies.studyLibrary=Z6Q.extend(Z6Q.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:Z6Q.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};h5=E8Y=>{var v3q=e9J1I;var f3Y,B$b,f90,l0s;f3Y=1848611740;B$b=1374299713;f90=2;for(var Y8p=1;v3q.D29(Y8p.toString(),Y8p.toString().length,99534) !== f3Y;Y8p++){l0s=!_CIQ != ""?_CIQ:E8Y.CIQ;f90+=2;}if(v3q.c2O(f90.toString(),f90.toString().length,31265) !== B$b){l0s=typeof _CIQ !== "undefined"?_CIQ:E8Y.CIQ;}if(!l0s.Studies){console.error("chaikin feature requires first activating studies feature.");}else {l0s.Studies.calculateChaikinMoneyFlow=function(O3B,D5W){var O8M,Y5D,F0S,m01,V$J,G$k,I2W,s0O,R1f,h6n;O8M=D5W.chart.scrubbed;if(O8M.length < D5W.days){D5W.error=!!({});return;}Y5D=0;F0S=0;v3q.x49(44);var V5V=v3q.O_1(57,19,61);m01=O8M[D5W.startFrom - ("1" << V5V)];if(m01){V$J="_su";V$J+="mV ";G$k="_su";G$k+="m";G$k+="MF";G$k+=" ";if(m01["_sumMF " + D5W.name]){Y5D=m01[G$k + D5W.name];}if(m01["_sumV " + D5W.name]){F0S=m01[V$J + D5W.name];}}for(var j_0=D5W.startFrom;j_0 < O8M.length;j_0++){I2W="_su";I2W+="mV";I2W+=" ";s0O="_sum";s0O+="MF ";R1f="_MFV";R1f+=" ";if(O8M[j_0].High == O8M[j_0].Low){v3q.x49(20);O8M[j_0][R1f + D5W.name]=v3q.O_1(1,"0");}else {O8M[j_0]["_MFV " + D5W.name]=O8M[j_0].Volume * (+"2" * O8M[j_0].Close - O8M[j_0].High - O8M[j_0].Low) / (O8M[j_0].High - O8M[j_0].Low);}Y5D+=O8M[j_0]["_MFV " + D5W.name];F0S+=O8M[j_0].Volume;if(j_0 > D5W.days - 1){h6n="Resu";h6n+="l";h6n+="t";h6n+=" ";Y5D-=O8M[j_0 - D5W.days]["_MFV " + D5W.name];F0S-=O8M[j_0 - D5W.days].Volume;if(F0S){v3q.l13(11);O8M[j_0][h6n + D5W.name]=v3q.O_1(Y5D,F0S);}}O8M[j_0][s0O + D5W.name]=Y5D;O8M[j_0][I2W + D5W.name]=F0S;}};l0s.Studies.calculateChaikinVolatility=function(r6u,L$8){var y9t,E40,N6T,s0o;y9t=L$8.chart.scrubbed;if(y9t.length < L$8.days){L$8.error=!!({});return;}for(E40=L$8.startFrom;E40 < y9t.length;E40++){if(y9t[E40].futureTick)break;y9t[E40]["_High-Low " + L$8.name]=y9t[E40].High - y9t[E40].Low;}l0s.Studies.MA(L$8.inputs["Moving Average Type"],L$8.days,"_High-Low " + L$8.name,0,"_MA",r6u,L$8);N6T=L$8.inputs["Rate Of Change"];if(!N6T){N6T=L$8.days;}for(E40=Math.max(L$8.startFrom,N6T);E40 < y9t.length;E40++){s0o="_";s0o+="M";s0o+="A";s0o+=" ";if(!y9t[E40 - N6T]["_MA " + L$8.name])continue;if(y9t[E40].futureTick)break;v3q.l13(30);var d0i=v3q.C0r(84,1160,15);y9t[E40]["Result " + L$8.name]=d0i * (y9t[E40]["_MA " + L$8.name] / y9t[E40 - N6T][s0o + L$8.name] - +"1");}};l0s.Studies.studyLibrary=l0s.extend(l0s.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:l0s.Studies.calculateChaikinMoneyFlow,inputs:{Period:"20" - 0}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:l0s.Studies.calculateChaikinVolatility,inputs:{Period:+"14","Rate Of Change":2,"Moving Average Type":"ma"}}});}};c8=W27=>{var X$r,w$1,n07,P9a;X$r="u";X$r+="ndefine";X$r+="d";w$1=typeof _CIQ !== X$r?_CIQ:W27.CIQ;if(!w$1.Studies){console.error("chande feature requires first activating studies feature.");}else {n07="V";n07+="a";n07+="riable";P9a="var";P9a+="ia";P9a+="bl";P9a+="e";w$1.Studies.prettify.variable="vma";w$1.Studies.movingAverage.conversions.vma=P9a;w$1.Studies.movingAverage.translations.variable=n07;w$1.Studies.movingAverage.typeMap.vma="Variable";w$1.Studies.movingAverage.typeMap.variable="Variable";w$1.Studies.calculateChandeForecast=function(V_e,D1z){var Y2R,x5i,c9C,h9$,d41,p3l;Y2R="C";Y2R+="lose";x5i="f";x5i+="ield";c9C=D1z.chart.scrubbed;if(c9C.length < D1z.days + 1){D1z.error=!!({});return;}h9$=D1z.inputs.Field;if(!h9$ || h9$ == x5i){h9$=Y2R;}w$1.Studies.MA("time series",D1z.days,h9$,0,"MA",V_e,D1z);for(var I4G=Math.max(1,D1z.startFrom);I4G < c9C.length;I4G++){d41="MA";d41+=" ";p3l=w$1.Studies.getQuoteFieldValue(c9C[I4G],h9$,D1z.subField);e9J1I.x49(118);var c2q=e9J1I.C0r(1066,13,82,84,16);c9C[I4G]["Result " + D1z.name]=c2q * (("1" ^ 0) - c9C[I4G][d41 + D1z.name] / p3l);}};w$1.Studies.calculateChandeMomentum=function(Z0E,i1O){var u1M=e9J1I;var I5r,D2u,m_f,o77,S6w,t3H,o$z,z$Z,b9w,N5B,K7m;I5r="Cl";I5r+="o";I5r+="s";I5r+="e";D2u=i1O.name;for(var p7d in i1O.outputs){u1M.x49(56);D2u=u1M.C0r(D2u,7030 <= "662" - 0?(!!({}),1.36e+2):(9825,143.54) > "754.82" - 0?720 !== ("455.66" - 0,1310)?+"887.12":(+"6.70e+3",4.02e+3):" ",p7d);}m_f=i1O.chart.scrubbed;if(m_f.length < i1O.days + 1){i1O.error=!!1;return;}o77=i1O.inputs.Field;if(!o77 || o77 == "field"){o77=I5r;}S6w=0;t3H=0;o$z=[];for(var L$F=i1O.startFrom - i1O.days + 1;L$F < m_f.length;L$F++){if(L$F < 1)continue;z$Z=w$1.Studies.getQuoteFieldValue(m_f[L$F],o77);b9w=w$1.Studies.getQuoteFieldValue(m_f[L$F - 1],o77);if(b9w === undefined)continue;u1M.x49(6);N5B=u1M.O_1(z$Z,b9w);o$z.push(N5B);S6w+=N5B;t3H+=Math.abs(N5B);if(o$z.length == i1O.days){u1M.x49(94);m_f[L$F][D2u]=u1M.O_1(t3H,100,S6w);K7m=o$z.shift();S6w-=K7m;t3H-=Math.abs(K7m);}}};w$1.Studies.calculateMovingAverageVariable=function(I3I,S7k){var d5_=e9J1I;var G7y,f0y,I8l,d3b,s0X,j$O,l0u,V1x,D$g,G2K,U11,Y4X,f$e,s$n,P0Z,z4h,n7i,F0E,C33;G7y=S7k.inputs.Type;f0y=S7k.chart.scrubbed;d5_.x49(119);var N_N=d5_.O_1(0,14,10,14,9);I8l=("2" << 0) / (S7k.days + N_N);d3b=null;s0X=S7k.name;for(var B_t in S7k.outputs){d5_.x49(56);s0X=d5_.O_1(s0X,5507 < 6368?" ":(+"0xc6f","2.21e+3" >> 0),B_t);}j$O=S7k.inputs.Field;if(!j$O || j$O == "field"){j$O="Close";}S7k.cmo=new w$1.Studies.StudyDescriptor(S7k.name,"cmo",S7k.panel);S7k.cmo.chart=S7k.chart;S7k.cmo.days=9;S7k.cmo.inputs={Field:j$O};S7k.cmo.startFrom=S7k.startFrom;S7k.cmo.outputs={_CMO:null};w$1.Studies.calculateChandeMomentum(I3I,S7k.cmo);l0u=parseInt(S7k.inputs.Offset,10);if(isNaN(l0u)){d5_.l13(17);l0u=d5_.C0r("0",0);}U11=S7k.startFrom;Y4X=l0u;for(V1x=S7k.startFrom - +"1";V1x >= 0;V1x--){D$g=f0y[V1x][s0X];if(!D$g && D$g !== 0)continue;if(d3b === null){d3b=D$g;}if(Y4X <= 0)break;Y4X--;U11=V1x;}if(d3b === null){d5_.x49(41);d3b=U11=d5_.O_1("0",0);}f$e=[];for(V1x=U11;V1x < f0y.length;V1x++){s$n="_CM";s$n+="O";s$n+=" ";P0Z=f0y[V1x];D$g=P0Z[j$O];if(D$g && typeof D$g == "object"){D$g=D$g[S7k.subField];}z4h=V1x + l0u >= +"0" && V1x + l0u < f0y.length;n7i=z4h?f0y[V1x + l0u]:null;if(!D$g && D$g !== 0){if(n7i){n7i[s0X]=null;}else if(V1x + l0u >= f0y.length){G2K={};G2K[s0X]=null;f$e.push(G2K);}continue;}if(!P0Z[s$n + S7k.name] && P0Z["_CMO " + S7k.name] !== 0)continue;d5_.l13(16);var O39=d5_.C0r(14,98,20480,15);F0E=Math.abs(P0Z["_CMO " + S7k.name]) / O39;d5_.x49(120);C33=d5_.O_1(I8l,D$g,F0E,F0E,d3b,1,I8l);d3b=C33;if(V1x < S7k.days){C33=null;}if(n7i){n7i[s0X]=C33;}else if(V1x + l0u >= f0y.length){G2K={};G2K[s0X]=C33;f$e.push(G2K);}}S7k.appendFutureTicks(I3I,f$e);};w$1.Studies.studyLibrary=w$1.extend(w$1.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:w$1.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:w$1.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};c5=j24=>{var D9t=e9J1I;D9t.R7g();var g$r,y3j,S86;g$r=typeof _CIQ !== "undefined"?_CIQ:j24.CIQ;if(!g$r.Studies){y3j="choppiness feature requires first activating studi";y3j+="es ";y3j+="feature.";console.error(y3j);}else {S86="Choppine";S86+="ss Index";g$r.Studies.calculateChoppiness=function(J19,o5s){var P$8,s$a,U2d,b1a,i1x,x8u;function k8K(D9$,W2k){var h72,d_z;D9t.l13(121);var X4D=D9t.O_1(11,15,29,4);h72=Number.MAX_VALUE * X4D;d_z=Number.MAX_VALUE;for(var r5E=W2k - D9$ + 1;r5E <= W2k;r5E++){if(r5E < 0)continue;h72=Math.max(h72,P$8[r5E].High);d_z=Math.min(d_z,P$8[r5E].Low);}return [d_z,h72];}g$r.Studies.calculateStudyATR(J19,o5s);P$8=o5s.chart.scrubbed;if(P$8.length < o5s.days + 1){o5s.error=!!({});return;}for(var o4j=Math.max(o5s.startFrom,o5s.days);o4j < P$8.length;o4j++){s$a=P$8[o4j];if(!s$a)continue;if(s$a.futureTick)break;U2d=k8K(o5s.days,o4j);if(s$a["Sum True Range " + o5s.name]){b1a="Sum True R";b1a+="ange ";i1x="Re";i1x+="su";i1x+="lt ";D9t.l13(2);var R71=D9t.O_1(14,86);s$a[i1x + o5s.name]=R71 * Math.log(s$a[b1a + o5s.name] / Math.max(0.000001,U2d[+"1"] - U2d[0])) / Math.log(o5s.days);}else if(!isNaN(s$a)){x8u="Resul";x8u+="t";x8u+=" ";D9t.l13(6);s$a[x8u + o5s.name]=D9t.O_1("0",0);}}};g$r.Studies.studyLibrary=g$r.extend(g$r.Studies.studyLibrary,{Choppiness:{name:S86,calculateFN:g$r.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}});}};b3=a1I=>{var F4q,r1a,S6S;F4q=typeof _CIQ !== "undefined"?_CIQ:a1I.CIQ;if(!F4q.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!F4q.Studies.initPriceRelative){r1a="c";r1a+="omparisonStudies feature requires first activating priceRelative ";r1a+="feature.";console.error(r1a);}else {S6S="#";S6S+="0";S6S+="0D";S6S+="D00";F4q.Studies.calculateCorrelationCoefficient=function(G7g,Q$K){var g$0=e9J1I;var m81,u1P,D6H,o_L,i_Y,V9U,x12,a_V,v$d,X7x,t$a,G0V,q2Z,a0g,m4Z,G6V,u0_,J1u,e_v,u8Q,o_i;m81="Com";m81+="pare";m81+=" To";u1P=Q$K.chart.scrubbed;D6H=Q$K.days;if(u1P.length < D6H + 1){Q$K.error=!!1;return;}Q$K.compare=Q$K.inputs[m81];if(!Q$K.compare){Q$K.compare=[];Q$K.outputs={};Q$K.outputMap={};for(var p6M in G7g.chart.series){o_L=G7g.chart.series[p6M];if(o_L.parameters.color){i_Y="R";i_Y+="esu";i_Y+="lt";i_Y+=" ";Q$K.compare.push(o_L.display);Q$K.outputs["Result " + o_L.display]=o_L.parameters.color;Q$K.outputMap[i_Y + o_L.display + " " + Q$K.name]="Result " + o_L.display;}}}else {Q$K.compare=[Q$K.compare];}if(!Q$K.compare.length){V9U="Correlation Coefficie";V9U+="nt requires at ";V9U+="least one compar";V9U+="ison symbol";Q$K.error=V9U;return;}for(var B_D="0" >> 32;B_D < Q$K.compare.length;B_D++){x12=0;a_V=0;v$d=0;X7x=0;t$a=0;G0V=Q$K.compare[B_D];q2Z=0;for(var f3s=Q$K.startFrom - D6H;f3s < u1P.length;f3s++){a0g="_t";a0g+="em";a0g+="ps ";m4Z="_";m4Z+="temps ";if(!u1P[f3s])continue;G6V=F4q.Studies.getQuoteFieldValue(u1P[f3s],G0V);if(G6V === null){if(f3s > "0" - 0 && u1P[f3s - ("1" << 64)] && u1P[f3s - 1]["_temps " + Q$K.name] && u1P[f3s - 1]["_temps " + Q$K.name].c){G6V=u1P[f3s - ("1" - 0)]["_temps " + Q$K.name].c;}else {G6V=0;}}if(G6V && typeof G6V == "object"){G6V=G6V.Close;}u1P[f3s][m4Z + Q$K.name]={};x12+=u1P[f3s]["_temps " + Q$K.name].b=u1P[f3s].Close;a_V+=u1P[f3s]["_temps " + Q$K.name].c=G6V;v$d+=u1P[f3s]["_temps " + Q$K.name].b2=Math.pow(u1P[f3s].Close,2);X7x+=u1P[f3s]["_temps " + Q$K.name].c2=Math.pow(G6V,2);t$a+=u1P[f3s][a0g + Q$K.name].bc=u1P[f3s].Close * G6V;if(q2Z >= D6H){u0_="R";u0_+="esult ";x12-=u1P[f3s - D6H]["_temps " + Q$K.name].b;a_V-=u1P[f3s - D6H]["_temps " + Q$K.name].c;v$d-=u1P[f3s - D6H]["_temps " + Q$K.name].b2;X7x-=u1P[f3s - D6H]["_temps " + Q$K.name].c2;t$a-=u1P[f3s - D6H]["_temps " + Q$K.name].bc;g$0.x49(2);var P7Q=g$0.C0r(0,2);J1u=v$d / D6H - Math.pow(x12 / D6H,P7Q);g$0.l13(6);var s8S=g$0.O_1(8,6);e_v=X7x / D6H - Math.pow(a_V / D6H,s8S);g$0.x49(68);var X9j=g$0.C0r(1,17,10,17,10);u8Q=t$a / D6H - x12 * a_V / Math.pow(D6H,X9j);o_i=u8Q / Math.sqrt(J1u * e_v);u1P[f3s][u0_ + G0V + " " + Q$K.name]=o_i;}q2Z++;}}};F4q.Studies.calculatePerformance=function(X$R,l_e){var K2F,r_H,z8w,E$Z,p6O,w9b,O7L;K2F="_";K2F+="M";K2F+="A Comp";r_H="_M";r_H+="A B";r_H+="a";r_H+="se";z8w="Comp";z8w+="a";z8w+="rison Sy";z8w+="mbol";E$Z=l_e.chart.scrubbed;p6O=l_e.inputs["Comparison Symbol"].toUpperCase();e9J1I.d$I();if(!p6O){p6O=l_e.study.inputs[z8w];}if(!l_e.days){l_e.days=l_e.study.inputs.Period;}if(E$Z.length < l_e.days + +"1"){l_e.error=!![];return;}F4q.Studies.MA("ma",l_e.days,"Close",0,r_H,X$R,l_e);F4q.Studies.MA("ma",l_e.days,p6O,0,K2F,X$R,l_e);for(var C8q=l_e.startFrom;C8q < E$Z.length;C8q++){w9b="_MA Com";w9b+="p ";O7L=F4q.Studies.getQuoteFieldValue(E$Z[C8q],p6O);E$Z[C8q]["Result " + l_e.name]=E$Z[C8q].Close / O7L * (E$Z[C8q][w9b + l_e.name] / E$Z[C8q]["_MA Base " + l_e.name]);}};F4q.Studies.calculateBeta=function(W3r,A6G){var C53=e9J1I;var i34,J3v,y_a,I6v,L4J,t0i,e3p,W_l,f1b,S_s,X04,b5t,l29;i34="_CO";i34+="VAR";J3v="_";J3v+="C";J3v+="om";J3v+="pChange ";y_a="m";y_a+="a";I6v="_";I6v+="M";I6v+="A Bas";I6v+="e";L4J="_B";L4J+="a";L4J+="seChange ";t0i=A6G.chart.scrubbed;e3p=A6G.inputs["Comparison Symbol"].toUpperCase();if(!e3p){e3p=A6G.study.inputs["Comparison Symbol"];}if(!A6G.days){A6G.days=A6G.study.inputs.Period;}if(t0i.length < A6G.days + +"1"){A6G.error=!0;return;}for(var i4E=Math.max(A6G.startFrom,1);i4E < t0i.length;i4E++){C53.l13(6);var h7x=C53.O_1(11,10);C53.l13(122);var t0C=C53.C0r(11,12,6,6);t0i[i4E]["_BaseChange " + A6G.name]=t0i[i4E].Close / t0i[i4E - ("1" | h7x)].Close - t0C;W_l=F4q.Studies.getQuoteFieldValue(t0i[i4E],e3p);f1b=F4q.Studies.getQuoteFieldValue(t0i[i4E - 1],e3p);C53.x49(1);t0i[i4E]["_CompChange " + A6G.name]=C53.O_1(f1b,W_l,1);}F4q.Studies.MA("ma",A6G.days,L4J + A6G.name,0,I6v,W3r,A6G);F4q.Studies.MA(y_a,A6G.days,J3v + A6G.name,0,"_MA Comp",W3r,A6G);for(i4E=Math.max(A6G.startFrom,A6G.days);i4E < t0i.length;i4E++){S_s="_C";S_s+="o";S_s+="mpCha";S_s+="nge ";X04="_VA";X04+="Rn";X04+=" ";b5t="_M";b5t+="A ";b5t+="Ba";b5t+="se ";t0i[i4E]["_COVARn " + A6G.name]=(t0i[i4E]["_BaseChange " + A6G.name] - t0i[i4E][b5t + A6G.name]) * (t0i[i4E]["_CompChange " + A6G.name] - t0i[i4E]["_MA Comp " + A6G.name]);t0i[i4E][X04 + A6G.name]=Math.pow(t0i[i4E][S_s + A6G.name] - t0i[i4E]["_MA Comp " + A6G.name],2);}F4q.Studies.MA("ma",A6G.days,"_COVARn " + A6G.name,+"0",i34,W3r,A6G);F4q.Studies.MA("ma",A6G.days,"_VARn " + A6G.name,0,"_VAR",W3r,A6G);for(i4E=Math.max(A6G.startFrom,A6G.days * 2 - 1);i4E < t0i.length;i4E++){l29="Re";l29+="s";l29+="ult ";t0i[i4E][l29 + A6G.name]=t0i[i4E]["_COVAR " + A6G.name] / t0i[i4E]["_VAR " + A6G.name];}};F4q.Studies.studyLibrary=F4q.extend(F4q.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:F4q.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:F4q.Studies.initPriceRelative,seriesFN:F4q.Studies.displayVsComparisonSymbol,calculateFN:F4q.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:S6S,Loss:"#FF0000"},deferUpdate:!0},Beta:{name:"Beta",centerline:1,initializeFN:F4q.Studies.initPriceRelative,seriesFN:F4q.Studies.displayVsComparisonSymbol,calculateFN:F4q.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!!1}});}};F1=R0N=>{var F_i;F_i=typeof _CIQ !== "undefined"?_CIQ:R0N.CIQ;if(!F_i.Studies){console.error("coppock feature requires first activating studies feature.");}else {F_i.Studies.calculateCoppock=function(G4i,A9o){var y6w=e9J1I;var t68,m1Y,z3u,q4u,m0_,P0_,y5I,V77,M2W,X71;t68="we";t68+="ig";t68+="hted";m1Y="Lon";m1Y+="g RoC";z3u="Clos";z3u+="e";q4u=A9o.chart.scrubbed;m0_=A9o.inputs.Field;if(!m0_ || m0_ == "field"){m0_=z3u;}P0_=parseInt(A9o.inputs[m1Y],+"10");if(!P0_){P0_=14;}y6w.R7g();y5I=parseInt(A9o.inputs["Short RoC"],10);if(!y5I){y5I=11;}V77=A9o.days;if(!V77){V77=10;}if(P0_ < y5I){return;}if(q4u.length < Math.max(y5I,P0_,V77) + +"1"){A9o.error=!![];return;}for(var Y7J=Math.max(A9o.startFrom,P0_);Y7J < q4u.length;Y7J++){M2W=F_i.Studies.getQuoteFieldValue(q4u[Y7J - y5I],m0_);X71=F_i.Studies.getQuoteFieldValue(q4u[Y7J - P0_],m0_);if(M2W && X71){y6w.l13(6);var r$9=y6w.C0r(1700,1600);y6w.l13(26);var g$B=y6w.C0r(0,15,238,16);q4u[Y7J]["_Sum " + A9o.name]=r$9 * (F_i.Studies.getQuoteFieldValue(q4u[Y7J],m0_) / M2W + F_i.Studies.getQuoteFieldValue(q4u[Y7J],m0_) / X71 - g$B);}}F_i.Studies.MA(t68,V77,"_Sum " + A9o.name,0,"Result",G4i,A9o);};F_i.Studies.studyLibrary=F_i.extend(F_i.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:F_i.Studies.calculateCoppock,inputs:{Period:"10" >> 32,Field:"field","Short RoC":11,"Long RoC":14}}});}};F9=p2r=>{var w7S=e9J1I;var u4W,C_G,N78;u4W="undefi";u4W+="n";u4W+="ed";w7S.R7g();C_G=typeof _CIQ !== u4W?_CIQ:p2r.CIQ;if(!C_G.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {N78="h";N78+="igh";N78+="/lo";N78+="w";C_G.Studies.calculateDarvas=function(I8Z,Z77){var I6K,E1l,N8H,T$X,E4k,F9P,v_G,p_c,q8K,x6U,o1N,P5g,Q5D,k8v,d5p,B73,D6B,Z9_,q$$,a27,h7A,S2t,f_G,E0I,n9t,g7S,R5K,v3o,e0k,x7S,V0O,P62,f1R,M4h,i4M;I6K="AD";I6K+="V";E1l="AT";E1l+="H";N8H="L";N8H+="o";N8H+="ss";T$X="Gh";T$X+="o";T$X+="s";T$X+="t";E4k="Darva";E4k+="s";F9P="Vo";F9P+="lume % ";F9P+="of Avg";v_G="A";w7S.d$I();v_G+="TH";v_G+=" Lookback Period";p_c=Z77.chart.scrubbed;q8K=0;x6U=parseInt(Z77.inputs[v_G],10);if(Z77.inputs["Volume Spike"]){o1N="A";o1N+="D";o1N+="V";P5g="Volu";P5g+="m";P5g+="e";C_G.Studies.MA("simple",x6U,P5g,0,o1N,I8Z,Z77);}Q5D=parseFloat(Z77.inputs[F9P]) / ("100" >> 0);k8v="none";d5p={};B73=null;D6B=null;Z9_=null;q$$=parseFloat(Z77.inputs["Level Offset"]);a27=!!"";if(a27){console.log("*****************");}S2t={};[E4k,T$X,"Profit",N8H,E1l,I6K,"Spike"].forEach(function(k8X){S2t[k8X]=k8X + " " + Z77.name;});for(h7A=Z77.startFrom - 1;h7A > 0;h7A--){f_G=p_c[h7A];if(f_G[S2t.Darvas] || f_G[S2t.Ghost]){for(var n88 in S2t){f_G[n88]=null;}}else {q8K=f_G[S2t.ATH] || "0" >> 64;D6B=f_G[S2t.Profit];Z9_=f_G[S2t.Loss];break;}}for(h7A;h7A < p_c.length;h7A++){E0I=p_c[h7A];if(!E0I)continue;if(parseFloat(Z77.inputs["Price Minimum"]) <= p_c[q8K].Close){n9t="hi";n9t+="gh";if(B73 && (!B73.End || h7A == B73.End + 1)){if(p_c[h7A - 1].Close > d5p.High){d5p={State:"1" | 0,High:2 * d5p.High - d5p.Low,Low:d5p.High,Start:h7A,End:2 * d5p.End - d5p.Start + 1};}else {B73=null;;}if(B73){E0I[S2t.Ghost]=C_G.clone(d5p);if(a27){console.log("Ghost begin:" + E0I.DT);}d5p.State=0;if(p_c[d5p.End]){p_c[d5p.End][S2t.Ghost]=C_G.clone(d5p);if(a27){console.log("Ghost end:" + p_c[d5p.End].DT);}}B73={Start:d5p.Start,End:d5p.End};D6B=d5p.High + q$$;if(!Z9_ || Z9_ < d5p.Low - q$$){Z9_=d5p.Low - q$$;}}}E0I[S2t.Profit]=D6B;E0I[S2t.Loss]=Z9_;if(E0I.Close >= D6B){D6B=null;}else if(Z77.inputs["Exit Field"] == "high/low" && E0I.High >= D6B){D6B=null;}if(k8v == "none"){if(h7A == q8K + 3){if(!p_c[q8K + 2][S2t.Darvas] && !p_c[q8K + 1][S2t.Darvas] && !p_c[q8K][S2t.Darvas] && p_c[q8K].High > E0I.High){k8v="high";;}}}if(k8v == n9t){if(E0I.High > p_c[q8K].High){g7S="n";g7S+="o";g7S+="n";g7S+="e";k8v=g7S;}else if(p_c[h7A - 3].Low < p_c[h7A - 2].Low && p_c[h7A - 3].Low < p_c[h7A - +"1"].Low && p_c[h7A - 3].Low < E0I.Low){d5p={State:1,High:p_c[q8K].High,Low:p_c[h7A - 3].Low,Start:q8K};p_c[q8K][S2t.Darvas]=C_G.clone(d5p);k8v="darvas";if(a27){console.log("Darvas begin:" + p_c[q8K].DT);}if(a27){console.log("Darvas established:" + E0I.DT);}if(B73){if(B73.End > h7A && p_c[B73.Start]){E0I[S2t.Ghost]=C_G.clone(p_c[B73.Start][S2t.Ghost]);E0I[S2t.Ghost].End=h7A;if(p_c[B73.End]){delete p_c[B73.End][S2t.Ghost];if(a27){console.log("Ghost End removed:" + p_c[B73.End].DT);}}}E0I[S2t.Ghost].State=+"0";p_c[B73.Start][S2t.Ghost].End=h7A;if(a27){console.log("Ghost end:" + E0I.DT);}B73=null;}D6B=d5p.High + q$$;if(!Z9_ || Z9_ < d5p.Low - q$$){Z9_=d5p.Low - q$$;}}}if(k8v == "darvas"){R5K="Ghos";R5K+="t ";R5K+="Boxe";R5K+="s";v3o="non";v3o+="e";e0k="high";e0k+="/l";e0k+="ow";if(E0I.Close > d5p.High){B73={};}else if(Z77.inputs["Exit Field"] == "high/low" && E0I.High > d5p.High){B73={};}else if(E0I.Close < d5p.Low){k8v="none";}else if(Z77.inputs["Exit Field"] == e0k && E0I.Low < d5p.Low){k8v="none";}if(B73){k8v=v3o;}else if(k8v == "none"){D6B=null;Z9_=null;}if(!Z77.inputs[R5K]){B73=null;}if(k8v == "none"){x7S="Darv";x7S+="as";x7S+=" e";x7S+="nd:";for(var r3E=d5p.Start + 1;r3E < h7A;r3E++){p_c[r3E][S2t.Darvas]=C_G.clone(d5p);}d5p.State=0;d5p.End=h7A;E0I[S2t.Darvas]=C_G.clone(d5p);if(a27){console.log(x7S + E0I.DT);}E0I[S2t.ATH]=q8K;continue;}}if(Z9_){V0O="Ex";V0O+="it";V0O+=" Fie";V0O+="ld";if(E0I.Close < d5p.Low || Z77.inputs[V0O] == "high/low" && E0I.Low < d5p.Low){P62="non";P62+="e";if(k8v == "darvas"){k8v=P62;}if(E0I.Close < Z9_ || Z77.inputs["Exit Field"] == "high/low" && E0I.Low < Z9_){D6B=null;Z9_=null;}if(B73){if(B73.End > h7A && p_c[B73.Start]){E0I[S2t.Ghost]=C_G.clone(p_c[B73.Start][S2t.Ghost]);E0I[S2t.Ghost].End=h7A;if(p_c[B73.End]){f1R="Ghost En";f1R+="d re";f1R+="moved:";delete p_c[B73.End][S2t.Ghost];if(a27){console.log(f1R + p_c[B73.End].DT);}}}E0I[S2t.Ghost].State=0;p_c[B73.Start][S2t.Ghost].End=h7A;if(a27){console.log("Ghost end:" + E0I.DT);}B73=null;}}}}if(E0I.High >= p_c[q8K].High){M4h="All Ti";M4h+="m";M4h+="e High:";q8K=h7A;if(a27){console.log(M4h + E0I.DT);}}if(h7A < ("3" | 3) || E0I.High >= p_c[h7A - 1].High && E0I.High >= p_c[h7A - 2].High && E0I.High >= p_c[h7A - 3].High){if(h7A - q8K >= x6U){i4M="All Ti";i4M+="me High:";q8K=h7A;for(var o08=0;o08 < x6U;o08++){if(h7A - o08 < 0)break;if(p_c[h7A - o08].High > p_c[q8K].High){w7S.l13(6);q8K=w7S.C0r(h7A,o08);}}if(a27){console.log(i4M + E0I.DT);}}}if(Z77.inputs["Volume Spike"] && h7A > x6U && h7A == q8K){if(E0I[S2t.ADV] * Q5D < E0I.Volume){E0I[S2t.Spike]=1;if(a27){console.log("Volume Spike:" + E0I.DT);}}}E0I[S2t.ATH]=q8K;}};C_G.Studies.displayDarvas=function(b2u,O4Q,T2M){var s_l,x9d,W_N,c7o,W2W,d5W,M1k,y_A,H4w,x1l,q8$,d_q,Z8_,J03,l0U,n2N,B8f,C23,C9u,R_a,d7i,C4a,n3p,Q3G,A8C,Z1y,z87,w7R,l7s,d$8,b3r,V35,c8U,C50,w1v,P$W,i6D,y0q,h90,M8F,o1I;s_l="a";s_l+="ut";s_l+="o";x9d=C_G.Studies.determineColor(O4Q.outputs.Levels);if(!x9d || x9d == s_l || C_G.isTransparent(x9d)){x9d=b2u.defaultColor;}W_N=C_G.Studies.determineColor(O4Q.outputs.Darvas);if(!W_N || W_N == "auto" || C_G.isTransparent(W_N)){W_N=b2u.defaultColor;}c7o=C_G.Studies.determineColor(O4Q.outputs.Ghost);if(!c7o || c7o == "auto" || C_G.isTransparent(c7o)){c7o=b2u.defaultColor;}w7S.R7g();W2W=b2u.panels[O4Q.panel];d5W=O4Q.getContext(b2u);w7S.l13(109);var E1_=w7S.C0r(20,13,8,1678,4);q8$=b2u.layout.candleWidth - E1_;if(q8$ < 2){q8$=1;}b2u.startClip(O4Q.panel);if(O4Q.inputs["Stop Levels"]){if(d5W.setLineDash){d5W.setLineDash([2,2]);}d5W.lineWidth=2;d5W.strokeStyle=x9d;d5W.beginPath();for(M1k=0;M1k < T2M.length;M1k++){d_q="Los";d_q+="s ";Z8_="L";Z8_+="os";Z8_+="s ";y_A=T2M[M1k];w7S.x49(123);J03=T2M[w7S.C0r(M1k,0,"1")];if(!y_A)continue;x1l=y_A[Z8_ + O4Q.name]?Math.floor(b2u.pixelFromPrice(y_A[d_q + O4Q.name],W2W)):null;l0U=J03 && J03["Loss " + O4Q.name]?Math.floor(b2u.pixelFromPrice(J03["Loss " + O4Q.name],W2W)):null;if(x1l){if(y_A.candleWidth){q8$=Math.floor(Math.max(1,y_A.candleWidth));}n2N=Math.floor(b2u.pixelFromBar(M1k,W2W.chart) + q8$ / 2);B8f=Math.floor(b2u.pixelFromBar(M1k,W2W.chart) - q8$ / 2);if(l0U && l0U >= x1l){d5W.lineTo(B8f,x1l);}else if(M1k === 0){d5W.moveTo(b2u.chart.left,x1l);}else {d5W.moveTo(B8f,x1l);}d5W.lineTo(n2N,x1l);}}d5W.stroke();if(d5W.setLineDash){d5W.setLineDash([]);}d5W.lineWidth=1;}C23=-10;R_a=0;C4a=-10;w7S.x49(0);Q3G=w7S.C0r(0,"0");Z1y=!({});z87=!({});w7S.x49(124);var D0g=w7S.C0r(1,6,6,1);w7R=d5W.measureText("\u25B2").width / D0g;l7s=0;for(M1k=+"0";M1k < T2M.length;M1k++){d$8="Darva";d$8+="s ";b3r="Sp";b3r+="i";b3r+="k";b3r+="e ";if(!T2M[M1k])continue;if(T2M[M1k].Close || T2M[M1k].Close === "0" >> 64){l7s=M1k;}if(T2M[M1k][b3r + O4Q.name]){d5W.fillStyle=W_N;d5W.textBaseline="bottom";V35=b2u.pixelFromPrice(T2M[M1k].High,b2u.chart.panel);d5W.fillText((539.28,722.49) === (1240,+"528.85")?890.44:"\u25BC",b2u.pixelFromBar(M1k) - w7R,V35 - +"5");;}if(T2M[M1k].candleWidth){q8$=Math.floor(Math.max(1,T2M[M1k].candleWidth));}if(T2M[M1k][d$8 + O4Q.name]){y_A=T2M[M1k]["Darvas " + O4Q.name];if(y_A.State == 1 && !Z1y){C23=Math.floor(b2u.pixelFromBar(M1k,W2W.chart) - q8$ / 2);C9u=Math.floor(b2u.pixelFromPrice(y_A.High,W2W));d7i=Math.floor(b2u.pixelFromPrice(y_A.Low,W2W)) - C9u;Z1y=!!({});}else if(y_A.State === 0){w7S.l13(2);var E54=w7S.O_1(1,1);R_a=Math.floor(b2u.pixelFromBar(M1k,W2W.chart) + q8$ / E54) - C23;C9u=Math.floor(b2u.pixelFromPrice(y_A.High,W2W));d7i=Math.floor(b2u.pixelFromPrice(y_A.Low,W2W)) - C9u;d5W.strokeStyle=W_N;d5W.fillStyle=W_N;if(!O4Q.inputs["Stop Levels"]){d5W.strokeRect(C23,C9u,R_a,d7i);d5W.globalAlpha=0.2;}else {d5W.globalAlpha=0.3;}d5W.fillRect(C23,C9u,R_a,d7i);d5W.globalAlpha=1;Z1y=!!"";}}if(T2M[M1k]["Ghost " + O4Q.name] && O4Q.inputs["Ghost Boxes"]){c8U="Gh";c8U+="os";c8U+="t ";y_A=T2M[M1k][c8U + O4Q.name];if(y_A.State == 1 && !z87){C4a=Math.floor(b2u.pixelFromBar(M1k,W2W.chart) - q8$ / 2);n3p=Math.floor(b2u.pixelFromPrice(y_A.High,W2W));Q3G=Math.floor((y_A.End - y_A.Start + 1) * b2u.layout.candleWidth + q8$ / 2);A8C=Math.floor(b2u.pixelFromPrice(y_A.Low,W2W)) - n3p;z87=!0;}else if(y_A.State === 0){if(y_A.Start == y_A.End){C4a=Math.floor(b2u.pixelFromBar(M1k,W2W.chart) - q8$ / 2);}w7S.x49(6);var G2f=w7S.C0r(40,38);Q3G=Math.floor(b2u.pixelFromBar(M1k,W2W.chart) + q8$ / G2f) - C4a;n3p=Math.floor(b2u.pixelFromPrice(y_A.High,W2W));A8C=Math.floor(b2u.pixelFromPrice(y_A.Low,W2W)) - n3p;d5W.strokeStyle=c7o;d5W.fillStyle=c7o;if(!O4Q.inputs["Stop Levels"]){d5W.strokeRect(C4a,n3p,Q3G,A8C);d5W.globalAlpha=0.2;}else {d5W.globalAlpha=0.3;}d5W.fillRect(C4a,n3p,Q3G,A8C);d5W.globalAlpha=+"1";z87=!1;}}}if(Z1y){w7S.l13(125);var G4K=w7S.O_1(1,8,15,256,17);R_a=Math.floor(b2u.pixelFromBar(l7s,W2W.chart) + q8$ / G4K) - C23;d5W.strokeStyle=W_N;d5W.fillStyle=W_N;if(!O4Q.inputs["Stop Levels"]){d5W.beginPath();w7S.l13(126);d5W.moveTo(w7S.O_1(R_a,C23,"2"),C9u);d5W.lineTo(C23,C9u);w7S.x49(2);d5W.lineTo(C23,w7S.C0r(C9u,d7i));w7S.x49(21);d5W.lineTo(w7S.C0r(C23,2,R_a),w7S.O_1(C9u,d7i,w7S.l13(2)));d5W.stroke();d5W.globalAlpha=0.2;}else {C50=924439576;w7S.l13(7);w1v=-w7S.C0r("720645137",32);P$W=2;for(var i2w=1;w7S.D29(i2w.toString(),i2w.toString().length,86841) !== C50;i2w++){d5W.globalAlpha=461;P$W+=2;}if(w7S.D29(P$W.toString(),P$W.toString().length,96853) !== w1v){d5W.globalAlpha=0.3;}}w7S.x49(20);d5W.fillRect(C23,C9u,w7S.O_1(R_a,2),d7i);w7S.l13(17);d5W.globalAlpha=w7S.O_1("1",0);}if(z87){d5W.strokeStyle=c7o;d5W.fillStyle=c7o;if(!O4Q.inputs["Stop Levels"]){d5W.strokeRect(C4a,n3p,Q3G,A8C);d5W.globalAlpha=0.2;}else {d5W.globalAlpha=0.3;}d5W.fillRect(C4a,n3p,Q3G,A8C);d5W.globalAlpha=1;}if(Z1y || z87){i6D="Stop Le";i6D+="ve";i6D+="l";i6D+="s";if(O4Q.inputs[i6D]){if(d5W.setLineDash){w7S.l13(17);d5W.setLineDash([w7S.C0r("2",0),2]);}d5W.lineWidth=2;d5W.strokeStyle=x9d;y0q=Math.floor(b2u.pixelFromBar(l7s - 1,W2W.chart) + q8$ / 2);if(H4w){h90=1017678538;M8F=-+"1560766005";o1I=2;for(var m0K=1;w7S.c2O(m0K.toString(),m0K.toString().length,21816) !== h90;m0K++){d5W.beginPath();o1I+=2;}if(w7S.c2O(o1I.toString(),o1I.toString().length,48313) !== M8F){d5W.beginPath();}d5W.beginPath();d5W.moveTo(y0q,H4w);d5W.lineTo(Z1y?C23 + 2 * R_a:C4a + Q3G,H4w);d5W.stroke();}if(x1l){d5W.beginPath();d5W.moveTo(y0q,x1l);d5W.lineTo(Z1y?C23 + 2 * R_a:C4a + Q3G,x1l);d5W.stroke();}if(d5W.setLineDash){d5W.setLineDash([]);}d5W.lineWidth=1;}Z1y=!1;z87=!"1";}b2u.endClip();};C_G.Studies.studyLibrary=C_G.extend(C_G.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!!"1",calculateFN:C_G.Studies.calculateDarvas,seriesFN:C_G.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close",N78],"Ghost Boxes":!![],"Stop Levels":!"1","Level Offset":0.01,"Price Minimum":5,"Volume Spike":!!0,"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:!0,attributes:{"Price Minimum":{min:0.01,step:"0.01" * 1},yaxisDisplayValue:{hidden:!!({})},panelName:{hidden:!!"1"},flippedEnabled:{hidden:!!({})}}}});}};H_=u7z=>{var g17=e9J1I;g17.d$I();var x2N;x2N=typeof _CIQ !== "undefined"?_CIQ:u7z.CIQ;if(!x2N.Studies){console.error("detrended feature requires first activating studies feature.");}else {x2N.Studies.calculateDetrendedPrice=function(v1x,z48){var Y0M,H16,U98,z68,Y1P,u$A,x4X,t2B,m45;Y0M=88181141;H16=2046703787;U98=2;for(var f9D=+"1";g17.c2O(f9D.toString(),f9D.toString().length,93167) !== Y0M;f9D++){z68=z48.chart.scrubbed;U98+=+"2";}if(g17.c2O(U98.toString(),U98.toString().length,76376) !== H16){z68=z48.chart.scrubbed;}if(z68.length < z48.days + 1){z48.error=!![];return;}Y1P=z48.inputs.Field;if(!Y1P || Y1P == "field"){Y1P="Close";}u$A=Math.floor(z48.days / 2 + 1);x2N.Studies.MA(z48.inputs["Moving Average Type"],z48.days,Y1P,-u$A,"MA",v1x,z48);for(var X1n=Math.max(z48.days - u$A - ("1" ^ 0),z48.startFrom - u$A);X1n < z68.length - u$A;X1n++){x4X="R";x4X+="es";x4X+="u";x4X+="lt ";if(X1n < "0" << 64)continue;t2B=x2N.Studies.getQuoteFieldValue(z68[X1n],Y1P,z48.subField);m45=x2N.Studies.getQuoteFieldValue(z68[X1n],"MA " + z48.name);if(t2B !== null && m45 !== null){g17.x49(6);z68[X1n][x4X + z48.name]=g17.C0r(t2B,m45);}}};x2N.Studies.studyLibrary=x2N.extend(x2N.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:x2N.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};Y_=w3Y=>{var C7O=e9J1I;var F6v,t8m;F6v="un";F6v+="defi";F6v+="ne";F6v+="d";C7O.R7g();t8m=typeof _CIQ !== F6v?_CIQ:w3Y.CIQ;if(!t8m.Studies){console.error("disparity feature requires first activating studies feature.");}else {t8m.Studies.calculateDisparity=function(C8Z,S_T){var b$F,k2W,Z7E,z9i,j12,p7S,Q9R,x3s;b$F="_M";b$F+="A";k2W="Mov";k2W+="ing Av";k2W+="erage Type";Z7E="C";C7O.d$I();Z7E+="lo";Z7E+="s";Z7E+="e";z9i=S_T.chart.scrubbed;if(z9i.length < S_T.days + 1){S_T.error=!"";return;}j12=S_T.inputs.Field;if(!j12 || j12 == "field"){j12=Z7E;}t8m.Studies.MA(S_T.inputs[k2W],S_T.days,j12,0,b$F,C8Z,S_T);for(var C0j=Math.max(S_T.startFrom,S_T.days - 1);C0j < z9i.length;C0j++){p7S="Res";p7S+="ul";p7S+="t";p7S+=" ";Q9R="_";Q9R+="M";Q9R+="A";Q9R+=" ";if(!z9i[C0j])continue;x3s=z9i[C0j][Q9R + S_T.name];if(x3s){C7O.l13(2);var j3z=C7O.O_1(92,8);C7O.l13(2);var p2O=C7O.C0r(0,1);z9i[C0j][p7S + S_T.name]=j3z * (t8m.Studies.getQuoteFieldValue(z9i[C0j],j12) / x3s - p2O);}}};t8m.Studies.studyLibrary=t8m.extend(t8m.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:t8m.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};y7=F_D=>{var G5g=e9J1I;var Q0g;G5g.R7g();Q0g=typeof _CIQ !== "undefined"?_CIQ:F_D.CIQ;if(!Q0g.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {Q0g.Studies.calculateEaseOfMovement=function(j_o,U59){var M1a,a4S,c2y,z0D,K1k,w86,U14;M1a="Moving Ave";M1a+="rage ";M1a+="Type";a4S=U59.chart.scrubbed;if(a4S.length < U59.days){U59.error=!!"1";return;}for(var N75=Math.max(1,U59.startFrom);N75 < a4S.length;N75++){G5g.x49(108);var f66=G5g.O_1(21,8,3,3);c2y=(a4S[N75].High + a4S[N75].Low) / f66;G5g.l13(32);var z3V=G5g.C0r(1,7,0,7);G5g.l13(2);var y91=G5g.O_1(0,1);G5g.x49(2);var y4O=G5g.C0r(59,5);z0D=(a4S[N75 - z3V].High + a4S[N75 - y91].Low) / ("2" >> y4O);G5g.l13(6);K1k=G5g.C0r(c2y,z0D);G5g.x49(26);var l6i=G5g.C0r(100000012,3,600000105,7);w86=a4S[N75].Volume / l6i / (a4S[N75].High - a4S[N75].Low);G5g.l13(11);U14=G5g.O_1(K1k,w86);if(!isFinite(U14)){a4S[N75]["_EOM1 " + U59.name]=NaN;}else {a4S[N75]["_EOM1 " + U59.name]=U14;}}Q0g.Studies.MA(U59.inputs[M1a],U59.days,"_EOM1 " + U59.name,0,"Result",j_o,U59);};Q0g.Studies.studyLibrary=Q0g.extend(Q0g.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:Q0g.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};d9=T3y=>{var C8l=e9J1I;var H20,D1J,q80,I8o,e1B,y6i;H20=typeof _CIQ !== "undefined"?_CIQ:T3y.CIQ;if(!H20.Studies){D1J=1445750409;q80=387525259;I8o=2;for(var j_X=1;C8l.D29(j_X.toString(),j_X.toString().length,+"21197") !== D1J;j_X++){console.error("");I8o+=2;}if(C8l.c2O(I8o.toString(),I8o.toString().length,60266) !== q80){e1B="ehlerFisher feature requires first act";e1B+="iv";e1B+="ating studies feature.";console.error(e1B);}}else {y6i="Ehler F";y6i+="ishe";y6i+="r Tran";y6i+="sform";H20.Studies.calculateEhlerFisher=function(g4g,e8s){var W$p,I2D,K$K,r6p,W1p,n6n,W$A,G_Q;function a4i(O5w,o2L){var H6G,u1C,c4p;H6G=Number.MAX_VALUE;C8l.l13(45);C8l.d$I();var E2l=C8l.C0r(14,13,447,19);u1C=Number.MAX_VALUE * E2l;for(var J2_=o2L - O5w + 1;J2_ <= o2L;J2_++){C8l.l13(6);var o1u=C8l.C0r(8,6);c4p=(W$p[J2_].High + W$p[J2_].Low) / o1u;H6G=Math.min(H6G,c4p);u1C=Math.max(u1C,c4p);}return [H6G,u1C];}W$p=e8s.chart.scrubbed;if(W$p.length < e8s.days + 1){e8s.error=!!({});return;}I2D=0;if(e8s.startFrom > 1){C8l.l13(67);var C4L=C8l.O_1(0,17,12,30);I2D=W$p[e8s.startFrom - C4L]["_n " + e8s.name];}for(var b3S=e8s.startFrom;b3S < W$p.length;b3S++){K$K="_n";K$K+=" ";r6p="E";r6p+="F";r6p+=" ";W1p=W$p[b3S];if(W1p.futureTick)break;if(b3S < e8s.days - 1){n6n="EF Trigge";n6n+="r";n6n+=" ";W1p["EF " + e8s.name]=W1p[n6n + e8s.name]=I2D;continue;}W$A=a4i(e8s.days,b3S);C8l.x49(50);var n16=C8l.C0r(14,1,2,6,2);C8l.l13(1);var F4n=C8l.C0r(1,10,8);C8l.x49(127);var L8i=C8l.O_1(5,10,2,2);I2D=0.33 * n16 * (((W$p[b3S].High + W$p[b3S].Low) / F4n - W$A[+"0"]) / Math.max("0.000001" - 0,W$A[L8i] - W$A[0]) - 0.5) + 0.67 * I2D;if(I2D > 0){I2D=Math.min(I2D,0.9999);}else if(I2D < 0){I2D=Math.max(I2D,-0.9999);}G_Q=b3S?W$p[b3S - 1][r6p + e8s.name]:0;C8l.x49(13);var y27=C8l.O_1(14,15);W1p["EF " + e8s.name]=+"0.5" * Math.log((y27 + I2D) / (("1" << 0) - I2D)) + 0.5 * G_Q;W1p["EF Trigger " + e8s.name]=G_Q;W1p[K$K + e8s.name]=I2D;}};H20.Studies.studyLibrary=H20.extend(H20.Studies.studyLibrary,{"Ehler Fisher":{name:y6i,calculateFN:H20.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};q9=E7C=>{var T3F=e9J1I;var a2R,X1U,A2a;a2R="unde";T3F.R7g();a2R+="f";a2R+="in";a2R+="ed";X1U=typeof _CIQ !== a2R?_CIQ:E7C.CIQ;if(!X1U.Studies){console.error("elder feature requires first activating studies feature.");}else {A2a="Elde";A2a+="r Ray Index";X1U.Studies.calculateElderImpulse=function(x13,m7i){var k94,i7k,Q7o,G0G,P4l,u_b,v5K,P8C,a3B,s19,I6x,D52;k94=x13.layout.aggregationType;i7k=x13.chart.customChart;if(i7k){Q7o="o";Q7o+="h";Q7o+="lc";if(m7i.disabled || k94 && k94 != Q7o){G0G="Elder Impulse study is not compatible with agg";G0G+="regated chart types.";if(!m7i.disabled){m7i.error=G0G;}if(i7k.colorFunction){i7k.priorColorFunction=i7k.colorFunction;}if(i7k.chartType){i7k.priorChartType=i7k.chartType;}i7k.colorFunction=null;i7k.chartType=null;x13.setMainSeriesRenderer();return;}if(i7k.priorColorFunction){i7k.colorFunction=i7k.priorColorFunction;i7k.priorColorFunction=null;i7k.chartType=i7k.priorChartType;i7k.priorChartType=null;x13.setMainSeriesRenderer();}}P4l=m7i.chart.scrubbed;u_b=m7i.outputs.Bullish;v5K=m7i.outputs.Bearish;P8C=m7i.outputs.Neutral;X1U.Studies.MA("exponential",13,"Close",0,"_MA",x13,m7i);T3F.x49(108);var V8x=T3F.C0r(850,11,6815,1);T3F.l13(6);T3F.R7g();var w8U=T3F.O_1(17970,11980);T3F.l13(128);var u3v=T3F.C0r(3707,473,13,11,6);T3F.x49(2);var A_W=T3F.C0r(3139,5);m7i.macd=new X1U.Studies.StudyDescriptor(((+"946.02",V8x) >= 820.11?276.53 == (w8U,u3v)?("v",359.08):"_":(A_W,![])) + m7i.name,"macd",m7i.panel);m7i.macd.chart=m7i.chart;m7i.macd.days=m7i.days;m7i.macd.startFrom=m7i.startFrom;m7i.macd.inputs={"Fast MA Period":12,"Slow MA Period":"26" | 24,"Signal Period":9};m7i.macd.outputs={_MACD:null,_Signal:null};X1U.Studies.calculateMACD(x13,m7i.macd);for(var n5u=m7i.startFrom;n5u < P4l.length;n5u++){s19="Resul";s19+="t";s19+=" ";I6x="_";I6x+="MA ";D52="_";D52+="hi";D52+="st";if(n5u === 0){a3B=P8C;}else if(P4l[n5u]["_MA " + m7i.name] > P4l[n5u - ("1" >> 0)]["_MA " + m7i.name] && P4l[n5u][((408,"9540" << 0) <= (370.51,1180)?(0x11d6,"i"):(1600,2830) === (2347,6100)?("3.82e+3" << 32,0x24c9):"_") + m7i.name + D52] > P4l[n5u - +"1"][((583.82,3236) === (+"9465",7654)?"a":609.32 == (7400,723.05)?(8.81e+3,"a"):"_") + m7i.name + "_hist"]){a3B=u_b;}else if(P4l[n5u]["_MA " + m7i.name] < P4l[n5u - +"1"][I6x + m7i.name] && P4l[n5u][((+"153.27","2910" * 1) < (3330,551)?781.12:"_") + m7i.name + "_hist"] < P4l[n5u - 1]["_" + m7i.name + "_hist"]){a3B=v5K;}else {a3B=P8C;}P4l[n5u][s19 + m7i.name]=a3B;;}};X1U.Studies.calculateElderRay=function(Q16,p_Y){var U64,l5z,b6c;U64=p_Y.chart.scrubbed;if(U64.length < p_Y.days){p_Y.error=!"";return;}X1U.Studies.MA("exponential",p_Y.days,"Close",+"0","_EMA",Q16,p_Y);T3F.R7g();for(var R0r=Math.max(p_Y.startFrom,p_Y.days - 1);R0r < U64.length;R0r++){l5z="_h";l5z+="ist2";b6c="_";b6c+="E";b6c+="M";b6c+="A ";U64[R0r][p_Y.name + "_hist1"]=U64[R0r].High - U64[R0r][b6c + p_Y.name];U64[R0r][p_Y.name + l5z]=U64[R0r].Low - U64[R0r]["_EMA " + p_Y.name];}p_Y.outputMap={};p_Y.outputMap[p_Y.name + "_hist1"]="";p_Y.outputMap[p_Y.name + "_hist2"]="";};X1U.Studies.calculateElderForce=function(K$x,C37){var Q6E,O6z;Q6E="exponen";Q6E+="ti";Q6E+="a";Q6E+="l";O6z=C37.chart.scrubbed;if(O6z.length < C37.days){C37.error=!0;return;}for(var K9n=Math.max(1,C37.startFrom);K9n < O6z.length;K9n++){O6z[K9n]["_EF1 " + C37.name]=O6z[K9n].Volume * (O6z[K9n].Close - O6z[K9n - 1].Close);}X1U.Studies.MA(Q6E,C37.days,"_EF1 " + C37.name,0,"Result",K$x,C37);};X1U.Studies.initElderImpulse=function(n96,K_e,Q5Q,y7l,S$2,r5o){var B_O,E2k;T3F.d$I();B_O=X1U.Studies.initializeFN(n96,K_e,Q5Q,y7l,S$2,r5o);if(!S$2.calculateOnly){if(!n96.chart || !n96.chart.panel || n96.chart.customChart && n96.chart.customChart.owner !== B_O.name){E2k="el";E2k+="d";E2k+="ercannotadd";n96.dispatch("notification",E2k);return;}n96.chart.customChart={owner:B_O.name,chartType:"colored_bar",colorFunction:function(a5x,Q7B,Z7Q){var M3D;T3F.R7g();if(!Q7B){return;}M3D=Q7B["Result " + B_O.name];if(M3D && typeof M3D == "object"){M3D=M3D.color;}return M3D;}};n96.setMainSeriesRenderer();}return B_O;};X1U.Studies.displayElderForce=function(d2t,Q6w,G_W){var h_P,I29,G3Y,I0o;X1U.Studies.displaySeriesAsLine(d2t,Q6w,G_W);h_P=X1U.Studies.determineColor(Q6w.outputs.Result);I29=d2t.panels[Q6w.panel];G3Y=Q6w.getYAxis(d2t);I0o={skipTransform:I29.name != Q6w.chart.name,panelName:Q6w.panel,band:"Result " + Q6w.name,threshold:0,color:h_P,yAxis:G3Y};T3F.R7g();if(!Q6w.highlight && d2t.highlightedDraggable){I0o.opacity=0.3;}I0o.direction=+"1";X1U.preparePeakValleyFill(d2t,I0o);I0o.direction=-1;X1U.preparePeakValleyFill(d2t,I0o);};X1U.Studies.displayElderRay=function(o_H,J8A,c_l){var H0W,n55,R8W,o8q,g$S,Z_Y,v5D,u8A,f6B,E1O,v3P;H0W=o_H.panels[J8A.panel];n55=J8A.getContext(o_H);R8W=J8A.getYAxis(o_H);o8q=o_H.pixelFromPrice(0,H0W,R8W);T3F.l13(16);var K3Z=T3F.C0r(12,17,2854,14);g$S=o_H.layout.candleWidth - K3Z;function J7e(o32,S_d,z8N,h8N){T3F.d$I();n55.fillStyle=X1U.Studies.determineColor(J8A.outputs[z8N]);n55.fillRect(Math.floor(o_H.pixelFromBar(o32,H0W.chart) - g$S / 2 + g$S * S_d),Math.floor(o8q),Math.floor(g$S * (1 - 2 * S_d)),Math.floor(o_H.pixelFromPrice(v3P[J8A.name + h8N],H0W,R8W) - o8q));}if(g$S < 2){g$S=1;}o_H.canvasColor("stx_histogram");Z_Y=n55.fillStyle;if(!J8A.underlay){n55.globalAlpha=+"1";}o_H.startClip(J8A.panel);if(!J8A.highlight && o_H.highlightedDraggable){n55.globalAlpha*=0.3;}for(var F7K=0;F7K < c_l.length;F7K++){v5D="_";v5D+="hist2";u8A="El";u8A+="d";u8A+="er Bull Power";f6B="_hi";f6B+="s";f6B+="t";f6B+="1";E1O="_hist";E1O+="2";v3P=c_l[F7K];if(!v3P)continue;if(v3P.candleWidth){g$S=Math.floor(Math.max(+"1",v3P.candleWidth - +"2"));}if(v3P[J8A.name + "_hist1"] > 0){J7e(F7K,0,"Elder Bull Power","_hist1");}if(v3P[J8A.name + E1O] < 0){J7e(F7K,0,"Elder Bear Power","_hist2");}if(v3P[J8A.name + f6B] < 0){J7e(F7K,0.1,u8A,"_hist1");}if(v3P[J8A.name + "_hist2"] > 0){J7e(F7K,0.1,"Elder Bear Power",v5D);}}o_H.endClip();n55.fillStyle=Z_Y;};X1U.Studies.studyLibrary=X1U.extend(X1U.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:X1U.Studies.calculateElderForce,seriesFN:X1U.Studies.displayElderForce,inputs:{Period:"13" | 0}},"Elder Ray":{name:A2a,seriesFN:X1U.Studies.displayElderRay,calculateFN:X1U.Studies.calculateElderRay,centerline:"0" * 1,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:X1U.Studies.calculateElderImpulse,initializeFN:X1U.Studies.initElderImpulse,seriesFN:null,customRemoval:!!({}),underlay:!!"1",inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(h4a,b_d){if(!h4a.chart || h4a.chart.customChart && h4a.chart.customChart.owner !== b_d.name){return;}h4a.chart.customChart=null;h4a.setMainSeriesRenderer();}}});}};c6=d0d=>{var n8d,L_x,s6p;n8d=typeof _CIQ !== "undefined"?_CIQ:d0d.CIQ;if(!n8d.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {L_x="a";L_x+="u";L_x+="t";L_x+="o";s6p="Fractal ";s6p+="Chaos Bands";n8d.Studies.calculateFractalChaos=function(m7B,f5J){var P0k=e9J1I;var T$c,s4j,X2W,o3r,g1o,Q$1,Z7y,y$h,B7K,Z4$,T$v;T$c=f5J.chart.scrubbed;P0k.R7g();s4j=+"0";X2W=0;o3r=0;if(f5J.startFrom && f5J.type == "Fractal Chaos Bands"){g1o="Fractal ";g1o+="Lo";g1o+="w ";Q$1="Fr";Q$1+="act";Q$1+="al";Q$1+=" High ";P0k.l13(129);var P5F=P0k.O_1(16,10,27,1);s4j=T$c[f5J.startFrom - P5F][Q$1 + f5J.name];P0k.x49(46);var b4M=P0k.O_1(6,5,12);X2W=T$c[f5J.startFrom - b4M][g1o + f5J.name];}for(var Z9f=Math.max(4,f5J.startFrom);Z9f < T$c.length;Z9f++){Z7y="Fr";Z7y+="ac";Z7y+="ta";Z7y+="l Chaos Bands";y$h="Result";y$h+=" ";if(T$c[Z9f].futureTick)break;B7K=!isNaN(T$c[Z9f].High);Z4$=!isNaN(T$c[Z9f].Low);if(B7K || Z4$){T$c[Z9f][y$h + f5J.name]=0;}o3r=0;for(T$v=0;T$v <= Z9f;T$v++){if(!T$c[Z9f - T$v])break;if(T$c[Z9f - T$v].High > T$c[Z9f - 2].High)break;if(T$v < 2 && T$c[Z9f - T$v].High == T$c[Z9f - 2].High)break;if(T$c[Z9f - T$v].High < T$c[Z9f - 2].High){o3r++;}if(o3r == 4){s4j=T$c[Z9f - 2].High;break;}}if(f5J.type == Z7y){if(B7K){T$c[Z9f]["Fractal High " + f5J.name]=s4j > ("0" ^ 0)?s4j:null;}}else if(o3r == 4){T$c[Z9f]["Result " + f5J.name]=1;}o3r=0;for(T$v=0;T$v <= Z9f;T$v++){if(!T$c[Z9f - T$v])break;if(T$c[Z9f - T$v].Low < T$c[Z9f - +"2"].Low)break;if(T$v < 2 && T$c[Z9f - T$v].Low == T$c[Z9f - ("2" >> 64)].Low)break;if(T$c[Z9f - T$v].Low > T$c[Z9f - 2].Low){o3r++;}if(o3r == 4){X2W=T$c[Z9f - 2].Low;break;}}if(f5J.type == "Fractal Chaos Bands"){if(Z4$){T$c[Z9f]["Fractal Low " + f5J.name]=X2W > 0?X2W:null;}}else if(o3r == ("4" ^ 0)){T$c[Z9f]["Result " + f5J.name]=-1;}}};n8d.Studies.studyLibrary=n8d.extend(n8d.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:n8d.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:s6p,overlay:!!1,calculateFN:n8d.Studies.calculateFractalChaos,seriesFN:n8d.Studies.displayChannel,inputs:{"Channel Fill":!![]},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":L_x}}});}};E0=s5X=>{var W0O=e9J1I;var Y8P,c6h;Y8P="und";Y8P+="ef";W0O.d$I();Y8P+="ined";c6h=typeof _CIQ !== Y8P?_CIQ:s5X.CIQ;if(!c6h.Studies){console.error("GoNoGo - Trend study requires first activating studies feature.");}else {(function J4I(){var S0d,g1z;function y$j(o3n,D73,D0A){var N4e,f$I,e93,O4E,y0R,B5K,H3a,A18,u7N,v_I,R_3,e0m,u8i,k1u,i7U,q6u,W4B,F0y,V_R,x$$;N4e="a";N4e+="u";N4e+="t";N4e+="o";f$I="T";f$I+="ext NoGo";if(!Array.isArray(D0A)){return;}e93=o3n.panels[D73.panel];if(!e93 || D73.noDraw){return;}O4E=`Bull ${D73.name}`;y0R=`Bear ${D73.name}`;B5K=Math.min(+"16",Math.max(8,Math.round(o3n.layout.candleWidth)));H3a=c6h.Studies.determineColor(D73.outputs.Go);A18=c6h.Studies.determineColor(D73.outputs.NoGo);u7N=c6h.Studies.determineColor(D73.outputs["Text Go"]);v_I=c6h.Studies.determineColor(D73.outputs[f$I]);if(H3a === "auto"){H3a=o3n.defaultColor;}if(A18 === "auto"){A18=o3n.defaultColor;}if(u7N === "auto"){u7N=c6h.chooseForegroundColor(H3a);}W0O.R7g();if(v_I === N4e){v_I=c6h.chooseForegroundColor(A18);}var {context:F8m}=o3n.chart;for(var H5d=0;H5d < D0A.length;H5d++){R_3=D0A[H5d];if(!R_3){continue;}if(R_3[O4E] === 1 || R_3[y0R] === -1){e0m="mid";e0m+="d";e0m+="l";e0m+="e";u8i="G";u8i+="o";W0O.x49(6);var R0Z=W0O.O_1(12,11);k1u=R_3[O4E] === R0Z;i7U=o3n.pixelFromBar(H5d);q6u=k1u?o3n.pixelFromPrice(R_3.Low) + B5K:o3n.pixelFromPrice(R_3.High) - B5K;W4B=4;F0y=k1u?u8i:"NoGo";F8m.font=`${B5K}px bold Roboto, sans-serif`;var {width:s0q}=F8m.measureText(F0y);W0O.x49(21);V_R=W0O.O_1(s0q,W4B,2);W0O.l13(21);x$$=W0O.C0r(B5K,W4B,2);F8m.fillStyle=k1u?H3a:A18;W0O.x49(47);F8m.fillRect(W0O.C0r(2,V_R,i7U),W0O.C0r(2,x$$,q6u),V_R,x$$);F8m.fillStyle=k1u?u7N:v_I;F8m.textAlign="center";F8m.textBaseline=e0m;F8m.fillText(F0y,i7U,q6u);}}}function f0O(i4R,j5t,g42,F5g,V2H){var g4G;g4G=new c6h.Studies.StudyDescriptor(V2H + " " + j5t.name,"Momentum",j5t.panel,{Field:F5g,Period:g42});g4G.days=g42;g4G.startFrom=j5t.startFrom;g4G.parameters=j5t.parameters;g4G.chart=j5t.chart;c6h.Studies.calculateRateOfChange(i4R,g4G);}S0d="#80";S0d+="8080";function t3U(l0T,U$x){if(!l0T.chart || l0T.chart.customChart && l0T.chart.customChart.owner !== U$x.name){return;}l0T.chart.customChart=null;l0T.setMainSeriesRenderer();}function i5Y(i4t,v77,T54,S2l,n94,s2P){var f8L;f8L=new c6h.Studies.StudyDescriptor(s2P,"PSAR",v77.panel,{"Minimum AF":T54,"Maximum AF":S2l});f8L.startFrom=v77.startFrom;f8L.chart=v77.chart;c6h.Studies.calculatePSAR(i4t,f8L);}g1z="GoNoGo study";W0O.R7g();g1z+=" is n";g1z+="ot compatible with selected aggregation type.";function H4_(E1h,E4C){var u6s,p6U,B_E,G_p,z8s,y8V,a99,L50,O5n,p7v,a$$;u6s="mym";u6s+="acd";p6U="e";p6U+="m";p6U+="a";B_E="m";B_E+="t";B_E+="m";G_p=E4C.chart.scrubbed;if(!Array.isArray(G_p)){return;}if(!N0h(E1h,E4C)){return;}f0O(E1h,E4C,25,"Close",B_E);d4_(E1h,E4C,5,+"0","sma","mtm " + E4C.name,"mtmavg");W0O.l13(7);I45(E1h,E4C,12,+"26",W0O.C0r("9",64),"ema",p6U,"Close",u6s);W0O.d$I();W0O.l13(20);d4_(E1h,E4C,W0O.O_1(1,"50"),0,"sma","Close","myma");i5Y(E1h,E4C,0.2,0.2,0.2,"mysar");z8s=`Trend ${E4C.name}`;y8V=`Bull ${E4C.name}`;a99=`Bear ${E4C.name}`;L50=`Color ${E4C.name}`;E4C.outputMap={};for(var G99=E4C.startFrom;G99 < G_p.length;G99++){O5n="o";O5n+="bj";O5n+="ect";p7v=G_p[G99];if(!p7v || typeof p7v !== O5n){continue;}a$$=0;if(p7v.Close > p7v[`myma ${E4C.name}`]){a$$++;}if(p7v.Close > p7v[`Result mysar`]){a$$++;}if(p7v[`MACD mymacd`] > 0 && p7v[`Signal mymacd`] > 0){a$$++;}if(p7v[`${"mt" + "m" + "avg" + " "}${E4C.name}`] > +"0"){a$$++;}p7v[z8s]=a$$;p7v[y8V]=0;p7v[a99]=+"0";if(G99 > 0){if(p7v[z8s] > 2.5 && G_p[G99 - 1][z8s] <= 2.5){p7v[y8V]=1;}if(p7v[z8s] < "2.0" << 64 && G_p[G99 - 1][z8s] >= 2.0){p7v[a99]=-1;}}W0O.l13(2);p7v[L50]=E4C.outputs[W0O.O_1("Score ",a$$)];}}function I9f(k8H,L$G,U_Y,g$e,h$U,F5b){var N8w;if(!h$U.initialized){h$U.yaxisDisplayValue=null;h$U.initialized=!0;}N8w=c6h.Studies.initializeFN(k8H,L$G,U_Y,g$e,h$U,F5b);if(h$U && !h$U.panelName && N8w && N8w.panel){h$U.panelName=N8w.panel;}if(h$U.calculateOnly){return N8w;}W0O.d$I();if(Z0M(k8H,N8w)){N8w.checkDisabled=!!"1";return N8w;}}function N0h(y_j,u8e){var I1Z,Q_I,k9B;var {customChart:r0z}=y_j.chart;W0O.d$I();if(r0z){I1Z="pan";I1Z+="d";I1Z+="f";Q_I="l";Q_I+="inebreak";k9B=y_j.layout.aggregationType;if(u8e.disabled || k9B === Q_I || k9B === "kagi" || k9B === I1Z || k9B === "renko"){if(!u8e.disabled){u8e.error=g1z;}if(r0z.colorFunction){r0z.priorColorFunction=r0z.colorFunction;}r0z.colorFunction=null;return !1;}if(r0z.priorColorFunction){r0z.colorFunction=r0z.priorColorFunction;r0z.priorColorFunction=null;}}return !0;}function I45(t_k,q3W,m4P,i_S,q_1,s4i,g3r,O_e,a0M){var n7j,W8Z,h20;n7j="m";n7j+="a";n7j+="c";n7j+="d";W8Z={"Fast MA Period":m4P,"Slow MA Period":i_S,"Signal Period":q_1,"Moving Average Type":s4i,"Signal MA Type":g3r,Field:O_e};h20=new c6h.Studies.StudyDescriptor(a0M,n7j,q3W.panel,W8Z);h20.startFrom=q3W.startFrom;h20.chart=q3W.chart;c6h.Studies.calculateMACD(t_k,h20);}c6h.Studies.studyLibrary=c6h.extend(c6h.Studies.studyLibrary,{"GoNoGo Trend":{name:"GoNoGo - Trend",overlay:!"",initializeFN:I9f,calculateFN:H4_,seriesFN:y$j,removeFN:t3U,inputs:{},outputs:{Go:"#00ffff",NoGo:"#b500b5","Text Go":S0d,"Text NoGo":"#ffffff","Score 0":"#8b008b","Score 1":"#ee82ee","Score 2":"#d2691e","Score 3":"#7fffd4","Score 4":"#00bfff"},attributes:{yaxisDisplayValue:{hidden:!!1},panelName:{hidden:!![]},underlayEnabled:{hidden:!!"1"}}}});function Z0M(u7m,e$9){if(!u7m.chart || !u7m.chart.panel || u7m.chart.customChart && u7m.chart.customChart.owner !== e$9.name){u7m.dispatch("notification","gonogocannotadd");return;}u7m.chart.customChart={owner:e$9.name,colorFunction:function(H7E,p6R,K8P){var o_f,M9j,Y52,r0a;o_f="a";o_f+="u";o_f+="t";o_f+="o";M9j="o";M9j+="b";M9j+="ject";Y52=p6R[`Color ${e$9.name}`];if(Y52 && typeof Y52 === M9j){Y52=Y52.color;}r0a="#00000000";return Y52 === o_f?H7E.defaultColor:Y52 || r0a;}};u7m.setMainSeriesRenderer();return !!({});}function d4_(Y1Y,U9k,x0z,b4r,u_3,s8H,u5v){W0O.d$I();c6h.Studies.MA(u_3,x0z,s8H,b4r,u5v,Y1Y,U9k);}})();}};F6=u1s=>{var V6Q=e9J1I;var a29,G2L,o2K;a29=typeof _CIQ !== "undefined"?_CIQ:u1s.CIQ;V6Q.d$I();if(!a29.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {G2L="Donchi";G2L+="an W";G2L+="idth";o2K="aut";o2K+="o";a29.Studies.calculateMaxHighMinLow=function(K1I,s1Z){var K1O,W1P,o7_,C4Q,a$o,D3g,m0Q,v4s,V3t,z6s,i5P,E8K,b3Y,R70,F6P,O5S;K1O="Low";K1O+=" Per";K1O+="io";K1O+="d";W1P="High ";W1P+="Peri";W1P+="od";o7_="High ";o7_+="Pe";o7_+="ri";o7_+="od";C4Q=s1Z.chart.scrubbed;a$o=s1Z.days;D3g=s1Z.days;if(s1Z.inputs[o7_]){a$o=s1Z.inputs[W1P];}if(s1Z.inputs[K1O]){D3g=s1Z.inputs["Low Period"];}if(C4Q.length < Math.max(a$o,D3g) + +"1"){s1Z.error=!!1;return;}m0Q=Number.MAX_VALUE;V6Q.l13(108);var s77=V6Q.C0r(18,4,2,18);v4s=Number.MAX_VALUE * s77;if(s1Z.startFrom > 1){for(V3t=1;V3t < a$o;V3t++){if(s1Z.startFrom - V3t >= 0){v4s=Math.max(v4s,C4Q[s1Z.startFrom - V3t].High);}}for(V3t=1;V3t < D3g;V3t++){if(s1Z.startFrom - V3t >= 0){m0Q=Math.min(m0Q,C4Q[s1Z.startFrom - V3t].Low);}}}for(var O72=Math.max(+"0",s1Z.startFrom - 1);O72 < C4Q.length;O72++){z6s="G";z6s+="A";z6s+="P";z6s+="O";v4s=Math.max(v4s,C4Q[O72].High);m0Q=Math.min(m0Q,C4Q[O72].Low);if(O72 >= a$o){if(C4Q[O72 - a$o].High == v4s){v4s=C4Q[O72].High;for(V3t="1" * 1;V3t < a$o;V3t++){v4s=Math.max(v4s,C4Q[O72 - V3t].High);}}}if(O72 >= D3g){if(C4Q[O72 - D3g].Low == m0Q){m0Q=C4Q[O72].Low;for(V3t=+"1";V3t < D3g;V3t++){m0Q=Math.min(m0Q,C4Q[O72 - V3t].Low);}}}i5P=0;if(s1Z.type == "HHV"){i5P=v4s;}else if(s1Z.type == "LLV"){i5P=m0Q;}else if(s1Z.type == "Donchian Width"){V6Q.l13(6);i5P=V6Q.C0r(v4s,m0Q);}else if(s1Z.type == z6s || s1Z.type == "Gopala"){i5P=Math.log(v4s - m0Q) / Math.log(D3g);}else if(s1Z.type == "VT HZ Filter"){V6Q.l13(6);i5P=V6Q.C0r(v4s,m0Q);C4Q[O72]["_MHML " + s1Z.name]=i5P;continue;}else if(s1Z.type == "Williams %R"){E8K="R";E8K+="esu";E8K+="lt";E8K+=" ";V6Q.x49(55);var E3w=V6Q.O_1(120,11,9);i5P=E3w * (v4s - C4Q[O72].Close) / (v4s - m0Q);C4Q[O72][E8K + s1Z.name]=i5P;continue;}if(O72 == C4Q.length - 1)break;if(!C4Q[O72 + ("1" ^ 0)].futureTick){b3Y="Donchian Channe";b3Y+="l";if(s1Z.type == b3Y){R70="Don";R70+="chian Median ";F6P="D";F6P+="onchian Low ";O5S="Don";O5S+="chian High ";V6Q.x49(83);C4Q[V6Q.C0r("1",O72)][O5S + s1Z.name]=v4s;V6Q.x49(2);C4Q[V6Q.O_1(O72,1)][F6P + s1Z.name]=m0Q;V6Q.l13(2);C4Q[V6Q.C0r(O72,1)][R70 + s1Z.name]=V6Q.O_1(m0Q,v4s,2,V6Q.x49(3));}else {V6Q.x49(2);C4Q[V6Q.O_1(O72,1)]["Result " + s1Z.name]=i5P;}}}};a29.Studies.calculateVerticalHorizontalFilter=function(M2P,v8s){var D$i,R7i,Z71,R74;D$i=v8s.chart.scrubbed;if(D$i.length < v8s.days + 1){v8s.error=!!({});return;}v8s.mhml=new a29.Studies.StudyDescriptor(v8s.name,v8s.type,v8s.panel);v8s.mhml.chart=v8s.chart;v8s.mhml.days=v8s.days;v8s.mhml.startFrom=v8s.startFrom;v8s.mhml.inputs={};v8s.mhml.outputs={_MHML:null};a29.Studies.calculateMaxHighMinLow(M2P,v8s.mhml);R7i=0;Z71=[];for(var x8Q=Math.max(+"1",v8s.startFrom - v8s.days);x8Q < D$i.length;x8Q++){R74=Math.abs(D$i[x8Q].Close - D$i[x8Q - +"1"].Close);Z71.push(R74);R7i+=R74;if(Z71.length == v8s.days){D$i[x8Q]["Result " + v8s.name]=D$i[x8Q]["_MHML " + v8s.name] / R7i;R7i-=Z71.shift();}}};a29.Studies.studyLibrary=a29.extend(a29.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!![],calculateFN:a29.Studies.calculateMaxHighMinLow,seriesFN:a29.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!""},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":o2K}},"Donchian Width":{name:G2L,calculateFN:a29.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:a29.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:a29.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:a29.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:a29.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-("80" | 16),studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:a29.Studies.calculateVerticalHorizontalFilter,inputs:{Period:"28" >> 0}},"High-Low":{name:"High Minus Low",calculateFN:function(X1G,s7P){var U1O;V6Q.d$I();U1O=s7P.chart.scrubbed;for(var k78=s7P.startFrom;k78 < U1O.length;k78++){U1O[k78]["Result " + s7P.name]=U1O[k78].High - U1O[k78].Low;}},inputs:{}}});}};k6=S$0=>{var E$G,f6D,o_k,K1H,s4y;E$G="undef";E$G+="i";E$G+="ne";E$G+="d";f6D=typeof _CIQ !== E$G?_CIQ:S$0.CIQ;if(!f6D.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {o_k="#80";o_k+="8";o_k+="000";K1H="#00FF";K1H+="0";K1H+="0";s4y="#0";s4y+="000F";s4y+="F";f6D.Studies.calculateIchimoku=function(Q5_,L13){var a5N=e9J1I;var d5f,e_M,D8T,Q5q,Y6f,Z7c,I3t,C8V,c8t,y78;d5f="Lagging S";d5f+="pan Period";e_M="Leading Sp";a5N.R7g();e_M+="a";e_M+="n ";e_M+="B Period";D8T=L13.chart.scrubbed;Q5q={Base:Number(L13.inputs["Base Line Period"]),Conv:Number(L13.inputs["Conversion Line Period"]),LeadB:Number(L13.inputs[e_M]),Lag:Number(L13.inputs[d5f])};for(Y6f=L13.startFrom;Y6f < D8T.length;Y6f++){if(!D8T[Y6f])continue;Z7c=y36(Q5q.Conv,Y6f);a5N.x49(130);var U_u=a5N.O_1(65,19,4,3,17);a5N.x49(131);var j6Y=a5N.O_1(0,16,0,6,8);D8T[Y6f]["Conversion Line " + L13.name]=(Z7c[U_u] + Z7c[0]) / j6Y;Z7c=y36(Q5q.Base,Y6f);a5N.l13(4);var X$e=a5N.C0r(10,14,23);a5N.x49(4);var v6v=a5N.O_1(5,0,3);D8T[Y6f]["Base Line " + L13.name]=(Z7c[X$e] + Z7c[0]) / v6v;if(Y6f < Q5q.Lag)continue;D8T[Y6f - Q5q.Lag]["Lagging Span " + L13.name]=D8T[Y6f].Close;}I3t=[];for(Y6f=Math.max(0,L13.startFrom - Q5q.Base);Y6f < D8T.length;Y6f++){Z7c=y36(Q5q.LeadB,Y6f);a5N.l13(30);var b4P=a5N.O_1(18,286,16);C8V=(D8T[Y6f]["Conversion Line " + L13.name] + D8T[Y6f]["Base Line " + L13.name]) / b4P;a5N.x49(132);var p7b=a5N.C0r(2,6,6);a5N.l13(43);var T6K=a5N.O_1(10,160,20,8,9);c8t=(Z7c[p7b] + Z7c[0]) / T6K;if(D8T[Y6f + Q5q.Base]){D8T[Y6f + Q5q.Base]["Leading Span A " + L13.name]=C8V;D8T[Y6f + Q5q.Base]["Leading Span B " + L13.name]=c8t;}else {y78={};y78["Leading Span A " + L13.name]=C8V;y78["Leading Span B " + L13.name]=c8t;I3t.push(y78);}}function y36(W3D,P8$){var F6i,i9C;F6i=Number.MAX_VALUE;a5N.l13(133);var z56=a5N.C0r(7,2,25,8,9);i9C=Number.MAX_VALUE * z56;for(var w4X=P8$ - W3D + 1;w4X <= P8$;w4X++){if(w4X < +"0")continue;F6i=Math.min(F6i,D8T[w4X].Low);i9C=Math.max(i9C,D8T[w4X].High);}a5N.d$I();return [F6i,i9C];}L13.appendFutureTicks(Q5_,I3t);};f6D.Studies.displayIchimoku=function(Q4n,c$s,Y5w){var i6k,z7C,D4q,z2k,V7Z,P0r,S_n,b43;i6k="Leadin";i6k+="g Span ";i6k+="A ";z7C=i6k + c$s.name;D4q="Leading Span B " + c$s.name;z2k=f6D.Studies.determineColor(c$s.outputs[c$s.outputMap[z7C]]);V7Z=f6D.Studies.determineColor(c$s.outputs[c$s.outputMap[D4q]]);P0r=Q4n.panels[c$s.panel];S_n=c$s.getYAxis(Q4n);b43={topBand:z7C,bottomBand:D4q,topColor:z2k,bottomColor:V7Z,skipTransform:P0r.name != c$s.chart.name,topAxis:S_n,bottomAxis:S_n,opacity:0.3};if(!c$s.highlight && Q4n.highlightedDraggable){e9J1I.x49(6);b43.opacity*=e9J1I.C0r("0.3",0);}f6D.fillIntersecting(Q4n,c$s.panel,b43);e9J1I.R7g();f6D.Studies.displaySeriesAsLine(Q4n,c$s,Y5w);};f6D.Studies.studyLibrary=f6D.extend(f6D.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!0,calculateFN:f6D.Studies.calculateIchimoku,seriesFN:f6D.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":s4y,"Base Line":"#FF0000","Leading Span A":K1H,"Leading Span B":"#FF0000","Lagging Span":o_k}}});}};P6=c8A=>{var c2S,k3M;c2S=typeof _CIQ !== "undefined"?_CIQ:c8A.CIQ;if(!c2S.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {k3M="a";k3M+="u";k3M+="to";c2S.Studies.calculateIntradayMomentum=function(h3J,d8l){var R61=e9J1I;var a$u,J00,b62,o8u,u0z,N4R,v5s,y4Y,s_C,x2$;a$u=d8l.chart.scrubbed;J00=d8l.days;if(a$u.length < J00 + 1){d8l.error=!![];return;}b62=0;R61.x49(6);o8u=R61.O_1("0",0);if(d8l.startFrom > 1){u0z="_tot";u0z+="Dn ";N4R="_";N4R+="totUp ";R61.l13(34);var c_u=R61.O_1(127,20,18,10,6);b62=a$u[d8l.startFrom - c_u][N4R + d8l.name];R61.x49(99);var Q9t=R61.O_1(22,0,1,7,15);o8u=a$u[d8l.startFrom - Q9t][u0z + d8l.name];}for(var n5C=d8l.startFrom;n5C < a$u.length;n5C++){v5s="_t";v5s+="otU";v5s+="p ";y4Y="Res";y4Y+="u";y4Y+="lt ";s_C=a$u[n5C].Close - a$u[n5C].Open;if(s_C > 0){b62+=s_C;}else {o8u-=s_C;}if(n5C >= J00){x2$=a$u[n5C - J00].Close - a$u[n5C - J00].Open;if(x2$ > 0){b62-=x2$;}else {o8u+=x2$;}}R61.x49(134);a$u[n5C][y4Y + d8l.name]=R61.C0r(b62,b62,o8u,100);a$u[n5C][v5s + d8l.name]=b62;a$u[n5C]["_totDn " + d8l.name]=o8u;}};c2S.Studies.studyLibrary=c2S.extend(c2S.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:c2S.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:+"30",studyOverSoldColor:k3M}}}});}};N5=X47=>{var y1p,i6O;e9J1I.d$I();y1p=typeof _CIQ !== "undefined"?_CIQ:X47.CIQ;if(!y1p.Studies){console.error("keltner feature requires first activating studies feature.");}else {i6O="Keltne";i6O+="r Chan";i6O+="nel";y1p.Studies.calculateKeltner=function(f1o,j7y){var V02,Q2L;V02="M";V02+="A";Q2L="M";Q2L+="ov";Q2L+="ing Average Typ";e9J1I.d$I();Q2L+="e";y1p.Studies.MA(j7y.inputs[Q2L],j7y.days,"Close",0,V02,f1o,j7y);y1p.Studies.calculateStudyATR(f1o,j7y);y1p.Studies.calculateGenericEnvelope(f1o,j7y,j7y.inputs.Shift,"MA " + j7y.name,"ATR " + j7y.name);};y1p.Studies.studyLibrary=y1p.extend(y1p.Studies.studyLibrary,{Keltner:{name:i6O,overlay:!!({}),seriesFN:y1p.Studies.displayChannel,calculateFN:y1p.Studies.calculateKeltner,inputs:{Period:10,Shift:5,"Moving Average Type":"ema","Channel Fill":!!1},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}}});}};P9=k2P=>{var c9G,k86,I9a;c9G="undefin";c9G+="e";c9G+="d";k86=typeof _CIQ !== c9G?_CIQ:k2P.CIQ;if(!k86.Studies){console.error("klinger feature requires first activating studies feature.");}else {I9a="#00";I9a+="DD";I9a+="00";k86.Studies.calculateKlinger=function(H9K,L9R){var u9E=e9J1I;var t9R,x8l,d2T,L1$,A4H,D8N,x5b,R3O,e7C,M_N,w5n,j2p,m6C,f7w,U_Z,j2S;t9R="e";t9R+="xp";t9R+="onent";t9R+="ial";x8l="_E";x8l+="MA";x8l+="-";x8l+="S ";d2T="K";d2T+="linger ";L1$="_";L1$+="hist";A4H="Long";A4H+=" Cycle";D8N=L9R.chart.scrubbed;x5b=Number(L9R.inputs["Short Cycle"]);R3O=Number(L9R.inputs[A4H]);if(D8N.length < Math.max(x5b,R3O) + 1){L9R.error=!!({});return;}e7C=L9R.name + L1$;M_N=d2T + L9R.name;w5n="KlingerSignal " + L9R.name;j2p="_SV " + L9R.name;m6C=x8l + L9R.name;f7w="_EMA-L " + L9R.name;for(U_Z=Math.max(1,L9R.startFrom);U_Z < D8N.length;U_Z++){j2S=D8N[U_Z].Volume;if(D8N[U_Z]["hlc/3"] < D8N[U_Z - 1]["hlc/3"]){u9E.l13(7);j2S*=-u9E.C0r("1",64);}if(j2S){D8N[U_Z][j2p]=j2S;}}u9E.l13(0);k86.Studies.MA(t9R,x5b,j2p,u9E.O_1(0,"0"),"_EMA-S",H9K,L9R);k86.Studies.MA("exponential",R3O,j2p,0,"_EMA-L",H9K,L9R);for(U_Z=Math.max(R3O,L9R.startFrom);U_Z < D8N.length;U_Z++){if(D8N[U_Z].futureTick || D8N[U_Z][m6C] === null || D8N[U_Z][f7w] === null)break;D8N[U_Z][M_N]=D8N[U_Z][m6C] - D8N[U_Z][f7w];}k86.Studies.MA("exponential",Number(L9R.inputs["Signal Periods"]),M_N,0,"KlingerSignal",H9K,L9R);for(U_Z=L9R.startFrom;U_Z < D8N.length;U_Z++){D8N[U_Z][e7C]=D8N[U_Z][M_N] - D8N[U_Z][w5n];}L9R.outputMap[e7C]="";};k86.Studies.studyLibrary=k86.extend(k86.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:k86.Studies.displayHistogramWithSeries,calculateFN:k86.Studies.calculateKlinger,inputs:{"Signal Periods":+"13","Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":I9a,"Decreasing Bar":"#FF0000"}}});}};L2=q_g=>{var b8P=e9J1I;b8P.R7g();var J4T,l2g,l31,K8s,Y4v,B1Z,J5e,r1D,e_s,j4D,A$5,B_g,i3s,S7v,G9H,K1q,a0h;J4T=typeof _CIQ !== "undefined"?_CIQ:q_g.CIQ;if(!J4T.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {l2g="T";l2g+="imeS";l2g+="eri";l2g+="es";l31="Ti";l31+="me ";l31+="Serie";l31+="s";K8s="time ";K8s+="ser";K8s+="ies";J4T.Studies.prettify["time series"]="tsma";J4T.Studies.movingAverage.conversions.tsma=K8s;J4T.Studies.movingAverage.translations["time series"]=l31;J4T.Studies.movingAverage.typeMap.tsma=l2g;J4T.Studies.movingAverage.typeMap["time series"]="TimeSeries";J4T.Studies.calculateMovingAverageTimeSeries=function(T3K,E1i){var x1S,K9v,N$R,p9b,y87,v2q,e5d,j1G,u3Y;E1i.ma=new J4T.Studies.StudyDescriptor(E1i.name,"ma",E1i.panel);E1i.ma.chart=E1i.chart;E1i.ma.days=E1i.days;E1i.ma.startFrom=E1i.startFrom;E1i.ma.inputs=E1i.inputs;J4T.Studies.calculateLinearRegressionIndicator(T3K,E1i.ma);x1S=E1i.name;for(var o0u in E1i.outputs){b8P.x49(56);x1S=b8P.C0r(x1S,(533,"9270" << 32) !== 201.75?65.7 > (804.32,"7920" << 0)?!({}):(3860,713) == 9008?!![]:" ":("z",502.71),o0u);}K9v=parseInt(E1i.inputs.Offset,10);if(isNaN(K9v)){K9v=0;}N$R=E1i.chart.scrubbed;p9b=K9v;for(var o$G=E1i.startFrom - 1;o$G >= 0;o$G--){y87=J4T.Studies.getQuoteFieldValue(N$R[o$G],x1S);if(y87 === null)continue;if(p9b > 0){p9b--;continue;}break;}v2q=[];for(o$G++;o$G < N$R.length;o$G++){e5d=N$R[o$G];if(o$G + K9v >= 0){j1G="Fo";j1G+="r";j1G+="ecast ";if(o$G + K9v < N$R.length){b8P.x49(2);N$R[b8P.C0r(o$G,K9v)][x1S]=e5d[j1G + E1i.name];}else {u3Y={};u3Y[x1S]=e5d["Forecast " + E1i.name];v2q.push(u3Y);}}}b8P.R7g();E1i.appendFutureTicks(T3K,v2q);};J4T.Studies.calculateLinearRegressionIndicator=function(v3l,n87){var D47,J5d,M0c,J3q,s$L,o2d,n51,I42,j7P,S1q,s7H,I_U,U1Z,F5M,K8h,t5t,K96;D47="C";D47+="l";D47+="os";D47+="e";J5d=n87.chart.scrubbed;if(J5d.length < n87.days + 1){n87.error=!!"1";return;}M0c=n87.inputs.Field;if(!M0c || M0c == "field"){M0c=D47;}b8P.x49(131);var e8H=b8P.O_1(9,11,1,3,15);b8P.x49(13);var W9s=b8P.O_1(6,8);J3q=n87.days * (n87.days + e8H) / W9s;s$L=Math.pow(J3q,2);b8P.l13(51);var V54=b8P.C0r(2,13,14,154);b8P.l13(4);var j4O=b8P.C0r(18,19,36);b8P.x49(4);var Z1p=b8P.C0r(20,15,32);o2d=J3q * (V54 * n87.days + j4O) / Z1p;n51=0;I42=0;j7P=0;if(n87.startFrom){S1q="_";S1q+="su";S1q+="m";S1q+="s ";b8P.x49(5);var u$B=b8P.C0r(6,3,0,10);s7H=J5d[n87.startFrom - u$B][S1q + n87.name];if(s7H){I42=s7H[0];n51=s7H[1];j7P=s7H[2];}}for(var p$a=n87.startFrom;p$a < J5d.length;p$a++){I_U="RS";I_U+="qua";I_U+="red";I_U+=" ";U1Z=J4T.Studies.getQuoteFieldValue(J5d[p$a],M0c,n87.subField);if(U1Z === null)continue;I42+=n87.days * U1Z - n51;n51+=U1Z;j7P+=Math.pow(U1Z,2);if(p$a < n87.days - 1)continue;else if(p$a > n87.days - 1){F5M=J4T.Studies.getQuoteFieldValue(J5d[p$a - n87.days],M0c,n87.subField);if(F5M === null)continue;n51-=F5M;j7P-=Math.pow(F5M,2);}K8h=(n87.days * I42 - J3q * n51) / (n87.days * o2d - s$L);J5d[p$a]["Slope " + n87.name]=K8h;t5t=(n51 - K8h * J3q) / n87.days;J5d[p$a]["Intercept " + n87.name]=t5t;J5d[p$a]["Forecast " + n87.name]=t5t + K8h * n87.days;K96=(n87.days * o2d - s$L) / (n87.days * j7P - Math.pow(n51,"2" - 0));b8P.x49(135);J5d[p$a][I_U + n87.name]=b8P.C0r(K96,K8h,K8h);J5d[p$a]["_sums " + n87.name]=[I42,n51,j7P];}};Y4v=-774036066;B1Z=1899859346;J5e=2;for(var n0m=1;b8P.c2O(n0m.toString(),n0m.toString().length,86149) !== Y4v;n0m++){r1D="a";r1D+="u";r1D+="t";r1D+="o";e_s="f";e_s+="ie";e_s+="l";e_s+="d";j4D="a";j4D+="u";j4D+="t";j4D+="o";A$5="f";A$5+="ield";B_g="fi";B_g+="e";B_g+="ld";J4T.Studies.studyLibrary=J4T.extend(J4T.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!!1,calculateFN:J4T.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:B_g},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!0,calculateFN:J4T.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:J4T.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:A$5},outputs:{RSquared:j4D}},"LR Slope":{name:"Linear Reg Slope",calculateFN:J4T.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:e_s},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:!!({}),calculateFN:J4T.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:r1D}}});b8P.l13(41);J5e+=b8P.O_1("2",0);}if(b8P.c2O(J5e.toString(),J5e.toString().length,"19058" - 0) !== B1Z){i3s="Ti";i3s+="me Fcs";i3s+="t";S7v="L";S7v+="i";S7v+="n R";S7v+="2";G9H="Li";G9H+="n";G9H+=" ";G9H+="R2";K1q="L";K1q+="in";K1q+=" R2";a0h="f";a0h+="ie";a0h+="l";a0h+="d";J4T.Studies.studyLibrary=J4T.extend(J4T.Studies.studyLibrary,{"Lin Fcst":{name:a0h,overlay:![],calculateFN:J4T.Studies.calculateLinearRegressionIndicator,inputs:{Period:60,Field:"auto"},outputs:{Forecast:"Time Series Forecast"}},"Lin Incpt":{name:"Lin Incpt",overlay:!!0,calculateFN:J4T.Studies.calculateLinearRegressionIndicator,inputs:{Period:16,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"field",calculateFN:J4T.Studies.calculateLinearRegressionIndicator,inputs:{Period:24,Field:K1q},outputs:{RSquared:"Time Fcst"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:J4T.Studies.calculateLinearRegressionIndicator,inputs:{Period:41,Field:G9H},outputs:{Slope:S7v}},"Time Fcst":{name:i3s,overlay:!({}),calculateFN:J4T.Studies.calculateLinearRegressionIndicator,inputs:{Period:98,Field:"Lin Fcst"},outputs:{Forecast:"Lin Incpt"}}});}}};r7=M7O=>{var u7d=e9J1I;var U2t,h5I,v2h,g5X,U1X;U2t=typeof _CIQ !== "undefined"?_CIQ:M7O.CIQ;if(!U2t.Studies){u7d.x49(0);h5I=u7d.C0r(64,"1702593697");v2h=-1569883895;g5X=2;for(var E5m="1" | 0;u7d.D29(E5m.toString(),E5m.toString().length,"58579" ^ 0) !== h5I;E5m++){console.error("macd feature requires first activating studies feature.");g5X+=2;}if(u7d.c2O(g5X.toString(),g5X.toString().length,45858) !== v2h){console.error("");}}else {U1X="#FF";U1X+="0";U1X+="000";U2t.Studies.calculateMACD=function(C_j,G$8){var t2D,Q4U,E7X,U$M,O02,R$N,q0a,I7I,f42,v5k,v5y,j9n,u52,a8v,i6R,o84,A07,C8d,T$a,A_i,O9z;t2D="_h";t2D+="i";t2D+="s";t2D+="t";Q4U="Signal MA ";Q4U+="Typ";Q4U+="e";E7X="_";E7X+="MA";E7X+="C";E7X+="D1";U$M="M";U$M+="ov";U$M+="ing Average Type";O02="C";O02+="l";O02+="o";O02+="se";R$N="Fa";R$N+="st M";R$N+="A Period";q0a=G$8.chart.scrubbed;I7I=G$8.inputs;f42=G$8.name;if(!G$8.macd1Days){G$8.macd1Days=parseFloat(I7I[R$N]);}if(!G$8.macd2Days){G$8.macd2Days=parseFloat(I7I["Slow MA Period"]);}if(!G$8.signalDays){G$8.signalDays=parseFloat(I7I["Signal Period"]);}if(!G$8.days){G$8.days=Math.max(G$8.macd1Days,G$8.macd2Days,G$8.signalDays);}if(q0a.length < G$8.days + 1){G$8.error=!![];return;}v5k=G$8.inputs.Field;if(!v5k || v5k == "field"){v5k=O02;}v5y=I7I[U$M];if(!v5y){v5y="exponential";}U2t.Studies.MA(v5y,G$8.macd1Days,v5k,0,E7X,C_j,G$8);U2t.Studies.MA(v5y,G$8.macd2Days,v5k,0,"_MACD2",C_j,G$8);a8v=Math.max(G$8.startFrom,G$8.days - 1);for(j9n=a8v;j9n < q0a.length;j9n++){i6R="MA";i6R+="C";i6R+="D ";o84="_M";o84+="A";o84+="CD";o84+="2 ";u52=q0a[j9n];if((u52["_MACD1 " + f42] || u52["_MACD1 " + f42] === 0) && (u52[o84 + f42] || u52["_MACD2 " + f42] === 0)){u7d.x49(2);u52[u7d.O_1(i6R,f42)]=u52["_MACD1 " + f42] - u52["_MACD2 " + f42];}}A07=I7I[Q4U];if(!A07){A07="exponential";}U2t.Studies.MA(A07,G$8.signalDays,"MACD " + f42,+"0","Signal",C_j,G$8);u7d.x49(2);C8d=u7d.C0r(f42,t2D);for(j9n=a8v;j9n < q0a.length;j9n++){T$a="M";T$a+="A";T$a+="CD";T$a+=" ";A_i="S";A_i+="i";A_i+="gnal";A_i+=" ";u52=q0a[j9n];u7d.l13(2);O9z=u52[u7d.C0r(A_i,f42)];if(!O9z && O9z !== 0)continue;u52[C8d]=u52[T$a + f42] - u52["Signal " + f42];}G$8.outputMap[C8d]="";};U2t.Studies.studyLibrary=U2t.extend(U2t.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:U2t.Studies.calculateMACD,seriesFN:U2t.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:U1X,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};U2=W6q=>{var S7Y=e9J1I;S7Y.d$I();var v_X,F_X;v_X=typeof _CIQ !== "undefined"?_CIQ:W6q.CIQ;if(!v_X.Studies){console.error("massIndex feature requires first activating studies feature.");}else {F_X="Ma";F_X+="ss Index";v_X.Studies.calculateMassIndex=function(r1X,f87){var Y3N,j8m,x$p,h4n,D88;Y3N="_t";Y3N+="ota";Y3N+="l";Y3N+=" ";j8m="_";j8m+="E";j8m+="MA";x$p=f87.chart.scrubbed;if(x$p.length < Math.max(9,f87.days + +"1")){f87.error=!!"1";return;}for(var O_N=f87.startFrom;O_N < x$p.length;O_N++){x$p[O_N]["_High-Low " + f87.name]=x$p[O_N].High - x$p[O_N].Low;}v_X.Studies.MA("exponential",9,"_High-Low " + f87.name,0,j8m,r1X,f87);v_X.Studies.MA("exponential",+"9","_EMA " + f87.name,0,"_EMA2",r1X,f87);h4n=+"0";if(x$p[f87.startFrom - 1] && x$p[f87.startFrom - 1][Y3N + f87.name]){S7Y.l13(5);var V2u=S7Y.C0r(2,6,5,4);h4n=x$p[f87.startFrom - V2u]["_total " + f87.name];}for(var k56=Math.max(17,f87.startFrom);k56 < x$p.length;k56++){D88="_E";D88+="M";D88+="A";D88+=" ";h4n+=x$p[k56][D88 + f87.name] / x$p[k56]["_EMA2 " + f87.name];if(k56 >= 17 + f87.days - 1){x$p[k56]["Result " + f87.name]=h4n;S7Y.l13(136);var Y6_=S7Y.C0r(1,8,1,3,16);S7Y.l13(67);var e2j=S7Y.C0r(8,6,9,8);h4n-=x$p[k56 - f87.days + Y6_]["_EMA " + f87.name] / x$p[k56 - f87.days + e2j]["_EMA2 " + f87.name];}x$p[k56]["_total " + f87.name]=h4n;}};v_X.Studies.displayMassIndex=function(I67,Z1v,C8K){var O41,k5j,F2l,x1U,A$h,z_s,O1M;O41="R";O41+="es";O41+="ul";O41+="t ";k5j="B";k5j+="ulge Thre";k5j+="sho";S7Y.d$I();k5j+="ld";v_X.Studies.displaySeriesAsLine(I67,Z1v,C8K);F2l=Z1v.inputs[k5j];x1U=I67.panels[Z1v.panel];A$h=Z1v.getYAxis(I67);z_s=v_X.Studies.determineColor(Z1v.outputs.Result);O1M={skipTransform:I67.panels[Z1v.panel].name != Z1v.chart.name,panelName:Z1v.panel,band:O41 + Z1v.name,threshold:F2l,direction:1,color:z_s,yAxis:A$h,opacity:0.3};if(!Z1v.highlight && I67.highlightedDraggable){O1M.opacity*=+"0.3";}v_X.preparePeakValleyFill(I67,O1M);v_X.Studies.drawHorizontal(I67,Z1v,null,F2l,A$h,z_s);};v_X.Studies.studyLibrary=v_X.extend(v_X.Studies.studyLibrary,{"Mass Idx":{name:F_X,seriesFN:v_X.Studies.displayMassIndex,calculateFN:v_X.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};D4=F1Z=>{var j0W,M0h;j0W=typeof _CIQ !== "undefined"?_CIQ:F1Z.CIQ;if(!j0W.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {M0h="au";M0h+="t";M0h+="o";j0W.Studies.calculateMoneyFlowIndex=function(v7s,K$Q){var y3z=e9J1I;var y2W,X3e,I8w,P7q,T0y,C96,K9U,n2l,D3v,Z$j,y86;y2W=K$Q.chart.scrubbed;if(y2W.length < K$Q.days + 1){K$Q.error=!!({});return;}X3e=0;I8w=0;y3z.l13(137);var R9v=y3z.O_1(122,11,1,11);P7q=y2W[K$Q.startFrom - R9v];T0y="_rawMF " + K$Q.name;C96="_cumMF " + K$Q.name;K9U="Result " + K$Q.name;if(P7q && P7q[C96]){X3e=P7q[C96][0];I8w=P7q[C96][1];}for(var E4M=K$Q.startFrom;E4M < y2W.length;E4M++){n2l=y2W[E4M]["hlc/3"];if(E4M > 0 && !y2W[E4M].futureTick){y3z.l13(138);D3v=y2W[y3z.C0r(E4M,"1",0)]["hlc/3"];Z$j=n2l * y2W[E4M].Volume;if(n2l > D3v){X3e+=Z$j;}else if(n2l < D3v){Z$j*=-1;I8w-=Z$j;}else {Z$j=0;}if(E4M > K$Q.days){y86=y2W[E4M - K$Q.days][T0y];if(y86 > +"0"){X3e-=y86;}else {I8w+=y86;}if(I8w === 0){y2W[E4M][K9U]=100;}else if(y2W[E4M].Volume){y3z.l13(139);y2W[E4M][K9U]=y3z.C0r(1,X3e,100,100,I8w);}}y2W[E4M][T0y]=Z$j;y2W[E4M][C96]=[X3e,I8w];}}};j0W.Studies.studyLibrary=j0W.extend(j0W.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:j0W.Studies.calculateMoneyFlowIndex,inputs:{Period:+"14"},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:+"20",studyOverSoldColor:M0h}}}});}};h$=T9N=>{var z1x=e9J1I;var C20,R4s,p4z,f6d,A6y,J8Y,h2H,l1V,O85,m0Z,f3z,h0e,E9r,n9E;z1x.R7g();C20=typeof _CIQ !== "undefined"?_CIQ:T9N.CIQ;if(!C20.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {R4s="Per";R4s+="cent";p4z="m";p4z+="a";f6d="Moving";f6d+=" Average De";f6d+="viation";A6y="aut";A6y+="o";J8Y="m";J8Y+="a";h2H="Tri";h2H+="ple";h2H+="Ex";h2H+="ponential";l1V="DoubleExponenti";l1V+="al";O85="H";O85+="ul";O85+="l";m0Z="Triple Expone";m0Z+="ntial";f3z="H";f3z+="ull";h0e="3-e";h0e+="x";h0e+="po";h0e+="nential";E9r="h";E9r+="u";E9r+="l";E9r+="l";n9E="t";n9E+="e";n9E+="ma";C20.Studies.prettify=C20.extend({"2-exponential":"dema","3-exponential":n9E,hull:"hma"},C20.Studies.prettify);C20.extend(C20.Studies.movingAverage,{conversions:{hma:E9r,dema:"2-exponential",tema:h0e},translations:{hull:f3z,"2-exponential":"Double Exponential","3-exponential":m0Z},typeMap:{hma:"Hull",hull:O85,dema:"DoubleExponential","2-exponential":l1V,tema:"TripleExponential","3-exponential":h2H}});C20.Studies.calculateMovingAverageHull=function(M$q,B3X){var s6M,g0q,B$p,G6s,N5o,W2r,p0i,p9N,Q5Z,f9s,o_G;s6M="_";s6M+="M";s6M+="M";s6M+="A ";g0q="_W";g0q+="M";g0q+="A";g0q+="1";B$p=B3X.chart.scrubbed;G6s=B3X.inputs.Field;if(!G6s || G6s == "field"){G6s="Close";}C20.Studies.MA("wma",B3X.days,G6s,0,g0q,M$q,B3X);C20.Studies.MA("wma",Math.ceil(B3X.days / +"2"),G6s,0,"_WMA2",M$q,B3X);for(N5o=B3X.startFrom - 1;N5o >= 0;N5o--){W2r=C20.Studies.getQuoteFieldValue(B$p[N5o],G6s,B3X.subField);if(W2r !== null)break;}for(N5o++;N5o < B$p.length;N5o++){p0i="_";p0i+="MMA ";p9N=B$p[N5o];z1x.l13(140);var p2g=z1x.C0r(5,13,11,19,549);p9N[p0i + B3X.name]=p2g * p9N["_WMA2 " + B3X.name] - p9N["_WMA1 " + B3X.name];}Q5Z=parseInt(B3X.inputs.Offset,"10" * 1);if(isNaN(Q5Z)){Q5Z=0;}f9s=Math.floor(Math.sqrt(B3X.days));C20.Studies.MA("wma",f9s,s6M + B3X.name,Q5Z,"_HMA",M$q,B3X);o_G=B3X.name;for(var m$m in B3X.outputs){z1x.l13(56);o_G=z1x.C0r(o_G,(656.6,549.62) != 1083?9820 == (5575,406.51)?!({}):("6922" | 0,9310) != 558?" ":543.63:!({}),m$m);}for(N5o=Math.max(B3X.days + f9s - +"1",B3X.startFrom);N5o < B$p.length;N5o++){B$p[N5o][o_G]=B$p[N5o]["_HMA " + B3X.name];}};C20.Studies.calculateMovingAverageDoubleExponential=function(E$m,k$t){var i8U,K9J,q13,o9O,b6k,W1b,Y8v,p4n,i11,y2U,z7g,I48,U5u,g6G,j1q,O3K;i8U="_EM";i8U+="A2";K9J="em";K9J+="a";q13="e";q13+="m";q13+="a";o9O="fi";o9O+="eld";b6k=k$t.chart.scrubbed;W1b=k$t.inputs.Field;if(!W1b || W1b == o9O){W1b="Close";}C20.Studies.MA(q13,k$t.days,W1b,0,"_EMA1",E$m,k$t);C20.Studies.MA(K9J,k$t.days,"_EMA1 " + k$t.name,0,i8U,E$m,k$t);Y8v=parseInt(k$t.inputs.Offset,10);if(isNaN(Y8v)){Y8v=+"0";}y2U=Y8v;for(p4n=k$t.startFrom - +"1";p4n >= 0;p4n--){i11=C20.Studies.getQuoteFieldValue(b6k[p4n],W1b,k$t.subField);if(i11 === null)continue;if(y2U > 0){y2U--;continue;}break;}z7g=k$t.name;for(var b28 in k$t.outputs){z1x.l13(56);z7g=z1x.O_1(z7g,9110 != (722.34,8735)?" ":(!![],9.31e+3),b28);}I48=[];for(p4n++;p4n < b6k.length;p4n++){U5u="_EMA";U5u+="2";U5u+=" ";if(p4n < 2 * (k$t.days - 1))continue;g6G=b6k[p4n];z1x.l13(141);var v8r=z1x.C0r(8,3,8,6,10);j1q=v8r * g6G["_EMA1 " + k$t.name] - g6G[U5u + k$t.name];if(p4n + Y8v >= 0){if(p4n + Y8v < b6k.length){z1x.l13(2);b6k[z1x.O_1(p4n,Y8v)][z7g]=j1q;}else {O3K={};O3K[z7g]=j1q;I48.push(O3K);}}}k$t.appendFutureTicks(E$m,I48);};C20.Studies.calculateMovingAverageTripleExponential=function(n7G,l8q){var B0B,Q0v,A_a,f2v,h7h,I$j,a$H,b6E,G$7,J5x,L7N,B$4,z_2,l7o,Y7h;B0B="_E";B0B+="M";B0B+="A2";B0B+=" ";Q0v="_";Q0v+="EM";Q0v+="A1 ";A_a=l8q.chart.scrubbed;f2v=l8q.inputs.Field;if(!f2v || f2v == "field"){f2v="Close";}C20.Studies.MA("ema",l8q.days,f2v,"0" | 0,"_EMA1",n7G,l8q);C20.Studies.MA("ema",l8q.days,Q0v + l8q.name,0,"_EMA2",n7G,l8q);C20.Studies.MA("ema",l8q.days,B0B + l8q.name,0,"_EMA3",n7G,l8q);h7h=parseInt(l8q.inputs.Offset,10);if(isNaN(h7h)){h7h=0;}b6E=h7h;for(I$j=l8q.startFrom - +"1";I$j >= 0;I$j--){a$H=C20.Studies.getQuoteFieldValue(A_a[I$j],f2v,l8q.subField);if(a$H === null)continue;if(b6E > 0){b6E--;continue;}break;}G$7=l8q.name;for(var f4r in l8q.outputs){z1x.x49(56);G$7=z1x.O_1(G$7," ",f4r);}J5x=[];for(I$j++;I$j < A_a.length;I$j++){L7N="_E";L7N+="M";L7N+="A3";L7N+=" ";B$4="_E";B$4+="MA";B$4+="2";B$4+=" ";if(I$j < 3 * (l8q.days - 1))continue;z_2=A_a[I$j];z1x.x49(6);var v2g=z1x.O_1(12,9);z1x.l13(8);var y8P=z1x.C0r(0,16,19);l7o=v2g * z_2["_EMA1 " + l8q.name] - y8P * z_2[B$4 + l8q.name] + z_2[L7N + l8q.name];if(I$j + h7h >= 0){if(I$j + h7h < A_a.length){z1x.x49(2);A_a[z1x.O_1(I$j,h7h)][G$7]=l7o;}else {Y7h={};Y7h[G$7]=l7o;J5x.push(Y7h);}}}l8q.appendFutureTicks(n7G,J5x);};C20.Studies.calculateMAEnvelope=function(C$b,t79){var o54,g0_,E2R,r$U,u_0,M2S,A2Q,O8N,D13,j5M,c08,e3w;o54="Shift";o54+=" Ty";o54+="p";o54+="e";g0_="M";g0_+="A";E2R="Mov";E2R+="ing";E2R+=" Av";z1x.R7g();E2R+="erage Type";r$U=t79.inputs.Field;if(!r$U || r$U == "field"){r$U="Close";}C20.Studies.MA(t79.inputs[E2R],t79.days,r$U,0,g0_,C$b,t79);u_0=t79.inputs[o54];M2S=t79.inputs.Shift;if(!u_0){A2Q="Shift Percenta";A2Q+="ge";O8N="p";O8N+="er";O8N+="ce";O8N+="nt";u_0=O8N;M2S=t79.inputs[A2Q];}if(u_0 == "percent"){D13="MA";D13+=" ";z1x.x49(11);C20.Studies.calculateGenericEnvelope(C$b,t79,z1x.O_1(M2S,100),D13 + t79.name);}else if(u_0 == "points"){z1x.x49(20);j5M=-z1x.C0r(1,"849314638");c08=-1381186478;e3w=2;for(var o$I=1;z1x.D29(o$I.toString(),o$I.toString().length,54832) !== j5M;o$I++){z1x.x49(6);C20.Studies.calculateGenericEnvelope(C$b,t79,z1x.C0r("1",0),"" % t79.name,1,Number(M2S));e3w+=2;}if(z1x.D29(e3w.toString(),e3w.toString().length,44320) !== c08){C20.Studies.calculateGenericEnvelope(C$b,t79,null,"MA " + t79.name,null,Number(M2S));}}};C20.Studies.calculateMADev=function(F4a,a6L){var x8J,D1G,m62,Z3E,x6q,Z$J,K06,m_6,L9H,V8d,l5I,P9g,d56;x8J="_";x8J+="hi";x8J+="st";D1G="Moving Averag";D1G+="e";D1G+=" Typ";D1G+="e";m62="Po";m62+="in";m62+="t";m62+="s";Z3E="fi";Z3E+="e";Z3E+="l";Z3E+="d";x6q=a6L.chart.scrubbed;if(x6q.length < a6L.days + 1){a6L.error=!!1;return;}Z$J=a6L.inputs.Field;if(!Z$J || Z$J == Z3E){Z$J="Close";}K06=a6L.inputs["Points Or Percent"];if(!K06){K06=m62;}m_6=a6L.inputs[D1G];if(!m_6){m_6="exponential";}z1x.R7g();C20.Studies.MA(m_6,a6L.days,Z$J,+"0","_MA",F4a,a6L);L9H=a6L.name + x8J;for(var r8D=Math.max(a6L.startFrom,a6L.days - 1);r8D < x6q.length;r8D++){V8d=x6q[r8D];l5I=C20.Studies.getQuoteFieldValue(V8d,Z$J,a6L.subField);P9g=V8d["_MA " + a6L.name];if(P9g || P9g === 0){d56="Point";d56+="s";if(K06 == d56){z1x.x49(6);V8d[L9H]=z1x.O_1(l5I,P9g);}else {z1x.l13(142);V8d[L9H]=z1x.O_1(l5I,1,100,P9g);}}}a6L.outputMap={};a6L.outputMap[a6L.name + "_hist"]="";};C20.Studies.calculateGMMA=function(l44,K00){var Q6S,T4P,b0y;Q6S=K00.chart.scrubbed;T4P=[3,+"5",8,10,12,15];z1x.x49(6);b0y=[30,35,40,z1x.C0r("45",0),+"50",60];function m9v(T5N){z1x.d$I();return function(A1X){var I$I;I$I="e";I$I+="m";I$I+="a";z1x.x49(2);C20.Studies.MA(I$I,A1X,"Close",0,z1x.C0r("MA ",A1X),l44,K00);K00.outputMap["MA " + A1X + " " + K00.name]=T5N;};}if(Q6S.length < T4P[0]){K00.error=!0;return;}K00.outputMap={};T4P.forEach(m9v("Short Term"));b0y.forEach(m9v("Long Term"));};C20.Studies.studyLibrary=C20.extend(C20.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!0,seriesFN:C20.Studies.displayChannel,calculateFN:C20.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":J8Y,"Channel Fill":!""},outputs:{"MA Env Top":"auto","MA Env Median":A6y,"MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:+"0.1"}}},"MA Dev":{name:f6d,calculateFN:C20.Studies.calculateMADev,seriesFN:C20.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":p4z,"Points Or Percent":["Points",R4s]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},Guppy:{name:"Guppy Multiple Moving Average",overlay:!"",calculateFN:C20.Studies.calculateGMMA,inputs:{},outputs:{"Short Term":"#ea1d2c","Long Term":"#00afed"}},"High Low":{name:"High Low Bands",overlay:!!1,seriesFN:C20.Studies.displayChannel,calculateFN:function(e3W,S17){S17.inputs["Moving Average Type"]="triangular";C20.Studies.calculateMAEnvelope(e3W,S17);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!!1},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:+"0.1"}}}});}};j4=c5Z=>{var w74=e9J1I;var n9a,J$N;w74.d$I();n9a=typeof _CIQ !== "undefined"?_CIQ:c5Z.CIQ;if(!n9a.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {J$N="Para";J$N+="bolic SAR";n9a.Studies.calculatePSAR=function(Q5o,x6u){var Q2h,E2f,Z9r,W1T,N9T,A7k,l3a,X10,O6m,O_5,D3k,Y4r,E2n;Q2h=x6u.chart.scrubbed;E2f=0;w74.R7g();Z9r=null;W1T=!!"";N9T=0;A7k=parseFloat(x6u.inputs["Minimum AF"]);l3a=parseFloat(x6u.inputs["Maximum AF"]);if(x6u.startFrom > 0){X10="_sta";X10+="t";X10+="e ";w74.l13(13);var S_G=w74.O_1(9,10);N9T=Q2h[x6u.startFrom - S_G]["Result " + x6u.name];w74.l13(30);var t$I=w74.C0r(5,9,2);O6m=Q2h[x6u.startFrom - t$I][X10 + x6u.name];if(O6m && O6m.length == 3){E2f=O6m[0];Z9r=O6m[1];W1T=O6m[2];}}function a6_(){w74.l13(41);E2f=w74.C0r("0",0);Z9r=null;w74.R7g();W1T=!W1T;}for(var I7L=x6u.startFrom - 1;I7L < Q2h.length - 1;I7L++){if(I7L < 0)continue;if(Q2h[I7L].futureTick)break;O_5=N9T;if(W1T){if(!Z9r || Z9r < Q2h[I7L].High){Z9r=Q2h[I7L].High;w74.l13(2);E2f=Math.min(w74.O_1(E2f,A7k),l3a);}w74.l13(143);N9T=w74.O_1(E2f,O_5,O_5,Z9r);D3k=Math.min(Q2h[Math.max("1" ^ 0,I7L) - 1].Low,Q2h[I7L].Low);if(N9T > Q2h[I7L + 1].Low){N9T=Z9r;a6_();}else if(N9T > D3k){N9T=D3k;}}else {if(!Z9r || Z9r > Q2h[I7L].Low){Z9r=Q2h[I7L].Low;w74.x49(2);E2f=Math.min(w74.C0r(E2f,A7k),l3a);}w74.x49(143);N9T=w74.O_1(E2f,O_5,O_5,Z9r);Y4r=Math.max(Q2h[Math.max(1,I7L) - 1].High,Q2h[I7L].High);if(N9T < Q2h[I7L + 1].High){N9T=Z9r;a6_();}else if(N9T < Y4r){N9T=Y4r;}}w74.l13(2);Q2h[w74.C0r(I7L,1)]["_state " + x6u.name]=[E2f,Z9r,W1T];if(!isNaN(Q2h[I7L].High) || !isNaN(Q2h[I7L].Low)){E2n="Re";E2n+="sult ";w74.x49(2);Q2h[w74.O_1(I7L,1)][E2n + x6u.name]=N9T;}}};n9a.Studies.studyLibrary=n9a.extend(n9a.Studies.studyLibrary,{PSAR:{name:J$N,overlay:!![],calculateFN:n9a.Studies.calculatePSAR,seriesFN:n9a.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};n_=x3v=>{var f1D=e9J1I;var f1f,P1i,W__,y32,S6e,s7O,f2a,S8K;f1f=+"407829417";f1D.l13(41);P1i=-f1D.C0r("550616124",0);W__=2;for(var u6g=1;f1D.c2O(u6g.toString(),u6g.toString().length,84860) !== f1f;u6g++){y32=typeof _CIQ !== "undefined"?_CIQ:x3v.CIQ;W__+=2;}if(f1D.D29(W__.toString(),W__.toString().length,20428) !== P1i){y32=!_CIQ == ""?_CIQ:x3v.CIQ;}if(!y32.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {S6e="#";S6e+="d3";S6e+="e8";S6e+="ae";s7O="#b";s7O+="3d9";s7O+="8";s7O+="7";f2a="#699";f2a+="158";S8K="au";S8K+="t";S8K+="o";y32.Studies.calculatePivotPoints=function(A9Q,a4W){var j9f,j0c,U1H,Y0K,V4w,A8x,x_x,B0o,v76,F0R,Y6J,c3r,z9m,u6X,B6F,k6T,U1l,h_D,N5f;j9f="mark";j9f+="et.beg";j9f+="inningDayOf";j9f+="Week";j0c="15mi";j0c+="n";U1H="m";U1H+="illiseco";U1H+="nd";Y0K="m";Y0K+="illi";Y0K+="se";Y0K+="cond";function x3U(){f1D.x49(6);var j3Z=f1D.C0r(7,6);f1D.x49(1);var P33=f1D.O_1(3,18,3);B6F.pivotPoint=(B6F.high + B6F.low + A8x[g7c - j3Z].Close) / P33;B6F.prevHigh=B6F.high;B6F.prevLow=B6F.low;B6F.hlSpread=B6F.high - B6F.low;B6F.high=B6F.low=+"0";}V4w="mon";V4w+="t";V4w+="h";A8x=a4W.chart.scrubbed;x_x="day";B0o=A9Q.layout.interval;v76=A9Q.layout.timeUnit;if(B0o == "day"){x_x=V4w;}else if(y32.ChartEngine.isDailyInterval(B0o)){x_x="year";}else if(B0o == "second" || B0o == Y0K || v76 == "second" || v76 == U1H){x_x=j0c;}else {F0R="wee";F0R+="k";Y6J="mi";Y6J+="n";Y6J+="u";Y6J+="te";c3r=A9Q.layout.periodicity;if(B0o != Y6J){c3r*=B0o;}if(c3r >= 30){x_x=F0R;}}z9m=null;f1D.x49(144);var W5I=f1D.C0r(4,9,7,3,8);u6X=W5I - y32.getFromNS(A9Q.chart,j9f,+"0");B6F={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0};if(a4W.startFrom > 1 && A8x[a4W.startFrom - 1]["_pointers " + a4W.name]){B6F=y32.clone(A8x[a4W.startFrom - +"1"]["_pointers " + a4W.name]);}for(var g7c=Math.max(1,a4W.startFrom);g7c < A8x.length;g7c++){k6T="d";k6T+="a";k6T+="y";if(!A8x[g7c - 1])continue;B6F.high=Math.max(B6F.high,A8x[g7c - 1].High);B6F.low=Math.min(B6F.low > 0?B6F.low:A8x[g7c - 1].Low,A8x[g7c - 1].Low);if(a4W.inputs.Continuous){x3U();}else if(x_x == "year" && A8x[g7c].DT.getYear() != A8x[g7c - 1].DT.getYear()){x3U();}else if(x_x == "month" && A8x[g7c].DT.getMonth() != A8x[g7c - "1" * 1].DT.getMonth()){x3U();}else if(x_x == "week" && (A8x[g7c].DT.getDay() + u6X) % +"7" < (A8x[g7c - ("1" >> 96)].DT.getDay() + u6X) % 7){x3U();}else if(x_x == k6T){if(z9m === null){z9m=y32.Studies.getMarketOffset({stx:A9Q,localQuoteDate:A8x[g7c].DT,shiftToDateBoundary:!!1});}U1l=new Date(new Date(+A8x[g7c].DT).setMilliseconds(A8x[g7c].DT.getMilliseconds() + z9m));h_D=new Date(new Date(+A8x[g7c - 1].DT).setMilliseconds(A8x[g7c - 1].DT.getMilliseconds() + z9m));if(h_D.getDate() !== U1l.getDate() && h_D.getDay() !== 0 && A9Q.chart.market.isMarketDate(U1l)){z9m=null;x3U();}}else if(x_x == "15min" && (A8x[g7c].DT.getHours() != A8x[g7c - 1].DT.getHours() || Math.floor(A8x[g7c].DT.getMinutes() / 15) != Math.floor(A8x[g7c - 1].DT.getMinutes() / 15))){x3U();}A8x[g7c]["Pivot " + a4W.name]=B6F.pivotPoint;if(a4W.inputs.Type.toLowerCase() == "fibonacci"){N5f="Resista";N5f+="nc";N5f+="e 3";N5f+=" ";A8x[g7c]["Resistance 1 " + a4W.name]=B6F.pivotPoint + 0.382 * B6F.hlSpread;A8x[g7c]["Resistance 2 " + a4W.name]=B6F.pivotPoint + 0.618 * B6F.hlSpread;A8x[g7c][N5f + a4W.name]=B6F.pivotPoint + B6F.hlSpread;A8x[g7c]["Support 1 " + a4W.name]=B6F.pivotPoint - 0.382 * B6F.hlSpread;f1D.x49(1);var V9Y=f1D.O_1(4,12,2);A8x[g7c]["Support 2 " + a4W.name]=B6F.pivotPoint - "0.618" * V9Y * B6F.hlSpread;A8x[g7c]["Support 3 " + a4W.name]=B6F.pivotPoint - B6F.hlSpread;}else {f1D.x49(44);var Y9Q=f1D.C0r(1,1,1);A8x[g7c]["Resistance 1 " + a4W.name]=Y9Q * B6F.pivotPoint - B6F.prevLow;A8x[g7c]["Resistance 2 " + a4W.name]=B6F.pivotPoint + B6F.hlSpread;f1D.x49(145);var I89=f1D.O_1(40,20,218,20,10);A8x[g7c]["Resistance 3 " + a4W.name]=B6F.prevHigh + I89 * (B6F.pivotPoint - B6F.prevLow);f1D.x49(46);var m7w=f1D.O_1(6,24,32);A8x[g7c]["Support 1 " + a4W.name]=m7w * B6F.pivotPoint - B6F.prevHigh;A8x[g7c]["Support 2 " + a4W.name]=B6F.pivotPoint - B6F.hlSpread;f1D.l13(146);var s6m=f1D.O_1(10,19,10,3,19);A8x[g7c]["Support 3 " + a4W.name]=B6F.prevLow - s6m * (B6F.prevHigh - B6F.pivotPoint);}A8x[g7c]["_pointers " + a4W.name]=y32.clone(B6F);}};y32.Studies.displayPivotPoints=function(x6E,K29,z6_){var t6K,l$W,w$7,B24,h19,q$3,H80,n_0;K29.noSlopes=!K29.inputs.Continuous;y32.Studies.displaySeriesAsLine(x6E,K29,z6_);if(K29.inputs.Shading){t6K="S";t6K+="up";t6K+="po";t6K+="rt 3";l$W="Support";l$W+=" 3 ";w$7="S";w$7+="up";w$7+="port";w$7+=" 1 ";B24="Resi";B24+="stanc";B24+="e 1 ";h19="Res";h19+="i";h19+="stance ";h19+="2";q$3="R";q$3+="esista";q$3+="nc";q$3+="e 1 ";H80=x6E.panels[K29.panel];n_0={noSlopes:K29.noSlopes,opacity:K29.parameters.opacity?K29.parameters.opacity:0.2,skipTransform:H80.name != K29.chart.name,yAxis:K29.getYAxis(x6E)};if(!K29.highlight && x6E.highlightedDraggable){n_0.opacity*=0.3;}y32.prepareChannelFill(x6E,y32.extend({panelName:K29.panel,topBand:"Resistance 3 " + K29.name,bottomBand:"Resistance 2 " + K29.name,color:y32.Studies.determineColor(K29.outputs["Resistance 3"])},n_0));y32.prepareChannelFill(x6E,y32.extend({panelName:K29.panel,topBand:"Resistance 2 " + K29.name,bottomBand:q$3 + K29.name,color:y32.Studies.determineColor(K29.outputs[h19])},n_0));y32.prepareChannelFill(x6E,y32.extend({panelName:K29.panel,topBand:B24 + K29.name,bottomBand:"Pivot " + K29.name,color:y32.Studies.determineColor(K29.outputs["Resistance 1"])},n_0));y32.prepareChannelFill(x6E,y32.extend({panelName:K29.panel,topBand:w$7 + K29.name,bottomBand:"Pivot " + K29.name,color:y32.Studies.determineColor(K29.outputs["Support 1"])},n_0));y32.prepareChannelFill(x6E,y32.extend({panelName:K29.panel,topBand:"Support 2 " + K29.name,bottomBand:"Support 1 " + K29.name,color:y32.Studies.determineColor(K29.outputs["Support 2"])},n_0));y32.prepareChannelFill(x6E,y32.extend({panelName:K29.panel,topBand:l$W + K29.name,bottomBand:"Support 2 " + K29.name,color:y32.Studies.determineColor(K29.outputs[t6K])},n_0));}};y32.Studies.studyLibrary=y32.extend(y32.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!!1,seriesFN:y32.Studies.displayPivotPoints,calculateFN:y32.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!1,Shading:!1},outputs:{Pivot:S8K,"Resistance 1":"#b82c0b","Support 1":f2a,"Resistance 2":"#e36460","Support 2":s7O,"Resistance 3":"#ffd0cf","Support 3":S6e},parameters:{init:{opacity:0.2}}}});}};D6=W8o=>{var W$4,m3T,d7C;e9J1I.d$I();W$4="un";W$4+="defi";W$4+="ne";W$4+="d";m3T=typeof _CIQ !== W$4?_CIQ:W8o.CIQ;if(!m3T.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {d7C="Pretty Good ";d7C+="O";d7C+="sc";d7C+="illator";m3T.Studies.calculatePrettyGoodOscillator=function(J$l,i3I){var i3V,M9V,v0f,c5d,j1k;i3V=i3I.chart.scrubbed;if(i3V.length < i3I.days + 1){i3I.error=!!"1";return;}m3T.Studies.MA("exponential",i3I.days,"trueRange",0,"_EMA",J$l,i3I);m3T.Studies.MA("simple",i3I.days,"Close",+"0","_SMA",J$l,i3I);for(var X5v=Math.max(1,i3I.startFrom);X5v < i3V.length;X5v++){M9V="_E";M9V+="MA ";v0f="_";v0f+="SMA ";c5d="Resu";c5d+="lt ";j1k="_";j1k+="E";j1k+="M";j1k+="A ";if(!i3V[X5v]["_SMA " + i3I.name] || !i3V[X5v][j1k + i3I.name])continue;i3V[X5v][c5d + i3I.name]=(i3V[X5v].Close - i3V[X5v][v0f + i3I.name]) / i3V[X5v][M9V + i3I.name];}};m3T.Studies.studyLibrary=m3T.extend(m3T.Studies.studyLibrary,{"Pretty Good":{name:d7C,calculateFN:m3T.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:+"3",studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};C5=u9w=>{var M2T=e9J1I;var X6R,T7z,C_q,P8l,N3_,q6C,l53,B$R,x73,I24,b5e,U2s,z1i,x5Y,R2s,E_7;M2T.d$I();X6R="undef";X6R+="ine";X6R+="d";T7z=typeof _CIQ !== X6R?_CIQ:u9w.CIQ;if(!T7z.Studies){C_q=1393099794;P8l=1041829923;N3_=2;for(var b6N=1;M2T.c2O(b6N.toString(),b6N.toString().length,77504) !== C_q;b6N++){console.error("");N3_+=2;}if(M2T.c2O(N3_.toString(),N3_.toString().length,14059) !== P8l){console.error("priceMomentumOscillator feature requires first activating studies feature.");}}else {T7z.Studies.calculatePMO=function(n3e,T7E){var d9U,w2H,q4O,V$1,M0o,k0h,Y6q,h3i,U9X;d9U="P";d9U+="M";d9U+="O";w2H="_EMA";M2T.R7g();w2H+="x10";w2H+=" ";q4O="exponent";q4O+="ial";V$1="D";V$1+="ouble Smoothing Period";M0o={Smooth:Number(T7E.inputs["Smoothing Period"]) - ("1" | 1),Double:Number(T7E.inputs[V$1]) - 1,Signal:Number(T7E.inputs["Signal Period"])};k0h=T7E.chart.scrubbed;if(k0h.length < M0o.Smooth + M0o.Double){T7E.error=!0;return;}Y6q=T7E.inputs.Field;if(!Y6q || Y6q == "field"){Y6q="Close";}for(h3i=T7E.startFrom;h3i < k0h.length;h3i++){if(!k0h[h3i])continue;if(!k0h[h3i - 1])continue;U9X=T7z.Studies.getQuoteFieldValue(k0h[h3i - 1],Y6q);if(U9X){M2T.l13(2);var j2a=M2T.O_1(998,2);M2T.l13(147);var v97=M2T.C0r(10,16,7,1121);k0h[h3i]["_ROCx10 " + T7E.name]=j2a * (T7z.Studies.getQuoteFieldValue(k0h[h3i],Y6q) / U9X - v97);}}T7z.Studies.MA("exponential",M0o.Smooth,"_ROCx10 " + T7E.name,0,"_EMAx10",n3e,T7E);T7z.Studies.MA(q4O,M0o.Double,w2H + T7E.name,0,"PMO",n3e,T7E);T7z.Studies.MA("exponential",M0o.Signal,"PMO " + T7E.name,0,"PMOSignal",n3e,T7E);T7E.zoneOutput=d9U;};q6C=413907439;l53=53707991;B$R=2;for(var e2q=1;M2T.c2O(e2q.toString(),e2q.toString().length,1607) !== q6C;e2q++){x73="0";x73+=".05";I24="a";I24+="u";I24+="t";I24+="o";b5e="fi";b5e+="e";b5e+="l";b5e+="d";U2s="Pri";U2s+="ce Momentum";U2s+=" Oscillator";T7z.Studies.studyLibrary=T7z.extend(T7z.Studies.studyLibrary,{PMO:{name:U2s,calculateFN:T7z.Studies.calculatePMO,inputs:{Field:b5e,"Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:2.5,studyOverBoughtColor:I24,studyOverSoldValue:-+"2.5",studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:x73}}}});B$R+=2;}if(M2T.c2O(B$R.toString(),B$R.toString().length,"29008" | 0) !== l53){z1i="Signal Peri";z1i+="o";z1i+="d";x5Y="0";x5Y+=".";x5Y+="0";x5Y+="5";R2s="0";R2s+=".";R2s+="0";R2s+="5";E_7="0";E_7+=".";E_7+="05";T7z.Studies.studyLibrary=T7z.extend(T7z.Studies.studyLibrary,{PMO:{name:"field",calculateFN:T7z.Studies.calculatePMO,inputs:{Field:E_7,"Smoothing Period":38,"Double Smoothing Period":96,"Signal Period":90},outputs:{PMO:R2s,PMOSignal:"Signal Period"},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:"549" | 0,studyOverBoughtColor:x5Y,studyOverSoldValue:~763,studyOverSoldColor:"Signal Period"}},attributes:{studyOverBoughtValue:{min:9,step:z1i},studyOverSoldValue:{max:3,step:"0.05"}}}});}}};y_=Y8k=>{var S4g=e9J1I;var Q$R,n3v,N0D,d0s,w9e,q6g,s3G,u5n,L2t;S4g.d$I();Q$R=typeof _CIQ !== "undefined"?_CIQ:Y8k.CIQ;if(!Q$R.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {n3v="0";n3v+=".";n3v+="1";N0D="#FF00";N0D+="00";d0s="#";d0s+="0";d0s+="0D";d0s+="D00";w9e="v";w9e+="d";w9e+="ma";q6g="RA";q6g+="V";q6g+="I";s3G="Vol";s3G+="ume Oscillator";u5n="f";u5n+="i";u5n+="el";u5n+="d";L2t="Price Oscil";L2t+="lator";Q$R.Studies.calculatePriceOscillator=function(V6M,R0L){var v$I,P2I,G1i,D9v,R$r,T8m,U8w,h0R,C2G,Q5j,G9n,y7E,F_d,J60,A5O,x95,h5e,J3l,t7X;v$I="P";v$I+="erc";v$I+="e";v$I+="nt";P2I="P";P2I+="oi";P2I+="nts ";P2I+="Or Percent";G1i="Cl";G1i+="o";G1i+="s";G1i+="e";D9v="Moving Averag";D9v+="e Type";R$r="Long Cyc";R$r+="le";T8m=R0L.chart.scrubbed;U8w=Number(R0L.inputs["Short Cycle"]);h0R=Number(R0L.inputs[R$r]);if(T8m.length < Math.max(U8w,h0R) + 1){R0L.error=!![];C2G=-1043510790;Q5j=-1794462429;G9n=2;for(var d7I=1;S4g.D29(d7I.toString(),d7I.toString().length,26526) !== C2G;d7I++){return;}if(S4g.D29(G9n.toString(),G9n.toString().length,82622) !== Q5j){return;}return;}y7E=R0L.inputs.Field;F_d=R0L.inputs[D9v];if(!F_d){F_d="simple";}if(!y7E || y7E == "field"){y7E=G1i;}if(R0L.parameters.isVolume){y7E="Volume";F_d="exponential";}J60=R0L.inputs[P2I];if(!J60){J60=v$I;}Q$R.Studies.MA(F_d,U8w,y7E,+"0","_Short MA",V6M,R0L);S4g.l13(7);Q$R.Studies.MA(F_d,h0R,y7E,S4g.C0r("0",0),"_Long MA",V6M,R0L);for(var f4j=Math.max(h0R,R0L.startFrom);f4j < T8m.length;f4j++){A5O="_";A5O+="Long M";A5O+="A";A5O+=" ";x95=T8m[f4j];if(!x95)continue;h5e=x95["_Short MA " + R0L.name];J3l=x95[A5O + R0L.name];if((h5e || h5e === 0) && (J3l || J3l === +"0")){if(J60 == "Points"){S4g.x49(6);x95["Result " + R0L.name]=S4g.C0r(h5e,J3l);}else {S4g.l13(142);x95["Result " + R0L.name]=S4g.O_1(h5e,1,100,J3l);}if(R0L.outputs["Increasing Bar"]){t7X="Resu";t7X+="lt";t7X+=" ";x95[R0L.name + "_hist"]=x95[t7X + R0L.name];R0L.outputMap={};R0L.outputMap[R0L.name + "_hist"]="";}}}};Q$R.Studies.displayRAVI=function(s63,R3x,H9L){var m83,J_4,N6a,J1X,O1T,c_0,e1b,I9C,R$Y,q8l,k89,B$O,p81,t4V,A$r,a$a,j9S,B0E;m83="stx_histogra";m83+="m";J_4="Decreas";J_4+="ing ";J_4+="B";S4g.d$I();J_4+="ar";N6a=s63.panels[R3x.panel];J1X=R3x.getContext(s63);O1T=R3x.getYAxis(s63);c_0=s63.pixelFromPrice(0,N6a,O1T);S4g.x49(4);var S4K=S4g.O_1(12,22,32);e1b=s63.layout.candleWidth - S4K;if(e1b < 2){e1b=+"1";}I9C=Q$R.Studies.determineColor(R3x.outputs["Increasing Bar"]);R$Y=Q$R.Studies.determineColor(R3x.outputs[J_4]);s63.startClip(R3x.panel);s63.canvasColor(m83);if(!R3x.underlay){J1X.globalAlpha=1;}if(!R3x.highlight && s63.highlightedDraggable){J1X.globalAlpha*=0.3;}for(var g74=0;g74 < H9L.length;g74++){q8l="_his";q8l+="t";k89="#";k89+="CCCC";k89+="CC";B$O="_";B$O+="hist";p81=0;t4V=H9L[g74];S4g.l13(6);A$r=H9L[S4g.C0r(g74,1)];if(!A$r){A$r=s63.getPreviousBar(s63.chart,R3x.name + "_hist",g74);}if(!t4V)continue;a$a=+"0";j9S=0;if(R3x.parameters && R3x.parameters.studyOverZonesEnabled){a$a=parseFloat(R3x.parameters.studyOverBoughtValue);j9S=parseFloat(R3x.parameters.studyOverSoldValue);}if(s63.cleanupGaps === "stretch"){while(H9L[g74 + 1]){S4g.l13(2);B0E=H9L[S4g.C0r(g74,1)][R3x.name + "_hist"];if(B0E || B0E === 0 || H9L[g74 + 1].futureTick)break;p81++;g74++;}}if(!A$r || A$r[R3x.name + "_hist"] === undefined){A$r=s63.getPreviousBar(s63.chart,R3x.name + "_hist",g74 - p81);}if(!A$r){J1X.fillStyle="#CCCCCC";}else if(t4V[R3x.name + "_hist"] > a$a && A$r[R3x.name + "_hist"] < t4V[R3x.name + B$O]){J1X.fillStyle=I9C;}else if(t4V[R3x.name + "_hist"] < j9S && A$r[R3x.name + "_hist"] > t4V[R3x.name + "_hist"]){J1X.fillStyle=R$Y;}else {J1X.fillStyle=k89;}if(t4V.candleWidth){e1b=Math.floor(Math.max("1" * 1,t4V.candleWidth - 2));}J1X.fillRect(Math.floor(s63.pixelFromBar(g74 - p81,N6a.chart) - e1b / 2),Math.floor(c_0),Math.floor(e1b + p81 * s63.layout.candleWidth),Math.floor(s63.pixelFromPrice(t4V[R3x.name + q8l],N6a,O1T) - c_0));}s63.endClip();};Q$R.Studies.studyLibrary=Q$R.extend(Q$R.Studies.studyLibrary,{"Price Osc":{name:L2t,calculateFN:Q$R.Studies.calculatePriceOscillator,inputs:{Field:u5n,"Short Cycle":12,"Long Cycle":+"26","Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:s3G,calculateFN:Q$R.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!0}}},RAVI:{name:q6g,seriesFN:Q$R.Studies.displayRAVI,calculateFN:Q$R.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":w9e,"Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":d0s,"Decreasing Bar":N0D},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:"0" << 64,step:n3v}}}});}};m4=b6T=>{var y9n,S2$,G3A,n7u,w1M;y9n=typeof _CIQ !== "undefined"?_CIQ:b6T.CIQ;if(!y9n.Studies){S2$="primeNumber feature requires ";S2$+="first activating ";S2$+="studies feature.";console.error(S2$);}else {G3A="a";G3A+="u";G3A+="to";n7u="a";n7u+="ut";n7u+="o";w1M="Pr";w1M+="im";w1M+="e Number Band";w1M+="s";y9n.Studies.calculatePrimeNumber=function(R4C,a5g){var m8m=e9J1I;var B8m,E06,f_e,T8P,y40,v5l,p6N,t56,K5r,d8M;m8m.R7g();B8m=[];E06=a5g.chart.scrubbed;for(var N_k=a5g.startFrom;N_k < E06.length;N_k++){f_e=E06[N_k];if(!f_e)continue;T8P=f_e.High;if(!isNaN(T8P)){for(var i06=0;T8P > 0 && T8P <= 10;i06++){T8P*=10;}if(H7U(T8P)){T8P+=+"2";}T8P=Math.ceil(T8P);if(T8P % 2 === 0){T8P++;}while(!H7U(T8P)){T8P+=2;}m8m.x49(41);T8P/=Math.pow(m8m.O_1("10",0),i06);}y40=f_e.Low;if(!isNaN(y40)){for(var m9U=0;y40 > 0 && y40 <= 10;m9U++){y40*=10;}if(H7U(y40)){m8m.l13(6);y40-=m8m.O_1("2",0);}y40=Math.floor(y40);if(y40 % 2 === 0){y40--;}if(y40 > 0){while(!H7U(y40)){m8m.l13(6);y40-=m8m.O_1("2",0);}y40/=Math.pow(10,m9U);}}if(a5g.type == "Prime Number Bands"){v5l="Pr";v5l+="ime Bands Bottom ";if(!isNaN(T8P)){f_e["Prime Bands Top " + a5g.name]=T8P;}if(!isNaN(y40)){f_e[v5l + a5g.name]=Math.max(0,y40);}}else {p6N="Re";p6N+="sult ";t56=0;m8m.x49(148);var m3P=m8m.O_1(84,14,14,15);K5r=a5g.inputs["Tolerance Percentage"] * (T8P - y40) / m3P;m8m.l13(13);var t_$=m8m.C0r(9,11);d8M=T8P + y40 - t_$ * f_e.Close;if(d8M < K5r){t56=1;}else if(d8M > K5r){t56=-1;}if(t56){f_e[p6N + a5g.name]=t56;}}}function H7U(A8K){m8m.d$I();var b6e,c0Q,h_F,M7v;if(A8K <= 0){return !!0;}else if(A8K != Math.floor(A8K)){return !"1";}else if(B8m[A8K] === !![] || B8m[A8K] === !!0){return B8m[A8K];}b6e=parseInt(Math.sqrt(A8K),"10" | 2);for(var m$Y=+"2";m$Y <= b6e;m$Y++){if(A8K % m$Y === 0){B8m[A8K]=!({});return !"1";}}B8m[A8K]=!!({});c0Q=-999048608;h_F=910985010;M7v=2;for(var F8o=1;m8m.D29(F8o.toString(),F8o.toString().length,98087) !== c0Q;F8o++){return !!({});}if(m8m.c2O(M7v.toString(),M7v.toString().length,+"33255") !== h_F){return ![];}}};y9n.Studies.studyLibrary=y9n.extend(y9n.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:y9n.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:"0.1" * 1,step:0.1}}},"Prime Number Bands":{name:w1M,overlay:!!"1",calculateFN:y9n.Studies.calculatePrimeNumber,seriesFN:y9n.Studies.displayChannel,inputs:{"Channel Fill":!!1},outputs:{"Prime Bands Top":n7u,"Prime Bands Bottom":G3A,"Prime Bands Channel":"auto"}}});}};X6=d0Q=>{var u97,Y6t,y7P,D9n,S3R,B9G;u97="undefin";u97+="ed";Y6t=typeof _CIQ !== u97?_CIQ:d0Q.CIQ;if(!Y6t.Studies){console.error("pring feature requires first activating studies feature.");}else {y7P="d";y7P+="a";y7P+="i";y7P+="ly";D9n="fie";D9n+="ld";S3R="Pring";S3R+="'s Special K";B9G="#";B9G+="FF0000";Y6t.Studies.calculateKST=function(P3G,j6I){var H4J=e9J1I;var a0E,J0T,E9A,q3w,c5F,p$V,s6I,W2M,Q1r,k1B,I3s,Q6q,z47,B0n,N9G;a0E="K";a0E+="STSignal";J0T="KS";J0T+="T";J0T+=" ";E9A="Heavi";E9A+="est";E9A+=" Rat";E9A+="e of Change Period";q3w="Lightes";q3w+="t Rate o";q3w+="f Change Period";c5F="fie";c5F+="ld";p$V=j6I.chart.scrubbed;s6I=j6I.inputs.Field;if(!s6I || s6I == c5F){s6I="Close";}W2M={};Q1r={};W2M[+"1"]=Number(j6I.inputs[q3w]);W2M[2]=Number(j6I.inputs["Light Rate of Change Period"]);W2M[3]=Number(j6I.inputs["Heavy Rate of Change Period"]);W2M[4]=Number(j6I.inputs[E9A]);Q1r[1]=Number(j6I.inputs["Lightest SMA Period"]);Q1r[2]=Number(j6I.inputs["Light SMA Period"]);Q1r[3]=Number(j6I.inputs["Heavy SMA Period"]);Q1r[4]=Number(j6I.inputs["Heaviest SMA Period"]);k1B=Number(j6I.inputs["Signal Period"]);for(I3s=j6I.startFrom;I3s < p$V.length;I3s++){if(!p$V[I3s])continue;for(Q6q=1;Q6q <= 4;Q6q++){if(I3s >= W2M[Q6q] && p$V[I3s - W2M[Q6q]] && Y6t.Studies.getQuoteFieldValue(p$V[I3s - W2M[Q6q]],s6I)){H4J.l13(149);var U45=H4J.C0r(7,7,0,2,3);H4J.l13(6);var C$y=H4J.C0r(4,3);H4J.x49(30);var S9j=H4J.O_1(16560,57960,4);H4J.l13(6);var Y8x=H4J.O_1(117,17);p$V[I3s]["_ROC" + Q6q + (429.45 == +"8570"?(465.97,"m"):"34.19" * U45 == (74.27,43.36)?("708" * C$y,S9j) <= "6220" << 0?(+"8.00e+0",+"0x24dd"):(217.40,"p"):" ") + j6I.name]=Y8x * (Y6t.Studies.getQuoteFieldValue(p$V[I3s],s6I) / Y6t.Studies.getQuoteFieldValue(p$V[I3s - W2M[Q6q]],s6I) - +"1");}}}for(Q6q=1;Q6q <= 4;Q6q++){z47="_";z47+="R";z47+="O";z47+="C";Y6t.Studies.MA("simple",Q1r[Q6q],z47 + Q6q + ((8110,8010) <= (251.68,400.78)?"T":(1075,7347) !== (326.73,5980)?" ":+"6.34e+3") + j6I.name,0,"_SMA" + Q6q,P3G,j6I);}H4J.d$I();for(I3s=j6I.startFrom;I3s < p$V.length;I3s++){B0n="K";B0n+="S";B0n+="T";B0n+=" ";p$V[I3s][B0n + j6I.name]=null;for(Q6q=+"1";Q6q <= 4;Q6q++){N9G=p$V[I3s]["_SMA" + Q6q + " " + j6I.name];if(N9G || N9G === 0){H4J.l13(20);p$V[I3s]["KST " + j6I.name]+=H4J.C0r(N9G,Q6q);}}}Y6t.Studies.MA("simple",k1B,J0T + j6I.name,0,a0E,P3G,j6I);};Y6t.Studies.calculateSpecialK=function(t4y,q6q){var g0w=e9J1I;var W4L,t2d,S3h,t9Y,Z5E,Z8X,X6a,G4F,M$_,C2N,T14;W4L="dai";W4L+="ly";t2d="C";t2d+="lo";t2d+="s";t2d+="e";S3h="fie";S3h+="l";S3h+="d";t9Y=q6q.chart.scrubbed;Z5E=q6q.inputs.Field;if(!Z5E || Z5E == S3h){Z5E=t2d;}Z8X=q6q.inputs.Interval;if(!Z8X){Z8X=W4L;}X6a={daily:[10,"15" << 64,20,30,50,"65" ^ 0,75,100,195,265,390,530],weekly:[4,5,6,8,10,13,+"15",20,39,"52" * 1,78,"104" ^ 0]};G4F={daily:[10,10,10,15,50,65,75,100,130,130,130,195],weekly:[4,5,6,8,10,13,15,20,26,26,26,39]};for(M$_=q6q.startFrom;M$_ < t9Y.length;M$_++){if(!t9Y[M$_])continue;for(C2N=+"0";C2N < X6a[Z8X].length;C2N++){if(M$_ >= X6a[Z8X][C2N] && Y6t.Studies.getQuoteFieldValue(t9Y[M$_ - X6a[Z8X][C2N]],Z5E) !== null){g0w.x49(16);var d8U=g0w.O_1(4,229,8464,14);g0w.x49(124);var i1a=g0w.C0r(14850,2,89100,5937);g0w.l13(150);var r9s=g0w.O_1(52910,52910,4790,14,5);g0w.x49(151);var k1m=g0w.O_1(10,18,35838,10,3975);g0w.x49(2);var J0q=g0w.C0r(9201,11);g0w.l13(152);var T2C=g0w.C0r(4,114,572,18,13);g0w.x49(153);var U$p=g0w.C0r(12,575,3,1,16);g0w.l13(148);var A5B=g0w.C0r(13,5497,1,7);g0w.x49(4);var s5z=g0w.O_1(8,63310,58448);g0w.x49(154);var u6n=g0w.O_1(615052,9,14,3,22831);g0w.l13(58);var f_M=g0w.C0r(92,18,20,6);t9Y[M$_]["_ROC" + C2N + (d8U <= i1a?(r9s,k1m) === (J0q,T2C)?("798.02" * U$p,A5B):" ":(s5z,u6n)) + q6q.name]=f_M * (Y6t.Studies.getQuoteFieldValue(t9Y[M$_],Z5E) / Y6t.Studies.getQuoteFieldValue(t9Y[M$_ - X6a[Z8X][C2N]],Z5E) - ("1" >> 0));}}}for(C2N=0;C2N < G4F[Z8X].length;C2N++){Y6t.Studies.MA(Z8X == "daily"?"simple":"exponential",G4F[Z8X][C2N],"_ROC" + C2N + ((8490,8510) !== (8200,854.03)?" ":(354.96,552.54) != 772.52?450.72:(+"0x1e3a",+"9.72e+3")) + q6q.name,0,"_MA" + C2N,t4y,q6q);}for(M$_=q6q.startFrom;M$_ < t9Y.length;M$_++){t9Y[M$_]["Result " + q6q.name]=null;for(C2N=0;C2N < G4F[Z8X].length;C2N++){T14=t9Y[M$_]["_MA" + C2N + " " + q6q.name];if(T14 || T14 === 0){g0w.l13(155);t9Y[M$_]["Result " + q6q.name]+=g0w.O_1(C2N,1,4,T14);}}}};Y6t.Studies.studyLibrary=Y6t.extend(Y6t.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:Y6t.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":+"15","Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:B9G}},"Pring Sp-K":{name:S3R,calculateFN:Y6t.Studies.calculateSpecialK,inputs:{Field:D9n,Interval:[y7P,"weekly"]}}});}};q7=k5p=>{var d0P=e9J1I;var I9j,S_h,n4n,m1p,v2E,R2D,I1n,S0g,P5G;I9j="un";I9j+="d";I9j+="efined";S_h="u";d0P.R7g();S_h+="ndefi";S_h+="ned";n4n=typeof _CIQ !== S_h?_CIQ:k5p.CIQ;m1p=typeof _timezoneJS !== I9j?_timezoneJS:k5p.timezoneJS;if(!n4n.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!n4n.Studies.studyLibrary.PVAT){v2E="h";v2E+="h:mm:ss";R2D="#fe6";R2D+="4";R2D+="1c";I1n="-10";I1n+="0";I1n+="%";S0g="-";S0g+="2";S0g+="5";S0g+="%";P5G="+";P5G+="75";P5G+="%";n4n.Studies.initProjectedVolume=function(w9k,H34,P$y,V0M,j2n,z2f){var n7k,v4H,y52;n7k="An";d0P.R7g();n7k+="chor";n7k+=" Time";var {market:W6n}=w9k.chart;v4H="00:00";if(W6n){v4H=W6n.getNormalOpen();}if(v4H.match(/^[\d]{2}:[\d]{2}$/)){v4H+=":00";}if(!P$y["Anchor Time"] || !P$y[n7k].length){P$y["Anchor Time"]=v4H;}y52=n4n.Studies.initializeFN(w9k,H34,P$y,V0M,j2n,z2f);if(!w9k.currentlyImporting){y52.defaultAnchorTime=v4H;}return y52;};n4n.Studies.validateProjectedVolumeLookback=function(W8m,p$F){var {interval:c5J, periodicity:O4f}=W8m.layout;var {"Lookback Days":T7g}=p$F.inputs;d0P.x49(156);return d0P.O_1(10,c5J,T7g,O4f);};n4n.Studies.calculateProjectedVolume=function(S4N,y3B){var o2m,I6t,b9W,y4h,m2Q,t4g,O_m,e7i,w3c,e7E,J$I,l9$,j2R,Z0g,M7g,b3n,z2n,n6u,U1f,K1x,C52,t5e,H_7,X4K,G8P,n1c,e$5,e9w,v0p,A5o,E6j,j$C,r7U,S2D,U3q,P3L,z85,V8s,E4p,o$a,u9I,N3P,d9q,r6j,q7H,G_H,Q5V,G3s,y0e,u$v,B9s,i6X,O3x,A7v,i63,N05,n4X,Z2R,W4b,V_k;o2m="Aver";o2m+="ag";o2m+="e L";function Y2S(R_m,B_v,h1p){while(B_v){R_m=new Date(new Date(R_m).setDate(R_m.getDate() + (h1p?1:-("1" << 32))));if(n03.isMarketDate(R_m)){B_v--;}}return R_m;}o2m+="ine";I6t="PV";I6t+=" ";b9W="Mar";b9W+="ket.Symbology.isForex";b9W+="Symbol";y4h=":";y4h+="00";m2Q="o";m2Q+="h";m2Q+="l";m2Q+="c";t4g="t";t4g+="ick";var {interval:S4b, timeUnit:W9C, aggregationType:Q4P}=S4N.layout;var {symbol:f1d, scroll:N7g, scrubbed:O9d, market:n03}=S4N.chart;O_m=y3B.type === "PAV";e7i=y3B.study?y3B.study.name:y3B.type;if(n4n.ChartEngine.isDailyInterval(S4b)){y3B.error=`${e7i} is Intraday Only`;}else if(W9C === t4g){y3B.error=`Tick mode not supported for ${e7i}`;}else if(W9C !== "minute"){d0P.l13(2);y3B.error=`${d0P.O_1("Sub-m","inute periodicities not supported for ")}${e7i}`;}else if(!Q4P || ![m2Q,"heikinashi"].includes(Q4P)){d0P.x49(56);y3B.error=`${d0P.O_1(" ","pported for","Aggregation type not su")}${e7i}`;}else if(!n4n.Studies.validateProjectedVolumeLookback(S4N,y3B)){w3c=-+"72299710";e7E=357316232;J$I=2;for(var t4R=1;d0P.c2O(t4R.toString(),t4R.toString().length,81693) !== w3c;t4R++){y3B.error=`Selected lookback/periodicity combo not supported for ${e7i}`;J$I+=2;}if(d0P.c2O(J$I.toString(),J$I.toString().length,63646) !== e7E){y3B.error=`Selected lookback/periodicity combo not supported for ${e7i}`;}y3B.error=`Selected lookback/periodicity combo not supported for ${e7i}`;}if(y3B.error){return;}if(y3B.inputs["Anchor Selector"]){n4n.Studies.initAnchorHandle(S4N,y3B);}else {n4n.Studies.removeAnchorHandle(S4N,y3B);}function i75(p4f){d0P.R7g();return {hours:p4f.getHours(),minutes:p4f.getMinutes()};}l9$=n03?n03.getNormalOpen():"00:00";if(l9$.match(/^[\d]{2}:[\d]{2}$/)){l9$+=y4h;}if(!S4N.currentlyImporting){if(!y3B.defaultAnchorTime){y3B.defaultAnchorTime=l9$;}else if(l9$ !== y3B.defaultAnchorTime){y3B.defaultAnchorTime=l9$;y3B.inputs["Anchor Time"]=l9$;n4n.Studies.repositionAnchor(S4N,y3B);return;}}function Z7L(v5W,x6v){var b2H,v8C,P1z;b2H=w26(v5W);v8C=n03.getOpen(b2H) || S9a(b2H);P1z=D_E(v8C);if(!x6v){return P1z;}if(P1z < "0" >> 32){P1z=D_E(Y2S(v8C,1,!!({})));}if(P1z >= O9d.length){return !({});}return P1z;}function D_E(K2s){d0P.d$I();return S4N.tickFromDate(K2s,null,null,!0,"scrubbed");}var {"Lookback Days":g9j, "Anchor Time":r81}=y3B.inputs;var [t60,l7L,p8z = +"0"]=r81.split(":");j2R=n4n.getFn(b9W)(f1d);Z0g=y3B.getDependents(S4N);M7g=0;b3n=[];Z0g.forEach(({inputs:o1d, outputMap:Q$A})=>{if(o1d.Period){M7g=Math.max(parseInt(o1d.Period),M7g);b3n.push(...Object.keys(Q$A));}});y3B.dependentsOutputMap=b3n;n6u=Z7L(O9d.length - 1,!![]);U1f=Math.ceil(O9d.length - 1 - N7g);d0P.x49(6);K1x=Z7L(d0P.C0r(U1f,M7g));if(j2R && O9d[K1x] && n4n.dateToStr(O9d[K1x].DT,"HH:mm") !== l9$){d0P.l13(6);K1x=Z7L(d0P.C0r(K1x,1));;}if(!j2R && y3B.startFrom > K1x && O9d[K1x] && O9d[K1x]["V " + y3B.name] !== undefined && b3n.every(L0D=>{d0P.R7g();return ![undefined,null].includes(O9d[K1x][L0D]);}) && n6u !== ![]){z2n=n6u;;}else {z2n=K1x;}C52=Y2S(w26(K1x),g9j);d0P.l13(0);C52.setHours(d0P.O_1(96,"0"),0,0);function H6n(R6E){d0P.d$I();console.error(`${"Expected d" + "ata f" + "or" + " "}${w26(R6E).toDateString()}${" but found none. This may be caused by gaps in your data or an improperly co" + "nfigured market definition."}`);}t5e=Z7L(0,!"");H_7=(t5e || t5e === 0) && D_E(Y2S(O9d[t5e].DT,g9j,!0));if(O9d[0].DT > C52){if(S4N.quoteDriver){if(y3B.chart.endPoints.begin > C52){S4N.quoteDriver.extendHistoricalData({from:C52});}if(H_7 > 0){z2n=H_7;}else {return;}}else {X4K=171740823;G8P=-31727217;n1c=2;for(var z5U=1;d0P.c2O(z5U.toString(),z5U.toString().length,52992) !== X4K;z5U++){return y3B.error=`Not enough data to calculate ${e7i}`;}if(d0P.c2O(n1c.toString(),n1c.toString().length,16676) !== G8P){return y3B.error=`Not enough data to calculate ${e7i}`;}d0P.l13(56);return y3B.error=`${d0P.C0r("to calculate ","t enough data ","No")}${e7i}`;}}if(z2n < 0 || z2n > O9d.length - 1){return;}e$5=O9d.length - y3B.startFrom === 1 && y3B.cachedFutureTicks && y3B.cachedLastProjection && +y3B.cachedLastProjection.DT === +O9d[O9d.length - 1].DT && O9d[z2n]["PV " + y3B.name];if(e$5){e9w="PV";e9w+=" ";d0P.l13(13);var x3b=d0P.O_1(9,10);O9d[O9d.length - x3b][e9w + y3B.name]=y3B.cachedLastProjection.projectedValue;y3B.appendFutureTicks(S4N,y3B.cachedFutureTicks);z2n=y3B.startFrom;}else {y3B.cachedFutureTicks=null;y3B.cachedLastProjection=null;v0p=[n6u];A5o=[];for(var S9z=0;S9z < g9j;S9z++){E6j=Z7L(v0p[0] - ("1" >> 64));v0p.unshift(E6j);;}while(v0p[g9j] >= z2n){j$C=v0p.pop();if(!O9d[j$C]){return H6n(j$C);}r7U=i75(O9d[j$C].DT);var {hours:m_5, minutes:l3F}=r7U;S2D=n03.getClose(O9d[j$C].DT);U3q=void 0;if(!S2D){U3q={hours:24,minutes:0};}else {P3L=n03.getNextClose(O9d[j$C].DT);U3q=i75(S2D);while(!(U3q.hours === 0 && U3q.minutes === 0) && S2D.getDate() === P3L.getDate()){S2D=P3L;P3L=n03.getNextClose(P3L);}U3q=i75(S2D);if(U3q.hours === "0" << 0){d0P.x49(20);U3q.hours=d0P.C0r(1,"24");}}z85=v0p.slice();for(var i1F=0;i1F < z85.length;i1F++){V8s=z85[i1F];if(!O9d[V8s]){return H6n(V8s);}var {hours:q5c, minutes:P_P}=i75(O9d[V8s].DT);if(q5c < m_5 || q5c === m_5 && P_P < l3F){do {V8s++;({hours:q5c, minutes:P_P}=i75(O9d[V8s].DT));}while(!(q5c === m_5 && P_P === l3F));}z85[i1F]=V8s;}while(m_5 < U3q.hours || m_5 === U3q.hours && l3F < U3q.minutes){E4p=!"1";o$a=void 0;u9I=void 0;N3P=0;d9q=0;for(var A5X=0;A5X < z85.length;A5X++){r6j=z85[A5X];if(r6j === null)continue;q7H=O9d[r6j];if(!q7H){return H6n(r6j);}var {hours:u71, minutes:t9r}=i75(q7H.DT);G_H=q7H.DT.getDate();if(u71 === m_5 && t9r === l3F){N3P+=q7H.Volume;d9q++;z85[A5X]++;if(O9d[z85[A5X]].DT.getDate() !== G_H){z85[A5X]=null;}else if(!E4p){({hours:o$a, minutes:u9I}=i75(O9d[z85[A5X]].DT));E4p=!![];;}}}m_5=o$a;l3F=u9I;if(d9q === 0)break;d0P.x49(11);Q5V=d0P.C0r(N3P,d9q);if(O9d[j$C]){O9d[j$C]["PV " + y3B.name]=Q5V;}else {A5o.push({["PV " + y3B.name]:Q5V});}j$C++;}v0p.unshift(Z7L(v0p[+"0"] - 1));;}y3B.cachedLastProjection={DT:O9d[O9d.length - 1].DT,projectedValue:O9d[O9d.length - 1]["PV " + y3B.name]};y3B.cachedFutureTicks=A5o;y3B.appendFutureTicks(S4N,A5o);}G3s=null;y0e=0;u$v=0;function w26(q2J){d0P.d$I();return S4N.dateFromTick(q2J,null,!0,"scrubbed");}if(e$5 && O_m){while(z2n > 0){d0P.x49(22);i6X=O9d[d0P.C0r("1",z2n,1)]["V " + y3B.name];if(i6X || i6X === 0){y0e=i6X;break;}z2n--;}}for(var B6a=z2n;B6a < O9d.length;B6a++){O3x="A";O3x+="merica/New_York";A7v=O9d[B6a];i63=A7v.Volume;N05=A7v["PV " + y3B.name];if(!A7v.futureTick){B9s=B6a;}if(G3s === null){G3s=n4n.Studies.getMarketOffset({stx:S4N,localQuoteDate:O9d[B6a].DT,shiftToDateBoundary:!!"1"});}n4X=new Date(new Date(A7v.DT).getTime() + G3s);Z2R=O9d[B6a - +"1"] && new Date(new Date(O9d[B6a - 1].DT).getTime() + G3s);W4b=new m1p.Date(A7v.DT,n03.market_def.market_tz || O3x);W4b.setHours(t60,l7L,p8z);d0P.x49(2);W4b=new Date(d0P.O_1(W4b,G3s));W4b.setDate(n4X.getDate());if(Z2R && n4X.getDate() !== Z2R.getDate()){G3s=null;y0e=0;u$v=0;}if(n4X < W4b){V_k="PV";V_k+=" ";A7v["V " + y3B.name]=0;A7v[V_k + y3B.name]=0;continue;}if(O_m){y0e+=i63;u$v+=N05;}else {y0e=i63;u$v=N05;}A7v["V " + y3B.name]=y0e;if(!e$5){A7v["PV " + y3B.name]=u$v;}if([NaN,null,undefined].includes(y0e) && !A7v.futureTick){d0P.x49(107);y3B.error=`${e7i}${d0P.O_1(" req","ui","res v","olume")}`;return;}}y3B.cachedLastProjection.projectedValue=O9d[B9s]["PV " + y3B.name];y3B.outputMap={};function S9a(J_o){var P8h;J_o.setHours(0);J_o.setMinutes(+"0");P8h=n4n.Studies.getMarketOffset({stx:S4N,localQuoteDate:J_o});return new Date(J_o.getTime() + P8h);}y3B.outputMap["V " + y3B.name]="";y3B.outputMap[I6t + y3B.name]=o2m;Z0g.forEach(y4S=>{y4S.startFrom=z2n;y4S.study.calculateFN(S4N,y4S);});};n4n.Studies.displayProjectedVolume=function(a8x,b$N,b5i){var W0G,J3X,M8N,z0b,P_0,J7L,n2i,z2R,P4b,v2b,n0k;W0G="V";W0G+=" ";if(b$N.error){return n4n.Studies.removeAnchorHandle(a8x,b$N);}var {"Alert Threshold":h$w = ""}=b$N.inputs;d0P.l13(157);var i_n=d0P.O_1(4,6,15,5,15);d0P.l13(8);var f0n=d0P.O_1(16,16,10);J3X=parseInt(h$w.slice(0,i_n),f0n) / ("100" - 0);M8N=b$N.outputs["Alert Bar"];if(typeof M8N === "object"){M8N=M8N.color;}b$N.volumeField=W0G + b$N.name;b$N.alignStepToSide=!!({});b$N.extendToEndOfLastBar=!!({});b$N.lineWidth=+"2";z0b=a8x.canvasStyle("stx_volume_underlay_up").opacity;P_0=a8x.canvasStyle("stx_volume_underlay_down").opacity;b$N.colorFunction=function(r0o){var D3x,S39,n7h,g7k,L9Y,G31,W$U;D3x="V";D3x+=" ";var {Open:V$R, Close:l8T, iqPrevClose:r0N}=r0o;S39=a8x.colorByCandleDirection?V$R:r0N;d0P.l13(158);n7h=d0P.C0r(S39,l8T);g7k=r0o["PV " + b$N.name];L9Y=r0o[D3x + b$N.name];d0P.x49(159);G31=d0P.O_1(J3X,1,g7k);d0P.R7g();W$U=J3X < 0?L9Y < G31:L9Y > G31;return {fill_color:W$U && M8N || (n7h?this.fill_color_down:this.fill_color_up),border_color:n7h?this.border_color_down:this.border_color_up,opacity:W$U?1:n7h?P_0:z0b,border_opacity:n7h?P_0:z0b};};J7L=b$N.study?b$N.study.name:b$N.type;d0P.d$I();var {loadingMore:m1b}=a8x.chart;n2i=b5i.some(D$8=>{return D$8 && D$8[b$N.volumeField] && D$8["PV " + b$N.name];});z2R=b5i["0" * 1] && !b5i[0].futureTick && (b5i["0" - 0]["PV " + b$N.name] === undefined || (b$N.dependentsOutputMap || []).some(g99=>{return [undefined,null].includes(b5i[+"0"][g99]);}));if(!n2i && m1b){P4b=1610776962;v2b=-+"740372714";n0k=2;for(var y_B=1;d0P.D29(y_B.toString(),y_B.toString().length,19158) !== P4b;y_B++){d0P.l13(56);return b$N.error=`${d0P.O_1(" "," data for","Fetching")}${J7L}`;}if(d0P.D29(n0k.toString(),n0k.toString().length,16970) !== v2b){d0P.l13(56);return b$N.error=`${d0P.O_1("r ","tching data fo","Fe")}${J7L}`;}return b$N.error=`Fetching data for ${J7L}`;}n4n.Studies.createVolumeChart(a8x,b$N,b5i);n4n.Studies.displaySeriesAsLine(a8x,b$N,b5i);if(b$N.anchorHandle){n4n.Studies.displayAnchorHandleAndLine(a8x,b$N,b5i);}if(z2R){n4n.Studies.calculateProjectedVolume(a8x,b$N);}};n4n.Studies.studyLibrary=n4n.extend(n4n.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:!""},calculateFN:n4n.Studies.calculateProjectedVolume,seriesFN:n4n.Studies.displayProjectedVolume,initializeFN:n4n.Studies.initProjectedVolume,removeFN:n4n.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%",P5G,"+50%","+25%","None",S0g,"-50%","-75%",I1n,"-125%","-150%"],"Anchor Selector":!!({})},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:!![]},calculateFN:n4n.Studies.calculateProjectedVolume,seriesFN:n4n.Studies.displayProjectedVolume,initializeFN:n4n.Studies.initProjectedVolume,removeFN:n4n.Studies.removeAnchorHandle,inputs:{"Lookback Days":"10" | 10,"Anchor Time":"","Anchor Selector":!""},outputs:{"Average Line":R2D,"Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:v2E,step:1}}}});}};i1=l7f=>{var G9P;G9P=typeof _CIQ !== "undefined"?_CIQ:l7f.CIQ;e9J1I.R7g();if(!G9P.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {G9P.Studies.calculatePsychologicalLine=function(u5d,S1z){var o1b,a5e,h$V,f5q,M8s;o1b=S1z.chart.scrubbed;if(o1b.length < S1z.days + 1){S1z.error=!0;return;}a5e=[];e9J1I.l13(160);var x$f=e9J1I.C0r(98,18,102,42);h$V=x$f / S1z.days;f5q=0;for(var w0U=Math.max(S1z.startFrom - S1z.days,1);w0U < o1b.length;w0U++){if(o1b[w0U].futureTick)break;M8s=Number(o1b[w0U].Close > o1b[w0U - 1].Close);if(M8s){f5q+=h$V;}a5e.push(M8s);if(a5e.length > S1z.days){f5q-=a5e.shift() * h$V;}if(w0U < S1z.startFrom)continue;if(!isNaN(o1b[w0U].Close)){o1b[w0U]["Result " + S1z.name]=f5q;}}};G9P.Studies.studyLibrary=G9P.extend(G9P.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:G9P.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};M5=Q78=>{var Y2M,d$S,t76;Y2M="un";Y2M+="define";Y2M+="d";d$S=typeof _CIQ !== Y2M?_CIQ:Q78.CIQ;if(!d$S.Studies){console.error("qstick feature requires first activating studies feature.");}else {t76="Q";t76+="S";t76+="ti";t76+="ck";d$S.Studies.calculateQStick=function(o63,b2r){var P14,J24;P14="Moving Averag";P14+="e Type";J24=b2r.chart.scrubbed;if(J24.length < b2r.days + 1){b2r.error=!![];return;}for(var z5T=b2r.startFrom;z5T < J24.length;z5T++){J24[z5T]["_Close-Open " + b2r.name]=J24[z5T].Close - J24[z5T].Open;}d$S.Studies.MA(b2r.inputs[P14],b2r.days,"_Close-Open " + b2r.name,0,"Result",o63,b2r);};d$S.Studies.studyLibrary=d$S.extend(d$S.Studies.studyLibrary,{QStick:{name:t76,calculateFN:d$S.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};H2=W$Y=>{var Y4t=e9J1I;Y4t.d$I();var Y3S,q0A,u6J,I12,W_Y;Y3S=typeof _CIQ !== "undefined"?_CIQ:W$Y.CIQ;if(!Y3S.Studies){console.error("rainbow feature requires first activating studies feature.");}else {q0A="#00";q0A+="0";q0A+="0FF";u6J="#7F";u6J+="F";u6J+="F0";u6J+="0";I12="#FF";I12+="7F";I12+="00";W_Y="#FF00";W_Y+="00";Y3S.Studies.calculateRainbow=function(u_s,P6H){var s1p,g47,J3$,l1U,f61,b10,t10,Q$_,b8y,Q4r,c_v,M10,Z75,W1Q;s1p="O";s1p+="s";s1p+="c";g47=P6H.chart.scrubbed;if(g47.length < P6H.days + 1){P6H.error=!!"1";return;}J3$=P6H.inputs.Field;if(!J3$ || J3$ == "field"){J3$="Close";}l1U=J3$;for(var q5s=1;q5s <= 10;q5s++){Y3S.Studies.MA("simple",P6H.days,l1U,0,"SMA" + q5s,u_s,P6H);Y4t.l13(46);var z1g=Y4t.C0r(3,45165,48932);Y4t.l13(161);var V84=Y4t.O_1(19,2,1,2,24);Y4t.l13(162);var k8l=Y4t.O_1(2642,2624,2645,16,18);Y4t.x49(50);var Z0z=Y4t.C0r(2799,18,20,10,14);Y4t.x49(4);var D1p=Y4t.C0r(14,3272,32);Y4t.x49(4);var k8O=Y4t.C0r(15,10860,5445);Y4t.x49(67);var y0s=Y4t.O_1(6226,10,13,4);l1U="SMA" + q5s + (38.63 <= 595.05?(580.11,780.26) !== (600.94,443.79)?(z1g,V84) >= (k8l,"9770" * Z0z)?(D1p,"471.88" - 0):" ":("t",k8O):y0s) + P6H.name;}for(var Y1I=Math.max(P6H.startFrom,10);Y1I < g47.length;Y1I++){f61="O";f61+="s";f61+="c";if(!g47[Y1I])continue;if(g47[Y1I].futureTick)break;b10=0;t10=0;Y4t.l13(6);var u3n=Y4t.O_1(0,1);Q$_=Number.MAX_VALUE * u3n;b8y=Number.MAX_VALUE;for(q5s=1;q5s <= +"10";q5s++){Y4t.x49(109);var P9j=Y4t.C0r(15,16,9171,1920087,14);Y4t.x49(6);var c2M=Y4t.O_1(601,13);Y4t.l13(144);var M5U=Y4t.C0r(8770,19,8,9,37);Y4t.x49(148);var s2N=Y4t.C0r(384,28,1,11);Y4t.l13(4);var g6F=Y4t.C0r(11,71952,65967);Y4t.x49(163);var m4D=Y4t.C0r(9362,1,9367,3127,19);Y4t.l13(119);var y2Z=Y4t.O_1(4,1,114,10,14);Q4r=g47[Y1I]["SMA" + q5s + (P9j > (c2M,M5U)?667.68 >= s2N?"6880" >> 0 !== g6F?" ":m4D:(!1,y2Z):260.52) + P6H.name];if(Q4r || Q4r === 0){b10+=Q4r;t10++;Q$_=Math.max(Q$_,Q4r);b8y=Math.min(b8y,Q4r);}}if(P6H.name.indexOf(f61) > -1){c_v="HHV/LL";c_v+="V Lookback";M10=s2w(P6H.inputs[c_v],Y1I);if(t10){Z75="Z";Z75+="ero ";W1Q="Over";W1Q+=" ";Y4t.x49(30);var u7E=Y4t.C0r(120,1580,14);Y4t.l13(13);var G0C=Y4t.O_1(8,9);g47[Y1I][P6H.name + "_hist"]=u7E * (Y3S.Studies.getQuoteFieldValue(g47[Y1I],J3$) - b10 / t10) / Math.max(0.000001,M10[G0C] - M10[0]);Y4t.x49(57);var t4U=Y4t.C0r(93,6,81,29);Y4t.x49(70);var c9K=Y4t.O_1(2,16,19,26);g47[Y1I]["Over " + P6H.name]=("100" << t4U) * (Q$_ - b8y) / Math.max(0.000001,M10[c9K] - M10[0]);g47[Y1I]["Under " + P6H.name]=-g47[Y1I][W1Q + P6H.name];g47[Y1I][Z75 + P6H.name]=0;}}}function s2w(i5k,O5k){var p6k,B7v;Y4t.x49(13);var l7w=Y4t.O_1(9,8);p6k=Number.MAX_VALUE * l7w;B7v=Number.MAX_VALUE;for(var E8X=O5k - i5k + 1;E8X <= O5k;E8X++){if(E8X < 0)continue;p6k=Math.max(p6k,g47[E8X].Close);B7v=Math.min(B7v,g47[E8X].Close);}return [B7v,p6k];}if(P6H.name.indexOf(s1p) > -+"1"){P6H.outputMap={};P6H.outputMap["Over " + P6H.name]="Positive Bar";P6H.outputMap["Under " + P6H.name]="Negative Bar";P6H.outputMap["Zero " + P6H.name]="";P6H.outputMap[P6H.name + "_hist"]="";}};Y3S.Studies.displayRainbowMA=function(p63,s2H,y5g){var s2c;Y4t.R7g();s2c=p63.panels[s2H.panel];for(var Q2R=+"10";Q2R > ("0" | 0);Q2R--){Y3S.Studies.displayIndividualSeriesAsLine(p63,s2H,s2c,"SMA" + Q2R + " " + s2H.name,y5g);}};Y3S.Studies.displayRainbowOsc=function(W_Z,M2R,Y7C){var w9B,I5l,a7H,c_W,d6t,z8_,Q2l,T8j,g8P,C9q,v2U,g4I,d9e,F$g,j8j,a35,q5D;w9B="#C";w9B+="CCCCC";I5l="Ove";I5l+="r ";a7H="Pos";a7H+="itive Bar";Y3S.Studies.displaySeriesAsLine(W_Z,M2R,Y7C);c_W=W_Z.panels[M2R.panel];d6t=M2R.getContext(W_Z);z8_=M2R.getYAxis(W_Z);W_Z.startClip(M2R.panel);if(!M2R.highlight && W_Z.highlightedDraggable){d6t.globalAlpha*=0.3;}Q2l=W_Z.pixelFromPrice(0,c_W,z8_);T8j=c_W.name != M2R.chart.name;g8P=Y3S.Studies.determineColor(M2R.outputs[a7H]);Y4t.R7g();d6t.strokeStyle=g8P;W_Z.plotDataSegmentAsLine(I5l + M2R.name,c_W,{skipTransform:T8j,label:!!"",yAxis:z8_});C9q=d6t.createLinearGradient(0,Q2l,0,z8_.flipped?z8_.bottom:z8_.top);Y4t.l13(7);C9q.addColorStop(Y4t.C0r("0",0),W_Z.containerColor);C9q.addColorStop(1,g8P);Y3S.prepareChannelFill(W_Z,{skipTransform:T8j,color:C9q,opacity:!M2R.highlight && W_Z.highlightedDraggable?0.3:1,panelName:M2R.panel,topBand:"Over " + M2R.name,bottomBand:"Zero " + M2R.name,yAxis:z8_});v2U=Y3S.Studies.determineColor(M2R.outputs["Negative Bar"]);d6t.strokeStyle=v2U;W_Z.plotDataSegmentAsLine("Under " + M2R.name,c_W,{skipTransform:T8j,label:!({}),yAxis:z8_});g4I=d6t.createLinearGradient(+"0",Q2l,0,z8_.flipped?z8_.top:z8_.bottom);g4I.addColorStop(0,W_Z.containerColor);g4I.addColorStop(1,v2U);Y3S.prepareChannelFill(W_Z,{skipTransform:T8j,color:g4I,opacity:!M2R.highlight && W_Z.highlightedDraggable?"0.3" * 1:1,panelName:M2R.panel,topBand:"Zero " + M2R.name,bottomBand:"Under " + M2R.name,yAxis:z8_});Y4t.x49(164);var D$v=Y4t.C0r(2,38,12,31,1);d9e=W_Z.layout.candleWidth - D$v;if(d9e < 2){d9e=+"1";}W_Z.canvasColor("stx_histogram");if(!M2R.underlay){d6t.globalAlpha=1;}if(!M2R.highlight && W_Z.highlightedDraggable){d6t.globalAlpha*=+"0.3";}d6t.fillStyle=w9B;for(var o6S=0;o6S < Y7C.length;o6S++){F$g=0;j8j=Y7C[o6S];if(!j8j)continue;if(W_Z.cleanupGaps === "stretch"){while(Y7C[o6S + +"1"]){a35="_";a35+="hi";a35+="s";a35+="t";Y4t.l13(2);q5D=Y7C[Y4t.C0r(o6S,1)][M2R.name + a35];if(q5D || q5D === ("0" | 0) || Y7C[o6S + 1].futureTick)break;F$g++;o6S++;}}if(j8j[M2R.name + "_hist"] > 0){d6t.fillStyle=g8P;}else if(j8j[M2R.name + "_hist"] < 0){d6t.fillStyle=v2U;}if(j8j.candleWidth){d9e=Math.floor(Math.max("1" ^ 0,j8j.candleWidth - 2));}d6t.fillRect(Math.floor(W_Z.pixelFromBar(o6S - F$g,c_W.chart) - d9e / 2),Math.floor(Q2l),Math.floor(d9e + F$g * W_Z.layout.candleWidth),Math.floor(W_Z.pixelFromPrice(j8j[M2R.name + "_hist"],c_W,z8_) - Q2l));}W_Z.endClip();};Y3S.Studies.studyLibrary=Y3S.extend(Y3S.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!![],calculateFN:Y3S.Studies.calculateRainbow,seriesFN:Y3S.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:W_Y,SMA2:I12,SMA3:"#FFFF00",SMA4:u6J,SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:q0A,SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:Y3S.Studies.calculateRainbow,seriesFN:Y3S.Studies.displayRainbowOsc,centerline:"0" << 96,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};S4=a$R=>{var f$O,y0i,K07;f$O="undefine";f$O+="d";e9J1I.R7g();y0i=typeof _CIQ !== f$O?_CIQ:a$R.CIQ;if(!y0i.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {K07="#0";K07+="0";K07+="00";K07+="FF";y0i.Studies.calculateRandomWalk=function(v5P,L65){var l9C,Q0p,g2L,L4Z,L4X,X$i,E5Q,f_u,N7a,r5d;l9C=L65.chart.scrubbed;if(l9C.length < L65.days + 1){L65.error=!!1;return;}for(var s0S=Math.max(2,L65.startFrom);s0S < l9C.length;s0S++){Q0p=0;g2L=l9C[s0S].High;L4Z=l9C[s0S].Low;L4X=0;X$i=+"0";for(var b0a=1;b0a <= L65.days;b0a++){if(l9C[s0S].futureTick)break;if(s0S <= b0a){L4X=X$i=0;break;}Q0p+=l9C[s0S - b0a].trueRange;E5Q=Q0p / b0a * Math.sqrt(b0a);if(E5Q){f_u=(g2L - l9C[s0S - b0a].Low) / E5Q;N7a=(l9C[s0S - b0a].High - L4Z) / E5Q;L4X=Math.max(L4X,f_u);X$i=Math.max(X$i,N7a);}}if(!l9C[s0S].futureTick && (!isNaN(g2L) || !isNaN(L4Z))){r5d="Random Walk High";r5d+=" ";l9C[s0S][r5d + L65.name]=L4X;l9C[s0S]["Random Walk Low " + L65.name]=X$i;}}};y0i.Studies.studyLibrary=y0i.extend(y0i.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:y0i.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":K07}}});}};E5=f_c=>{e9J1I.d$I();var C9x,y2f,g2A,B8u;C9x=typeof _CIQ !== "undefined"?_CIQ:f_c.CIQ;if(!C9x.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {y2f="#0";y2f+="0D";y2f+="D00";g2A="#";g2A+="FF";g2A+="00";g2A+="00";B8u="au";B8u+="to";C9x.Studies.calculateRelativeVigor=function(z2P,k3K){var z3n,S0i,Y$K,e76,g9K,Z6Z,k7U,J5a,V_L,L5F,t2L,n0X,e88,K4i,x2n;z3n="_h";z3n+="i";z3n+="st";S0i="Rel ";S0i+="Vig ";Y$K="t";Y$K+="ria";Y$K+="ngul";Y$K+="ar";e76="_Deno";e76+="m";g9K="t";g9K+="ri";g9K+="ang";g9K+="ular";Z6Z=k3K.chart.scrubbed;if(Z6Z.length < k3K.days + 1){k3K.error=!"";return;}for(k7U=k3K.startFrom;k7U < Z6Z.length;k7U++){J5a=Z6Z[k7U];if(!isNaN(J5a.Close) && !isNaN(J5a.Open)){J5a["_Change " + k3K.name]=J5a.Close - J5a.Open;}if(!isNaN(J5a.High) && !isNaN(J5a.Low)){J5a["_Range " + k3K.name]=J5a.High - J5a.Low;}}C9x.Studies.MA("triangular",4,"_Change " + k3K.name,0,"_Numer",z2P,k3K);C9x.Studies.MA(g9K,4,"_Range " + k3K.name,0,e76,z2P,k3K);V_L=[];L5F=[];for(k7U=Math.max(k3K.startFrom - k3K.days,+"0");k7U < Z6Z.length;k7U++){t2L="Rel V";t2L+="ig ";n0X="_D";n0X+="enom ";if(Z6Z[k7U].futureTick)break;if(Z6Z[k7U]["_Numer " + k3K.name] === null && Z6Z[k7U][n0X + k3K.name] === null)continue;V_L.push(Z6Z[k7U]["_Numer " + k3K.name]);L5F.push(Z6Z[k7U]["_Denom " + k3K.name]);if(V_L.length > k3K.days){V_L.shift();L5F.shift();}e88=0;K4i=0;for(x2n="0" ^ 0;x2n < V_L.length;x2n++){e88+=V_L[x2n];}for(x2n=0;x2n < L5F.length;x2n++){K4i+=L5F[x2n];}if(K4i === 0){K4i=0.00000001;}if(k7U < k3K.startFrom)continue;e9J1I.x49(11);Z6Z[k7U][t2L + k3K.name]=e9J1I.C0r(e88,K4i);}C9x.Studies.MA(Y$K,4,S0i + k3K.name,0,"RelVigSignal",z2P,k3K);for(k7U=k3K.startFrom;k7U < Z6Z.length;k7U++){Z6Z[k7U][k3K.name + "_hist"]=Z6Z[k7U]["Rel Vig " + k3K.name] - Z6Z[k7U]["RelVigSignal " + k3K.name];}k3K.outputMap[k3K.name + z3n]="";};C9x.Studies.studyLibrary=C9x.extend(C9x.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:C9x.Studies.displayHistogramWithSeries,calculateFN:C9x.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":B8u,RelVigSignal:g2A,"Increasing Bar":y2f,"Decreasing Bar":"#FF0000"}}});}};r$=v8z=>{var Y5C,o_o;Y5C=typeof _CIQ !== "undefined"?_CIQ:v8z.CIQ;if(!Y5C.Studies){console.error("rsi feature requires first activating studies feature.");}else {o_o="aut";o_o+="o";Y5C.Studies.calculateRSI=function(b98,Y62){var c7Z=e9J1I;var j9A,L8s,l15,x6F,t7W,A9e,N1B,j9U,N7_,p5p,p20,Q_5;c7Z.d$I();j9A="C";j9A+="l";j9A+="o";j9A+="se";L8s=Y62.chart.scrubbed;l15=Y62.inputs.Field;if(!l15 || l15 == "field"){l15=j9A;}if(L8s.length < Y62.days + 1){Y62.error=!"";return;}function P7O(L_m,A8r){var U8J,R8x,U0W,w6R;U8J=-1843370244;R8x=-404999879;U0W=2;c7Z.d$I();for(var w_x="1" ^ 0;c7Z.c2O(w_x.toString(),w_x.toString().length,28230) !== U8J;w_x++){if(A8r === 0){return 100;}c7Z.l13(11);w6R=c7Z.C0r(L_m,A8r);U0W+=2;}if(c7Z.c2O(U0W.toString(),U0W.toString().length,41550) !== R8x){if(A8r !== ("1" | 0)){return 127;}c7Z.l13(6);w6R=c7Z.O_1(L_m,A8r);}c7Z.l13(165);return c7Z.C0r(100,"1",w6R,100);}for(var L48=Y62.startFrom;L48 < L8s.length;L48++){x6F="_";x6F+="a";x6F+="v";x6F+="gL ";if(!L48)continue;t7W=L8s[L48];c7Z.x49(166);A9e=L8s[c7Z.C0r("1",L48)];N1B=Y5C.Studies.getQuoteFieldValue(t7W,l15);j9U=Y5C.Studies.getQuoteFieldValue(A9e,l15);if(N1B === null || j9U === null)continue;c7Z.l13(6);N7_=c7Z.O_1(N1B,j9U);p5p=Math.min(L48,Y62.days);p20=A9e["_avgG " + Y62.name];if(!p20){p20=0;}c7Z.x49(11);p20-=c7Z.O_1(p20,p5p);Q_5=A9e[x6F + Y62.name];if(!Q_5){Q_5=0;}c7Z.x49(11);Q_5-=c7Z.O_1(Q_5,p5p);if(N7_ > 0){c7Z.l13(11);p20+=c7Z.C0r(N7_,p5p);}else if(N7_ <= 0){c7Z.l13(11);Q_5-=c7Z.C0r(N7_,p5p);}else continue;if(L48 >= Y62.days){if((p20 || p20 === 0) && (Q_5 || Q_5 === 0)){t7W["RSI " + Y62.name]=P7O(p20,Q_5);}}t7W["_avgG " + Y62.name]=p20;t7W["_avgL " + Y62.name]=Q_5;}Y62.zoneOutput="RSI";};Y5C.Studies.studyLibrary=Y5C.extend(Y5C.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:+"14",Field:"field"},calculateFN:Y5C.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:o_o,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};I4=O_Y=>{var B7O,m9B;B7O=typeof _CIQ !== "undefined"?_CIQ:O_Y.CIQ;if(!B7O.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {m9B="fi";m9B+="e";m9B+="ld";B7O.Studies.calculateSchaff=function(r8$,w6g){var a_$=e9J1I;var y1f,c34,X8N,C2V,N4a,J70,x9e,N5D,f6I,c2i,S1V,I63,s3O,i2x,A7G,m7t,d6h,E1g,a_U,Z_C;y1f="Moving";y1f+=" Aver";y1f+="age Type";c34="C";c34+="lose";X8N="f";X8N+="i";function r5e(J58,f6S,t$0){var W$M,e2k,Z23;W$M=null;e2k=null;for(var C4v=f6S - J58 + 1;C4v <= f6S;C4v++){a_$.x49(119);var h3P=a_$.C0r(7327,1218,7262,19,8);a_$.x49(115);var G_4=a_$.C0r(18,4,177,1400,354);Z23=C2V[C4v][t$0 + (h3P !== (G_4,98.61)?" ":"0x201d" ^ 0) + w6g.name];if(!Z23)continue;W$M=W$M === null?Z23:Math.min(W$M,Z23);e2k=e2k === null?Z23:Math.max(e2k,Z23);}return [W$M,e2k];}X8N+="eld";C2V=w6g.chart.scrubbed;N4a=w6g.days;J70=Number(w6g.inputs["Short Cycle"]);x9e=Number(w6g.inputs["Long Cycle"]);if(C2V.length < Math.max(N4a,J70,x9e) + +"1"){w6g.error=!!({});return;}N5D=w6g.inputs.Field;a_$.d$I();if(!N5D || N5D == X8N){N5D=c34;}f6I=0.5;B7O.Studies.MA(w6g.inputs["Moving Average Type"],J70,N5D,+"0","_MACD1",r8$,w6g);B7O.Studies.MA(w6g.inputs[y1f],x9e,N5D,0,"_MACD2",r8$,w6g);c2i=0;a_$.l13(6);S1V=a_$.C0r("0",0);for(var N5y=w6g.startFrom;N5y < C2V.length;N5y++){I63=C2V[N5y];if(N5y < x9e - 1)continue;s3O=I63["_MACD1 " + w6g.name];i2x=I63["_MACD2 " + w6g.name];if(s3O || s3O === 0 || i2x || i2x === 0){a_$.x49(6);I63["_MACD " + w6g.name]=a_$.C0r(s3O,i2x);}A7G=I63["_MACD " + w6g.name];if(N5y < x9e + (N4a - 1))continue;m7t=r5e(N4a,N5y,"_MACD");c2i=m7t[+"1"] > m7t["0" >> 64]?100 * (A7G - m7t[0]) / (m7t[+"1"] - m7t[0]):c2i;if(A7G || A7G === +"0"){d6h="_P";d6h+="F ";I63[d6h + w6g.name]=C2V[N5y - 1]["_PF " + w6g.name]?C2V[N5y - +"1"]["_PF " + w6g.name] + f6I * (c2i - C2V[N5y - 1]["_PF " + w6g.name]):c2i;}E1g=I63["_PF " + w6g.name];if(N5y < x9e + 2 * (N4a - ("1" << 32)))continue;m7t=r5e(N4a,N5y,"_PF");S1V=m7t[+"1"] > m7t["0" * 1]?("100" << 32) * (E1g - m7t[0]) / (m7t[1] - m7t[0]):S1V;if(E1g || E1g === 0){a_U="R";a_U+="es";a_U+="ult ";Z_C="R";Z_C+="e";Z_C+="sul";Z_C+="t ";I63[Z_C + w6g.name]=C2V[N5y - 1]["Result " + w6g.name]?C2V[N5y - 1][a_U + w6g.name] + f6I * (S1V - C2V[N5y - 1]["Result " + w6g.name]):S1V;}}};B7O.Studies.studyLibrary=B7O.extend(B7O.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:B7O.Studies.calculateSchaff,inputs:{Period:10,Field:m9B,"Short Cycle":+"23","Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};O5=h1F=>{var X7v,x6R,U_$;X7v=typeof _CIQ !== "undefined"?_CIQ:h1F.CIQ;if(!X7v.Studies){console.error("shinohara feature requires first activating studies feature.");}else {x6R="#5";x6R+="F7C";x6R+="B8";U_$="Shinohara Intensity Rat";U_$+="io";X7v.Studies.calculateShinohara=function(I7d,K$z){var L1g=e9J1I;var T2Q,f0e,M2L;T2Q=K$z.chart.scrubbed;if(T2Q.length < K$z.days + 1){K$z.error=!!1;return;}f0e={weakNum:+"0",weakDen:+"0",strongNum:0,strongDen:0};if(K$z.startFrom > 1){f0e=X7v.clone(T2Q[K$z.startFrom - 1]["_accums " + K$z.name]);}for(var j8n=K$z.startFrom;j8n < T2Q.length;j8n++){M2L="_";M2L+="acc";M2L+="u";M2L+="ms ";f0e.weakNum+=T2Q[j8n].High - T2Q[j8n].Close;f0e.weakDen+=T2Q[j8n].Close - T2Q[j8n].Low;if(j8n > "0" * 1){L1g.x49(167);var l5j=L1g.C0r(7,5,5,5);f0e.strongNum+=T2Q[j8n].High - T2Q[j8n - l5j].Close;L1g.x49(110);var d$O=L1g.O_1(3,27,0,9);f0e.strongDen+=T2Q[j8n - d$O].Close - T2Q[j8n].Low;}if(j8n >= K$z.days){f0e.weakNum-=T2Q[j8n - K$z.days].High - T2Q[j8n - K$z.days].Close;f0e.weakDen-=T2Q[j8n - K$z.days].Close - T2Q[j8n - K$z.days].Low;T2Q[j8n]["Weak Ratio " + K$z.name]=+"100" * f0e.weakNum / f0e.weakDen;if(j8n > K$z.days){L1g.x49(112);var G4d=L1g.O_1(11,3,11,7,19);f0e.strongNum-=T2Q[j8n - K$z.days].High - T2Q[j8n - K$z.days - G4d].Close;f0e.strongDen-=T2Q[j8n - K$z.days - +"1"].Close - T2Q[j8n - K$z.days].Low;L1g.x49(9);var F7f=L1g.O_1(85,17,17,19);T2Q[j8n]["Strong Ratio " + K$z.name]=F7f * f0e.strongNum / f0e.strongDen;}}T2Q[j8n][M2L + K$z.name]=X7v.clone(f0e);}};X7v.Studies.studyLibrary=X7v.extend(X7v.Studies.studyLibrary,{Shinohara:{name:U_$,calculateFN:X7v.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":x6R}}});}};l3=l$S=>{var d4l,B7L,t2J,U36,v_n,d94,p2R;d4l="un";d4l+="def";d4l+="in";d4l+="ed";B7L=typeof _CIQ !== d4l?_CIQ:l$S.CIQ;if(!B7L.Studies){console.error("stochastics feature requires first activating studies feature.");}else {t2J="#FF00";t2J+="00";U36="a";U36+="uto";v_n="#";v_n+="F";v_n+="F0000";d94="e";d94+="m";d94+="a";p2R="Stochasti";p2R+="c Momentum Index";B7L.Studies.calculateStochastics=function(j9I,g$Q){var R1l=e9J1I;var k$W,T7b,Y7p,h9m,C61,A7R,G6x,l$r,P7z,J0a,q6K,r1o,t2j,k0g;R1l.d$I();function j4t(d6a,A_n,n7p){var N7C,m17,W6z,f8m,q8A,n7I,X7o,M3d;R1l.l13(8);N7C=R1l.O_1(d6a,n7p,1);R1l.l13(4);var S08=R1l.C0r(12,0,13);m17=Number.MAX_VALUE * S08;W6z=Number.MAX_VALUE;R1l.d$I();for(var g_W=N7C;g_W <= d6a;g_W++){f8m="Cl";f8m+="ose";q8A="L";q8A+="o";q8A+="w";n7I=B7L.Studies.getQuoteFieldValue(P7z[g_W],A_n == "Close"?"Low":A_n,q8A);X7o=B7L.Studies.getQuoteFieldValue(P7z[g_W],A_n == f8m?"High":A_n,"High");if(!n7I && n7I !== 0)continue;if(!X7o && X7o !== 0)continue;W6z=Math.min(W6z,n7I);m17=Math.max(m17,X7o);}if(m17 == Number.MAX_VALUE * -1 || W6z == Number.MAX_VALUE){return null;}M3d=m17 == W6z?0:(B7L.Studies.getQuoteFieldValue(P7z[d6a],A_n) - W6z) / (m17 - W6z) * 100;return M3d;}k$W="s";k$W+="imple";T7b="_Fas";T7b+="t%";T7b+="K";T7b+=" ";Y7p="%D Pe";Y7p+="ri";Y7p+="ods";h9m="%";h9m+="K Smo";h9m+="othing Per";h9m+="iods";C61="%K ";C61+="P";C61+="eriod";C61+="s";A7R="f";A7R+="i";A7R+="eld";if(!g$Q.smooth){g$Q.smooth=g$Q.inputs.Smooth;}G6x=g$Q.inputs.Field;if(!G6x || G6x == A7R){G6x="Close";}l$r=g$Q.inputs[C61];if(!l$r){l$r=g$Q.days;}P7z=g$Q.chart.scrubbed;if(P7z.length < Math.max(l$r,g$Q.days) + 1){g$Q.error=!!({});return;}J0a=g$Q.inputs[h9m];if(J0a && !g$Q.inputs.Fast){g$Q.smooth=!!1;}else if(g$Q.smooth){J0a=+"3";}q6K=g$Q.inputs[Y7p];if(!q6K){q6K=3;}if(g$Q.outputs.Fast){r1o="%";r1o+="K";r1o+=" ";g$Q.outputMap={};g$Q.outputMap[r1o + g$Q.name]="Fast";g$Q.outputMap["%D " + g$Q.name]="Slow";}for(var r2A=Math.max(l$r,g$Q.startFrom);r2A < P7z.length;r2A++){t2j="_Fa";t2j+="st%K";t2j+=" ";k0g=j4t(r2A,G6x,l$r);if(k0g !== null){P7z[r2A][t2j + g$Q.name]=k0g;}}B7L.Studies.MA("simple",g$Q.smooth?J0a:1,T7b + g$Q.name,0,"%K",j9I,g$Q);B7L.Studies.MA(k$W,q6K,"%K " + g$Q.name,0,"%D",j9I,g$Q);};B7L.Studies.calculateStochMomentum=function(j0g,k9Z){var k9l=e9J1I;var S6l,a1n,Z4b,G5_,y_r,n3Z,U_f,E5C,l6F,R3q,Z$N,C9d,U0G,W8M,h8T,K5j;S6l="%";S6l+="D";a1n="%";a1n+="K";a1n+=" ";Z4b="%D Moving A";Z4b+="vera";Z4b+="ge Type";G5_="_";G5_+="D";G5_+="HL";G5_+="1";y_r="exponen";y_r+="tial";n3Z="_";n3Z+="H";n3Z+="S";n3Z+="2";U_f="%K Perio";U_f+="d";U_f+="s";E5C=Number(k9Z.inputs[U_f]);l6F=Number(k9Z.inputs["%K Smoothing Periods"]);R3q=Number(k9Z.inputs["%K Double Smoothing Periods"]);Z$N=Number(k9Z.inputs["%D Periods"]);C9d=k9Z.chart.scrubbed;if(C9d.length < E5C + l6F + R3q - 1 || C9d.length < Z$N){k9Z.error=!!1;return;}function w8x(A2c,C9y){var P0g,D61;P0g=null;D61=null;for(var V7u=C9y - A2c + 1;V7u <= C9y;V7u++){P0g=P0g === null?C9d[V7u].Low:Math.min(P0g,C9d[V7u].Low);D61=D61 === null?C9d[V7u].High:Math.max(D61,C9d[V7u].High);}return [P0g,D61];}for(U0G=Math.max(E5C,k9Z.startFrom) - 1;U0G < C9d.length;U0G++){W8M=C9d[U0G];h8T=w8x(E5C,U0G);k9l.l13(168);var b_y=k9l.O_1(10,1,2,11);k9l.l13(30);var C6N=k9l.C0r(20,139,7);k9l.x49(57);var Y84=k9l.O_1(1,9,0,9);W8M["_H " + k9Z.name]=W8M.Close - (h8T["0" << b_y] + h8T[C6N]) / Y84;k9l.l13(8);var g2g=k9l.C0r(0,5,6);W8M["_DHL " + k9Z.name]=h8T[g2g] - h8T[0];}B7L.Studies.MA("exponential",l6F,"_H " + k9Z.name,0,"_HS1",j0g,k9Z);B7L.Studies.MA("exponential",R3q,"_HS1 " + k9Z.name,0,n3Z,j0g,k9Z);B7L.Studies.MA(y_r,l6F,"_DHL " + k9Z.name,0,G5_,j0g,k9Z);B7L.Studies.MA("exponential",R3q,"_DHL1 " + k9Z.name,0,"_DHL2",j0g,k9Z);for(U0G=E5C - 1;U0G < C9d.length;U0G++){K5j="_HS2";K5j+=" ";k9l.x49(2);var v7G=k9l.C0r(88,12);C9d[U0G]["%K " + k9Z.name]=C9d[U0G][K5j + k9Z.name] / (0.5 * C9d[U0G]["_DHL2 " + k9Z.name]) * v7G;}B7L.Studies.MA(k9Z.inputs[Z4b],Z$N,a1n + k9Z.name,0,S6l,j0g,k9Z);k9Z.zoneOutput="%K";};B7L.Studies.studyLibrary=B7L.extend(B7L.Studies.studyLibrary,{"Stch Mtm":{name:p2R,calculateFN:B7L.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":"3" << 0,"%D Periods":+"10","%D Moving Average Type":d94},outputs:{"%K":"auto","%D":v_n},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-("40" - 0),studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:"0 to 100",calculateFN:B7L.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:!!1},outputs:{Fast:U36,Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:B7L.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:!!"","%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":t2J},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){e9J1I.d$I();return this.inputs.Fast;}}},centerline:50}});}};x_=g$_=>{var O5q=e9J1I;var R5$,B_6;R5$=typeof _CIQ !== "undefined"?_CIQ:g$_.CIQ;O5q.d$I();if(!R5$.Studies){console.error("supertrend feature requires first activating studies feature.");}else {B_6="#b";B_6+="8";B_6+="2c0";B_6+="c";R5$.Studies.calculateSupertrend=function(u13,d5h){var d0N,S8m,q56,U3$,U1T,L3R,a$m,S7J,x7O,Q_M,z$b,T$k,t3W,T1Z,a2N;d0N="Trend";d0N+=" ";S8m=d5h.chart.scrubbed;if(S8m.length < d5h.days + 1){d5h.error=!!({});return;}O5q.d$I();R5$.Studies.calculateStudyATR(u13,d5h);for(var q$m=d5h.startFrom;q$m < S8m.length;q$m++){q56="_Dir";q56+="ectio";q56+="n ";U3$="Tre";U3$+="n";U3$+="d";U3$+=" ";U1T="_Downt";U1T+="rend ";L3R=S8m[q$m];if(!L3R)continue;O5q.x49(148);var R3R=O5q.O_1(51,384,48,5);a$m=(L3R.High + L3R.Low) / ("2" << R3R);S7J=d5h.inputs.Multiplier * L3R["ATR " + d5h.name];O5q.l13(6);x7O=O5q.C0r(a$m,S7J);O5q.l13(2);Q_M=O5q.C0r(a$m,S7J);if(q$m){z$b="_Downtrend";z$b+=" ";T$k="_Do";T$k+="wntrend ";t3W="_Uptren";t3W+="d ";if(S8m[q$m - 1] && S8m[q$m - 1].Close && S8m[q$m - +"1"].Close > S8m[q$m - +"1"]["_Uptrend " + d5h.name] && S8m[q$m - 1][t3W + d5h.name] > x7O){O5q.l13(6);x7O=S8m[O5q.O_1(q$m,1)]["_Uptrend " + d5h.name];}if(S8m[q$m - 1] && S8m[q$m - 1].Close && S8m[q$m - 1].Close < S8m[q$m - 1][T$k + d5h.name] && S8m[q$m - 1]["_Downtrend " + d5h.name] < Q_M){O5q.l13(6);Q_M=S8m[O5q.C0r(q$m,1)][z$b + d5h.name];}}L3R["_Direction " + d5h.name]=1;if(q$m){T1Z="_D";T1Z+="owntrend ";a2N="_Dire";a2N+="ct";a2N+="ion ";O5q.l13(6);L3R["_Direction " + d5h.name]=S8m[O5q.C0r(q$m,1)][a2N + d5h.name];if(L3R.Close > S8m[q$m - 1][T1Z + d5h.name]){L3R["_Direction " + d5h.name]=1;}else if(L3R.Close < S8m[q$m - ("1" >> 64)]["_Uptrend " + d5h.name]){L3R["_Direction " + d5h.name]=-1;}}L3R["_Uptrend " + d5h.name]=x7O;L3R[U1T + d5h.name]=Q_M;L3R[U3$ + d5h.name]=L3R[q56 + d5h.name] > 0?x7O:Q_M;if(!q$m)continue;}d5h.outputMap={};d5h.outputMap[d0N + d5h.name]="";};R5$.Studies.displaySupertrend=function(Q7r,l26,A6k){var P0T,p_6,i_E,m$X,V2B,k8s,v6p,J5j,f2f,t12,r5j,e$6,w_9,l4o;P0T=Q7r.panels[l26.panel];p_6=l26.getContext(Q7r);function F6o(m_e,E0E,e1z){var O04,Y7I,W0n;if(E0E && E0E["_Direction " + l26.name] < 0){return l26.outputs.Downtrend;}O04=1519162438;Y7I=-307405687;W0n=2;for(var n4_=+"1";O5q.D29(n4_.toString(),n4_.toString().length,"29369" | 17) !== O04;n4_++){return l26.outputs.Uptrend;}O5q.R7g();if(O5q.c2O(W0n.toString(),W0n.toString().length,55591) !== Y7I){return l26.outputs.Uptrend;}}i_E=l26.getYAxis(Q7r);m$X={skipTransform:P0T.name != l26.chart.name,skipProjections:!"",label:Q7r.preferences.labels,yAxis:i_E,highlight:l26.highlight};V2B="Trend " + l26.name;for(var C2v=0;P0T.chart.transformFunc && i_E != P0T.chart.yAxis && C2v < A6k.length;C2v++){k8s=A6k[C2v];if(k8s && k8s.transform){k8s.transform[V2B]=P0T.chart.transformFunc(Q7r,P0T.chart,k8s[V2B]);}}Q7r.plotDataSegmentAsLine(V2B,P0T,m$X,F6o);p_6.lineWidth=1;p_6.globalAlpha=1;Q7r.startClip(l26.panel);if(!l26.highlight && Q7r.highlightedDraggable){p_6.globalAlpha*=0.3;}O5q.x49(4);var x16=O5q.C0r(4,0,3);O5q.x49(109);var Z9m=O5q.C0r(5,19,48780,3169225,13);O5q.l13(169);var S0H=O5q.O_1(4,13,11600618,10,89298);O5q.x49(2);var p6l=O5q.O_1(2,6);O5q.l13(5);var D9a=O5q.C0r(6,7665,11490,11);O5q.l13(4);var o$9=O5q.O_1(8,927,19);O5q.l13(38);var a9W=O5q.O_1(440,432,20,10);O5q.x49(23);var d14=O5q.O_1(4901,14676,10,14676,1);O5q.x49(28);var L3a=O5q.O_1(5,16,11513,5225);O5q.l13(44);var u1w=O5q.C0r(70,7,895);O5q.x49(45);var D0D=O5q.C0r(14,13,422,17);v6p=p_6.measureText("2521" * x16 !== (Z9m,S0H)?"\u25B2":("2840" | p6l) != (D9a,o$9)?(a9W,427.38) !== +"8323"?(d14,"o"):60.25:(L3a,u1w)).width / D0D;for(J5j=0;J5j < A6k.length;J5j++){if(!A6k[J5j])continue;r5j=A6k[J5j]["_Direction " + l26.name];if(!r5j)continue;if(t12 > r5j){f2f=R5$.Studies.determineColor(l26.outputs.Downtrend);if(!f2f || f2f == "auto" || R5$.isTransparent(f2f)){f2f=Q7r.defaultColor;}p_6.fillStyle=f2f;p_6.textBaseline="bottom";e$6=Q7r.pixelFromPrice(A6k[J5j].High,P0T,i_E);for(var T2X=5;T2X <= 45;T2X+=10){if(i_E.flipped){p_6.fillText(858 !== 8513?"\u25B2":("494.91" * 1,3200) <= (174,721.45)?!1:"D",Q7r.pixelFromBar(J5j) - v6p,e$6 + T2X);}else {p_6.fillText((1532,9460) !== 7160?"\u25BC":9.78e+3,Q7r.pixelFromBar(J5j) - v6p,e$6 - T2X);}}}else if(t12 < r5j){w_9="au";w_9+="to";f2f=R5$.Studies.determineColor(l26.outputs.Uptrend);if(!f2f || f2f == w_9 || R5$.isTransparent(f2f)){f2f=Q7r.defaultColor;}p_6.fillStyle=f2f;p_6.textBaseline="top";l4o=Q7r.pixelFromPrice(A6k[J5j].Low,P0T,i_E);for(var h2n=5;h2n <= 45;h2n+=10){if(i_E.flipped){p_6.fillText((487.09,9052) !== 9468?"\u25BC":(0x12dd,!!"1"),Q7r.pixelFromBar(J5j) - v6p,l4o - h2n);}else {p_6.fillText("\u25B2",Q7r.pixelFromBar(J5j) - v6p,l4o + h2n);}}}t12=r5j;}Q7r.endClip();};R5$.Studies.studyLibrary=R5$.extend(R5$.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:!0,seriesFN:R5$.Studies.displaySupertrend,calculateFN:R5$.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:B_6},attributes:{Multiplier:{min:+"0.1",step:0.1}}}});}};T$=I$R=>{var G$4=e9J1I;var X31,E4L,O5I;X31="und";X31+="ef";X31+="i";X31+="ned";E4L=typeof _CIQ !== X31?_CIQ:I$R.CIQ;G$4.R7g();if(!E4L.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {O5I="Accumul";O5I+="ative S";O5I+="wing Index";E4L.Studies.calculateSwingIndex=function(D5r,U68){var a1U,I4_,p8j,o0H,b$q,Y6T,J2j,G_M,k0v,I7l,h8H,z7X,a0k,b5B;a1U=U68.inputs["Limit Move Value"];if(a1U === null || isNaN(a1U)){a1U=99999;}G$4.d$I();I4_=U68.chart.scrubbed;p8j=677164991;o0H=-1397618016;b$q=+"2";for(var F8h=1;G$4.D29(F8h.toString(),F8h.toString().length,65662) !== p8j;F8h++){Y6T=7;b$q+=2;}if(G$4.c2O(b$q.toString(),b$q.toString().length,96618) !== o0H){Y6T=0;}Y6T=0;if(U68.startFrom > 1){G$4.x49(45);var J6r=G$4.C0r(8,10,161,10);Y6T=I4_[U68.startFrom - J6r]["Result " + U68.name];}for(var X2D=Math.max(1,U68.startFrom);X2D < I4_.length;X2D++){J2j=Math.abs(I4_[X2D].High - I4_[X2D - 1].Close);G_M=Math.abs(I4_[X2D].Low - I4_[X2D - 1].Close);k0v=Math.abs(I4_[X2D].High - I4_[X2D].Low);I7l=Math.abs(I4_[X2D - 1].Close - I4_[X2D - 1].Open);h8H=Math.max(J2j,G_M);z7X=Math.max(k0v,h8H);G$4.x49(126);a0k=G$4.C0r(I7l,z7X,"0.25");if(z7X == J2j){G$4.x49(20);a0k-=G$4.O_1(G_M,0.5);}else if(z7X == G_M){G$4.x49(20);a0k-=G$4.O_1(J2j,0.5);}G$4.x49(6);var t9p=G$4.C0r(18,17);G$4.l13(170);var n$j=G$4.C0r(7,7,10,159,9);G$4.x49(26);var H4c=G$4.O_1(2,19,356,17);b5B=50 * (I4_[X2D].Close - I4_[X2D - +"1"].Close + "0.5" * t9p * (I4_[X2D].Close - I4_[X2D].Open) + "0.25" * n$j * (I4_[X2D - ("1" | 0)].Close - I4_[X2D - H4c].Open)) / a0k * (h8H / a1U);if(a0k === 0 || a1U === 0){G$4.x49(17);b5B=G$4.O_1("0",0);}if(U68.type == "Swing"){Y6T=0;}Y6T+=b5B;I4_[X2D]["Result " + U68.name]=Y6T;}};E4L.Studies.studyLibrary=E4L.extend(E4L.Studies.studyLibrary,{"Acc Swing":{name:O5I,calculateFN:E4L.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:E4L.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};Q7=l6D=>{var I3i,m2m,R0e;I3i="undefine";I3i+="d";m2m=typeof _CIQ !== I3i?_CIQ:l6D.CIQ;if(!m2m.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {R0e="fi";R0e+="e";R0e+="ld";m2m.Studies.calculateTrendIntensity=function(U2e,G0_){var F2p=e9J1I;var m3q,H8_,S2U,M54,M9c,e0E,s1Q,Y_j,I1e,T3c,V$T,R1d;m3q="TI";m3q+="I";m3q+=" ";H8_="m";H8_+="a";S2U="fiel";S2U+="d";function p$S(Q2K,F0a){if(Math.abs(F0a) < 0.00000001){return +"100";}F2p.R7g();F2p.l13(139);return F2p.C0r(1,Q2K,100,100,F0a);}M54=G0_.chart.scrubbed;if(M54.length < G0_.days + 1){G0_.error=!![];return;}M9c=G0_.inputs.Field;if(!M9c || M9c == S2U){M9c="Close";}m2m.Studies.MA(H8_,G0_.days,M9c,0,"_SMA",U2e,G0_);e0E=0;s1Q=0;T3c=[];V$T=Math.ceil(G0_.days / 2);for(Y_j=Math.max("0" ^ 0,G0_.startFrom - V$T);Y_j < M54.length;Y_j++){R1d="_";R1d+="SM";R1d+="A ";if(!M54[Y_j]["_SMA " + G0_.name] && M54[Y_j]["_SMA " + G0_.name] !== ("0" ^ 0))continue;I1e=m2m.Studies.getQuoteFieldValue(M54[Y_j],M9c) - M54[Y_j][R1d + G0_.name];if(I1e < 0){F2p.l13(171);s1Q+=F2p.O_1(I1e,1);}else {e0E+=I1e;}T3c.push(I1e);if(T3c.length > V$T){I1e=T3c.shift();if(I1e < 0){F2p.x49(171);s1Q-=F2p.O_1(I1e,1);}else {e0E-=I1e;}}if(Y_j < G0_.startFrom)continue;M54[Y_j]["TII " + G0_.name]=p$S(e0E,s1Q);}m2m.Studies.MA("ema",G0_.inputs["Signal Period"],m3q + G0_.name,0,"Signal",U2e,G0_);};m2m.Studies.studyLibrary=m2m.extend(m2m.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:m2m.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:"14" << 64,Field:R0e,"Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};M0=O32=>{var Y_Z=e9J1I;var K1e,T61,O9Q;Y_Z.R7g();K1e=typeof _CIQ !== "undefined"?_CIQ:O32.CIQ;if(!K1e.Studies){T61="trix ";T61+="feature requires first activating studies f";T61+="eature.";console.error(T61);}else {O9Q="T";O9Q+="R";O9Q+="I";O9Q+="X";K1e.Studies.calculateTRIX=function(R2K,p4t){var D_s,V7x,Z9o,W7x,B79,g4J,e58,H0m;Y_Z.d$I();D_s="_";D_s+="M";D_s+="A";D_s+="2 ";V7x="Clo";V7x+="s";V7x+="e";Z9o=p4t.chart.scrubbed;if(Z9o.length < p4t.days + 1){p4t.error=!!({});return;}W7x=p4t.name;Y_Z.l13(2);B79=[V7x,Y_Z.O_1("_MA1 ",W7x),Y_Z.O_1(D_s,W7x),Y_Z.C0r("_MA3 ",W7x)];for(var y1S=0;y1S < B79.length - 1;y1S++){K1e.Studies.MA("exponential",p4t.days,B79[y1S],0,"_MA" + (y1S + 1).toString(),R2K,p4t);}g4J=B79[3];for(var D6K=Math.max(1,p4t.startFrom);D6K < Z9o.length;D6K++){Y_Z.x49(6);e58=Z9o[Y_Z.C0r(D6K,1)][g4J];if(!e58)continue;H0m=Z9o[D6K][g4J];if(H0m || H0m === "0" * 1){Y_Z.x49(2);Z9o[D6K][Y_Z.C0r("Result ",W7x)]=Y_Z.O_1(H0m,1,100,e58,Y_Z.l13(142));}}};K1e.Studies.studyLibrary=K1e.extend(K1e.Studies.studyLibrary,{TRIX:{name:O9Q,calculateFN:K1e.Studies.calculateTRIX}});}};V0=y7y=>{var Q4c=e9J1I;var y_J,Y8N,V16,s7$,B_L;y_J="undef";Q4c.d$I();y_J+="i";y_J+="ned";Y8N=1673103101;V16=-107116318;s7$=2;for(var w0C=1;Q4c.c2O(w0C.toString(),w0C.toString().length,80562) !== Y8N;w0C++){B_L=-_CIQ == ""?_CIQ:y7y.CIQ;s7$+=2;}if(Q4c.c2O(s7$.toString(),s7$.toString().length,+"19832") !== V16){B_L=-_CIQ == ""?_CIQ:y7y.CIQ;}B_L=typeof _CIQ !== y_J?_CIQ:y7y.CIQ;if(!B_L.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {B_L.Studies.calculateTwiggsMoneyFlow=function(L0e,U9b){var u46,N0F,H06,a2q,w7T,F1d,A$1;u46=U9b.chart.scrubbed;if(u46.length < U9b.days){U9b.error=!!({});return;}N0F=0;H06=0;Q4c.l13(8);var y8z=Q4c.C0r(0,18,19);a2q=u46[U9b.startFrom - y8z];if(a2q){w7T="_";w7T+="s";w7T+="umMF ";if(a2q[w7T + U9b.name]){N0F=a2q["_sumMF " + U9b.name];}if(a2q["_sumV " + U9b.name]){H06=a2q["_sumV " + U9b.name];}}for(var h_2=Math.max(+"1",U9b.startFrom);h_2 < u46.length;h_2++){F1d=Math.max(u46[h_2 - 1].Close,u46[h_2].High);A$1=Math.min(u46[h_2 - 1].Close,u46[h_2].Low);Q4c.l13(1);var U2g=Q4c.O_1(7,14,0);Q4c.l13(172);var J8w=Q4c.C0r(7,4,313999546,8999991,5);u46[h_2]["_MFV " + U9b.name]=u46[h_2].Volume * (U2g * u46[h_2].Close - F1d - A$1) / (F1d - A$1 === ("0" | 0)?J8w:F1d - A$1);if(h_2 > U9b.days - +"1"){Q4c.l13(67);var c$0=Q4c.C0r(11,20,12,22);N0F*=(U9b.days - c$0) / U9b.days;Q4c.x49(6);var b69=Q4c.O_1(10,9);H06*=(U9b.days - b69) / U9b.days;}N0F+=u46[h_2]["_MFV " + U9b.name];H06+=u46[h_2].Volume;if(h_2 > U9b.days - ("1" ^ 0)){if(H06){Q4c.l13(11);u46[h_2]["Result " + U9b.name]=Q4c.C0r(N0F,H06 > 0?H06:999999);}}u46[h_2]["_sumMF " + U9b.name]=N0F;u46[h_2]["_sumV " + U9b.name]=H06;}};B_L.Studies.studyLibrary=B_L.extend(B_L.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:B_L.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};O9=o2r=>{var H2R;H2R=typeof _CIQ !== "undefined"?_CIQ:o2r.CIQ;if(!H2R.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!H2R.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {H2R.Studies.studyLibrary=H2R.extend(H2R.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:H2R.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:H2R.Studies.calculateTypicalPrice,inputs:{Period:+"14"}}});}};I_=w83=>{var g_w,K5x,m7S;g_w="u";e9J1I.d$I();g_w+="ndefined";K5x=typeof _CIQ !== g_w?_CIQ:w83.CIQ;if(!K5x.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {m7S="Ulc";m7S+="er Index";K5x.Studies.calculateUlcerIndex=function(j2z,z08){var H4q,d$h,N9t,h9d,l_$,i2V;H4q="_M";H4q+="A";function P6l(Y1a,d6y,U8n){var g8S;e9J1I.R7g();g8S=null;for(var P0K=d6y - Y1a + +"1";P0K <= d6y;P0K++){if(P0K < 0)continue;g8S=g8S === null?K5x.Studies.getQuoteFieldValue(N9t[P0K],U8n):Math.max(g8S,K5x.Studies.getQuoteFieldValue(N9t[P0K],U8n));}return g8S;}d$h="_";d$h+="P";e9J1I.d$I();d$h+="D2";d$h+=" ";N9t=z08.chart.scrubbed;if(N9t.length < +"2" * z08.days - ("1" >> 64)){z08.error=!!({});return;}h9d=z08.inputs.Field;if(!h9d || h9d == "field"){h9d="Close";}for(l_$=Math.max(z08.startFrom,z08.days - 1);l_$ < N9t.length;l_$++){N9t[l_$]["_PD2 " + z08.name]=Math.pow(100 * (K5x.Studies.getQuoteFieldValue(N9t[l_$],h9d) / P6l(z08.days,l_$,h9d) - 1),+"2");}K5x.Studies.MA("simple",z08.days,d$h + z08.name,"0" - 0,H4q,j2z,z08);for(l_$=Math.max(z08.startFrom,2 * (z08.days - 1));l_$ < N9t.length;l_$++){i2V=N9t[l_$]["_MA " + z08.name];if(i2V || i2V === 0){N9t[l_$]["Result " + z08.name]=Math.sqrt(i2V);}}};K5x.Studies.studyLibrary=K5x.extend(K5x.Studies.studyLibrary,{Ulcer:{name:m7S,calculateFN:K5x.Studies.calculateUlcerIndex,inputs:{Period:"14" | 14,Field:"field"}}});}};J$=x1A=>{var m_C=e9J1I;m_C.R7g();var u$a,d_Z,Z2H,j9c,g9m;u$a=typeof _CIQ !== "undefined"?_CIQ:x1A.CIQ;if(!u$a.Studies){d_Z="ultimat";d_Z+="eOscillator feature requires first activating studies feature.";console.error(d_Z);}else {u$a.Studies.calculateUltimateOscillator=function(p3a,b_x){var S5A,Y78,O8k,j3p,T4r,o51,B9w,V3U,p9g,Z3X,z6m,O7k,t9g,w66,z7D,y8h,E4l,U17,B6r;S5A="Cy";S5A+="cle 3";Y78="Cy";Y78+="cle 2";O8k=b_x.chart.scrubbed;j3p=[b_x.inputs["Cycle 1"],b_x.inputs[Y78],b_x.inputs[S5A]];T4r=Math.max(j3p[0],j3p[1],j3p[2]);if(O8k.length < T4r + 1){b_x.error=!!({});return;}m_C.l13(70);var Z_t=m_C.O_1(2,8,6,9);m_C.d$I();o51=j3p[0] * j3p[Z_t];m_C.x49(6);var x_y=m_C.O_1(47,15);B9w=j3p[0] * j3p["2" >> x_y];m_C.x49(173);var Y9T=m_C.C0r(7,0,14,3,1);V3U=j3p[Y9T] * j3p[+"2"];p9g=[0,0,0];Z3X=[0,0,0];if(b_x.startFrom){z6m="_acct";z6m+="r";z6m+=" ";if(O8k[b_x.startFrom - +"1"]["_accbp " + b_x.name]){p9g=O8k[b_x.startFrom - 1]["_accbp " + b_x.name].slice();}if(O8k[b_x.startFrom - 1][z6m + b_x.name]){Z3X=O8k[b_x.startFrom - +"1"]["_acctr " + b_x.name].slice();}}for(var w7e=Math.max(1,b_x.startFrom);w7e < O8k.length;w7e++){O7k=Math.min(O8k[w7e].Low,O8k[w7e - 1].Close);t9g=O8k[w7e].Close - O7k;m_C.x49(30);var v6a=m_C.C0r(20,339,17);w66=Math.max(O8k[w7e].High,O8k[w7e - v6a].Close) - O7k;for(var l5P=0;l5P < j3p.length;l5P++){p9g[l5P]+=t9g;Z3X[l5P]+=w66;if(w7e > j3p[l5P]){z7D=Math.min(O8k[w7e - j3p[l5P]].Low,O8k[w7e - j3p[l5P] - 1].Close);y8h=O8k[w7e - j3p[l5P]].Close - z7D;m_C.x49(152);var L$O=m_C.C0r(20,14,69,16,3);E4l=Math.max(O8k[w7e - j3p[l5P]].High,O8k[w7e - j3p[l5P] - L$O].Close) - z7D;p9g[l5P]-=y8h;Z3X[l5P]-=E4l;}}O8k[w7e]["_accbp " + b_x.name]=p9g.slice();O8k[w7e]["_acctr " + b_x.name]=Z3X.slice();if(w7e < T4r)continue;m_C.x49(13);var x4t=m_C.C0r(7,8);m_C.l13(30);var e7t=m_C.C0r(14,40,3);m_C.l13(6);var w_U=m_C.C0r(22,20);U17=V3U * p9g["0" << 0] / Z3X[0] + B9w * p9g[x4t] / Z3X["1" | 0] + o51 * p9g[e7t] / Z3X[w_U];m_C.x49(56);B6r=m_C.C0r(o51,B9w,V3U);m_C.l13(94);O8k[w7e]["Result " + b_x.name]=m_C.C0r(B6r,100,U17);}};Z2H=-1903046702;j9c=153590592;m_C.l13(6);g9m=m_C.O_1("2",0);for(var j0u=1;m_C.D29(j0u.toString(),j0u.toString().length,+"74384") !== Z2H;j0u++){u$a.Studies.studyLibrary=u$a.extend(u$a.Studies.studyLibrary,{Ultimate:{name:"Cycle 3",calculateFN:u$a.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":3,"Cycle 2":76,"Cycle 3":18},parameters:{init:{studyOverZonesEnabled:!({}),studyOverBoughtValue:"44" << 0,studyOverBoughtColor:"auto",studyOverSoldValue:87,studyOverSoldColor:"auto"}}}});g9m+=2;}if(m_C.D29(g9m.toString(),g9m.toString().length,37944) !== j9c){u$a.Studies.studyLibrary=u$a.extend(u$a.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:u$a.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:"30" | 22,studyOverSoldColor:"auto"}}}});}}};M2=Q8t=>{var j$B=e9J1I;var w$a,q7u,I38,A6t;w$a=typeof _CIQ !== "undefined"?_CIQ:Q8t.CIQ;j$B.R7g();if(!w$a.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {q7u="#";q7u+="8";q7u+="5c99e";I38="#e";I38+="1";I38+="e1";I38+="e1";A6t="fie";A6t+="l";A6t+="d";w$a.Studies.calculateValuationLines=function(w_w,c4T,D5e){var K1b,k7E,i4F,X2t,d5u,L94,c6Q,m7k,Q6C,f_P,U4v,g5a,X5s,p_o,w_A,i6n;K1b="Dis";K1b+="play 3 ";K1b+="Standard Devia";K1b+="tion (3\u03C3)";k7E="D";k7E+="isplay Average";j$B.d$I();i4F=c4T.inputs.Field == "field"?"Close":c4T.inputs.Field;X2t=c4T.inputs["Average Type"];d5u=c4T.inputs[k7E];L94=c4T.inputs["Display 1 Standard Deviation (1\u03C3)"];c6Q=c4T.inputs["Display 2 Standard Deviation (2\u03C3)"];m7k=c4T.inputs[K1b];Q6C=[];for(var M5u=0;M5u < D5e.length;++M5u){f_P=w$a.Studies.getQuoteFieldValue(D5e[M5u],i4F);if(f_P !== null){Q6C.push(f_P);}}U4v=(function(p_I,J2I){var m4d,C4J,I97,R9Q,X3t,y0n;m4d=p_I.length;j$B.R7g();C4J=+"0";I97=0;j$B.x49(17);R9Q=j$B.O_1("0",0);switch(J2I){case "mean":I97=m4d;for(;R9Q < m4d;++R9Q){C4J+=p_I[R9Q];}break;case "harmonic":C4J=m4d;for(;R9Q < m4d;++R9Q){j$B.l13(174);var K7a=j$B.C0r(1,17,0,12,5);I97+=K7a / p_I[R9Q];}break;case "median":j$B.l13(11);X3t=Math.floor(j$B.O_1(m4d,2));y0n=p_I.slice().sort(function(a6R,O2T){if(a6R > O2T){return 1;}if(a6R < O2T){return -+"1";}return 0;});if(m4d % +"2" === 0){j$B.x49(30);var I_4=j$B.O_1(16,31,2);C4J=y0n[X3t] + y0n[X3t - I_4];I97=2;}else {C4J=y0n[X3t];I97=1;}break;}j$B.x49(11);return j$B.O_1(C4J,I97);})(Q6C,X2t);g5a=!(L94 || c6Q || m7k) || (function(a5J,j$6){var y9i,Z99,b$X,g6v,q5X;y9i=595563243;Z99=-1859346225;b$X=2;for(var O_F=1;j$B.c2O(O_F.toString(),O_F.toString().length,60365) !== y9i;O_F++){g6v=a5J.length;b$X+=2;}if(j$B.c2O(b$X.toString(),b$X.toString().length,87529) !== Z99){g6v=a5J.length;}g6v=a5J.length;q5X=+"0";for(var v4n=+"0";v4n < g6v;++v4n){q5X+=Math.pow(a5J[v4n] - j$6,2);}j$B.x49(11);j$B.d$I();return Math.sqrt(j$B.C0r(q5X,g6v));})(Q6C,U4v);c4T.data={Average:d5u?[U4v]:null,"1 Standard Deviation (1\u03C3)":L94?[U4v + g5a,U4v - g5a]:null,"2 Standard Deviation (2\u03C3)":c6Q?[U4v + g5a * 2,U4v - g5a * 2]:null,"3 Standard Deviation (3\u03C3)":m7k?[U4v + g5a * 3,U4v - g5a * 3]:null};X5s=g5a;if(!c4T.parameters){c4T.parameters={};}if(m7k){j$B.x49(175);c4T.parameters.range=[j$B.O_1(U4v,g5a,X5s,64,"3"),j$B.O_1(U4v,X5s,g5a,3,j$B.l13(176))];}else if(c6Q){j$B.l13(177);c4T.parameters.range=[j$B.C0r(U4v,X5s,2,g5a),j$B.O_1(U4v,X5s,g5a,2,j$B.l13(176))];}else if(L94){j$B.l13(46);c4T.parameters.range=[j$B.C0r(g5a,X5s,U4v),j$B.O_1(X5s,g5a,U4v,j$B.l13(56))];}else if(d5u){j$B.x49(6);c4T.parameters.range=[j$B.O_1(U4v,X5s),j$B.C0r(U4v,X5s,j$B.l13(2))];}if(c4T.panel){p_o=w_w.panels[c4T.panel];w_A=w_w.getYAxisByName(p_o,c4T.name);if(w_A){w_A.decimalPlaces=p_o.chart.yAxis.printDecimalPlaces;i6n={yAxis:w_A};w_w.calculateYAxisRange(p_o,w_A,c4T.parameters.range[0],c4T.parameters.range["1" * 1]);w_w.createYAxis(p_o,i6n);w_w.drawYAxis(p_o,i6n);}}};w$a.Studies.displayValuationLines=function(A1d,W9v){var H6P,l40,t1$,v_e,J29,X5Y,A1W,J3g,b8N,e5r,a9U,r6I,V5X,l3i,m7V,F9x,k9o,d8P,Z7s,d2U,s_g,W_A,h_S,s0l,n$h;H6P="H";H6P+="AVG";l40="M";l40+="E";l40+="D";t1$=A1d.panels[W9v.panel];v_e=W9v.getYAxis(A1d);j$B.R7g();J29=W9v.getContext(A1d);X5Y=W9v.data;A1W=W9v.parameters.labels;J3g=W9v.inputs["Average Type"];b8N={mean:"AVG",median:l40,harmonic:H6P};e5r=A1d.canvasStyle("ciq-valuation-average-line");a9U=A1d.canvasStyle("ciq-valuation-deviation-line");r6I=3;j$B.l13(178);var Z5R=j$B.O_1(1,10,7);V5X=A1d.getCanvasFontSize("stx_yaxis") + r6I * Z5R;for(var L75 in X5Y){if(!X5Y[L75])continue;j$B.x49(179);l3i=j$B.C0r(L75,"Average");m7V=w$a.Studies.determineColor(W9v.outputs[L75]);F9x=X5Y[L75];for(k9o=0;k9o < F9x.length;++k9o){h_S="y";h_S+="ax";h_S+="i";h_S+="s";s0l="soli";s0l+="d";d8P=F9x[k9o];Z7s=A1d.pixelFromPrice(d8P,t1$,v_e);if(Z7s <= t1$.top || Z7s >= t1$.yAxis.bottom)continue;W_A=l3i?{pattern:e5r.borderStyle != "none"?e5r.borderStyle || "solid":s0l,lineWidth:parseFloat(e5r.borderWidth) || 1,opacity:parseFloat(e5r.opacity) || +"1",yAxis:v_e}:{pattern:a9U.borderStyle != "none"?a9U.borderStyle || "dashed":"dashed",lineWidth:parseFloat(a9U.borderWidth) || 1,opacity:parseFloat(a9U.opacity) || 1,yAxis:v_e};A1d.plotLine(t1$.left,t1$.right,Z7s,Z7s,m7V,"line",J29,t1$,W_A);if(A1W === h_S){A1d.createYAxisLabel(t1$,A1d.formatYAxisPrice(d8P,t1$),Z7s,m7V,null,J29,v_e);continue;}Z7s+=Math.floor(W_A.lineWidth / 2);if(Z7s + V5X >= t1$.yAxis.bottom)continue;d2U=(l3i?b8N[J3g] + ": ":L75[0] + "\u03C3: ") + A1d.formatYAxisPrice(d8P,t1$);s_g=J29.measureText(d2U).width;n$h=t1$.right - s_g - r6I;if(v_e && v_e.position == "left"){n$h=t1$.left + r6I;}j$B.x49(180);J29.strokeText(d2U,n$h,j$B.C0r(V5X,0,0.5,Z7s,"2"));}}};w$a.Studies.studyLibrary=w$a.extend(w$a.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(M6V,y06,F0q){j$B.d$I();w$a.Studies.calculateValuationLines(M6V,y06,F0q);w$a.Studies.displayValuationLines(M6V,y06);},overlay:!!({}),yAxisFN:function(){},inputs:{Field:A6t,"Average Type":["mean","median","harmonic"],"Display Average":!!({}),"Display 1 Standard Deviation (1\u03C3)":!!"","Display 2 Standard Deviation (2\u03C3)":!"1","Display 3 Standard Deviation (3\u03C3)":!({})},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":I38,"2 Standard Deviation (2\u03C3)":q7u,"3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};T0=y7B=>{var O06;O06=typeof _CIQ !== "undefined"?_CIQ:y7B.CIQ;if(!O06.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {O06.Studies.calculateRelativeVolatility=function(A0k,d$q){var g84=e9J1I;var L5_,E3g,f5i,L9p,o9E,B8Z,C0A,b8x,m43,H8N,x1Q,u5P,C6L,m_2;L5_="Rel ";L5_+="Vo";L5_+="l";E3g="sd";E3g+="ev";f5i="f";f5i+="ield";d$q.days=Number(d$q.inputs["Smoothing Period"]);L9p=Number(d$q.inputs["STD Period"]);o9E=d$q.chart.scrubbed;if(o9E.length < d$q.days + L9p){d$q.error=!![];return;}B8Z=d$q.inputs.Field;if(!B8Z || B8Z == f5i){B8Z="Close";}d$q.std=new O06.Studies.StudyDescriptor(d$q.name,E3g,d$q.panel);d$q.std.chart=d$q.chart;function h0u(f3E,q_b){if(f3E + q_b === 0){return +"100";}g84.l13(181);return g84.O_1(f3E,q_b,"100",f3E);}d$q.std.days=L9p;d$q.std.startFrom=d$q.startFrom;d$q.std.inputs={Field:B8Z,"Standard Deviations":1,Type:"ma"};d$q.std.outputs={_STD:null};O06.Studies.calculateStandardDeviation(A0k,d$q.std);C0A=0;b8x=+"0";if(d$q.startFrom > 1){m43="_av";m43+="gL ";C0A=o9E[d$q.startFrom - 1]["_avgG " + d$q.name] || 0;b8x=o9E[d$q.startFrom - 1][m43 + d$q.name] || 0;}for(var E9s=Math.max(d$q.startFrom,d$q.days);E9s < o9E.length;E9s++){H8N=o9E[E9s];g84.l13(6);x1Q=o9E[g84.O_1(E9s,1)];u5P=O06.Studies.getQuoteFieldValue(H8N,B8Z);C6L=O06.Studies.getQuoteFieldValue(x1Q,B8Z);if(u5P === null || C6L === null)continue;if(!H8N["_STD " + d$q.name] && H8N["_STD " + d$q.name] !== +"0")continue;if(u5P > C6L){g84.l13(110);var w3I=g84.O_1(19,3,75,12);C0A=(C0A * (d$q.days - w3I) + H8N["_STD " + d$q.name]) / d$q.days;g84.x49(6);var c3m=g84.O_1(21,20);b8x=b8x * (d$q.days - "1" * c3m) / d$q.days;}else {m_2="_S";m_2+="T";m_2+="D";m_2+=" ";g84.x49(182);var Z2U=g84.O_1(10,6,4,5,13);b8x=(b8x * (d$q.days - Z2U) + H8N[m_2 + d$q.name]) / d$q.days;g84.l13(4);var j_F=g84.O_1(10,7,16);C0A=C0A * (d$q.days - j_F) / d$q.days;}H8N["Rel Vol " + d$q.name]=h0u(C0A,b8x);H8N["_avgG " + d$q.name]=C0A;H8N["_avgL " + d$q.name]=b8x;}d$q.zoneOutput=L5_;};O06.Studies.calculateHistoricalVolatility=function(t0h,h7e){var M8$=e9J1I;var k7f,H3Z,M9s,n8F,Q2p,N5j,d1e,X7_,I5z,S5h,u7L,w3u;k7f="Standard De";k7f+="viations";H3Z=h7e.chart.scrubbed;if(H3Z.length < h7e.days + ("1" ^ 0)){h7e.error=!!({});return;}M9s=h7e.inputs.Field;if(!M9s || M9s == "field"){M9s="Close";}n8F=h7e.inputs[k7f];if(n8F < ("0" ^ 0)){n8F=+"1";}M8$.x49(6);var g9H=M8$.C0r(111,11);Q2p=g9H * Math.sqrt(o6u(h7e.inputs["Days Per Year"])) * n8F;N5j=[];d1e=0;if(h7e.startFrom > 1){X7_="_";X7_+="sta";X7_+="te";X7_+=" ";M8$.x49(1);var H5w=M8$.C0r(1,16,15);d1e=H3Z[h7e.startFrom - H5w][X7_ + h7e.name][0];N5j=H3Z[h7e.startFrom - 1]["_state " + h7e.name][1].slice();}function o6u(C8i){M8$.R7g();var h3q;h3q="d";h3q+="ay";if(isNaN(C8i)){C8i=365;}if(t0h.layout.interval == h3q){return C8i;}else if(t0h.layout.interval == "week"){return 52;}else if(t0h.layout.interval == "month"){return 12;}return C8i;}for(var r5s=Math.max("1" >> 0,h7e.startFrom);r5s < H3Z.length;r5s++){I5z="_st";I5z+="ate ";S5h=O06.Studies.getQuoteFieldValue(H3Z[r5s - ("1" << 0)],M9s);if(S5h){u7L=Math.log(O06.Studies.getQuoteFieldValue(H3Z[r5s],M9s) / S5h);N5j.push(u7L);d1e+=u7L;if(r5s >= h7e.days){w3u=0;d1e/=h7e.days;for(var t4c=0;t4c < N5j.length;t4c++){w3u+=Math.pow(N5j[t4c] - d1e,2);}d1e*=h7e.days;d1e-=N5j.shift();H3Z[r5s]["Result " + h7e.name]=Math.sqrt(w3u / h7e.days) * Q2p;}}H3Z[r5s][I5z + h7e.name]=[d1e,N5j.slice()];}};O06.Studies.studyLibrary=O06.extend(O06.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:O06.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":["252" * 1,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:O06.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};K6=J$m=>{var B3q=e9J1I;var x_K;B3q.R7g();x_K=typeof _CIQ !== "undefined"?_CIQ:J$m.CIQ;if(!x_K.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {x_K.Studies.displayVolumeProfile=function(u6F,N5Q,S2E){var l2_,T0t,u4i,a23,v3T,f4n,o9b,x$J,e5Z,r1p,i0b,z_4,v55,A4_,A0G,o20,W$7,O_i,D4z;B3q.d$I();if(!u6F || !u6F.chart.dataSet){return;}l2_="stx_";l2_+="volu";l2_+="me_pro";l2_+="file";T0t="stx-float-date";u4i=N5Q.getContext(u6F);var {chart:a2k}=u6F;var {panel:K9O}=a2k;var {yAxis:M5l}=K9O;var {flipped:M77}=M5l;var {highValue:v4P, lowValue:o6a}=a2k;var {displayBorder:k0P = N5Q.inputs["Display Border"], displayVolume:f8w = N5Q.inputs["Display Volume"], widthPercentage:Q4v = N5Q.inputs["Width Percentage"], numberBars:a7P = N5Q.inputs["Price Buckets"]}=N5Q.parameters;if(k0P !== !"1"){k0P=!0;}if(f8w !== !![]){f8w=![];}if(!Q4v || Q4v < 0){Q4v=0.25;}if(!a7P || a7P < 0){a7P=30;}a7P=Math.ceil(a7P);B3q.x49(25);a23=B3q.O_1(v4P,o6a,a7P);if(a23 === 0){return;}v3T=[];if(M77){[v4P,o6a]=[o6a,v4P];}f4n=M77?-1:1;for(var R7X=o6a,T3_=0;T3_ <= a7P;(R7X+=a23 * f4n,T3_++)){v3T.push([R7X,0]);}o9b=0;for(var J_5=0;J_5 < S2E.length;J_5++){x$J=S2E[J_5];if(x$J === null)continue;var {Volume:d8J}=x$J;if(!d8J)continue;var {High:w0t, Low:a6j}=x$J.transform || x$J;e5Z=[];r1p=v3T[0][0];i0b=null;for(var F0u=1;F0u < v3T.length;F0u++){i0b=v3T[F0u][0];z_4=a6j >= r1p && a6j <= i0b;v55=w0t >= r1p && w0t <= i0b;A4_=a6j < r1p && w0t > i0b;if(z_4 || v55 || A4_){e5Z.push(F0u);}r1p=i0b;}if(e5Z.length){A0G=d8J / e5Z.length;for(var W$x=0;W$x < e5Z.length;W$x++){B3q.l13(6);o20=v3T[e5Z[W$x]][B3q.C0r("1",0)]+=A0G;if(o20 > o9b){o9b=o20;}}}}if(o9b === 0){u6F.displayErrorAsWatermark("chart",u6F.translateIf("Not enough data to render the Volume Profile"));return;}u6F.setStyle(l2_,"color",x_K.Studies.determineColor(N5Q.outputs["Bars Color"]));function Z6r(n3M){var w5R,N4j,V_y,Y4k,Y45,f4b,U30,t_N,b_H,M0H,h31,C4m,X$G,h3j,z1C,L14;u6F.canvasColor(l2_);u4i.beginPath();w5R=R8R=>{return Math.round(R8R);};N4j=t1w=>{return w5R(u6F.pixelFromTransformedValue(t1w));};V_y=w5R(a2k.width * Q4v);B3q.d$I();Y4k=w5R(a2k.right) - 2.5;Y45=Y4k;var [t8T]=v3T[+"0"];for(var u7R=1;u7R < v3T.length;u7R++){var [Y9H,R9S]=v3T[u7R];if(R9S){B3q.l13(94);f4b=B3q.O_1(o9b,R9S,V_y);U30=w5R(Y4k - f4b) + (n3M?-0.5:0);B3q.l13(1);var X4$=B3q.O_1(1,11,10);t_N=N4j(Y9H) + (n3M?+"0.5":X4$);b_H=N4j(t8T) + (n3M?0.5:0);M0H=Math.max(t_N,M5l.top);h31=Math.min(b_H,M5l.bottom);C4m=M0H <= M5l.bottom && h31 >= M5l.top;if(C4m){u4i.moveTo(Y4k,h31);u4i.lineTo(Y4k,M0H);u4i.lineTo(U30,M0H);u4i.lineTo(U30,h31);if(n3M){if(u7R == 1 || Y45 > U30){u4i.lineTo(Y45,h31);}}else {u4i.lineTo(Y4k,h31);if(f8w){X$G=x_K.condenseInt(R9S);B3q.l13(6);h3j=B3q.O_1(h31,M0H);if(W$7 <= h3j - 2){z1C=void 0;try{({width:z1C}=u4i.measureText(X$G));}catch(Z5y){z1C=0;}u4i.textBaseline="top";L14=u4i.fillStyle;u4i.fillStyle=O_i;B3q.l13(46);u4i.fillText(X$G,B3q.C0r(z1C,3,U30),B3q.C0r(W$7,2,h3j,M0H,2,B3q.x49(183)));u4i.fillStyle=L14;}}}}Y45=U30;}else {Y45=Y4k;;}t8T=Y9H;}if(!N5Q.highlight && u6F.highlightedDraggable){B3q.l13(6);u4i.globalAlpha*=B3q.O_1("0.3",0);}if(!n3M){u4i.fill();}u4i.strokeStyle=O_i;if(n3M){u4i.stroke();}u4i.closePath();}W$7=u6F.getCanvasFontSize(T0t);O_i=u6F.canvasStyle(l2_).borderTopColor;D4z=k0P && !x_K.isTransparent(O_i);u6F.canvasFont(T0t,u4i);Z6r();if(D4z){Z6r(!!"1");}u4i.globalAlpha=1;};x_K.Studies.studyLibrary=x_K.extend(x_K.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:!!"1",seriesFN:x_K.Studies.displayVolumeProfile,calculateFN:null,inputs:{"Display Border":!![],"Display Volume":![],"Price Buckets":30,"Width Percentage":0.25},outputs:{"Bars Color":"#b64a96"},customRemoval:!![],attributes:{yaxisDisplayValue:{hidden:!0},panelName:{hidden:!!({})},flippedEnabled:{hidden:!!({})}}}});}};w7=m3R=>{var A7f=e9J1I;var S1l,D7c,T5Z,s08,J1b,Y0q,Z5a,x2E,J8M,P51,l$y,x1_,f9L,D6A,w10;S1l=921370455;D7c=-729350451;T5Z=2;for(var q_G=1;A7f.D29(q_G.toString(),q_G.toString().length,8805) !== S1l;q_G++){s08=-_CIQ != ""?_CIQ:m3R.CIQ;T5Z+=2;}if(A7f.D29(T5Z.toString(),T5Z.toString().length,59405) !== D7c){J1b="undef";J1b+="ined";s08=typeof _CIQ !== J1b?_CIQ:m3R.CIQ;}if(!s08.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {Y0q="0";Y0q+=" to m";Y0q+="a";Y0q+="x";Z5a="Vo";Z5a+="lume Under";Z5a+="la";Z5a+="y";x2E="Volume";x2E+=" Rate of Chang";x2E+="e";J8M="f";J8M+="i";J8M+="el";J8M+="d";P51="Price";P51+=" Vo";P51+="lu";P51+="me Trend";l$y="#FF00";l$y+="00";x1_="m";x1_+="a";f9L="Positive Volum";f9L+="e In";f9L+="dex";D6A="m";D6A+="a";w10="f";w10+="iel";w10+="d";s08.Studies.calculateOnBalanceVolume=function(P8x,U0h){var g$6,U2F,R7T,o7p,p$$,x5N,L0C,Z_8,N$4,o_x,Q_n,E9o;g$6=U0h.inputs.Field;if(!g$6 || g$6 == "field"){g$6="Close";}U2F=U0h.inputs["Min Tick Value"];R7T=!({});if(!U2F && U2F !== "0" >> 64){R7T=!!1;U2F=0;}o7p=U0h.chart.scrubbed;A7f.d$I();p$$=0;for(var w2B=U0h.startFrom;w2B < o7p.length;w2B++){Z_8="o";Z_8+="bje";Z_8+="ct";x5N=o7p[w2B];N$4=s08.Studies.getQuoteFieldValue(x5N,g$6);if(!w2B || !N$4)continue;if(o7p[w2B - 1][g$6]){A7f.x49(6);L0C=o7p[A7f.O_1(w2B,1)];}if(!L0C)continue;o_x=s08.Studies.getQuoteFieldValue(L0C,g$6);if(N$4 - o_x > U2F){p$$=1;}else if(o_x - N$4 > U2F){p$$=-1;}else if(R7T){p$$=0;}Q_n=L0C["Result " + U0h.name];if(!Q_n){Q_n=0;}E9o=x5N.Volume;if(typeof x5N[g$6] === Z_8){E9o=x5N[g$6].Volume;}A7f.l13(20);Q_n+=A7f.C0r(p$$,E9o);x5N["Result " + U0h.name]=Q_n;}};s08.Studies.calculatePriceVolumeTrend=function(H_X,V0m){var c4M,x_k,f68,F4F,C0Z,f3i;c4M="fi";c4M+="e";c4M+="ld";A7f.d$I();x_k=V0m.inputs.Field;if(!x_k || x_k == c4M){x_k="Close";}f68=V0m.chart.scrubbed;F4F=0;if(V0m.startFrom > 1){A7f.x49(184);var l5y=A7f.C0r(4,3,208,9,5);F4F=f68[V0m.startFrom - l5y]["Result " + V0m.name];}for(var t74=Math.max("1" * 1,V0m.startFrom);t74 < f68.length;t74++){C0Z=s08.Studies.getQuoteFieldValue(f68[t74],x_k);f3i=s08.Studies.getQuoteFieldValue(f68[t74 - 1],x_k);if(C0Z === null || f3i === null)continue;F4F+=f68[t74].Volume * (C0Z - f3i) / f3i;f68[t74]["Result " + V0m.name]=F4F;}};s08.Studies.calculateVolumeIndex=function(N39,L$4){var u$t,P_D,W9y,c8d,z2x,O8j,T4n,e7o,a9h,R5l,W2n;u$t="In";u$t+="de";u$t+="x ";P_D="f";P_D+="i";P_D+="e";P_D+="ld";W9y=L$4.inputs.Field;if(!W9y || W9y == P_D){W9y="Close";}c8d=L$4.chart.scrubbed;if(c8d.length < L$4.days + 1){L$4.error=!![];return;}z2x=100;if(L$4.startFrom > 1){A7f.x49(4);var q4W=A7f.O_1(19,0,18);z2x=c8d[L$4.startFrom - q4W][u$t + L$4.name];}for(var e2C=Math.max(1,L$4.startFrom);e2C < c8d.length;e2C++){O8j="Ne";O8j+="g Vol";T4n="o";T4n+="bj";T4n+="e";T4n+="ct";e7o=c8d[e2C][W9y];a9h=c8d[e2C].Volume;if(e7o && typeof e7o == T4n){a9h=e7o.Volume;e7o=e7o[L$4.subField];}A7f.x49(6);R5l=c8d[A7f.C0r(e2C,1)][W9y];W2n=c8d[e2C - 1].Volume;if(R5l && typeof R5l == "object"){W2n=R5l.Volume;R5l=R5l[L$4.subField];}if(!e7o)continue;if(!R5l)continue;if(L$4.type == "Pos Vol" && a9h > W2n || L$4.type == O8j && a9h < W2n){A7f.x49(11);z2x*=A7f.C0r(e7o,R5l);}c8d[e2C]["Index " + L$4.name]=z2x;}s08.Studies.MA(L$4.inputs["Moving Average Type"],L$4.days,"Index " + L$4.name,0,"MA",N39,L$4);};s08.Studies.studyLibrary=s08.extend(s08.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:s08.Studies.calculateVolumeIndex,inputs:{Period:255,Field:w10,"Moving Average Type":D6A},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:s08.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:f9L,calculateFN:s08.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":x1_},outputs:{Index:"auto",MA:l$y}},"Price Vol":{name:P51,calculateFN:s08.Studies.calculatePriceVolumeTrend,inputs:{Field:J8M}},"Trade Vol":{name:"Trade Volume Index",calculateFN:s08.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:x2E,calculateFN:function(b03,j8Z){if(s08.Studies.calculateRateOfChange){s08.Studies.calculateRateOfChange(b03,j8Z);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");s08.Studies.calculateRateOfChange=function(K4S,P4V){};}},parameters:{init:{isVolume:!!({})}}},"vol undr":{name:Z5a,underlay:!0,range:Y0q,yAxis:{ground:!![],initialMarginTop:0,position:"none",heightFactor:0.25},seriesFN:s08.Studies.createVolumeChart,calculateFN:s08.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!![],removeFN:function(G$_,P5D){A7f.d$I();G$_.layout.volumeUnderlay=![];G$_.changeOccurred("layout");},attributes:{panelName:{hidden:!!({})}}}});}};N9=M3Y=>{var R$b=e9J1I;var R0c,O29,q_c,M2x,i1U,r7o,j_s;R0c=-1324295887;O29=-1860477746;R$b.l13(6);R$b.R7g();q_c=R$b.C0r("2",0);for(var S92=1;R$b.c2O(S92.toString(),S92.toString().length,77263) !== R0c;S92++){M2x=~_CIQ == ""?_CIQ:M3Y.CIQ;q_c+=2;}if(R$b.c2O(q_c.toString(),q_c.toString().length,40691) !== O29){M2x=~_CIQ == ""?_CIQ:M3Y.CIQ;}M2x=typeof _CIQ !== "undefined"?_CIQ:M3Y.CIQ;if(!M2x.Studies){console.error("vortex feature requires first activating studies feature.");}else {i1U="0";i1U+=".0";i1U+="1";r7o="a";r7o+="uto";j_s="Vortex Indic";j_s+="ator";M2x.Studies.calculateVortex=function(d2b,S3X){var O_n,V01,V$$,Z4j,e5s,L_E,j$j,v7o,k5u,o4Z;O_n=S3X.chart.scrubbed;V01=S3X.days;if(O_n.length < V01 + 1){S3X.error=!![];return;}V$$={tr:"0" - 0,vmPlus:"0" << 64,vmMinus:0};if(S3X.startFrom > +"1"){V$$=M2x.clone(O_n[S3X.startFrom - 1]["_totals " + S3X.name]);}for(var f1j=Math.max(S3X.startFrom,1);f1j < O_n.length;f1j++){Z4j="_";Z4j+="VMPlus";Z4j+=" ";e5s=O_n[f1j];R$b.l13(6);L_E=O_n[R$b.C0r(f1j,1)];j$j=Math.abs(e5s.High - L_E.Low);v7o=Math.abs(e5s.Low - L_E.High);k5u=Math.max(e5s.High,L_E.Close) - Math.min(e5s.Low,L_E.Close);V$$.tr+=k5u;V$$.vmPlus+=j$j;V$$.vmMinus+=v7o;if(f1j > V01){R$b.l13(6);V$$.tr-=O_n[R$b.C0r(f1j,V01)]["_True Range " + S3X.name];R$b.l13(6);V$$.vmPlus-=O_n[R$b.C0r(f1j,V01)]["_VMPlus " + S3X.name];R$b.l13(6);V$$.vmMinus-=O_n[R$b.C0r(f1j,V01)]["_VMMinus " + S3X.name];}e5s["_True Range " + S3X.name]=k5u;e5s[Z4j + S3X.name]=j$j;e5s["_VMMinus " + S3X.name]=v7o;if(f1j >= V01){o4Z="-";o4Z+="VI";o4Z+=" ";e5s["+VI " + S3X.name]=V$$.vmPlus / V$$.tr;e5s[o4Z + S3X.name]=V$$.vmMinus / V$$.tr;}e5s["_totals " + S3X.name]=M2x.clone(V$$);}};M2x.Studies.studyLibrary=M2x.extend(M2x.Studies.studyLibrary,{Vortex:{name:j_s,calculateFN:M2x.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:"1.1" - 0,studyOverBoughtColor:r7o,studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:i1U},studyOverSoldValue:{max:1,step:"0.01"}}}});}};y6=E1z=>{var R5M=e9J1I;var m8N,h2l,q3n,u0J,f1S,W84,A5d,f7b;m8N=26742626;h2l=245662384;q3n=2;for(var e2z=1;R5M.D29(e2z.toString(),e2z.toString().length,+"79657") !== m8N;e2z++){u0J=+_CIQ == ""?_CIQ:E1z.CIQ;q3n+=2;}if(R5M.D29(q3n.toString(),q3n.toString().length,49297) !== h2l){u0J=+_CIQ == ""?_CIQ:E1z.CIQ;}u0J=typeof _CIQ !== "undefined"?_CIQ:E1z.CIQ;if(!u0J.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {f1S="#ff";f1S+="d";f1S+="0c";f1S+="f";W84="#ab6";W84+="11f";A5d="#";A5d+="8bc176";f7b="M";f7b+="arket Facilitation In";f7b+="dex";u0J.Studies.calculateMFI=function(B5z,a8$){var w_z,h5n,Z7S,h3H,T2S,g1X,M5H,L96;w_z="_h";w_z+="is";w_z+="t";h5n="_hi";h5n+="gh";h5n+=" ";Z7S=a8$.chart.scrubbed;T2S=0;g1X=a8$.inputs["Scale Factor"];if(!g1X){g1X=a8$.study.inputs["Scale Factor"];}M5H=Math.pow(10,Number(g1X));if(a8$.startFrom > 1){R5M.x49(162);var Z9F=R5M.O_1(2,0,8,8,2);T2S=Z7S[a8$.startFrom - "1" * Z9F][h5n + a8$.name];}for(L96=a8$.startFrom;L96 < Z7S.length;L96++){if(!Z7S[L96])continue;if(Z7S[L96].Volume){Z7S[L96][a8$.name + "_hist"]=h3H=M5H * (Z7S[L96].High - Z7S[L96].Low) / Z7S[L96].Volume;Z7S[L96]["_high " + a8$.name]=T2S=Math.max(T2S,h3H);}}a8$.outputMap={};a8$.outputMap[a8$.name + w_z]="";};u0J.Studies.displayMFI=function(O2X,k0E,x3B){var f$S,Z3V,M8J,j__,A7Y,Z_M,F1o,w6u,U9S,f7v,g0p,I25,K9$,w$M,F7j;f$S="stx_his";f$S+="t";f$S+="ogr";f$S+="am";Z3V=O2X.panels[k0E.panel];M8J=k0E.getContext(O2X);j__=k0E.getYAxis(O2X);A7Y=j__.flipped?j__.top:j__.bottom;R5M.l13(8);var u0H=R5M.O_1(12,14,4);Z_M=O2X.layout.candleWidth - u0H;if(Z_M < 2){Z_M=+"1";}F1o=u0J.Studies.determineColor(k0E.outputs.Green);w6u=u0J.Studies.determineColor(k0E.outputs.Fade);U9S=u0J.Studies.determineColor(k0E.outputs.Fake);f7v=u0J.Studies.determineColor(k0E.outputs.Squat);O2X.canvasColor(f$S);if(!k0E.underlay){M8J.globalAlpha=1;}M8J.fillStyle="#CCCCCC";O2X.startClip(k0E.panel);if(!k0E.highlight && O2X.highlightedDraggable){M8J.globalAlpha*=0.3;}for(var y6G=0;y6G < x3B.length;y6G++){g0p="st";g0p+="retc";g0p+="h";I25=0;K9$=x3B[y6G];R5M.l13(6);w$M=x3B[R5M.O_1(y6G,1)];if(!w$M){w$M=O2X.getPreviousBar(O2X.chart,k0E.name + "_hist",y6G);}if(!K9$)continue;if(O2X.cleanupGaps === g0p){while(x3B[y6G + 1]){R5M.x49(2);F7j=x3B[R5M.C0r(y6G,1)][k0E.name + "_hist"];if(F7j || F7j === 0 || x3B[y6G + 1].futureTick)break;I25++;y6G++;}}if(!w$M || w$M[k0E.name + "_hist"] === undefined){w$M=O2X.getPreviousBar(O2X.chart,k0E.name + "_hist",y6G - I25);}if(!w$M);else if(w$M[k0E.name + "_hist"] < K9$[k0E.name + "_hist"]){if(w$M.Volume < K9$.Volume){M8J.fillStyle=F1o;}else if(w$M.Volume > K9$.Volume){M8J.fillStyle=U9S;}}else if(w$M[k0E.name + "_hist"] > K9$[k0E.name + "_hist"]){if(w$M.Volume < K9$.Volume){M8J.fillStyle=f7v;}else if(w$M.Volume > K9$.Volume){M8J.fillStyle=w6u;}}if(K9$.candleWidth){Z_M=Math.floor(Math.max("1" * 1,K9$.candleWidth - +"2"));}M8J.fillRect(Math.floor(O2X.pixelFromBar(y6G - I25,Z3V.chart) - Z_M / 2),Math.floor(A7Y),Math.floor(Z_M + I25 * O2X.layout.candleWidth),Math.floor(O2X.pixelFromPrice(K9$[k0E.name + "_hist"],Z3V,j__) - A7Y));}O2X.endClip();};u0J.Studies.studyLibrary=u0J.extend(u0J.Studies.studyLibrary,{"W MFI":{name:f7b,seriesFN:u0J.Studies.displayMFI,calculateFN:u0J.Studies.calculateMFI,yAxis:{ground:!!1},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:A5d,Fade:W84,Fake:"#5f7cb8",Squat:f1S}}});}};m0={CIQ:G_,SplinePlotter:a6,timezoneJS:k2,$$:N1,$$$:Y0};export {G as aggregations};export {g as drawingAdvanced};export {F as equationsAdvanced};export {Z as highPerformanceMarkers};export {N as renderersAdvanced};export {o as accumulationDistribution};export {S as adx};export {I as alligator};export {U as aroon};export {W as atr};export {X as awesomeOscillator};export {Q as balanceOfPower};export {E as bollinger};export {Y as cci};export {f8 as centerOfGravity};export {h5 as chaikin};export {c8 as chande};export {c5 as choppiness};export {b3 as comparisonStudies};export {F1 as coppock};export {F9 as darvasBox};export {H_ as detrended};export {Y_ as disparity};export {y7 as easeOfMovement};export {d9 as ehlerFisher};export {q9 as elder};export {c6 as fractalChaos};export {E0 as goNoGo};export {F6 as highLowStudies};export {k6 as ichimoku};export {P6 as intradayMomentum};export {N5 as keltner};export {P9 as klinger};export {L2 as linearRegression};export {r7 as macd};export {U2 as massIndex};export {D4 as moneyFlow};export {h$ as movingAverages};export {j4 as parabolicSAR};export {n_ as pivotPoints};export {D6 as prettyGoodOscillator};export {C5 as priceMomentumOscillator};export {y_ as priceVolumeOscillator};export {m4 as primeNumber};export {X6 as pring};export {q7 as projectedVolume};export {i1 as psychologicalLine};export {M5 as qstick};export {H2 as rainbow};export {S4 as randomWalk};export {E5 as relativeVigor};export {r$ as rsi};export {I4 as schaffTrendCycle};export {O5 as shinohara};export {l3 as stochastics};export {x_ as supertrend};export {T$ as swingIndex};export {Q7 as trendIntensity};export {M0 as trix};export {V0 as twiggsMoneyFlow};export {O9 as typicalPrice};export {I_ as ulcerIndex};export {J$ as ultimateOscillator};export {M2 as valuationLines};export {T0 as volatilityIndex};export {K6 as volumeProfile};export {w7 as volumeStudies};export {N9 as vortex};export {y6 as williamsMFI};export {G_ as CIQ, a6 as SplinePlotter, k2 as timezoneJS, N1 as $$, Y0 as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){m0.CIQ.activateImports(G,g,F,Z,N,o,S,I,U,W,X,Q,E,Y,f8,h5,c8,c5,b3,F1,F9,H_,Y_,y7,d9,q9,c6,E0,F6,k6,P6,N5,P9,L2,r7,U2,D4,h$,j4,n_,D6,C5,y_,m4,X6,q7,i1,M5,H2,S4,E5,r$,I4,O5,l3,x_,T$,Q7,M0,V0,O9,I_,J$,M2,T0,K6,w7,N9,y6,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
